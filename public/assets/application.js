/*!
 * jQuery JavaScript Library v2.0.2
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-05-30T21:25Z
 */
function RGBColor(e){this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e=e.replace(/ /g,""),e=e.toLowerCase();var t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var n in t)e==n&&(e=t[n]);for(var i=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],r=0;r<i.length;r++){var a=i[r].re,s=i[r].process,o=a.exec(e);o&&(channels=s(o),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n},this.getHelpXML=function(){for(var e=new Array,n=0;n<i.length;n++)for(var r=i[n].example,a=0;a<r.length;a++)e[e.length]=r[a];for(var s in t)e[e.length]=s;var o=document.createElement("ul");o.setAttribute("id","rgbcolor-examples");for(var n=0;n<e.length;n++)try{var l=document.createElement("li"),c=new RGBColor(e[n]),h=document.createElement("div");h.style.cssText="margin: 3px; border: 1px solid black; background:"+c.toHex()+"; "+"color:"+c.toHex(),h.appendChild(document.createTextNode("test"));var u=document.createTextNode(" "+e[n]+" -> "+c.toRGB()+" -> "+c.toHex());l.appendChild(h),l.appendChild(u),o.appendChild(l)}catch(d){}return o}}/**
 Copyright (c) 2014 BrightPoint Consulting, Inc.

 Permission is hereby granted, free of charge, to any person
 obtaining a copy of this software and associated documentation
 files (the "Software"), to deal in the Software without
 restriction, including without limitation the rights to use,
 copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the
 Software is furnished to do so, subject to the following
 conditions:

 The above copyright notice and this permission notice shall be
 included in all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.
 */
function radialProgress(e){function t(){function e(){"function"==typeof h&&h.call()}s.each(function(t){function s(){var e=(g-m)/(v-m),t=Math.min(360*e,360);t=t*Math.PI/180,x.datum(t),x.transition().duration(u).attrTween("d",i),e>1&&(C.datum(Math.min(360*(e-1),360)*Math.PI/180),C.transition().delay(u).duration(u).attrTween("d",r)),T.datum(100*e),T.transition().duration(u).tween("text",n)}var h=d3.select(this).selectAll("svg").data([t]),d=h.enter().append("svg").attr("class","radial-svg").append("g");a(),h.attr("width",o).attr("height",l);var y=d.append("g").attr("class","component").attr("cursor","pointer").on("click",e).attr("fill","#e1e1e1");w.endAngle(360*(Math.PI/180)),y.append("rect").attr("class","background").attr("width",_width).attr("height",_height).attr("fill","#FFFFFF"),y.append("path").attr("transform","translate("+_width/2+","+_width/2+")").attr("d",w),y.append("text").attr("class","label").attr("transform","translate("+_width/2+","+(_width+f)+")").text(p),h.select("g").attr("transform","translate("+(o-c)/2+","+(l-c)/2+")"),w.endAngle(b),d.append("g").attr("class","arcs");var x=h.select(".arcs").selectAll(".arc").data(t);x.enter().append("path").attr("class","arc").attr("transform","translate("+_width/2+","+_width/2+")").attr("d",w).attr("fill","#4e8fff");var C=h.select(".arcs").selectAll(".arc2").data(t);C.enter().append("path").attr("class","arc2").attr("transform","translate("+_width/2+","+_width/2+")").attr("d",_).attr("fill","#3660b0"),d.append("g").attr("class","labels");var T=h.select(".labels").selectAll(".label").data(t);T.enter().append("text").attr("class","label").attr("y",_width/2+f/3).attr("x",_width/2).attr("cursor","pointer").attr("width",_width).attr("text-anchor","middle").attr("fill","#000000").text(function(){return Math.round(100*((g-m)/(v-m)))+"%"}).style("font-size",f+"px").on("click",e),x.exit().transition().duration(500).attr("x",1e3).remove(),s(h)})}function n(e){var t=d3.interpolate(x,e);return x=t(0),function(e){x=t(e),this.textContent=d3.format(",.2f")(t(e))+"%"}}function i(e){var t=d3.interpolate(b,e);return function(e){return b=t(e),w.endAngle(t(e))()}}function r(e){var t=d3.interpolate(y,e);return function(e){return _.endAngle(t(e))()}}function a(){_width=c-d.right-d.left-d.top-d.bottom,_height=_width,f=.2*_width,w.outerRadius(_width/2),w.innerRadius(.85*(_width/2)),_.outerRadius(.85*(_width/2)),_.innerRadius(.85*(_width/2)-.15*(_width/2))}var s,o,l,c,h,u=1e3,d={top:0,right:0,bottom:0,left:0},p="",f=10,g=0,m=0,v=100,b=0,y=0,x=0,w=d3.svg.arc().startAngle(0*(Math.PI/180)),_=d3.svg.arc().startAngle(0*(Math.PI/180)).endAngle(0);return s=d3.select(e),t.render=function(){return a(),t(),t},t.value=function(e){return arguments.length?(g=[e],s.datum([g]),t):g},t.margin=function(e){return arguments.length?(d=e,t):d},t.diameter=function(e){return arguments.length?(c=e,t):c},t.height=function(e){return arguments.length?(l=e,t):l},t.width=function(e){return arguments.length?(o=e,t):o},t.minValue=function(e){return arguments.length?(m=e,t):m},t.maxValue=function(e){return arguments.length?(v=e,t):v},t.label=function(e){return arguments.length?(p=e,t):p},t._duration=function(e){return arguments.length?(u=e,t):u},t.onClick=function(e){return arguments.length?(h=e,t):h},t}if(function(e,t){function n(e){var t=e.length,n=at.type(e);return at.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e){var t=ft[e]={};return at.each(e.match(ot)||[],function(e,n){t[n]=!0}),t}function r(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=at.expando+Math.random()}function a(e,n,i){var r;if(i===t&&1===e.nodeType)if(r="data-"+n.replace(bt,"-$1").toLowerCase(),i=e.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:vt.test(i)?JSON.parse(i):i}catch(a){}gt.set(e,n,i)}else i=t;return i}function s(){return!0}function o(){return!1}function l(){try{return U.activeElement}catch(e){}}function c(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function h(e,t,n){if(at.isFunction(t))return at.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return at.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(kt.test(t))return at.filter(t,e,n);t=at.filter(t,e)}return at.grep(e,function(e){return tt.call(t,e)>=0!==n})}function u(e,t){return at.nodeName(e,"table")&&at.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function d(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function p(e){var t=Lt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function f(e,t){for(var n=e.length,i=0;n>i;i++)mt.set(e[i],"globalEval",!t||mt.get(t[i],"globalEval"))}function g(e,t){var n,i,r,a,s,o,l,c;if(1===t.nodeType){if(mt.hasData(e)&&(a=mt.access(e),s=mt.set(t,a),c=a.events)){delete s.handle,s.events={};for(r in c)for(n=0,i=c[r].length;i>n;n++)at.event.add(t,r,c[r][n])}gt.hasData(e)&&(o=gt.access(e),l=at.extend({},o),gt.set(t,l))}}function m(e,n){var i=e.getElementsByTagName?e.getElementsByTagName(n||"*"):e.querySelectorAll?e.querySelectorAll(n||"*"):[];return n===t||n&&at.nodeName(e,n)?at.merge([e],i):i}function v(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ft.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function b(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=Zt.length;r--;)if(t=Zt[r]+n,t in e)return t;return i}function y(e,t){return e=t||e,"none"===at.css(e,"display")||!at.contains(e.ownerDocument,e)}function x(t){return e.getComputedStyle(t,null)}function w(e,t){for(var n,i,r,a=[],s=0,o=e.length;o>s;s++)i=e[s],i.style&&(a[s]=mt.get(i,"olddisplay"),n=i.style.display,t?(a[s]||"none"!==n||(i.style.display=""),""===i.style.display&&y(i)&&(a[s]=mt.access(i,"olddisplay",D(i.nodeName)))):a[s]||(r=y(i),(n&&"none"!==n||!r)&&mt.set(i,"olddisplay",r?n:at.css(i,"display"))));for(s=0;o>s;s++)i=e[s],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?a[s]||"":"none"));return e}function _(e,t,n){var i=Wt.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function C(e,t,n,i,r){for(var a=n===(i?"border":"content")?4:"width"===t?1:0,s=0;4>a;a+=2)"margin"===n&&(s+=at.css(e,n+Jt[a],!0,r)),i?("content"===n&&(s-=at.css(e,"padding"+Jt[a],!0,r)),"margin"!==n&&(s-=at.css(e,"border"+Jt[a]+"Width",!0,r))):(s+=at.css(e,"padding"+Jt[a],!0,r),"padding"!==n&&(s+=at.css(e,"border"+Jt[a]+"Width",!0,r)));return s}function T(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,a=x(e),s=at.support.boxSizing&&"border-box"===at.css(e,"boxSizing",!1,a);if(0>=r||null==r){if(r=Ht(e,t,a),(0>r||null==r)&&(r=e.style[t]),qt.test(r))return r;i=s&&(at.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+C(e,t,n||(s?"border":"content"),i,a)+"px"}function D(e){var t=U,n=Kt[e];return n||(n=S(e,t),"none"!==n&&n||(Gt=(Gt||at("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(Gt[0].contentWindow||Gt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=S(e,t),Gt.detach()),Kt[e]=n),n}function S(e,t){var n=at(t.createElement(e)).appendTo(t.body),i=at.css(n[0],"display");return n.remove(),i}function E(e,t,n,i){var r;if(at.isArray(t))at.each(t,function(t,r){n||tn.test(e)?i(e,r):E(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==at.type(t))i(e,t);else for(r in t)E(e+"["+r+"]",t[r],n,i)}function k(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,a=t.toLowerCase().match(ot)||[];if(at.isFunction(n))for(;i=a[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function I(e,t,n,i){function r(o){var l;return a[o]=!0,at.each(e[o]||[],function(e,o){var c=o(t,n,i);return"string"!=typeof c||s||a[c]?s?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),l}var a={},s=e===yn;return r(t.dataTypes[0])||!a["*"]&&r("*")}function N(e,n){var i,r,a=at.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((a[i]?e:r||(r={}))[i]=n[i]);return r&&at.extend(!0,e,r),e}function A(e,n,i){for(var r,a,s,o,l=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),r===t&&(r=e.mimeType||n.getResponseHeader("Content-Type"));if(r)for(a in l)if(l[a]&&l[a].test(r)){c.unshift(a);break}if(c[0]in i)s=c[0];else{for(a in i){if(!c[0]||e.converters[a+" "+c[0]]){s=a;break}o||(o=a)}s=s||o}return s?(s!==c[0]&&c.unshift(s),i[s]):void 0}function R(e,t,n,i){var r,a,s,o,l,c={},h=e.dataTypes.slice();if(h[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(a=h.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=h.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(s=c[l+" "+a]||c["* "+a],!s)for(r in c)if(o=r.split(" "),o[1]===a&&(s=c[l+" "+o[0]]||c["* "+o[0]])){s===!0?s=c[r]:c[r]!==!0&&(a=o[0],h.unshift(o[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(u){return{state:"parsererror",error:s?u:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}function M(){return setTimeout(function(){kn=t}),kn=at.now()}function P(e,t,n){for(var i,r=(Pn[t]||[]).concat(Pn["*"]),a=0,s=r.length;s>a;a++)if(i=r[a].call(n,t,e))return i}function O(e,t,n){var i,r,a=0,s=Mn.length,o=at.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=kn||M(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,a=1-i,s=0,l=c.tweens.length;l>s;s++)c.tweens[s].run(a);return o.notifyWith(e,[c,a,n]),1>a&&l?n:(o.resolveWith(e,[c]),!1)},c=o.promise({elem:e,props:at.extend({},t),opts:at.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:kn||M(),duration:n.duration,tweens:[],createTween:function(t,n){var i=at.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return t?o.resolveWith(e,[c,t]):o.rejectWith(e,[c,t]),this}}),h=c.props;for(F(h,c.opts.specialEasing);s>a;a++)if(i=Mn[a].call(c,e,h,c.opts))return i;return at.map(h,P,c),at.isFunction(c.opts.start)&&c.opts.start.call(e,c),at.fx.timer(at.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function F(e,t){var n,i,r,a,s;for(n in e)if(i=at.camelCase(n),r=t[i],a=e[n],at.isArray(a)&&(r=a[1],a=e[n]=a[0]),n!==i&&(e[i]=a,delete e[n]),s=at.cssHooks[i],s&&"expand"in s){a=s.expand(a),delete e[i];for(n in a)n in e||(e[n]=a[n],t[n]=r)}else t[i]=r}function B(e,n,i){var r,a,s,o,l,c,h=this,u={},d=e.style,p=e.nodeType&&y(e),f=mt.get(e,"fxshow");i.queue||(l=at._queueHooks(e,"fx"),null==l.unqueued&&(l.unqueued=0,c=l.empty.fire,l.empty.fire=function(){l.unqueued||c()}),l.unqueued++,h.always(function(){h.always(function(){l.unqueued--,at.queue(e,"fx").length||l.empty.fire()})})),1===e.nodeType&&("height"in n||"width"in n)&&(i.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===at.css(e,"display")&&"none"===at.css(e,"float")&&(d.display="inline-block")),i.overflow&&(d.overflow="hidden",h.always(function(){d.overflow=i.overflow[0],d.overflowX=i.overflow[1],d.overflowY=i.overflow[2]}));for(r in n)if(a=n[r],Nn.exec(a)){if(delete n[r],s=s||"toggle"===a,a===(p?"hide":"show")){if("show"!==a||!f||f[r]===t)continue;p=!0}u[r]=f&&f[r]||at.style(e,r)}if(!at.isEmptyObject(u)){f?"hidden"in f&&(p=f.hidden):f=mt.access(e,"fxshow",{}),s&&(f.hidden=!p),p?at(e).show():h.done(function(){at(e).hide()}),h.done(function(){var t;mt.remove(e,"fxshow");for(t in u)at.style(e,t,u[t])});for(r in u)o=P(p?f[r]:0,r,h),r in f||(f[r]=o.start,p&&(o.end=o.start,o.start="width"===r||"height"===r?1:0))}}function j(e,t,n,i,r){return new j.prototype.init(e,t,n,i,r)}function L(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=Jt[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function V(e){return at.isWindow(e)?e:9===e.nodeType&&e.defaultView}var $,H,G=typeof t,z=e.location,U=e.document,W=U.documentElement,q=e.jQuery,Y=e.$,K={},X=[],Q="2.0.2",J=X.concat,Z=X.push,et=X.slice,tt=X.indexOf,nt=K.toString,it=K.hasOwnProperty,rt=Q.trim,at=function(e,t){return new at.fn.init(e,t,$)},st=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ot=/\S+/g,lt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ct=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ht=/^-ms-/,ut=/-([\da-z])/gi,dt=function(e,t){return t.toUpperCase()},pt=function(){U.removeEventListener("DOMContentLoaded",pt,!1),e.removeEventListener("load",pt,!1),at.ready()};at.fn=at.prototype={jquery:Q,constructor:at,init:function(e,n,i){var r,a;if(!e)return this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:lt.exec(e),!r||!r[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(r[1]){if(n=n instanceof at?n[0]:n,at.merge(this,at.parseHTML(r[1],n&&n.nodeType?n.ownerDocument||n:U,!0)),ct.test(r[1])&&at.isPlainObject(n))for(r in n)at.isFunction(this[r])?this[r](n[r]):this.attr(r,n[r]);return this}return a=U.getElementById(r[2]),a&&a.parentNode&&(this.length=1,this[0]=a),this.context=U,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):at.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),at.makeArray(e,this))},selector:"",length:0,toArray:function(){return et.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=at.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return at.each(this,e,t)},ready:function(e){return at.ready.promise().done(e),this},slice:function(){return this.pushStack(et.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(at.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:Z,sort:[].sort,splice:[].splice},at.fn.init.prototype=at.fn,at.extend=at.fn.extend=function(){var e,n,i,r,a,s,o=arguments[0]||{},l=1,c=arguments.length,h=!1;for("boolean"==typeof o&&(h=o,o=arguments[1]||{},l=2),"object"==typeof o||at.isFunction(o)||(o={}),c===l&&(o=this,--l);c>l;l++)if(null!=(e=arguments[l]))for(n in e)i=o[n],r=e[n],o!==r&&(h&&r&&(at.isPlainObject(r)||(a=at.isArray(r)))?(a?(a=!1,s=i&&at.isArray(i)?i:[]):s=i&&at.isPlainObject(i)?i:{},o[n]=at.extend(h,s,r)):r!==t&&(o[n]=r));return o},at.extend({expando:"jQuery"+(Q+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===at&&(e.$=Y),t&&e.jQuery===at&&(e.jQuery=q),at},isReady:!1,readyWait:1,holdReady:function(e){e?at.readyWait++:at.ready(!0)},ready:function(e){(e===!0?--at.readyWait:at.isReady)||(at.isReady=!0,e!==!0&&--at.readyWait>0||(H.resolveWith(U,[at]),at.fn.trigger&&at(U).trigger("ready").off("ready")))},isFunction:function(e){return"function"===at.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?K[nt.call(e)]||"object":typeof e},isPlainObject:function(e){if("object"!==at.type(e)||e.nodeType||at.isWindow(e))return!1;try{if(e.constructor&&!it.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||U;var i=ct.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=at.buildFragment([e],t,r),r&&at(r).remove(),at.merge([],i.childNodes))},parseJSON:JSON.parse,parseXML:function(e){var n,i;if(!e||"string"!=typeof e)return null;try{i=new DOMParser,n=i.parseFromString(e,"text/xml")}catch(r){n=t}return(!n||n.getElementsByTagName("parsererror").length)&&at.error("Invalid XML: "+e),n},noop:function(){},globalEval:function(e){var t,n=eval;e=at.trim(e),e&&(1===e.indexOf("use strict")?(t=U.createElement("script"),t.text=e,U.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(ht,"ms-").replace(ut,dt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,a=0,s=e.length,o=n(e);if(i){if(o)for(;s>a&&(r=t.apply(e[a],i),r!==!1);a++);else for(a in e)if(r=t.apply(e[a],i),r===!1)break}else if(o)for(;s>a&&(r=t.call(e[a],a,e[a]),r!==!1);a++);else for(a in e)if(r=t.call(e[a],a,e[a]),r===!1)break;return e},trim:function(e){return null==e?"":rt.call(e)},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?at.merge(i,"string"==typeof e?[e]:e):Z.call(i,e)),i},inArray:function(e,t,n){return null==t?-1:tt.call(t,e,n)},merge:function(e,n){var i=n.length,r=e.length,a=0;if("number"==typeof i)for(;i>a;a++)e[r++]=n[a];else for(;n[a]!==t;)e[r++]=n[a++];return e.length=r,e},grep:function(e,t,n){var i,r=[],a=0,s=e.length;for(n=!!n;s>a;a++)i=!!t(e[a],a),n!==i&&r.push(e[a]);return r},map:function(e,t,i){var r,a=0,s=e.length,o=n(e),l=[];if(o)for(;s>a;a++)r=t(e[a],a,i),null!=r&&(l[l.length]=r);else for(a in e)r=t(e[a],a,i),null!=r&&(l[l.length]=r);return J.apply([],l)},guid:1,proxy:function(e,n){var i,r,a;return"string"==typeof n&&(i=e[n],n=e,e=i),at.isFunction(e)?(r=et.call(arguments,2),a=function(){return e.apply(n||this,r.concat(et.call(arguments)))},a.guid=e.guid=e.guid||at.guid++,a):t},access:function(e,n,i,r,a,s,o){var l=0,c=e.length,h=null==i;if("object"===at.type(i)){a=!0;for(l in i)at.access(e,n,l,i[l],!0,s,o)}else if(r!==t&&(a=!0,at.isFunction(r)||(o=!0),h&&(o?(n.call(e,r),n=null):(h=n,n=function(e,t,n){return h.call(at(e),n)})),n))for(;c>l;l++)n(e[l],i,o?r:r.call(e[l],l,n(e[l],i)));return a?e:h?n.call(e):c?n(e[0],i):s},now:Date.now,swap:function(e,t,n,i){var r,a,s={};for(a in t)s[a]=e.style[a],e.style[a]=t[a];r=n.apply(e,i||[]);for(a in t)e.style[a]=s[a];return r}}),at.ready.promise=function(t){return H||(H=at.Deferred(),"complete"===U.readyState?setTimeout(at.ready):(U.addEventListener("DOMContentLoaded",pt,!1),e.addEventListener("load",pt,!1))),H.promise(t)},at.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){K["[object "+t+"]"]=t.toLowerCase()}),$=at(U),/*!
 * Sizzle CSS Selector Engine v1.9.4-pre
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-05-27
 */
function(e,t){function n(e,t,n,i){var r,a,s,o,l,c,h,u,d,p;if((t?t.ownerDocument||t:z)!==F&&O(t),t=t||F,n=n||[],!e||"string"!=typeof e)return n;if(1!==(o=t.nodeType)&&9!==o)return[];if(j&&!i){if(r=Ct.exec(e))if(s=r[1]){if(9===o){if(a=t.getElementById(s),!a||!a.parentNode)return n;if(a.id===s)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(s))&&H(t,a)&&a.id===s)return n.push(a),n}else{if(r[2])return rt.apply(n,t.getElementsByTagName(e)),n;if((s=r[3])&&E.getElementsByClassName&&t.getElementsByClassName)return rt.apply(n,t.getElementsByClassName(s)),n}if(E.qsa&&(!L||!L.test(e))){if(u=h=G,d=t,p=9===o&&e,1===o&&"object"!==t.nodeName.toLowerCase()){for(c=g(e),(h=t.getAttribute("id"))?u=h.replace(St,"\\$&"):t.setAttribute("id",u),u="[id='"+u+"'] ",l=c.length;l--;)c[l]=u+m(c[l]);d=vt.test(e)&&t.parentNode||t,p=c.join(",")}if(p)try{return rt.apply(n,d.querySelectorAll(p)),n}catch(f){}finally{h||t.removeAttribute("id")}}}return T(e.replace(ft,"$1"),t,n,i)}function i(e){return _t.test(e+"")}function r(){function e(n,i){return t.push(n+=" ")>I.cacheLength&&delete e[t.shift()],e[n]=i}var t=[];return e}function a(e){return e[G]=!0,e}function s(e){var t=F.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t,n){e=e.split("|");for(var i,r=e.length,a=n?null:t;r--;)(i=I.attrHandle[e[r]])&&i!==t||(I.attrHandle[e[r]]=a)}function l(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:e[t]===!0?t.toLowerCase():null}function c(e,t){return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}function h(e){return"input"===e.nodeName.toLowerCase()?e.defaultValue:void 0}function u(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Z)-(~e.sourceIndex||Z);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function d(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function p(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function f(e){return a(function(t){return t=+t,a(function(n,i){for(var r,a=e([],n.length,t),s=a.length;s--;)n[r=a[s]]&&(n[r]=!(i[r]=n[r]))})})}function g(e,t){var i,r,a,s,o,l,c,h=Y[e+" "];if(h)return t?0:h.slice(0);for(o=e,l=[],c=I.preFilter;o;){(!i||(r=gt.exec(o)))&&(r&&(o=o.slice(r[0].length)||o),l.push(a=[])),i=!1,(r=mt.exec(o))&&(i=r.shift(),a.push({value:i,type:r[0].replace(ft," ")}),o=o.slice(i.length));for(s in I.filter)!(r=wt[s].exec(o))||c[s]&&!(r=c[s](r))||(i=r.shift(),a.push({value:i,type:s,matches:r}),o=o.slice(i.length));if(!i)break}return t?o.length:o?n.error(e):Y(e,l).slice(0)}function m(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function v(e,t,n){var i=t.dir,r=n&&"parentNode"===i,a=W++;return t.first?function(t,n,a){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,a)}:function(t,n,s){var o,l,c,h=U+" "+a;if(s){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||r)if(c=t[G]||(t[G]={}),(l=c[i])&&l[0]===h){if((o=l[1])===!0||o===k)return o===!0}else if(l=c[i]=[h],l[1]=e(t,n,s)||k,l[1]===!0)return!0}}function b(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function y(e,t,n,i,r){for(var a,s=[],o=0,l=e.length,c=null!=t;l>o;o++)(a=e[o])&&(!n||n(a,i,r))&&(s.push(a),c&&t.push(o));return s}function x(e,t,n,i,r,s){return i&&!i[G]&&(i=x(i)),r&&!r[G]&&(r=x(r,s)),a(function(a,s,o,l){var c,h,u,d=[],p=[],f=s.length,g=a||C(t||"*",o.nodeType?[o]:o,[]),m=!e||!a&&t?g:y(g,d,e,o,l),v=n?r||(a?e:f||i)?[]:s:m;if(n&&n(m,v,o,l),i)for(c=y(v,p),i(c,[],o,l),h=c.length;h--;)(u=c[h])&&(v[p[h]]=!(m[p[h]]=u));if(a){if(r||e){if(r){for(c=[],h=v.length;h--;)(u=v[h])&&c.push(m[h]=u);r(null,v=[],c,l)}for(h=v.length;h--;)(u=v[h])&&(c=r?ot.call(a,u):d[h])>-1&&(a[c]=!(s[c]=u))}}else v=y(v===s?v.splice(f,v.length):v),r?r(null,s,v,l):rt.apply(s,v)})}function w(e){for(var t,n,i,r=e.length,a=I.relative[e[0].type],s=a||I.relative[" "],o=a?1:0,l=v(function(e){return e===t},s,!0),c=v(function(e){return ot.call(t,e)>-1},s,!0),h=[function(e,n,i){return!a&&(i||n!==M)||((t=n).nodeType?l(e,n,i):c(e,n,i))}];r>o;o++)if(n=I.relative[e[o].type])h=[v(b(h),n)];else{if(n=I.filter[e[o].type].apply(null,e[o].matches),n[G]){for(i=++o;r>i&&!I.relative[e[i].type];i++);return x(o>1&&b(h),o>1&&m(e.slice(0,o-1).concat({value:" "===e[o-2].type?"*":""})).replace(ft,"$1"),n,i>o&&w(e.slice(o,i)),r>i&&w(e=e.slice(i)),r>i&&m(e))}h.push(n)}return b(h)}function _(e,t){var i=0,r=t.length>0,s=e.length>0,o=function(a,o,l,c,h){var u,d,p,f=[],g=0,m="0",v=a&&[],b=null!=h,x=M,w=a||s&&I.find.TAG("*",h&&o.parentNode||o),_=U+=null==x?1:Math.random()||.1;for(b&&(M=o!==F&&o,k=i);null!=(u=w[m]);m++){if(s&&u){for(d=0;p=e[d++];)if(p(u,o,l)){c.push(u);break}b&&(U=_,k=++i)}r&&((u=!p&&u)&&g--,a&&v.push(u))}if(g+=m,r&&m!==g){for(d=0;p=t[d++];)p(v,f,o,l);if(a){if(g>0)for(;m--;)v[m]||f[m]||(f[m]=nt.call(c));f=y(f)}rt.apply(c,f),b&&!a&&f.length>0&&g+t.length>1&&n.uniqueSort(c)}return b&&(U=_,M=x),v};return r?a(o):o}function C(e,t,i){for(var r=0,a=t.length;a>r;r++)n(e,t[r],i);return i}function T(e,t,n,i){var r,a,s,o,l,c=g(e);if(!i&&1===c.length){if(a=c[0]=c[0].slice(0),a.length>2&&"ID"===(s=a[0]).type&&E.getById&&9===t.nodeType&&j&&I.relative[a[1].type]){if(t=(I.find.ID(s.matches[0].replace(Et,kt),t)||[])[0],!t)return n;e=e.slice(a.shift().value.length)}for(r=wt.needsContext.test(e)?0:a.length;r--&&(s=a[r],!I.relative[o=s.type]);)if((l=I.find[o])&&(i=l(s.matches[0].replace(Et,kt),vt.test(a[0].type)&&t.parentNode||t))){if(a.splice(r,1),e=i.length&&m(a),!e)return rt.apply(n,i),n;break}}return R(e,c)(i,t,!j,n,vt.test(e)),n}function D(){}var S,E,k,I,N,A,R,M,P,O,F,B,j,L,V,$,H,G="sizzle"+-new Date,z=e.document,U=0,W=0,q=r(),Y=r(),K=r(),X=!1,Q=function(){return 0},J=typeof t,Z=1<<31,et={}.hasOwnProperty,tt=[],nt=tt.pop,it=tt.push,rt=tt.push,st=tt.slice,ot=tt.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},lt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ct="[\\x20\\t\\r\\n\\f]",ht="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ut=ht.replace("w","w#"),dt="\\["+ct+"*("+ht+")"+ct+"*(?:([*^$|!~]?=)"+ct+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ut+")|)|)"+ct+"*\\]",pt=":("+ht+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+dt.replace(3,8)+")*)|.*)\\)|)",ft=new RegExp("^"+ct+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ct+"+$","g"),gt=new RegExp("^"+ct+"*,"+ct+"*"),mt=new RegExp("^"+ct+"*([>+~]|"+ct+")"+ct+"*"),vt=new RegExp(ct+"*[+~]"),bt=new RegExp("="+ct+"*([^\\]'\"]*)"+ct+"*\\]","g"),yt=new RegExp(pt),xt=new RegExp("^"+ut+"$"),wt={ID:new RegExp("^#("+ht+")"),CLASS:new RegExp("^\\.("+ht+")"),TAG:new RegExp("^("+ht.replace("w","w*")+")"),ATTR:new RegExp("^"+dt),PSEUDO:new RegExp("^"+pt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ct+"*(even|odd|(([+-]|)(\\d*)n|)"+ct+"*(?:([+-]|)"+ct+"*(\\d+)|))"+ct+"*\\)|)","i"),bool:new RegExp("^(?:"+lt+")$","i"),needsContext:new RegExp("^"+ct+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ct+"*((?:-\\d)?\\d*)"+ct+"*\\)|)(?=[^-]|$)","i")},_t=/^[^{]+\{\s*\[native \w/,Ct=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Tt=/^(?:input|select|textarea|button)$/i,Dt=/^h\d$/i,St=/'|\\/g,Et=new RegExp("\\\\([\\da-f]{1,6}"+ct+"?|("+ct+")|.)","ig"),kt=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(55296|i>>10,56320|1023&i)};try{rt.apply(tt=st.call(z.childNodes),z.childNodes),tt[z.childNodes.length].nodeType}catch(It){rt={apply:tt.length?function(e,t){it.apply(e,st.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}A=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},E=n.support={},O=n.setDocument=function(e){var t=e?e.ownerDocument||e:z,n=t.parentWindow;return t!==F&&9===t.nodeType&&t.documentElement?(F=t,B=t.documentElement,j=!A(t),n&&n.frameElement&&n.attachEvent("onbeforeunload",function(){O()}),E.attributes=s(function(e){return e.innerHTML="<a href='#'></a>",o("type|href|height|width",c,"#"===e.firstChild.getAttribute("href")),o(lt,l,null==e.getAttribute("disabled")),e.className="i",!e.getAttribute("className")}),E.input=s(function(e){return e.innerHTML="<input>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}),o("value",h,E.attributes&&E.input),E.getElementsByTagName=s(function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length}),E.getElementsByClassName=s(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),E.getById=s(function(e){return B.appendChild(e).id=G,!t.getElementsByName||!t.getElementsByName(G).length}),E.getById?(I.find.ID=function(e,t){if(typeof t.getElementById!==J&&j){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},I.filter.ID=function(e){var t=e.replace(Et,kt);return function(e){return e.getAttribute("id")===t}}):(delete I.find.ID,I.filter.ID=function(e){var t=e.replace(Et,kt);return function(e){var n=typeof e.getAttributeNode!==J&&e.getAttributeNode("id");return n&&n.value===t}}),I.find.TAG=E.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==J?t.getElementsByTagName(e):void 0}:function(e,t){var n,i=[],r=0,a=t.getElementsByTagName(e);if("*"===e){for(;n=a[r++];)1===n.nodeType&&i.push(n);return i}return a},I.find.CLASS=E.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==J&&j?t.getElementsByClassName(e):void 0},V=[],L=[],(E.qsa=i(t.querySelectorAll))&&(s(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||L.push("\\["+ct+"*(?:value|"+lt+")"),e.querySelectorAll(":checked").length||L.push(":checked")}),s(function(e){var n=t.createElement("input");n.setAttribute("type","hidden"),e.appendChild(n).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&L.push("[*^$]="+ct+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),L.push(",.*:")})),(E.matchesSelector=i($=B.webkitMatchesSelector||B.mozMatchesSelector||B.oMatchesSelector||B.msMatchesSelector))&&s(function(e){E.disconnectedMatch=$.call(e,"div"),$.call(e,"[s!='']:x"),V.push("!=",pt)}),L=L.length&&new RegExp(L.join("|")),V=V.length&&new RegExp(V.join("|")),H=i(B.contains)||B.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},E.sortDetached=s(function(e){return 1&e.compareDocumentPosition(t.createElement("div"))}),Q=B.compareDocumentPosition?function(e,n){if(e===n)return X=!0,0;var i=n.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(n);return i?1&i||!E.sortDetached&&n.compareDocumentPosition(e)===i?e===t||H(z,e)?-1:n===t||H(z,n)?1:P?ot.call(P,e)-ot.call(P,n):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,n){var i,r=0,a=e.parentNode,s=n.parentNode,o=[e],l=[n];if(e===n)return X=!0,0;if(!a||!s)return e===t?-1:n===t?1:a?-1:s?1:P?ot.call(P,e)-ot.call(P,n):0;if(a===s)return u(e,n);for(i=e;i=i.parentNode;)o.unshift(i);for(i=n;i=i.parentNode;)l.unshift(i);for(;o[r]===l[r];)r++;return r?u(o[r],l[r]):o[r]===z?-1:l[r]===z?1:0},t):F},n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){if((e.ownerDocument||e)!==F&&O(e),t=t.replace(bt,"='$1']"),!(!E.matchesSelector||!j||V&&V.test(t)||L&&L.test(t)))try{var i=$.call(e,t);if(i||E.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return n(t,F,null,[e]).length>0},n.contains=function(e,t){return(e.ownerDocument||e)!==F&&O(e),H(e,t)},n.attr=function(e,n){(e.ownerDocument||e)!==F&&O(e);var i=I.attrHandle[n.toLowerCase()],r=i&&et.call(I.attrHandle,n.toLowerCase())?i(e,n,!j):t;return r===t?E.attributes||!j?e.getAttribute(n):(r=e.getAttributeNode(n))&&r.specified?r.value:null:r},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},n.uniqueSort=function(e){var t,n=[],i=0,r=0;if(X=!E.detectDuplicates,P=!E.sortStable&&e.slice(0),e.sort(Q),X){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return e},N=n.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=N(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i];i++)n+=N(t);return n},I=n.selectors={cacheLength:50,createPseudo:a,match:wt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Et,kt),e[3]=(e[4]||e[5]||"").replace(Et,kt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||n.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&n.error(e[0]),e},PSEUDO:function(e){var n,i=!e[5]&&e[2];return wt.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:i&&yt.test(i)&&(n=g(i,!0))&&(n=i.indexOf(")",i.length-n)-i.length)&&(e[0]=e[0].slice(0,n),e[2]=i.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Et,kt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=q[e+" "];return t||(t=new RegExp("(^|"+ct+")"+e+"("+ct+"|$)"))&&q(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==J&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(r){var a=n.attr(r,e);return null==a?"!="===t:t?(a+="","="===t?a===i:"!="===t?a!==i:"^="===t?i&&0===a.indexOf(i):"*="===t?i&&a.indexOf(i)>-1:"$="===t?i&&a.slice(-i.length)===i:"~="===t?(" "+a+" ").indexOf(i)>-1:"|="===t?a===i||a.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,r){var a="nth"!==e.slice(0,3),s="last"!==e.slice(-4),o="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,h,u,d,p,f,g=a!==s?"nextSibling":"previousSibling",m=t.parentNode,v=o&&t.nodeName.toLowerCase(),b=!l&&!o;if(m){if(a){for(;g;){for(u=t;u=u[g];)if(o?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&b){for(h=m[G]||(m[G]={}),c=h[e]||[],p=c[0]===U&&c[1],d=c[0]===U&&c[2],u=p&&m.childNodes[p];u=++p&&u&&u[g]||(d=p=0)||f.pop();)if(1===u.nodeType&&++d&&u===t){h[e]=[U,p,d];break}}else if(b&&(c=(t[G]||(t[G]={}))[e])&&c[0]===U)d=c[1];else for(;(u=++p&&u&&u[g]||(d=p=0)||f.pop())&&((o?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++d||(b&&((u[G]||(u[G]={}))[e]=[U,d]),u!==t)););return d-=r,d===i||0===d%i&&d/i>=0}}},PSEUDO:function(e,t){var i,r=I.pseudos[e]||I.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return r[G]?r(t):r.length>1?(i=[e,e,"",t],I.setFilters.hasOwnProperty(e.toLowerCase())?a(function(e,n){for(var i,a=r(e,t),s=a.length;s--;)i=ot.call(e,a[s]),e[i]=!(n[i]=a[s])}):function(e){return r(e,0,i)}):r}},pseudos:{not:a(function(e){var t=[],n=[],i=R(e.replace(ft,"$1"));return i[G]?a(function(e,t,n,r){for(var a,s=i(e,null,r,[]),o=e.length;o--;)(a=s[o])&&(e[o]=!(t[o]=a))}):function(e,r,a){return t[0]=e,i(t,null,a,n),!n.pop()}}),has:a(function(e){return function(t){return n(e,t).length>0}}),contains:a(function(e){return function(t){return(t.textContent||t.innerText||N(t)).indexOf(e)>-1}}),lang:a(function(e){return xt.test(e||"")||n.error("unsupported lang: "+e),e=e.replace(Et,kt).toLowerCase(),function(t){var n;do if(n=j?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===B},focus:function(e){return e===F.activeElement&&(!F.hasFocus||F.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!I.pseudos.empty(e)},header:function(e){return Dt.test(e.nodeName)},input:function(e){return Tt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:f(function(){return[0]}),last:f(function(e,t){return[t-1]}),eq:f(function(e,t,n){return[0>n?n+t:n]}),even:f(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:f(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:f(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:f(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}};for(S in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})I.pseudos[S]=d(S);for(S in{submit:!0,reset:!0})I.pseudos[S]=p(S);R=n.compile=function(e,t){var n,i=[],r=[],a=K[e+" "];if(!a){for(t||(t=g(e)),n=t.length;n--;)a=w(t[n]),a[G]?i.push(a):r.push(a);a=K(e,_(r,i))}return a},I.pseudos.nth=I.pseudos.eq,D.prototype=I.filters=I.pseudos,I.setFilters=new D,E.sortStable=G.split("").sort(Q).join("")===G,O(),[0,0].sort(Q),E.detectDuplicates=X,at.find=n,at.expr=n.selectors,at.expr[":"]=at.expr.pseudos,at.unique=n.uniqueSort,at.text=n.getText,at.isXMLDoc=n.isXML,at.contains=n.contains}(e);var ft={};at.Callbacks=function(e){e="string"==typeof e?ft[e]||i(e):at.extend({},e);var n,r,a,s,o,l,c=[],h=!e.once&&[],u=function(t){for(n=e.memory&&t,r=!0,l=s||0,s=0,o=c.length,a=!0;c&&o>l;l++)if(c[l].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;break}a=!1,c&&(h?h.length&&u(h.shift()):n?c=[]:d.disable())},d={add:function(){if(c){var t=c.length;!function i(t){at.each(t,function(t,n){var r=at.type(n);"function"===r?e.unique&&d.has(n)||c.push(n):n&&n.length&&"string"!==r&&i(n)})}(arguments),a?o=c.length:n&&(s=t,u(n))}return this},remove:function(){return c&&at.each(arguments,function(e,t){for(var n;(n=at.inArray(t,c,n))>-1;)c.splice(n,1),a&&(o>=n&&o--,l>=n&&l--)}),this},has:function(e){return e?at.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],o=0,this},disable:function(){return c=h=n=t,this},disabled:function(){return!c},lock:function(){return h=t,n||d.disable(),this},locked:function(){return!h},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!c||r&&!h||(a?h.push(t):u(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},at.extend({Deferred:function(e){var t=[["resolve","done",at.Callbacks("once memory"),"resolved"],["reject","fail",at.Callbacks("once memory"),"rejected"],["notify","progress",at.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return at.Deferred(function(n){at.each(t,function(t,a){var s=a[0],o=at.isFunction(e[t])&&e[t];r[a[1]](function(){var e=o&&o.apply(this,arguments);e&&at.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===i?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?at.extend(e,i):i}},r={};return i.pipe=i.then,at.each(t,function(e,a){var s=a[2],o=a[3];i[a[1]]=s.add,o&&s.add(function(){n=o},t[1^e][2].disable,t[2][2].lock),r[a[0]]=function(){return r[a[0]+"With"](this===r?i:this,arguments),this},r[a[0]+"With"]=s.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,a=et.call(arguments),s=a.length,o=1!==s||e&&at.isFunction(e.promise)?s:0,l=1===o?e:at.Deferred(),c=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?et.call(arguments):r,i===t?l.notifyWith(n,i):--o||l.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)a[r]&&at.isFunction(a[r].promise)?a[r].promise().done(c(r,i,a)).fail(l.reject).progress(c(r,n,t)):--o;return o||l.resolveWith(i,a),l.promise()}}),at.support=function(t){var n=U.createElement("input"),i=U.createDocumentFragment(),r=U.createElement("div"),a=U.createElement("select"),s=a.appendChild(U.createElement("option"));return n.type?(n.type="checkbox",t.checkOn=""!==n.value,t.optSelected=s.selected,t.reliableMarginRight=!0,t.boxSizingReliable=!0,t.pixelPosition=!1,n.checked=!0,t.noCloneChecked=n.cloneNode(!0).checked,a.disabled=!0,t.optDisabled=!s.disabled,n=U.createElement("input"),n.value="t",n.type="radio",t.radioValue="t"===n.value,n.setAttribute("checked","t"),n.setAttribute("name","t"),i.appendChild(n),t.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,t.focusinBubbles="onfocusin"in e,r.style.backgroundClip="content-box",r.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===r.style.backgroundClip,at(function(){var n,i,a="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",s=U.getElementsByTagName("body")[0];s&&(n=U.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",s.appendChild(n).appendChild(r),r.innerHTML="",r.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",at.swap(s,null!=s.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===r.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(r,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(r,null)||{width:"4px"}).width,i=r.appendChild(U.createElement("div")),i.style.cssText=r.style.cssText=a,i.style.marginRight=i.style.width="0",r.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight)),s.removeChild(n))}),t):t}({});var gt,mt,vt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,bt=/([A-Z])/g;r.uid=1,r.accepts=function(e){return e.nodeType?1===e.nodeType||9===e.nodeType:!0},r.prototype={key:function(e){if(!r.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=r.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(i){t[this.expando]=n,at.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var i,r=this.key(e),a=this.cache[r];if("string"==typeof t)a[t]=n;else if(at.isEmptyObject(a))at.extend(this.cache[r],t);else for(i in t)a[i]=t[i];return a},get:function(e,n){var i=this.cache[this.key(e)];return n===t?i:i[n]},access:function(e,n,i){return n===t||n&&"string"==typeof n&&i===t?this.get(e,n):(this.set(e,n,i),i!==t?i:n)},remove:function(e,n){var i,r,a,s=this.key(e),o=this.cache[s];if(n===t)this.cache[s]={};else{at.isArray(n)?r=n.concat(n.map(at.camelCase)):(a=at.camelCase(n),n in o?r=[n,a]:(r=a,r=r in o?[r]:r.match(ot)||[])),i=r.length;for(;i--;)delete o[r[i]]}},hasData:function(e){return!at.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}},gt=new r,mt=new r,at.extend({acceptData:r.accepts,hasData:function(e){return gt.hasData(e)||mt.hasData(e)},data:function(e,t,n){return gt.access(e,t,n)},removeData:function(e,t){gt.remove(e,t)},_data:function(e,t,n){return mt.access(e,t,n)},_removeData:function(e,t){mt.remove(e,t)}}),at.fn.extend({data:function(e,n){var i,r,s=this[0],o=0,l=null;if(e===t){if(this.length&&(l=gt.get(s),1===s.nodeType&&!mt.get(s,"hasDataAttrs"))){for(i=s.attributes;o<i.length;o++)r=i[o].name,0===r.indexOf("data-")&&(r=at.camelCase(r.slice(5)),a(s,r,l[r]));mt.set(s,"hasDataAttrs",!0)}return l}return"object"==typeof e?this.each(function(){gt.set(this,e)}):at.access(this,function(n){var i,r=at.camelCase(e);if(s&&n===t){if(i=gt.get(s,e),i!==t)return i;if(i=gt.get(s,r),i!==t)return i;if(i=a(s,r,t),i!==t)return i}else this.each(function(){var i=gt.get(this,r);gt.set(this,r,n),-1!==e.indexOf("-")&&i!==t&&gt.set(this,e,n)})},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){gt.remove(this,e)})}}),at.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=mt.get(e,t),n&&(!i||at.isArray(n)?i=mt.access(e,t,at.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=at.queue(e,t),i=n.length,r=n.shift(),a=at._queueHooks(e,t),s=function(){at.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete a.stop,r.call(e,s,a)),!i&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return mt.get(e,n)||mt.access(e,n,{empty:at.Callbacks("once memory").add(function(){mt.remove(e,[t+"queue",n])})})}}),at.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),arguments.length<i?at.queue(this[0],e):n===t?this:this.each(function(){var t=at.queue(this,e,n);at._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&at.dequeue(this,e)})},dequeue:function(e){return this.each(function(){at.dequeue(this,e)})},delay:function(e,t){return e=at.fx?at.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,r=1,a=at.Deferred(),s=this,o=this.length,l=function(){--r||a.resolveWith(s,[s])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";o--;)i=mt.get(s[o],e+"queueHooks"),i&&i.empty&&(r++,i.empty.add(l));return l(),a.promise(n)}});var yt,xt,wt=/[\t\r\n\f]/g,_t=/\r/g,Ct=/^(?:input|select|textarea|button)$/i;at.fn.extend({attr:function(e,t){return at.access(this,at.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){at.removeAttr(this,e)})},prop:function(e,t){return at.access(this,at.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[at.propFix[e]||e]})},addClass:function(e){var t,n,i,r,a,s=0,o=this.length,l="string"==typeof e&&e;if(at.isFunction(e))return this.each(function(t){at(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ot)||[];o>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(wt," "):" ")){for(a=0;r=t[a++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");n.className=at.trim(i)}return this},removeClass:function(e){var t,n,i,r,a,s=0,o=this.length,l=0===arguments.length||"string"==typeof e&&e;if(at.isFunction(e))return this.each(function(t){at(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ot)||[];o>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(wt," "):"")){for(a=0;r=t[a++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");n.className=e?at.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e,i="boolean"==typeof t;return at.isFunction(e)?this.each(function(n){at(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var r,a=0,s=at(this),o=t,l=e.match(ot)||[];r=l[a++];)o=i?o:!s.hasClass(r),s[o?"addClass":"removeClass"](r);else(n===G||"boolean"===n)&&(this.className&&mt.set(this,"__className__",this.className),this.className=this.className||e===!1?"":mt.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(wt," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,i,r,a=this[0];{if(arguments.length)return r=at.isFunction(e),this.each(function(i){var a;1===this.nodeType&&(a=r?e.call(this,i,at(this).val()):e,null==a?a="":"number"==typeof a?a+="":at.isArray(a)&&(a=at.map(a,function(e){return null==e?"":e+""})),n=at.valHooks[this.type]||at.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,a,"value")!==t||(this.value=a))});if(a)return n=at.valHooks[a.type]||at.valHooks[a.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(a,"value"))!==t?i:(i=a.value,"string"==typeof i?i.replace(_t,""):null==i?"":i)}}}),at.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,a="select-one"===e.type||0>r,s=a?null:[],o=a?r+1:i.length,l=0>r?o:a?r:0;o>l;l++)if(n=i[l],!(!n.selected&&l!==r||(at.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&at.nodeName(n.parentNode,"optgroup"))){if(t=at(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,a=at.makeArray(t),s=r.length;s--;)i=r[s],(i.selected=at.inArray(at(i).val(),a)>=0)&&(n=!0);return n||(e.selectedIndex=-1),a}}},attr:function(e,n,i){var r,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===G?at.prop(e,n,i):(1===s&&at.isXMLDoc(e)||(n=n.toLowerCase(),r=at.attrHooks[n]||(at.expr.match.bool.test(n)?xt:yt)),i===t?r&&"get"in r&&null!==(a=r.get(e,n))?a:(a=at.find.attr(e,n),null==a?t:a):null!==i?r&&"set"in r&&(a=r.set(e,i,n))!==t?a:(e.setAttribute(n,i+""),i):(at.removeAttr(e,n),void 0))},removeAttr:function(e,t){var n,i,r=0,a=t&&t.match(ot);if(a&&1===e.nodeType)for(;n=a[r++];)i=at.propFix[n]||n,at.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!at.support.radioValue&&"radio"===t&&at.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,i){var r,a,s,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return s=1!==o||!at.isXMLDoc(e),s&&(n=at.propFix[n]||n,a=at.propHooks[n]),i!==t?a&&"set"in a&&(r=a.set(e,i,n))!==t?r:e[n]=i:a&&"get"in a&&null!==(r=a.get(e,n))?r:e[n]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||Ct.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),xt={set:function(e,t,n){return t===!1?at.removeAttr(e,n):e.setAttribute(n,n),n}},at.each(at.expr.match.bool.source.match(/\w+/g),function(e,n){var i=at.expr.attrHandle[n]||at.find.attr;at.expr.attrHandle[n]=function(e,n,r){var a=at.expr.attrHandle[n],s=r?t:(at.expr.attrHandle[n]=t)!=i(e,n,r)?n.toLowerCase():null;return at.expr.attrHandle[n]=a,s}}),at.support.optSelected||(at.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),at.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){at.propFix[this.toLowerCase()]=this}),at.each(["radio","checkbox"],function(){at.valHooks[this]={set:function(e,t){return at.isArray(t)?e.checked=at.inArray(at(e).val(),t)>=0:void 0}},at.support.checkOn||(at.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Tt=/^key/,Dt=/^(?:mouse|contextmenu)|click/,St=/^(?:focusinfocus|focusoutblur)$/,Et=/^([^.]*)(?:\.(.+)|)$/;at.event={global:{},add:function(e,n,i,r,a){var s,o,l,c,h,u,d,p,f,g,m,v=mt.get(e);if(v){for(i.handler&&(s=i,i=s.handler,a=s.selector),i.guid||(i.guid=at.guid++),(c=v.events)||(c=v.events={}),(o=v.handle)||(o=v.handle=function(e){return typeof at===G||e&&at.event.triggered===e.type?t:at.event.dispatch.apply(o.elem,arguments)},o.elem=e),n=(n||"").match(ot)||[""],h=n.length;h--;)l=Et.exec(n[h])||[],f=m=l[1],g=(l[2]||"").split(".").sort(),f&&(d=at.event.special[f]||{},f=(a?d.delegateType:d.bindType)||f,d=at.event.special[f]||{},u=at.extend({type:f,origType:m,data:r,handler:i,guid:i.guid,selector:a,needsContext:a&&at.expr.match.needsContext.test(a),namespace:g.join(".")},s),(p=c[f])||(p=c[f]=[],p.delegateCount=0,d.setup&&d.setup.call(e,r,g,o)!==!1||e.addEventListener&&e.addEventListener(f,o,!1)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=i.guid)),a?p.splice(p.delegateCount++,0,u):p.push(u),at.event.global[f]=!0);e=null}},remove:function(e,t,n,i,r){var a,s,o,l,c,h,u,d,p,f,g,m=mt.hasData(e)&&mt.get(e);if(m&&(l=m.events)){for(t=(t||"").match(ot)||[""],c=t.length;c--;)if(o=Et.exec(t[c])||[],p=g=o[1],f=(o[2]||"").split(".").sort(),p){for(u=at.event.special[p]||{},p=(i?u.delegateType:u.bindType)||p,d=l[p]||[],o=o[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=a=d.length;a--;)h=d[a],!r&&g!==h.origType||n&&n.guid!==h.guid||o&&!o.test(h.namespace)||i&&i!==h.selector&&("**"!==i||!h.selector)||(d.splice(a,1),h.selector&&d.delegateCount--,u.remove&&u.remove.call(e,h));s&&!d.length&&(u.teardown&&u.teardown.call(e,f,m.handle)!==!1||at.removeEvent(e,p,m.handle),delete l[p])
}else for(p in l)at.event.remove(e,p+t[c],n,i,!0);at.isEmptyObject(l)&&(delete m.handle,mt.remove(e,"events"))}},trigger:function(n,i,r,a){var s,o,l,c,h,u,d,p=[r||U],f=it.call(n,"type")?n.type:n,g=it.call(n,"namespace")?n.namespace.split("."):[];if(o=l=r=r||U,3!==r.nodeType&&8!==r.nodeType&&!St.test(f+at.event.triggered)&&(f.indexOf(".")>=0&&(g=f.split("."),f=g.shift(),g.sort()),h=f.indexOf(":")<0&&"on"+f,n=n[at.expando]?n:new at.Event(f,"object"==typeof n&&n),n.isTrigger=a?2:3,n.namespace=g.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=r),i=null==i?[n]:at.makeArray(i,[n]),d=at.event.special[f]||{},a||!d.trigger||d.trigger.apply(r,i)!==!1)){if(!a&&!d.noBubble&&!at.isWindow(r)){for(c=d.delegateType||f,St.test(c+f)||(o=o.parentNode);o;o=o.parentNode)p.push(o),l=o;l===(r.ownerDocument||U)&&p.push(l.defaultView||l.parentWindow||e)}for(s=0;(o=p[s++])&&!n.isPropagationStopped();)n.type=s>1?c:d.bindType||f,u=(mt.get(o,"events")||{})[n.type]&&mt.get(o,"handle"),u&&u.apply(o,i),u=h&&o[h],u&&at.acceptData(o)&&u.apply&&u.apply(o,i)===!1&&n.preventDefault();return n.type=f,a||n.isDefaultPrevented()||d._default&&d._default.apply(p.pop(),i)!==!1||!at.acceptData(r)||h&&at.isFunction(r[f])&&!at.isWindow(r)&&(l=r[h],l&&(r[h]=null),at.event.triggered=f,r[f](),at.event.triggered=t,l&&(r[h]=l)),n.result}},dispatch:function(e){e=at.event.fix(e);var n,i,r,a,s,o=[],l=et.call(arguments),c=(mt.get(this,"events")||{})[e.type]||[],h=at.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!h.preDispatch||h.preDispatch.call(this,e)!==!1){for(o=at.event.handlers.call(this,e,c),n=0;(a=o[n++])&&!e.isPropagationStopped();)for(e.currentTarget=a.elem,i=0;(s=a.handlers[i++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(s.namespace))&&(e.handleObj=s,e.data=s.data,r=((at.event.special[s.origType]||{}).handle||s.handler).apply(a.elem,l),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,e),e.result}},handlers:function(e,n){var i,r,a,s,o=[],l=n.delegateCount,c=e.target;if(l&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!==this;c=c.parentNode||this)if(c.disabled!==!0||"click"!==e.type){for(r=[],i=0;l>i;i++)s=n[i],a=s.selector+" ",r[a]===t&&(r[a]=s.needsContext?at(a,this).index(c)>=0:at.find(a,this,null,[c]).length),r[a]&&r.push(s);r.length&&o.push({elem:c,handlers:r})}return l<n.length&&o.push({elem:this,handlers:n.slice(l)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,r,a,s=n.button;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||U,r=i.documentElement,a=i.body,e.pageX=n.clientX+(r&&r.scrollLeft||a&&a.scrollLeft||0)-(r&&r.clientLeft||a&&a.clientLeft||0),e.pageY=n.clientY+(r&&r.scrollTop||a&&a.scrollTop||0)-(r&&r.clientTop||a&&a.clientTop||0)),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[at.expando])return e;var t,n,i,r=e.type,a=e,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Dt.test(r)?this.mouseHooks:Tt.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new at.Event(a),t=i.length;t--;)n=i[t],e[n]=a[n];return e.target||(e.target=U),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,a):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==l()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===l()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&at.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return at.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=at.extend(new at.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?at.event.trigger(r,null,t):at.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},at.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},at.Event=function(e,t){return this instanceof at.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.getPreventDefault&&e.getPreventDefault()?s:o):this.type=e,t&&at.extend(this,t),this.timeStamp=e&&e.timeStamp||at.now(),this[at.expando]=!0,void 0):new at.Event(e,t)},at.Event.prototype={isDefaultPrevented:o,isPropagationStopped:o,isImmediatePropagationStopped:o,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=s,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=s,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=s,this.stopPropagation()}},at.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){at.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,a=e.handleObj;return(!r||r!==i&&!at.contains(i,r))&&(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),at.support.focusinBubbles||at.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){at.event.simulate(t,e.target,at.event.fix(e),!0)};at.event.special[t]={setup:function(){0===n++&&U.addEventListener(e,i,!0)},teardown:function(){0===--n&&U.removeEventListener(e,i,!0)}}}),at.fn.extend({on:function(e,n,i,r,a){var s,l;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=t);for(l in e)this.on(l,n,i,e[l],a);return this}if(null==i&&null==r?(r=n,i=n=t):null==r&&("string"==typeof n?(r=i,i=t):(r=i,i=n,n=t)),r===!1)r=o;else if(!r)return this;return 1===a&&(s=r,r=function(e){return at().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=at.guid++)),this.each(function(){at.event.add(this,e,r,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var r,a;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,at(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(a in e)this.off(a,n,e[a]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=o),this.each(function(){at.event.remove(this,e,i,n)})},trigger:function(e,t){return this.each(function(){at.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?at.event.trigger(e,t,n,!0):void 0}});var kt=/^.[^:#\[\.,]*$/,It=/^(?:parents|prev(?:Until|All))/,Nt=at.expr.match.needsContext,At={children:!0,contents:!0,next:!0,prev:!0};at.fn.extend({find:function(e){var t,n=[],i=this,r=i.length;if("string"!=typeof e)return this.pushStack(at(e).filter(function(){for(t=0;r>t;t++)if(at.contains(i[t],this))return!0}));for(t=0;r>t;t++)at.find(e,i[t],n);return n=this.pushStack(r>1?at.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t=at(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(at.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(h(this,e||[],!0))},filter:function(e){return this.pushStack(h(this,e||[],!1))},is:function(e){return!!h(this,"string"==typeof e&&Nt.test(e)?at(e):e||[],!1).length},closest:function(e,t){for(var n,i=0,r=this.length,a=[],s=Nt.test(e)||"string"!=typeof e?at(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&at.find.matchesSelector(n,e))){n=a.push(n);break}return this.pushStack(a.length>1?at.unique(a):a)},index:function(e){return e?"string"==typeof e?tt.call(at(e),this[0]):tt.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?at(e,t):at.makeArray(e&&e.nodeType?[e]:e),i=at.merge(this.get(),n);return this.pushStack(at.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),at.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return at.dir(e,"parentNode")},parentsUntil:function(e,t,n){return at.dir(e,"parentNode",n)},next:function(e){return c(e,"nextSibling")},prev:function(e){return c(e,"previousSibling")},nextAll:function(e){return at.dir(e,"nextSibling")},prevAll:function(e){return at.dir(e,"previousSibling")},nextUntil:function(e,t,n){return at.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return at.dir(e,"previousSibling",n)},siblings:function(e){return at.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return at.sibling(e.firstChild)},contents:function(e){return e.contentDocument||at.merge([],e.childNodes)}},function(e,t){at.fn[e]=function(n,i){var r=at.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=at.filter(i,r)),this.length>1&&(At[e]||at.unique(r),It.test(e)&&r.reverse()),this.pushStack(r)}}),at.extend({filter:function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?at.find.matchesSelector(i,e)?[i]:[]:at.find.matches(e,at.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,i){for(var r=[],a=i!==t;(e=e[n])&&9!==e.nodeType;)if(1===e.nodeType){if(a&&at(e).is(i))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Rt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Mt=/<([\w:]+)/,Pt=/<|&#?\w+;/,Ot=/<(?:script|style|link)/i,Ft=/^(?:checkbox|radio)$/i,Bt=/checked\s*(?:[^=]|=\s*.checked.)/i,jt=/^$|\/(?:java|ecma)script/i,Lt=/^true\/(.*)/,Vt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,$t={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$t.optgroup=$t.option,$t.tbody=$t.tfoot=$t.colgroup=$t.caption=$t.thead,$t.th=$t.td,at.fn.extend({text:function(e){return at.access(this,function(e){return e===t?at.text(this):this.empty().append((this[0]&&this[0].ownerDocument||U).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=u(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=u(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?at.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||at.cleanData(m(n)),n.parentNode&&(t&&at.contains(n.ownerDocument,n)&&f(m(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(at.cleanData(m(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return at.clone(this,e,t)})},html:function(e){return at.access(this,function(e){var n=this[0]||{},i=0,r=this.length;if(e===t&&1===n.nodeType)return n.innerHTML;if("string"==typeof e&&!Ot.test(e)&&!$t[(Mt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Rt,"<$1></$2>");try{for(;r>i;i++)n=this[i]||{},1===n.nodeType&&(at.cleanData(m(n,!1)),n.innerHTML=e);n=0}catch(a){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=at.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var i=e[t++],r=e[t++];r&&(i&&i.parentNode!==r&&(i=this.nextSibling),at(this).remove(),r.insertBefore(n,i))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=J.apply([],e);var i,r,a,s,o,l,c=0,h=this.length,u=this,f=h-1,g=e[0],v=at.isFunction(g);if(v||!(1>=h||"string"!=typeof g||at.support.checkClone)&&Bt.test(g))return this.each(function(i){var r=u.eq(i);v&&(e[0]=g.call(this,i,r.html())),r.domManip(e,t,n)});if(h&&(i=at.buildFragment(e,this[0].ownerDocument,!1,!n&&this),r=i.firstChild,1===i.childNodes.length&&(i=r),r)){for(a=at.map(m(i,"script"),d),s=a.length;h>c;c++)o=i,c!==f&&(o=at.clone(o,!0,!0),s&&at.merge(a,m(o,"script"))),t.call(this[c],o,c);if(s)for(l=a[a.length-1].ownerDocument,at.map(a,p),c=0;s>c;c++)o=a[c],jt.test(o.type||"")&&!mt.access(o,"globalEval")&&at.contains(l,o)&&(o.src?at._evalUrl(o.src):at.globalEval(o.textContent.replace(Vt,"")))}return this}}),at.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){at.fn[e]=function(e){for(var n,i=[],r=at(e),a=r.length-1,s=0;a>=s;s++)n=s===a?this:this.clone(!0),at(r[s])[t](n),Z.apply(i,n.get());return this.pushStack(i)}}),at.extend({clone:function(e,t,n){var i,r,a,s,o=e.cloneNode(!0),l=at.contains(e.ownerDocument,e);if(!(at.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||at.isXMLDoc(e)))for(s=m(o),a=m(e),i=0,r=a.length;r>i;i++)v(a[i],s[i]);if(t)if(n)for(a=a||m(e),s=s||m(o),i=0,r=a.length;r>i;i++)g(a[i],s[i]);else g(e,o);return s=m(o,"script"),s.length>0&&f(s,!l&&m(e,"script")),o},buildFragment:function(e,t,n,i){for(var r,a,s,o,l,c,h=0,u=e.length,d=t.createDocumentFragment(),p=[];u>h;h++)if(r=e[h],r||0===r)if("object"===at.type(r))at.merge(p,r.nodeType?[r]:r);else if(Pt.test(r)){for(a=a||d.appendChild(t.createElement("div")),s=(Mt.exec(r)||["",""])[1].toLowerCase(),o=$t[s]||$t._default,a.innerHTML=o[1]+r.replace(Rt,"<$1></$2>")+o[2],c=o[0];c--;)a=a.firstChild;at.merge(p,a.childNodes),a=d.firstChild,a.textContent=""}else p.push(t.createTextNode(r));for(d.textContent="",h=0;r=p[h++];)if((!i||-1===at.inArray(r,i))&&(l=at.contains(r.ownerDocument,r),a=m(d.appendChild(r),"script"),l&&f(a),n))for(c=0;r=a[c++];)jt.test(r.type||"")&&n.push(r);return d},cleanData:function(e){for(var n,i,a,s,o,l,c=at.event.special,h=0;(i=e[h])!==t;h++){if(r.accepts(i)&&(o=i[mt.expando],o&&(n=mt.cache[o]))){if(a=Object.keys(n.events||{}),a.length)for(l=0;(s=a[l])!==t;l++)c[s]?at.event.remove(i,s):at.removeEvent(i,s,n.handle);mt.cache[o]&&delete mt.cache[o]}delete gt.cache[i[gt.expando]]}},_evalUrl:function(e){return at.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),at.fn.extend({wrapAll:function(e){var t;return at.isFunction(e)?this.each(function(t){at(this).wrapAll(e.call(this,t))}):(this[0]&&(t=at(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return at.isFunction(e)?this.each(function(t){at(this).wrapInner(e.call(this,t))}):this.each(function(){var t=at(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=at.isFunction(e);return this.each(function(n){at(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){at.nodeName(this,"body")||at(this).replaceWith(this.childNodes)}).end()}});var Ht,Gt,zt=/^(none|table(?!-c[ea]).+)/,Ut=/^margin/,Wt=new RegExp("^("+st+")(.*)$","i"),qt=new RegExp("^("+st+")(?!px)[a-z%]+$","i"),Yt=new RegExp("^([+-])=("+st+")","i"),Kt={BODY:"block"},Xt={position:"absolute",visibility:"hidden",display:"block"},Qt={letterSpacing:0,fontWeight:400},Jt=["Top","Right","Bottom","Left"],Zt=["Webkit","O","Moz","ms"];at.fn.extend({css:function(e,n){return at.access(this,function(e,n,i){var r,a,s={},o=0;if(at.isArray(n)){for(r=x(e),a=n.length;a>o;o++)s[n[o]]=at.css(e,n[o],!1,r);return s}return i!==t?at.style(e,n,i):at.css(e,n)},e,n,arguments.length>1)},show:function(){return w(this,!0)},hide:function(){return w(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:y(this))?at(this).show():at(this).hide()})}}),at.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ht(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,n,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,s,o,l=at.camelCase(n),c=e.style;return n=at.cssProps[l]||(at.cssProps[l]=b(c,l)),o=at.cssHooks[n]||at.cssHooks[l],i===t?o&&"get"in o&&(a=o.get(e,!1,r))!==t?a:c[n]:(s=typeof i,"string"===s&&(a=Yt.exec(i))&&(i=(a[1]+1)*a[2]+parseFloat(at.css(e,n)),s="number"),null==i||"number"===s&&isNaN(i)||("number"!==s||at.cssNumber[l]||(i+="px"),at.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(c[n]="inherit"),o&&"set"in o&&(i=o.set(e,i,r))===t||(c[n]=i)),void 0)}},css:function(e,n,i,r){var a,s,o,l=at.camelCase(n);return n=at.cssProps[l]||(at.cssProps[l]=b(e.style,l)),o=at.cssHooks[n]||at.cssHooks[l],o&&"get"in o&&(a=o.get(e,!0,i)),a===t&&(a=Ht(e,n,r)),"normal"===a&&n in Qt&&(a=Qt[n]),""===i||i?(s=parseFloat(a),i===!0||at.isNumeric(s)?s||0:a):a}}),Ht=function(e,n,i){var r,a,s,o=i||x(e),l=o?o.getPropertyValue(n)||o[n]:t,c=e.style;return o&&(""!==l||at.contains(e.ownerDocument,e)||(l=at.style(e,n)),qt.test(l)&&Ut.test(n)&&(r=c.width,a=c.minWidth,s=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=o.width,c.width=r,c.minWidth=a,c.maxWidth=s)),l},at.each(["height","width"],function(e,t){at.cssHooks[t]={get:function(e,n,i){return n?0===e.offsetWidth&&zt.test(at.css(e,"display"))?at.swap(e,Xt,function(){return T(e,t,i)}):T(e,t,i):void 0},set:function(e,n,i){var r=i&&x(e);return _(e,n,i?C(e,t,i,at.support.boxSizing&&"border-box"===at.css(e,"boxSizing",!1,r),r):0)}}}),at(function(){at.support.reliableMarginRight||(at.cssHooks.marginRight={get:function(e,t){return t?at.swap(e,{display:"inline-block"},Ht,[e,"marginRight"]):void 0}}),!at.support.pixelPosition&&at.fn.position&&at.each(["top","left"],function(e,t){at.cssHooks[t]={get:function(e,n){return n?(n=Ht(e,t),qt.test(n)?at(e).position()[t]+"px":n):void 0}}})}),at.expr&&at.expr.filters&&(at.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},at.expr.filters.visible=function(e){return!at.expr.filters.hidden(e)}),at.each({margin:"",padding:"",border:"Width"},function(e,t){at.cssHooks[e+t]={expand:function(n){for(var i=0,r={},a="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+Jt[i]+t]=a[i]||a[i-2]||a[0];return r}},Ut.test(e)||(at.cssHooks[e+t].set=_)});var en=/%20/g,tn=/\[\]$/,nn=/\r?\n/g,rn=/^(?:submit|button|image|reset|file)$/i,an=/^(?:input|select|textarea|keygen)/i;at.fn.extend({serialize:function(){return at.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=at.prop(this,"elements");return e?at.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!at(this).is(":disabled")&&an.test(this.nodeName)&&!rn.test(e)&&(this.checked||!Ft.test(e))}).map(function(e,t){var n=at(this).val();return null==n?null:at.isArray(n)?at.map(n,function(e){return{name:t.name,value:e.replace(nn,"\r\n")}}):{name:t.name,value:n.replace(nn,"\r\n")}}).get()}}),at.param=function(e,n){var i,r=[],a=function(e,t){t=at.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=at.ajaxSettings&&at.ajaxSettings.traditional),at.isArray(e)||e.jquery&&!at.isPlainObject(e))at.each(e,function(){a(this.name,this.value)});else for(i in e)E(i,e[i],n,a);return r.join("&").replace(en,"+")},at.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){at.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),at.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var sn,on,ln=at.now(),cn=/\?/,hn=/#.*$/,un=/([?&])_=[^&]*/,dn=/^(.*?):[ \t]*([^\r\n]*)$/gm,pn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,fn=/^(?:GET|HEAD)$/,gn=/^\/\//,mn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,vn=at.fn.load,bn={},yn={},xn="*/".concat("*");try{on=z.href}catch(wn){on=U.createElement("a"),on.href="",on=on.href}sn=mn.exec(on.toLowerCase())||[],at.fn.load=function(e,n,i){if("string"!=typeof e&&vn)return vn.apply(this,arguments);var r,a,s,o=this,l=e.indexOf(" ");return l>=0&&(r=e.slice(l),e=e.slice(0,l)),at.isFunction(n)?(i=n,n=t):n&&"object"==typeof n&&(a="POST"),o.length>0&&at.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){s=arguments,o.html(r?at("<div>").append(at.parseHTML(e)).find(r):e)}).complete(i&&function(e,t){o.each(i,s||[e.responseText,t,e])}),this},at.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){at.fn[t]=function(e){return this.on(t,e)}}),at.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:on,type:"GET",isLocal:pn.test(sn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":xn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":at.parseJSON,"text xml":at.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?N(N(e,at.ajaxSettings),t):N(at.ajaxSettings,e)},ajaxPrefilter:k(bn),ajaxTransport:k(yn),ajax:function(e,n){function i(e,n,i,o){var c,u,b,y,w,C=n;2!==x&&(x=2,l&&clearTimeout(l),r=t,s=o||"",_.readyState=e>0?4:0,c=e>=200&&300>e||304===e,i&&(y=A(d,_,i)),y=R(d,y,_,c),c?(d.ifModified&&(w=_.getResponseHeader("Last-Modified"),w&&(at.lastModified[a]=w),w=_.getResponseHeader("etag"),w&&(at.etag[a]=w)),204===e||"HEAD"===d.type?C="nocontent":304===e?C="notmodified":(C=y.state,u=y.data,b=y.error,c=!b)):(b=C,(e||!C)&&(C="error",0>e&&(e=0))),_.status=e,_.statusText=(n||C)+"",c?g.resolveWith(p,[u,C,_]):g.rejectWith(p,[_,C,b]),_.statusCode(v),v=t,h&&f.trigger(c?"ajaxSuccess":"ajaxError",[_,d,c?u:b]),m.fireWith(p,[_,C]),h&&(f.trigger("ajaxComplete",[_,d]),--at.active||at.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var r,a,s,o,l,c,h,u,d=at.ajaxSetup({},n),p=d.context||d,f=d.context&&(p.nodeType||p.jquery)?at(p):at.event,g=at.Deferred(),m=at.Callbacks("once memory"),v=d.statusCode||{},b={},y={},x=0,w="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!o)for(o={};t=dn.exec(s);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=y[n]=y[n]||e,b[e]=t),this},overrideMimeType:function(e){return x||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>x)for(t in e)v[t]=[v[t],e[t]];else _.always(e[_.status]);return this},abort:function(e){var t=e||w;return r&&r.abort(t),i(0,t),this}};if(g.promise(_).complete=m.add,_.success=_.done,_.error=_.fail,d.url=((e||d.url||on)+"").replace(hn,"").replace(gn,sn[1]+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=at.trim(d.dataType||"*").toLowerCase().match(ot)||[""],null==d.crossDomain&&(c=mn.exec(d.url.toLowerCase()),d.crossDomain=!(!c||c[1]===sn[1]&&c[2]===sn[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(sn[3]||("http:"===sn[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=at.param(d.data,d.traditional)),I(bn,d,n,_),2===x)return _;h=d.global,h&&0===at.active++&&at.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!fn.test(d.type),a=d.url,d.hasContent||(d.data&&(a=d.url+=(cn.test(a)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=un.test(a)?a.replace(un,"$1_="+ln++):a+(cn.test(a)?"&":"?")+"_="+ln++)),d.ifModified&&(at.lastModified[a]&&_.setRequestHeader("If-Modified-Since",at.lastModified[a]),at.etag[a]&&_.setRequestHeader("If-None-Match",at.etag[a])),(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&_.setRequestHeader("Content-Type",d.contentType),_.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+xn+"; q=0.01":""):d.accepts["*"]);for(u in d.headers)_.setRequestHeader(u,d.headers[u]);if(d.beforeSend&&(d.beforeSend.call(p,_,d)===!1||2===x))return _.abort();w="abort";for(u in{success:1,error:1,complete:1})_[u](d[u]);if(r=I(yn,d,n,_)){_.readyState=1,h&&f.trigger("ajaxSend",[_,d]),d.async&&d.timeout>0&&(l=setTimeout(function(){_.abort("timeout")},d.timeout));try{x=1,r.send(b,i)}catch(C){if(!(2>x))throw C;i(-1,C)}}else i(-1,"No Transport");return _},getJSON:function(e,t,n){return at.get(e,t,n,"json")},getScript:function(e,n){return at.get(e,t,n,"script")}}),at.each(["get","post"],function(e,n){at[n]=function(e,i,r,a){return at.isFunction(i)&&(a=a||r,r=i,i=t),at.ajax({url:e,type:n,dataType:a,data:i,success:r})}}),at.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return at.globalEval(e),e}}}),at.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),at.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,r){t=at("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),U.head.appendChild(t[0])},abort:function(){n&&n()}}}});var _n=[],Cn=/(=)\?(?=&|$)|\?\?/;at.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=_n.pop()||at.expando+"_"+ln++;return this[e]=!0,e}}),at.ajaxPrefilter("json jsonp",function(n,i,r){var a,s,o,l=n.jsonp!==!1&&(Cn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Cn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(a=n.jsonpCallback=at.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Cn,"$1"+a):n.jsonp!==!1&&(n.url+=(cn.test(n.url)?"&":"?")+n.jsonp+"="+a),n.converters["script json"]=function(){return o||at.error(a+" was not called"),o[0]},n.dataTypes[0]="json",s=e[a],e[a]=function(){o=arguments},r.always(function(){e[a]=s,n[a]&&(n.jsonpCallback=i.jsonpCallback,_n.push(a)),o&&at.isFunction(s)&&s(o[0]),o=s=t}),"script"):void 0}),at.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Tn=at.ajaxSettings.xhr(),Dn={0:200,1223:204},Sn=0,En={};e.ActiveXObject&&at(e).on("unload",function(){for(var e in En)En[e]();En=t}),at.support.cors=!!Tn&&"withCredentials"in Tn,at.support.ajax=Tn=!!Tn,at.ajaxTransport(function(e){var n;return at.support.cors||Tn&&!e.crossDomain?{send:function(i,r){var a,s,o=e.xhr();if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)o[a]=e.xhrFields[a];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)o.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(delete En[s],n=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?r(o.status||404,o.statusText):r(Dn[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:t,o.getAllResponseHeaders()))}},o.onload=n(),o.onerror=n("error"),n=En[s=Sn++]=n("abort"),o.send(e.hasContent&&e.data||null)},abort:function(){n&&n()}}:void 0});var kn,In,Nn=/^(?:toggle|show|hide)$/,An=new RegExp("^(?:([+-])=|)("+st+")([a-z%]*)$","i"),Rn=/queueHooks$/,Mn=[B],Pn={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=An.exec(t),a=r&&r[3]||(at.cssNumber[e]?"":"px"),s=(at.cssNumber[e]||"px"!==a&&+i)&&An.exec(at.css(n.elem,e)),o=1,l=20;if(s&&s[3]!==a){a=a||s[3],r=r||[],s=+i||1;do o=o||".5",s/=o,at.style(n.elem,e,s+a);while(o!==(o=n.cur()/i)&&1!==o&&--l)}return r&&(s=n.start=+s||+i||0,n.unit=a,n.end=r[1]?s+(r[1]+1)*r[2]:+r[2]),n}]};at.Animation=at.extend(O,{tweener:function(e,t){at.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],Pn[n]=Pn[n]||[],Pn[n].unshift(t)},prefilter:function(e,t){t?Mn.unshift(e):Mn.push(e)}}),at.Tween=j,j.prototype={constructor:j,init:function(e,t,n,i,r,a){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=a||(at.cssNumber[n]?"":"px")},cur:function(){var e=j.propHooks[this.prop];return e&&e.get?e.get(this):j.propHooks._default.get(this)},run:function(e){var t,n=j.propHooks[this.prop];return this.pos=t=this.options.duration?at.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):j.propHooks._default.set(this),this}},j.prototype.init.prototype=j.prototype,j.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=at.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){at.fx.step[e.prop]?at.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[at.cssProps[e.prop]]||at.cssHooks[e.prop])?at.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},j.propHooks.scrollTop=j.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},at.each(["toggle","show","hide"],function(e,t){var n=at.fn[t];at.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(L(t,!0),e,i,r)}}),at.fn.extend({fadeTo:function(e,t,n,i){return this.filter(y).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=at.isEmptyObject(e),a=at.speed(t,n,i),s=function(){var t=O(this,at.extend({},e),a);(r||mt.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||a.queue===!1?this.each(s):this.queue(a.queue,s)},stop:function(e,n,i){var r=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",a=at.timers,s=mt.get(this);if(n)s[n]&&s[n].stop&&r(s[n]);else for(n in s)s[n]&&s[n].stop&&Rn.test(n)&&r(s[n]);for(n=a.length;n--;)a[n].elem!==this||null!=e&&a[n].queue!==e||(a[n].anim.stop(i),t=!1,a.splice(n,1));(t||!i)&&at.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=mt.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],a=at.timers,s=i?i.length:0;for(n.finish=!0,at.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;s>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),at.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){at.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),at.speed=function(e,t,n){var i=e&&"object"==typeof e?at.extend({},e):{complete:n||!n&&t||at.isFunction(e)&&e,duration:e,easing:n&&t||t&&!at.isFunction(t)&&t};return i.duration=at.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in at.fx.speeds?at.fx.speeds[i.duration]:at.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){at.isFunction(i.old)&&i.old.call(this),i.queue&&at.dequeue(this,i.queue)},i},at.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},at.timers=[],at.fx=j.prototype.init,at.fx.tick=function(){var e,n=at.timers,i=0;for(kn=at.now();i<n.length;i++)e=n[i],e()||n[i]!==e||n.splice(i--,1);n.length||at.fx.stop(),kn=t},at.fx.timer=function(e){e()&&at.timers.push(e)&&at.fx.start()},at.fx.interval=13,at.fx.start=function(){In||(In=setInterval(at.fx.tick,at.fx.interval))},at.fx.stop=function(){clearInterval(In),In=null},at.fx.speeds={slow:600,fast:200,_default:400},at.fx.step={},at.expr&&at.expr.filters&&(at.expr.filters.animated=function(e){return at.grep(at.timers,function(t){return e===t.elem}).length}),at.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){at.offset.setOffset(this,e,t)
});var n,i,r=this[0],a={top:0,left:0},s=r&&r.ownerDocument;if(s)return n=s.documentElement,at.contains(n,r)?(typeof r.getBoundingClientRect!==G&&(a=r.getBoundingClientRect()),i=V(s),{top:a.top+i.pageYOffset-n.clientTop,left:a.left+i.pageXOffset-n.clientLeft}):a},at.offset={setOffset:function(e,t,n){var i,r,a,s,o,l,c,h=at.css(e,"position"),u=at(e),d={};"static"===h&&(e.style.position="relative"),o=u.offset(),a=at.css(e,"top"),l=at.css(e,"left"),c=("absolute"===h||"fixed"===h)&&(a+l).indexOf("auto")>-1,c?(i=u.position(),s=i.top,r=i.left):(s=parseFloat(a)||0,r=parseFloat(l)||0),at.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(d.top=t.top-o.top+s),null!=t.left&&(d.left=t.left-o.left+r),"using"in t?t.using.call(e,d):u.css(d)}},at.fn.extend({position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===at.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),at.nodeName(e[0],"html")||(i=e.offset()),i.top+=at.css(e[0],"borderTopWidth",!0),i.left+=at.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-at.css(n,"marginTop",!0),left:t.left-i.left-at.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||W;e&&!at.nodeName(e,"html")&&"static"===at.css(e,"position");)e=e.offsetParent;return e||W})}}),at.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,i){var r="pageYOffset"===i;at.fn[n]=function(a){return at.access(this,function(n,a,s){var o=V(n);return s===t?o?o[i]:n[a]:(o?o.scrollTo(r?e.pageXOffset:s,r?s:e.pageYOffset):n[a]=s,void 0)},n,a,arguments.length,null)}}),at.each({Height:"height",Width:"width"},function(e,n){at.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,r){at.fn[r]=function(r,a){var s=arguments.length&&(i||"boolean"!=typeof r),o=i||(r===!0||a===!0?"margin":"border");return at.access(this,function(n,i,r){var a;return at.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(a=n.documentElement,Math.max(n.body["scroll"+e],a["scroll"+e],n.body["offset"+e],a["offset"+e],a["client"+e])):r===t?at.css(n,i,o):at.style(n,i,r,o)},n,s?r:t,s,null)}})}),at.fn.size=function(){return this.length},at.fn.andSelf=at.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=at:"function"==typeof define&&define.amd&&define("jquery",[],function(){return at}),"object"==typeof e&&"object"==typeof e.document&&(e.jQuery=e.$=at)}(window),/*! jQuery UI - v1.10.2 - 2013-03-14
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.effect.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js, jquery.ui.menu.js, jquery.ui.position.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
function(e,t){function n(t,n){var r,a,s,o=t.nodeName.toLowerCase();return"area"===o?(r=t.parentNode,a=r.name,t.href&&a&&"map"===r.nodeName.toLowerCase()?(s=e("img[usemap=#"+a+"]")[0],!!s&&i(s)):!1):(/input|select|textarea|button|object/.test(o)?!t.disabled:"a"===o?t.href||n:n)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var r=0,a=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(n,i){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),i&&i.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var i,r,a=e(this[0]);a.length&&a[0]!==document;){if(i=a.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(r=parseInt(a.css("zIndex"),10),!isNaN(r)&&0!==r))return r;a=a.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){a.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var i=e.attr(t,"tabindex"),r=isNaN(i);return(r||i>=0)&&n(t,!r)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,i){function r(t,n,i,r){return e.each(a,function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),r&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var a="Width"===i?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(n){return n===t?o["inner"+i].call(this):this.each(function(){e(this).css(s,r(this,n)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?o["outer"+i].call(this,t):this.each(function(){e(this).css(s,r(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,i){var r,a=e.ui[t].prototype;for(r in i)a.plugins[r]=a.plugins[r]||[],a.plugins[r].push([n,i[r]])},call:function(e,t,n){var i,r=e.plugins[t];if(r&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(i=0;i<r.length;i++)e.options[r[i][0]]&&r[i][1].apply(e.element,n)}},hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return t[i]>0?!0:(t[i]=1,r=t[i]>0,t[i]=0,r)}})}(jQuery),function(e,t){var n=0,i=Array.prototype.slice,r=e.cleanData;e.cleanData=function(t){for(var n,i=0;null!=(n=t[i]);i++)try{e(n).triggerHandler("remove")}catch(a){}r(t)},e.widget=function(t,n,i){var r,a,s,o,l={},c=t.split(".")[0];t=t.split(".")[1],r=c+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[c]=e[c]||{},a=e[c][t],s=e[c][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new s(e,t)},e.extend(s,a,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),o=new n,o.options=e.widget.extend({},o.options),e.each(i,function(t,i){return e.isFunction(i)?(l[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},r=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,a=this._superApply;return this._super=e,this._superApply=r,t=i.apply(this,arguments),this._super=n,this._superApply=a,t}}(),void 0):(l[t]=i,void 0)}),s.prototype=e.widget.extend(o,{widgetEventPrefix:a?o.widgetEventPrefix:t},l,{constructor:s,namespace:c,widgetName:t,widgetFullName:r}),a?(e.each(a._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete a._childConstructors):n._childConstructors.push(s),e.widget.bridge(t,s)},e.widget.extend=function(n){for(var r,a,s=i.call(arguments,1),o=0,l=s.length;l>o;o++)for(r in s[o])a=s[o][r],s[o].hasOwnProperty(r)&&a!==t&&(n[r]=e.isPlainObject(a)?e.isPlainObject(n[r])?e.widget.extend({},n[r],a):e.widget.extend({},a):a);return n},e.widget.bridge=function(n,r){var a=r.prototype.widgetFullName||n;e.fn[n]=function(s){var o="string"==typeof s,l=i.call(arguments,1),c=this;return s=!o&&l.length?e.widget.extend.apply(null,[s].concat(l)):s,o?this.each(function(){var i,r=e.data(this,a);return r?e.isFunction(r[s])&&"_"!==s.charAt(0)?(i=r[s].apply(r,l),i!==r&&i!==t?(c=i&&i.jquery?c.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+s+"' for "+n+" widget instance"):e.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+s+"'")}):this.each(function(){var t=e.data(this,a);t?t.option(s||{})._init():e.data(this,a,new r(s,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,i){var r,a,s,o=n;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof n)if(o={},r=n.split("."),n=r.shift(),r.length){for(a=o[n]=e.widget.extend({},this.options[n]),s=0;s<r.length-1;s++)a[r[s]]=a[r[s]]||{},a=a[r[s]];if(n=r.pop(),i===t)return a[n]===t?null:a[n];a[n]=i}else{if(i===t)return this.options[n]===t?null:this.options[n];o[n]=i}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,i){var r,a=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=r=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),e.each(i,function(i,s){function o(){return t||a.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof s?a[s]:s).apply(a,arguments):void 0}"string"!=typeof s&&(o.guid=s.guid=s.guid||o.guid||e.guid++);var l=i.match(/^(\w+)\s*(.*)$/),c=l[1]+a.eventNamespace,h=l[2];h?r.delegate(h,c,o):n.bind(c,o)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var r,a,s=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],a=n.originalEvent)for(r in a)r in n||(n[r]=a[r]);return this.element.trigger(n,i),!(e.isFunction(s)&&s.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,r,a){"string"==typeof r&&(r={effect:r});var s,o=r?r===!0||"number"==typeof r?n:r.effect||n:t;r=r||{},"number"==typeof r&&(r={duration:r}),s=!e.isEmptyObject(r),r.complete=a,r.delay&&i.delay(r.delay),s&&e.effects&&e.effects.effect[o]?i[t](r):o!==t&&i[o]?i[o](r.duration,r.easing,a):i.queue(function(n){e(this)[t](),a&&a.call(i[0]),n()})}})}(jQuery),function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.10.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!t){this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,r=1===n.which,a="string"==typeof this.options.cancel&&n.target.nodeName?e(n.target).closest(this.options.cancel).length:!1;return r&&!a&&this._mouseCapture(n)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=this._mouseStart(n)!==!1,!this._mouseStarted)?(n.preventDefault(),!0):(!0===e.data(n.target,this.widgetName+".preventClickEvent")&&e.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(e){e.widget("ui.draggable",e.ui.mouse,{version:"1.10.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var n=this.options;return this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(e(n.iframeFix===!0?"iframe":n.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),n.containment&&this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,n){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(this._trigger("drag",t,i)===!1)return this._mouseUp({}),!1;this.position=i.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n,i=this,r=!1,a=!1;for(e.ui.ddmanager&&!this.options.dropBehaviour&&(a=e.ui.ddmanager.drop(this,t)),this.dropped&&(a=this.dropped,this.dropped=!1),n=this.element[0];n&&(n=n.parentNode);)n===document&&(r=!0);return r||"original"!==this.options.helper?("invalid"===this.options.revert&&!a||"valid"===this.options.revert&&a||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,a)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1):!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options;if("parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=["document"===r.containment?0:e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"===r.containment?0:e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"===r.containment?0:e(window).scrollLeft())+e("document"===r.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"===r.containment?0:e(window).scrollTop())+(e("document"===r.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||r.containment.constructor===Array)r.containment.constructor===Array&&(this.containment=r.containment);else{if(n=e(r.containment),i=n[0],!i)return;t="hidden"!==e(i).css("overflow"),this.containment=[(parseInt(e(i).css("borderLeftWidth"),10)||0)+(parseInt(e(i).css("paddingLeft"),10)||0),(parseInt(e(i).css("borderTopWidth"),10)||0)+(parseInt(e(i).css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(e(i).css("borderRightWidth"),10)||0)-(parseInt(e(i).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(e(i).css("borderBottomWidth"),10)||0)-(parseInt(e(i).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=n}},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:r.scrollLeft())*i}},_generatePosition:function(t){var n,i,r,a,s=this.options,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(o[0].tagName),c=t.pageX,h=t.pageY;return this.originalPosition&&(this.containment&&(this.relative_container?(i=this.relative_container.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(c=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(h=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(c=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(h=n[3]+this.offset.click.top)),s.grid&&(r=s.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,h=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-s.grid[1]:r+s.grid[1]:r,a=s.grid[0]?this.originalPageX+Math.round((c-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,c=n?a-this.offset.click.left>=n[0]||a-this.offset.click.left>n[2]?a:a-this.offset.click.left>=n[0]?a-s.grid[0]:a+s.grid[0]:a)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:o.scrollTop()),left:c-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:o.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,n,i){return i=i||this._uiHash(),e.ui.plugin.call(this,t,[n,i]),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n){var i=e(this).data("ui-draggable"),r=i.options,a=e.extend({},n,{item:i.element});i.sortables=[],e(r.connectToSortable).each(function(){var n=e.data(this,"ui-sortable");n&&!n.options.disabled&&(i.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",t,a))})},stop:function(t,n){var i=e(this).data("ui-draggable"),r=e.extend({},n,{item:i.element});e.each(i.sortables,function(){this.instance.isOver?(this.instance.isOver=0,i.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===i.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,r))})},drag:function(t,n){var i=e(this).data("ui-draggable"),r=this;e.each(i.sortables,function(){var a=!1,s=this;this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(a=!0,e.each(i.sortables,function(){return this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this!==s&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(s.instance.element[0],this.instance.element[0])&&(a=!1),a})),a?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(r).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=i.offset.click.top,this.instance.offset.click.left=i.offset.click.left,this.instance.offset.parent.left-=i.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=i.offset.parent.top-this.instance.offset.parent.top,i._trigger("toSortable",t),i.dropped=this.instance.element,i.currentItem=i.element,this.instance.fromOutside=i),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),i._trigger("fromSortable",t),i.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),n=e(this).data("ui-draggable").options;t.css("cursor")&&(n._cursor=t.css("cursor")),t.css("cursor",n.cursor)},stop:function(){var t=e(this).data("ui-draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n){var i=e(n.helper),r=e(this).data("ui-draggable").options;i.css("opacity")&&(r._opacity=i.css("opacity")),i.css("opacity",r.opacity)},stop:function(t,n){var i=e(this).data("ui-draggable").options;i._opacity&&e(n.helper).css("opacity",i._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var n=e(this).data("ui-draggable"),i=n.options,r=!1;n.scrollParent[0]!==document&&"HTML"!==n.scrollParent[0].tagName?(i.axis&&"x"===i.axis||(n.overflowOffset.top+n.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?n.scrollParent[0].scrollTop=r=n.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-n.overflowOffset.top<i.scrollSensitivity&&(n.scrollParent[0].scrollTop=r=n.scrollParent[0].scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(n.overflowOffset.left+n.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?n.scrollParent[0].scrollLeft=r=n.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-n.overflowOffset.left<i.scrollSensitivity&&(n.scrollParent[0].scrollLeft=r=n.scrollParent[0].scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(t.pageY-e(document).scrollTop()<i.scrollSensitivity?r=e(document).scrollTop(e(document).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<i.scrollSensitivity&&(r=e(document).scrollTop(e(document).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(t.pageX-e(document).scrollLeft()<i.scrollSensitivity?r=e(document).scrollLeft(e(document).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<i.scrollSensitivity&&(r=e(document).scrollLeft(e(document).scrollLeft()+i.scrollSpeed)))),r!==!1&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),n=t.options;t.snapElements=[],e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var n=e(this),i=n.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:n.outerWidth(),height:n.outerHeight(),top:i.top,left:i.left})})},drag:function(t,n){var i,r,a,s,o,l,c,h,u,d,p=e(this).data("ui-draggable"),f=p.options,g=f.snapTolerance,m=n.offset.left,v=m+p.helperProportions.width,b=n.offset.top,y=b+p.helperProportions.height;for(u=p.snapElements.length-1;u>=0;u--)o=p.snapElements[u].left,l=o+p.snapElements[u].width,c=p.snapElements[u].top,h=c+p.snapElements[u].height,m>o-g&&l+g>m&&b>c-g&&h+g>b||m>o-g&&l+g>m&&y>c-g&&h+g>y||v>o-g&&l+g>v&&b>c-g&&h+g>b||v>o-g&&l+g>v&&y>c-g&&h+g>y?("inner"!==f.snapMode&&(i=Math.abs(c-y)<=g,r=Math.abs(h-b)<=g,a=Math.abs(o-v)<=g,s=Math.abs(l-m)<=g,i&&(n.position.top=p._convertPositionTo("relative",{top:c-p.helperProportions.height,left:0}).top-p.margins.top),r&&(n.position.top=p._convertPositionTo("relative",{top:h,left:0}).top-p.margins.top),a&&(n.position.left=p._convertPositionTo("relative",{top:0,left:o-p.helperProportions.width}).left-p.margins.left),s&&(n.position.left=p._convertPositionTo("relative",{top:0,left:l}).left-p.margins.left)),d=i||r||a||s,"outer"!==f.snapMode&&(i=Math.abs(c-b)<=g,r=Math.abs(h-y)<=g,a=Math.abs(o-m)<=g,s=Math.abs(l-v)<=g,i&&(n.position.top=p._convertPositionTo("relative",{top:c,left:0}).top-p.margins.top),r&&(n.position.top=p._convertPositionTo("relative",{top:h-p.helperProportions.height,left:0}).top-p.margins.top),a&&(n.position.left=p._convertPositionTo("relative",{top:0,left:o}).left-p.margins.left),s&&(n.position.left=p._convertPositionTo("relative",{top:0,left:l-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[u].snapping&&(i||r||a||s||d)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=i||r||a||s||d):(p.snapElements[u].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=!1)}}),e.ui.plugin.add("draggable","stack",{start:function(){var t,n=this.data("ui-draggable").options,i=e.makeArray(e(n.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});i.length&&(t=parseInt(e(i[0]).css("zIndex"),10)||0,e(i).each(function(n){e(this).css("zIndex",t+n)}),this.css("zIndex",t+i.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n){var i=e(n.helper),r=e(this).data("ui-draggable").options;i.css("zIndex")&&(r._zIndex=i.css("zIndex")),i.css("zIndex",r.zIndex)},stop:function(t,n){var i=e(this).data("ui-draggable").options;i._zIndex&&e(n.helper).css("zIndex",i._zIndex)}})}(jQuery),function(e){function t(e,t,n){return e>t&&t+n>e}e.widget("ui.droppable",{version:"1.10.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t=this.options,n=t.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(n)?n:function(e){return e.is(n)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},e.ui.ddmanager.droppables[t.scope]=e.ui.ddmanager.droppables[t.scope]||[],e.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var t=0,n=e.ui.ddmanager.droppables[this.options.scope];t<n.length;t++)n[t]===this&&n.splice(t,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,n){"accept"===t&&(this.accept=e.isFunction(n)?n:function(e){return e.is(n)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",t,this.ui(n))
},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var i=n||e.ui.ddmanager.current,r=!1;return i&&(i.currentItem||i.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"ui-droppable");return t.options.greedy&&!t.options.disabled&&t.options.scope===i.options.scope&&t.accept.call(t.element[0],i.currentItem||i.element)&&e.ui.intersect(i,e.extend(t,{offset:t.element.offset()}),t.options.tolerance)?(r=!0,!1):void 0}),r?!1:this.accept.call(this.element[0],i.currentItem||i.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(i)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(e,n,i){if(!n.offset)return!1;var r,a,s=(e.positionAbs||e.position.absolute).left,o=s+e.helperProportions.width,l=(e.positionAbs||e.position.absolute).top,c=l+e.helperProportions.height,h=n.offset.left,u=h+n.proportions.width,d=n.offset.top,p=d+n.proportions.height;switch(i){case"fit":return s>=h&&u>=o&&l>=d&&p>=c;case"intersect":return h<s+e.helperProportions.width/2&&o-e.helperProportions.width/2<u&&d<l+e.helperProportions.height/2&&c-e.helperProportions.height/2<p;case"pointer":return r=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,a=(e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top,t(a,d,n.proportions.height)&&t(r,h,n.proportions.width);case"touch":return(l>=d&&p>=l||c>=d&&p>=c||d>l&&c>p)&&(s>=h&&u>=s||o>=h&&u>=o||h>s&&o>u);default:return!1}},e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,n){var i,r,a=e.ui.ddmanager.droppables[t.options.scope]||[],s=n?n.type:null,o=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(i=0;i<a.length;i++)if(!(a[i].options.disabled||t&&!a[i].accept.call(a[i].element[0],t.currentItem||t.element))){for(r=0;r<o.length;r++)if(o[r]===a[i].element[0]){a[i].proportions.height=0;continue e}a[i].visible="none"!==a[i].element.css("display"),a[i].visible&&("mousedown"===s&&a[i]._activate.call(a[i],n),a[i].offset=a[i].element.offset(),a[i].proportions={width:a[i].element[0].offsetWidth,height:a[i].element[0].offsetHeight})}},drop:function(t,n){var i=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),i},dragStart:function(t,n){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,r,a,s=e.ui.intersect(t,this,this.options.tolerance),o=!s&&this.isover?"isout":s&&!this.isover?"isover":null;o&&(this.options.greedy&&(r=this.options.scope,a=this.element.parents(":data(ui-droppable)").filter(function(){return e.data(this,"ui-droppable").options.scope===r}),a.length&&(i=e.data(a[0],"ui-droppable"),i.greedyChild="isover"===o)),i&&"isover"===o&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[o]=!0,this["isout"===o?"isover":"isout"]=!1,this["isover"===o?"_over":"_out"].call(this,n),i&&"isout"===o&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}})},dragStop:function(t,n){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}}}(jQuery),function(e){function t(e){return parseInt(e,10)||0}function n(e){return!isNaN(parseInt(e,10))}e.widget("ui.resizable",e.ui.mouse,{version:"1.10.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var t,n,i,r,a,s=this,o=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!o.aspectRatio,aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=o.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},n=0;n<t.length;n++)i=e.trim(t[n]),a="ui-resizable-"+i,r=e("<div class='ui-resizable-handle "+a+"'></div>"),r.css({zIndex:o.zIndex}),"se"===i&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(r);this._renderAxis=function(t){var n,i,r,a;t=t||this.element;for(n in this.handles)this.handles[n].constructor===String&&(this.handles[n]=e(this.handles[n],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(i=e(this.handles[n],this.element),a=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(r,a),this._proportionallyResize()),e(this.handles[n]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){s.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=r&&r[1]?r[1]:"se")}),o.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){o.disabled||(e(this).removeClass("ui-resizable-autohide"),s._handles.show())}).mouseleave(function(){o.disabled||s.resizing||(e(this).addClass("ui-resizable-autohide"),s._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(t){var n,i,r=!1;for(n in this.handles)i=e(this.handles[n])[0],(i===t.target||e.contains(i,t.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(n){var i,r,a,s=this.options,o=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:o.top,left:o.left}),this._renderProxy(),i=t(this.helper.css("left")),r=t(this.helper.css("top")),s.containment&&(i+=e(s.containment).scrollLeft()||0,r+=e(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:r},this.size=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:i,top:r},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:n.pageX,top:n.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,a=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===a?this.axis+"-resize":a),l.addClass("ui-resizable-resizing"),this._propagate("start",n),!0},_mouseDrag:function(t){var n,i=this.helper,r={},a=this.originalMousePosition,s=this.axis,o=this.position.top,l=this.position.left,c=this.size.width,h=this.size.height,u=t.pageX-a.left||0,d=t.pageY-a.top||0,p=this._change[s];return p?(n=p.apply(this,[t,u,d]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),this.position.top!==o&&(r.top=this.position.top+"px"),this.position.left!==l&&(r.left=this.position.left+"px"),this.size.width!==c&&(r.width=this.size.width+"px"),this.size.height!==h&&(r.height=this.size.height+"px"),i.css(r),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(r)||this._trigger("resize",t,this.ui()),!1):!1},_mouseStop:function(t){this.resizing=!1;var n,i,r,a,s,o,l,c=this.options,h=this;return this._helper&&(n=this._proportionallyResizeElements,i=n.length&&/textarea/i.test(n[0].nodeName),r=i&&e.ui.hasScroll(n[0],"left")?0:h.sizeDiff.height,a=i?0:h.sizeDiff.width,s={width:h.helper.width()-a,height:h.helper.height()-r},o=parseInt(h.element.css("left"),10)+(h.position.left-h.originalPosition.left)||null,l=parseInt(h.element.css("top"),10)+(h.position.top-h.originalPosition.top)||null,c.animate||this.element.css(e.extend(s,{top:l,left:o})),h.helper.height(h.size.height),h.helper.width(h.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,i,r,a,s,o=this.options;s={minWidth:n(o.minWidth)?o.minWidth:0,maxWidth:n(o.maxWidth)?o.maxWidth:1/0,minHeight:n(o.minHeight)?o.minHeight:0,maxHeight:n(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=s.minHeight*this.aspectRatio,r=s.minWidth/this.aspectRatio,i=s.maxHeight*this.aspectRatio,a=s.maxWidth/this.aspectRatio,t>s.minWidth&&(s.minWidth=t),r>s.minHeight&&(s.minHeight=r),i<s.maxWidth&&(s.maxWidth=i),a<s.maxHeight&&(s.maxHeight=a)),this._vBoundaries=s},_updateCache:function(e){this.offset=this.helper.offset(),n(e.left)&&(this.position.left=e.left),n(e.top)&&(this.position.top=e.top),n(e.height)&&(this.size.height=e.height),n(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,r=this.axis;return n(e.height)?e.width=e.height*this.aspectRatio:n(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===r&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===r&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,r=n(e.width)&&t.maxWidth&&t.maxWidth<e.width,a=n(e.height)&&t.maxHeight&&t.maxHeight<e.height,s=n(e.width)&&t.minWidth&&t.minWidth>e.width,o=n(e.height)&&t.minHeight&&t.minHeight>e.height,l=this.originalPosition.left+this.originalSize.width,c=this.position.top+this.size.height,h=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return s&&(e.width=t.minWidth),o&&(e.height=t.minHeight),r&&(e.width=t.maxWidth),a&&(e.height=t.maxHeight),s&&h&&(e.left=l-t.minWidth),r&&h&&(e.left=l-t.maxWidth),o&&u&&(e.top=c-t.minHeight),a&&u&&(e.top=c-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,n,i,r,a=this.helper||this.element;for(e=0;e<this._proportionallyResizeElements.length;e++){if(r=this._proportionallyResizeElements[e],!this.borderDif)for(this.borderDif=[],n=[r.css("borderTopWidth"),r.css("borderRightWidth"),r.css("borderBottomWidth"),r.css("borderLeftWidth")],i=[r.css("paddingTop"),r.css("paddingRight"),r.css("paddingBottom"),r.css("paddingLeft")],t=0;t<n.length;t++)this.borderDif[t]=(parseInt(n[t],10)||0)+(parseInt(i[t],10)||0);r.css({height:a.height()-this.borderDif[0]-this.borderDif[2]||0,width:a.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize,i=this.originalPosition;return{left:i.left+t,width:n.width-t}},n:function(e,t,n){var i=this.originalSize,r=this.originalPosition;return{top:r.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},sw:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,i]))},ne:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},nw:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,i]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).data("ui-resizable"),i=n.options,r=n._proportionallyResizeElements,a=r.length&&/textarea/i.test(r[0].nodeName),s=a&&e.ui.hasScroll(r[0],"left")?0:n.sizeDiff.height,o=a?0:n.sizeDiff.width,l={width:n.size.width-o,height:n.size.height-s},c=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,h=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(l,h&&c?{top:h,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};r&&r.length&&e(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var n,i,r,a,s,o,l,c=e(this).data("ui-resizable"),h=c.options,u=c.element,d=h.containment,p=d instanceof e?d.get(0):/parent/.test(d)?u.parent().get(0):d;p&&(c.containerElement=e(p),/document/.test(d)||d===document?(c.containerOffset={left:0,top:0},c.containerPosition={left:0,top:0},c.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(n=e(p),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,r){i[e]=t(n.css("padding"+r))}),c.containerOffset=n.offset(),c.containerPosition=n.position(),c.containerSize={height:n.innerHeight()-i[3],width:n.innerWidth()-i[1]},r=c.containerOffset,a=c.containerSize.height,s=c.containerSize.width,o=e.ui.hasScroll(p,"left")?p.scrollWidth:s,l=e.ui.hasScroll(p)?p.scrollHeight:a,c.parentData={element:p,left:r.left,top:r.top,width:o,height:l}))},resize:function(t){var n,i,r,a,s=e(this).data("ui-resizable"),o=s.options,l=s.containerOffset,c=s.position,h=s._aspectRatio||t.shiftKey,u={top:0,left:0},d=s.containerElement;d[0]!==document&&/static/.test(d.css("position"))&&(u=l),c.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-u.left),h&&(s.size.height=s.size.width/s.aspectRatio),s.position.left=o.helper?l.left:0),c.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),h&&(s.size.width=s.size.height*s.aspectRatio),s.position.top=s._helper?l.top:0),s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top,n=Math.abs((s._helper?s.offset.left-u.left:s.offset.left-u.left)+s.sizeDiff.width),i=Math.abs((s._helper?s.offset.top-u.top:s.offset.top-l.top)+s.sizeDiff.height),r=s.containerElement.get(0)===s.element.parent().get(0),a=/relative|absolute/.test(s.containerElement.css("position")),r&&a&&(n-=s.parentData.left),n+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-n,h&&(s.size.height=s.size.width/s.aspectRatio)),i+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-i,h&&(s.size.width=s.size.height*s.aspectRatio))},stop:function(){var t=e(this).data("ui-resizable"),n=t.options,i=t.containerOffset,r=t.containerPosition,a=t.containerElement,s=e(t.helper),o=s.offset(),l=s.outerWidth()-t.sizeDiff.width,c=s.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(a.css("position"))&&e(this).css({left:o.left-r.left-i.left,width:l,height:c}),t._helper&&!n.animate&&/static/.test(a.css("position"))&&e(this).css({left:o.left-r.left-i.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("ui-resizable"),n=t.options,i=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof n.alsoResize||n.alsoResize.parentNode?i(n.alsoResize):n.alsoResize.length?(n.alsoResize=n.alsoResize[0],i(n.alsoResize)):e.each(n.alsoResize,function(e){i(e)})},resize:function(t,n){var i=e(this).data("ui-resizable"),r=i.options,a=i.originalSize,s=i.originalPosition,o={height:i.size.height-a.height||0,width:i.size.width-a.width||0,top:i.position.top-s.top||0,left:i.position.left-s.left||0},l=function(t,i){e(t).each(function(){var t=e(this),r=e(this).data("ui-resizable-alsoresize"),a={},s=i&&i.length?i:t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(s,function(e,t){var n=(r[t]||0)+(o[t]||0);n&&n>=0&&(a[t]=n||null)}),t.css(a)})};"object"!=typeof r.alsoResize||r.alsoResize.nodeType?l(r.alsoResize):e.each(r.alsoResize,function(e,t){l(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("ui-resizable"),n=t.options,i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("ui-resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).data("ui-resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).data("ui-resizable"),n=t.options,i=t.size,r=t.originalSize,a=t.originalPosition,s=t.axis,o="number"==typeof n.grid?[n.grid,n.grid]:n.grid,l=o[0]||1,c=o[1]||1,h=Math.round((i.width-r.width)/l)*l,u=Math.round((i.height-r.height)/c)*c,d=r.width+h,p=r.height+u,f=n.maxWidth&&n.maxWidth<d,g=n.maxHeight&&n.maxHeight<p,m=n.minWidth&&n.minWidth>d,v=n.minHeight&&n.minHeight>p;n.grid=o,m&&(d+=l),v&&(p+=c),f&&(d-=l),g&&(p-=c),/^(se|s|e)$/.test(s)?(t.size.width=d,t.size.height=p):/^(ne)$/.test(s)?(t.size.width=d,t.size.height=p,t.position.top=a.top-u):/^(sw)$/.test(s)?(t.size.width=d,t.size.height=p,t.position.left=a.left-h):(t.size.width=d,t.size.height=p,t.position.top=a.top-u,t.position.left=a.left-h)}})}(jQuery),function(e){e.widget("ui.selectable",e.ui.mouse,{version:"1.10.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,n=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(n.options.filter,n.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),n=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:n.left,top:n.top,right:n.left+t.outerWidth(),bottom:n.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var n=this,i=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(i.filter,this.element[0]),this._trigger("start",t),e(i.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=e.data(this,"selectable-item");i.startselected=!0,t.metaKey||t.ctrlKey||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element}))}),e(t.target).parents().addBack().each(function(){var i,r=e.data(this,"selectable-item");return r?(i=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected"),r.$element.removeClass(i?"ui-unselecting":"ui-selected").addClass(i?"ui-selecting":"ui-unselecting"),r.unselecting=!i,r.selecting=i,r.selected=i,i?n._trigger("selecting",t,{selecting:r.element}):n._trigger("unselecting",t,{unselecting:r.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var n,i=this,r=this.options,a=this.opos[0],s=this.opos[1],o=t.pageX,l=t.pageY;return a>o&&(n=o,o=a,a=n),s>l&&(n=l,l=s,s=n),this.helper.css({left:a,top:s,width:o-a,height:l-s}),this.selectees.each(function(){var n=e.data(this,"selectable-item"),c=!1;n&&n.element!==i.element[0]&&("touch"===r.tolerance?c=!(n.left>o||n.right<a||n.top>l||n.bottom<s):"fit"===r.tolerance&&(c=n.left>a&&n.right<o&&n.top>s&&n.bottom<l),c?(n.selected&&(n.$element.removeClass("ui-selected"),n.selected=!1),n.unselecting&&(n.$element.removeClass("ui-unselecting"),n.unselecting=!1),n.selecting||(n.$element.addClass("ui-selecting"),n.selecting=!0,i._trigger("selecting",t,{selecting:n.element}))):(n.selecting&&((t.metaKey||t.ctrlKey)&&n.startselected?(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.$element.addClass("ui-selected"),n.selected=!0):(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.startselected&&(n.$element.addClass("ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",t,{unselecting:n.element}))),n.selected&&(t.metaKey||t.ctrlKey||n.startselected||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element})))))}),!1}},_mouseStop:function(t){var n=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");i.$element.removeClass("ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",t,{unselected:i.element})}),e(".ui-selecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");i.$element.removeClass("ui-selecting").addClass("ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",t,{selected:i.element})}),this._trigger("stop",t),this.helper.remove(),!1}})}(jQuery),function(e){function t(e,t,n){return e>t&&t+n>e}function n(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}e.widget("ui.sortable",e.ui.mouse,{version:"1.10.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===e.axis||n(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,n){"disabled"===t?(this.options[t]=n,this.widget().toggleClass("ui-sortable-disabled",!!n)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,n){var i=null,r=!1,a=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,a.widgetName+"-item")===a?(i=e(this),!1):void 0}),e.data(t.target,a.widgetName+"-item")===a&&(i=e(t.target)),i?!this.options.handle||n||(e(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(r=!0)}),r)?(this.currentItem=i,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,n,i){var r,a,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(a=this.document.find("body"),this.storedCursor=a.css("cursor"),a.css("cursor",s.cursor),this.storedStylesheet=e("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(a)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,i,r,a,s=this.options,o=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop+s.scrollSpeed:t.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft+s.scrollSpeed:t.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(t.pageY-e(document).scrollTop()<s.scrollSensitivity?o=e(document).scrollTop(e(document).scrollTop()-s.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<s.scrollSensitivity&&(o=e(document).scrollTop(e(document).scrollTop()+s.scrollSpeed)),t.pageX-e(document).scrollLeft()<s.scrollSensitivity?o=e(document).scrollLeft(e(document).scrollLeft()-s.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<s.scrollSensitivity&&(o=e(document).scrollLeft(e(document).scrollLeft()+s.scrollSpeed))),o!==!1&&e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],a=this._intersectsWithPointer(i),a&&i.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===a?"next":"prev"]()[0]!==r&&!e.contains(this.placeholder[0],r)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],r):!0)){if(this.direction=1===a?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var i=this,r=this.placeholder.offset(),a=this.options.axis,s={};a&&"x"!==a||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),a&&"y"!==a||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this
},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&i.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n.each(function(){i.push(e(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,a=e.left,s=a+e.width,o=e.top,l=o+e.height,c=this.offset.click.top,h=this.offset.click.left,u=i+c>o&&l>i+c&&t+h>a&&s>t+h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?u:a<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&o<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var n="x"===this.options.axis||t(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||t(this.positionAbs.left+this.offset.click.left,e.left,e.width),r=n&&i,a=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return r?this.floating?s&&"right"===s||"down"===a?2:1:a&&("down"===a?2:1):!1},_intersectsWithSides:function(e){var n=t(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=t(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return this.floating&&a?"right"===a&&i||"left"===a&&!i:r&&("down"===r&&n||"up"===r&&!n)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n,i,r,a,s=[],o=[],l=this._connectWith();if(l&&t)for(n=l.length-1;n>=0;n--)for(r=e(l[n]),i=r.length-1;i>=0;i--)a=e.data(r[i],this.widgetFullName),a&&a!==this&&!a.options.disabled&&o.push([e.isFunction(a.options.items)?a.options.items.call(a.element):e(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(o.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=o.length-1;n>=0;n--)o[n][0].each(function(){s.push(this)});return e(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;n<t.length;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,i,r,a,s,o,l,c,h=this.items,u=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(n=d.length-1;n>=0;n--)for(r=e(d[n]),i=r.length-1;i>=0;i--)a=e.data(r[i],this.widgetFullName),a&&a!==this&&!a.options.disabled&&(u.push([e.isFunction(a.options.items)?a.options.items.call(a.element[0],t,{item:this.currentItem}):e(a.options.items,a.element),a]),this.containers.push(a));for(n=u.length-1;n>=0;n--)for(s=u[n][1],o=u[n][0],i=0,c=o.length;c>i;i++)l=e(o[i]),l.data(this.widgetName+"-item",s),h.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,a;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?e(this.options.toleranceElement,i.item):i.item,t||(i.width=r.outerWidth(),i.height=r.outerHeight()),a=r.offset(),i.left=a.left,i.top=a.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)a=this.containers[n].element.offset(),this.containers[n].containerCache.left=a.left,this.containers[n].containerCache.top=a.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var n,i=t.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=t.currentItem[0].nodeName.toLowerCase(),r=e(t.document[0].createElement(i)).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===i?r.append("<td colspan='99'>&#160;</td>"):"img"===i&&r.attr("src",t.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(e,r){(!n||i.forcePlaceholderSize)&&(r.height()||r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_contactContainers:function(i){var r,a,s,o,l,c,h,u,d,p,f=null,g=null;for(r=this.containers.length-1;r>=0;r--)if(!e.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(f&&e.contains(this.containers[r].element[0],f.element[0]))continue;f=this.containers[r],g=r}else this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",i,this._uiHash(this)),this.containers[r].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[g].containerCache.over||(this.containers[g]._trigger("over",i,this._uiHash(this)),this.containers[g].containerCache.over=1);else{for(s=1e4,o=null,p=f.floating||n(this.currentItem),l=p?"left":"top",c=p?"width":"height",h=this.positionAbs[l]+this.offset.click[l],a=this.items.length-1;a>=0;a--)e.contains(this.containers[g].element[0],this.items[a].item[0])&&this.items[a].item[0]!==this.currentItem[0]&&(!p||t(this.positionAbs.top+this.offset.click.top,this.items[a].top,this.items[a].height))&&(u=this.items[a].item.offset()[l],d=!1,Math.abs(u-h)>Math.abs(u+this.items[a][c]-h)&&(d=!0,u+=this.items[a][c]),Math.abs(u-h)<s&&(s=Math.abs(u-h),o=this.items[a],this.direction=d?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[g])return;o?this._rearrange(i,o,null,!0):this._rearrange(i,null,this.containers[g].element,!0),this._trigger("change",i,this._uiHash()),this.containers[g]._trigger("change",i,this._uiHash(this)),this.currentContainer=this.containers[g],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[g]._trigger("over",i,this._uiHash(this)),this.containers[g].containerCache.over=1}},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===r.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===r.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(t=e(r.containment)[0],n=e(r.containment).offset(),i="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:r.scrollLeft())*i}},_generatePosition:function(t){var n,i,r=this.options,a=t.pageX,s=t.pageY,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(o[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((a-this.originalPageX)/r.grid[0])*r.grid[0],a=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:o.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:o.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(e,t){this.reverting=!1;var n,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)("auto"===this._storedCSS[n]||"static"===this._storedCSS[n])&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&i.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||i.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(i.push(function(e){this._trigger("remove",e,this._uiHash())}),i.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)t||i.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over&&(i.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),n=0;n<i.length;n++)i[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(n=0;n<i.length;n++)i[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})}(jQuery),function(e,t){var n="ui-effects-";e.effects={effect:{}},/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
function(e,t){function n(e,t,n){var i=u[t.type]||{};return null==e?n||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),isNaN(e)?t.def:i.mod?(e+i.mod)%i.mod:0>e?0:i.max<e?i.max:e)}function i(t){var n=c(),i=n._rgba=[];return t=t.toLowerCase(),f(l,function(e,r){var a,s=r.re.exec(t),o=s&&r.parse(s),l=r.space||"rgba";return o?(a=n[l](o),n[h[l].cache]=a[h[l].cache],i=n._rgba=a._rgba,!1):void 0}),i.length?("0,0,0,0"===i.join()&&e.extend(i,a.transparent),n):a[t]}function r(e,t,n){return n=(n+1)%1,1>6*n?e+6*(t-e)*n:1>2*n?t:2>3*n?e+6*(t-e)*(2/3-n):e}var a,s="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",o=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],c=e.Color=function(t,n,i,r){return new e.Color.fn.parse(t,n,i,r)},h={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=c.support={},p=e("<p>")[0],f=e.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(h,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),c.fn=e.extend(c.prototype,{parse:function(r,s,o,l){if(r===t)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=e(r).css(s),s=t);var u=this,d=e.type(r),p=this._rgba=[];return s!==t&&(r=[r,s,o,l],d="array"),"string"===d?this.parse(i(r)||a._default):"array"===d?(f(h.rgba.props,function(e,t){p[t.idx]=n(r[t.idx],t)}),this):"object"===d?(r instanceof c?f(h,function(e,t){r[t.cache]&&(u[t.cache]=r[t.cache].slice())}):f(h,function(t,i){var a=i.cache;f(i.props,function(e,t){if(!u[a]&&i.to){if("alpha"===e||null==r[e])return;u[a]=i.to(u._rgba)}u[a][t.idx]=n(r[e],t,!0)}),u[a]&&e.inArray(null,u[a].slice(0,3))<0&&(u[a][3]=1,i.from&&(u._rgba=i.from(u[a])))}),this):void 0},is:function(e){var t=c(e),n=!0,i=this;return f(h,function(e,r){var a,s=t[r.cache];return s&&(a=i[r.cache]||r.to&&r.to(i._rgba)||[],f(r.props,function(e,t){return null!=s[t.idx]?n=s[t.idx]===a[t.idx]:void 0})),n}),n},_space:function(){var e=[],t=this;return f(h,function(n,i){t[i.cache]&&e.push(n)}),e.pop()},transition:function(e,t){var i=c(e),r=i._space(),a=h[r],s=0===this.alpha()?c("transparent"):this,o=s[a.cache]||a.to(s._rgba),l=o.slice();return i=i[a.cache],f(a.props,function(e,r){var a=r.idx,s=o[a],c=i[a],h=u[r.type]||{};null!==c&&(null===s?l[a]=c:(h.mod&&(c-s>h.mod/2?s+=h.mod:s-c>h.mod/2&&(s-=h.mod)),l[a]=n((c-s)*t+s,r)))}),this[r](l)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=c(t)._rgba;return c(e.map(n,function(e,t){return(1-i)*r[t]+i*e}))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===n[3]&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===n[3]&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),i=n.pop();return t&&n.push(~~(255*i)),"#"+e.map(n,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,h.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,i=e[0]/255,r=e[1]/255,a=e[2]/255,s=e[3],o=Math.max(i,r,a),l=Math.min(i,r,a),c=o-l,h=o+l,u=.5*h;return t=l===o?0:i===o?60*(r-a)/c+360:r===o?60*(a-i)/c+120:60*(i-r)/c+240,n=0===c?0:.5>=u?c/h:c/(2-h),[Math.round(t)%360,n,u,null==s?1:s]},h.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],i=e[2],a=e[3],s=.5>=i?i*(1+n):i+n-i*n,o=2*i-s;return[Math.round(255*r(o,s,t+1/3)),Math.round(255*r(o,s,t)),Math.round(255*r(o,s,t-1/3)),a]},f(h,function(i,r){var a=r.props,s=r.cache,l=r.to,h=r.from;c.fn[i]=function(i){if(l&&!this[s]&&(this[s]=l(this._rgba)),i===t)return this[s].slice();var r,o=e.type(i),u="array"===o||"object"===o?i:arguments,d=this[s].slice();return f(a,function(e,t){var i=u["object"===o?e:t.idx];null==i&&(i=d[t.idx]),d[t.idx]=n(i,t)}),h?(r=c(h(d)),r[s]=d,r):c(d)},f(a,function(t,n){c.fn[t]||(c.fn[t]=function(r){var a,s=e.type(r),l="alpha"===t?this._hsla?"hsla":"rgba":i,c=this[l](),h=c[n.idx];return"undefined"===s?h:("function"===s&&(r=r.call(this,h),s=e.type(r)),null==r&&n.empty?this:("string"===s&&(a=o.exec(r),a&&(r=h+parseFloat(a[2])*("+"===a[1]?1:-1))),c[n.idx]=r,this[l](c)))})})}),c.hook=function(t){var n=t.split(" ");f(n,function(t,n){e.cssHooks[n]={set:function(t,r){var a,s,o="";if("transparent"!==r&&("string"!==e.type(r)||(a=i(r)))){if(r=c(a||r),!d.rgba&&1!==r._rgba[3]){for(s="backgroundColor"===n?t.parentNode:t;(""===o||"transparent"===o)&&s&&s.style;)try{o=e.css(s,"backgroundColor"),s=s.parentNode}catch(l){}r=r.blend(o&&"transparent"!==o?o:"_default")}r=r.toRgbaString()}try{t.style[n]=r}catch(l){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=c(t.elem,n),t.end=c(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}})},c.hook(s),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(n,i){t["border"+i+"Color"]=e}),t}},a=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function n(t){var n,i,r=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,a={};if(r&&r.length&&r[0]&&r[r[0]])for(i=r.length;i--;)n=r[i],"string"==typeof r[n]&&(a[e.camelCase(n)]=r[n]);else for(n in r)"string"==typeof r[n]&&(a[n]=r[n]);return a}function i(t,n){var i,r,s={};for(i in n)r=n[i],t[i]!==r&&(a[i]||(e.fx.step[i]||!isNaN(parseFloat(r)))&&(s[i]=r));return s}var r=["add","remove","toggle"],a={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,n){e.fx.step[n]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(jQuery.style(e.elem,n,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(t,a,s,o){var l=e.speed(a,s,o);return this.queue(function(){var a,s=e(this),o=s.attr("class")||"",c=l.children?s.find("*").addBack():s;c=c.map(function(){var t=e(this);return{el:t,start:n(this)}}),a=function(){e.each(r,function(e,n){t[n]&&s[n+"Class"](t[n])})},a(),c=c.map(function(){return this.end=n(this.el[0]),this.diff=i(this.start,this.end),this}),s.attr("class",o),c=c.map(function(){var t=this,n=e.Deferred(),i=e.extend({},l,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,i),n.promise()}),e.when.apply(e,c.get()).done(function(){a(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(s[0])})})},e.fn.extend({addClass:function(t){return function(n,i,r,a){return i?e.effects.animateClass.call(this,{add:n},i,r,a):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(n,i,r,a){return arguments.length>1?e.effects.animateClass.call(this,{remove:n},i,r,a):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(n){return function(i,r,a,s,o){return"boolean"==typeof r||r===t?a?e.effects.animateClass.call(this,r?{add:i}:{remove:i},a,s,o):n.apply(this,arguments):e.effects.animateClass.call(this,{toggle:i},r,a,s)}}(e.fn.toggleClass),switchClass:function(t,n,i,r,a){return e.effects.animateClass.call(this,{add:n,remove:t},i,r,a)}})}(),function(){function i(t,n,i,r){return e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},null==n&&(n={}),e.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||e.fx.speeds[n])&&(r=i,i=n,n={}),e.isFunction(i)&&(r=i,i=null),n&&e.extend(t,n),i=i||n.duration,t.duration=e.fx.off?0:"number"==typeof i?i:i in e.fx.speeds?e.fx.speeds[i]:e.fx.speeds._default,t.complete=r||n.complete,t}function r(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}e.extend(e.effects,{version:"1.10.2",save:function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&e.data(n+t[i],e[0].style[t[i]])},restore:function(e,i){var r,a;for(a=0;a<i.length;a++)null!==i[a]&&(r=e.data(n+i[a]),r===t&&(r=""),e.css(i[a],r))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,i;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=e[1]/t.width}return{x:i,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},i=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:t.width(),height:t.height()},a=document.activeElement;try{a.id}catch(s){a=document.body}return t.wrap(i),(t[0]===a||e.contains(t[0],a))&&e(a).focus(),i=t.parent(),"static"===t.css("position")?(i.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,i){n[i]=t.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(r),i.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).focus()),t},setTransition:function(t,n,i,r){return r=r||{},e.each(n,function(e,n){var a=t.cssUnit(n);a[0]>0&&(r[n]=a[0]*i+a[1])}),r}}),e.fn.extend({effect:function(){function t(t){function i(){e.isFunction(a)&&a.call(r[0]),e.isFunction(t)&&t()}var r=e(this),a=n.complete,o=n.mode;(r.is(":hidden")?"hide"===o:"show"===o)?(r[o](),i()):s.call(r[0],n,i)}var n=i.apply(this,arguments),r=n.mode,a=n.queue,s=e.effects.effect[n.effect];return e.fx.off||!s?r?this[r](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)}):a===!1?this.each(t):this.queue(a||"fx",t)},show:function(e){return function(t){if(r(t))return e.apply(this,arguments);var n=i.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(e.fn.show),hide:function(e){return function(t){if(r(t))return e.apply(this,arguments);var n=i.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(e.fn.hide),toggle:function(e){return function(t){if(r(t)||"boolean"==typeof t)return e.apply(this,arguments);var n=i.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(e.fn.toggle),cssUnit:function(t){var n=this.css(t),i=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(i=[parseFloat(n),t])}),i}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,n){t[n]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?n(2*e)/2:1-n(-2*e+2)/2}})}()}(jQuery),function(e){var t=0,n={},i={};n.height=n.paddingTop=n.paddingBottom=n.borderTopWidth=n.borderBottomWidth="hide",i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="show",e.widget("ui.accordion",{version:"1.10.2",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e(),content:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?(this._activate(t),void 0):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),"disabled"===e&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t),void 0)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var n=e.ui.keyCode,i=this.headers.length,r=this.headers.index(t.target),a=!1;switch(t.keyCode){case n.RIGHT:case n.DOWN:a=this.headers[(r+1)%i];break;case n.LEFT:case n.UP:a=this.headers[(r-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(t);break;case n.HOME:a=this.headers[0];break;case n.END:a=this.headers[i-1]}a&&(e(t.target).attr("tabIndex",-1),e(a).attr("tabIndex",0),a.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),(t.active===!1&&t.collapsible===!0||!this.headers.length)&&(t.active=!1,this.active=e()),t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var n,i=this.options,r=i.heightStyle,a=this.element.parent(),s=this.accordionId="ui-accordion-"+(this.element.attr("id")||++t);this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(t){var n=e(this),i=n.attr("id"),r=n.next(),a=r.attr("id");i||(i=s+"-header-"+t,n.attr("id",i)),a||(a=s+"-panel-"+t,r.attr("id",a)),n.attr("aria-controls",a),r.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===r?(n=a.height(),this.element.siblings(":visible").each(function(){var t=e(this),i=t.css("position");"absolute"!==i&&"fixed"!==i&&(n-=t.outerHeight(!0))}),this.headers.each(function(){n-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,n-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===r&&(n=0,this.headers.next().each(function(){n=Math.max(n,e(this).css("height","").height())}).height(n))},_activate:function(t){var n=this._findActive(t)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var n={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var n=this.options,i=this.active,r=e(t.currentTarget),a=r[0]===i[0],s=a&&n.collapsible,o=s?e():r.next(),l=i.next(),c={oldHeader:i,oldPanel:l,newHeader:s?e():r,newPanel:o};t.preventDefault(),a&&!n.collapsible||this._trigger("beforeActivate",t,c)===!1||(n.active=s?!1:this.headers.index(r),this.active=a?e():r,this._toggle(c),i.removeClass("ui-accordion-header-active ui-state-active"),n.icons&&i.children(".ui-accordion-header-icon").removeClass(n.icons.activeHeader).addClass(n.icons.header),a||(r.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),n.icons&&r.children(".ui-accordion-header-icon").removeClass(n.icons.header).addClass(n.icons.activeHeader),r.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var n=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,t):(i.hide(),n.show(),this._toggleComplete(t)),i.attr({"aria-expanded":"false","aria-hidden":"true"}),i.prev().attr("aria-selected","false"),n.length&&i.length?i.prev().attr("tabIndex",-1):n.length&&this.headers.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),n.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(e,t,r){var a,s,o,l=this,c=0,h=e.length&&(!t.length||e.index()<t.index()),u=this.options.animate||{},d=h&&u.down||u,p=function(){l._toggleComplete(r)};return"number"==typeof d&&(o=d),"string"==typeof d&&(s=d),s=s||d.easing||u.easing,o=o||d.duration||u.duration,t.length?e.length?(a=e.show().outerHeight(),t.animate(n,{duration:o,easing:s,step:function(e,t){t.now=Math.round(e)}}),e.hide().animate(i,{duration:o,easing:s,complete:p,step:function(e,n){n.now=Math.round(e),"height"!==n.prop?c+=n.now:"content"!==l.options.heightStyle&&(n.now=Math.round(a-t.outerHeight()-c),c=0)}}),void 0):t.animate(n,o,s,p):e.animate(i,o,s,p)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}})}(jQuery),function(e){var t=0;e.widget("ui.autocomplete",{version:"1.10.2",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var t,n,i,r=this.element[0].nodeName.toLowerCase(),a="textarea"===r,s="input"===r;this.isMultiLine=a?!0:s?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[a||s?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return t=!0,i=!0,n=!0,void 0;t=!1,i=!1,n=!1;var a=e.ui.keyCode;switch(r.keyCode){case a.PAGE_UP:t=!0,this._move("previousPage",r);break;case a.PAGE_DOWN:t=!0,this._move("nextPage",r);break;case a.UP:t=!0,this._keyEvent("previous",r);break;case a.DOWN:t=!0,this._keyEvent("next",r);break;case a.ENTER:case a.NUMPAD_ENTER:this.menu.active&&(t=!0,r.preventDefault(),this.menu.select(r));break;case a.TAB:this.menu.active&&this.menu.select(r);break;case a.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(t)return t=!1,i.preventDefault(),void 0;if(!n){var r=e.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(e){return i?(i=!1,e.preventDefault(),void 0):(this._searchTimeout(e),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(e),this._change(e),void 0)}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({input:e(),role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(i){i.target===t.element[0]||i.target===n||e.contains(n,i.target)||t.close()})})},menufocus:function(t,n){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)}),void 0;var i=n.item.data("ui-autocomplete-item");!1!==this._trigger("focus",t,{item:i})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(i.value):this.liveRegion.text(i.value)},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,n,i=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,i){i(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,r){i.xhr&&i.xhr.abort(),i.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){r(e)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=this,n=++t;return function(i){n===t&&e.__response(i),e.pending--,e.pending||e.element.removeClass("ui-autocomplete-loading")}},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var n=this.menu.element.empty();this._renderMenu(n,t),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var i=this;e.each(n,function(e,n){i._renderItemData(t,n)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").append(e("<a>").text(n.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),this.menu.blur(),void 0):(this.menu[e](t),void 0):(this.search(null,t),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var i=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return i.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(jQuery),function(e){var t,n,i,r,a="ui-button ui-widget ui-state-default ui-corner-all",s="ui-state-hover ui-state-active ",o="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var t=e(this).find(":ui-button");setTimeout(function(){t.button("refresh")},1)},c=function(t){var n=t.name,i=t.form,r=e([]);return n&&(n=n.replace(/'/g,"\\'"),r=i?e(i).find("[name='"+n+"']"):e("[name='"+n+"']",t.ownerDocument).filter(function(){return!this.form})),r};e.widget("ui.button",{version:"1.10.2",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var s=this,o=this.options,h="checkbox"===this.type||"radio"===this.type,u=h?"":"ui-state-active",d="ui-state-focus";null===o.label&&(o.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(a).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){o.disabled||this===t&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){o.disabled||e(this).removeClass(u)}).bind("click"+this.eventNamespace,function(e){o.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){s.buttonElement.addClass(d)}).bind("blur"+this.eventNamespace,function(){s.buttonElement.removeClass(d)}),h&&(this.element.bind("change"+this.eventNamespace,function(){r||s.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(e){o.disabled||(r=!1,n=e.pageX,i=e.pageY)}).bind("mouseup"+this.eventNamespace,function(e){o.disabled||(n!==e.pageX||i!==e.pageY)&&(r=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return o.disabled||r?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(o.disabled||r)return!1;e(this).addClass("ui-state-active"),s.buttonElement.attr("aria-pressed","true");var t=s.element[0];c(t).not(t).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return o.disabled?!1:(e(this).addClass("ui-state-active"),t=this,s.document.one("mouseup",function(){t=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return o.disabled?!1:(e(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(t){return o.disabled?!1:((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",o.disabled),this._resetButton()},_determineButtonType:function(){var e,t,n;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),n=this.element.is(":checked"),n&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(a+" "+s+" "+o).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")
},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(t?this.element.prop("disabled",!0):this.element.prop("disabled",!1),void 0):(this._resetButton(),void 0)},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?c(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var t=this.buttonElement.removeClass(o),n=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),i=this.options.icons,r=i.primary&&i.secondary,a=[];i.primary||i.secondary?(this.options.text&&a.push("ui-button-text-icon"+(r?"s":i.primary?"-primary":"-secondary")),i.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+i.primary+"'></span>"),i.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+i.secondary+"'></span>"),this.options.text||(a.push(r?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(n)))):a.push("ui-button-text-only"),t.addClass(a.join(" "))}}),e.widget("ui.buttonset",{version:"1.10.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(e,t){function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.dpDiv=i(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function i(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(n,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(n,"mouseover",function(){e.datepicker._isDisabledDatepicker(a.inline?t.parent()[0]:a.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))})}function r(t,n){e.extend(t,n);for(var i in n)null==n[i]&&(t[i]=n[i]);return t}e.extend(e.ui,{datepicker:{version:"1.10.2"}});var a,s="datepicker",o=(new Date).getTime();e.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return r(this._defaults,e||{}),this},_attachDatepicker:function(t,n){var i,r,a;i=t.nodeName.toLowerCase(),r="div"===i||"span"===i,t.id||(this.uuid+=1,t.id="dp"+this.uuid),a=this._newInst(e(t),r),a.settings=e.extend({},n||{}),"input"===i?this._connectDatepicker(t,a):r&&this._inlineDatepicker(t,a)},_newInst:function(t,n){var r=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:r,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?i(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,n){var i=e(t);n.append=e([]),n.trigger=e([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(n),e.data(t,s,n),n.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,n){var i,r,a,s=this._get(n,"appendText"),o=this._get(n,"isRTL");n.append&&n.append.remove(),s&&(n.append=e("<span class='"+this._appendClass+"'>"+s+"</span>"),t[o?"before":"after"](n.append)),t.unbind("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),i=this._get(n,"showOn"),("focus"===i||"both"===i)&&t.focus(this._showDatepicker),("button"===i||"both"===i)&&(r=this._get(n,"buttonText"),a=this._get(n,"buttonImage"),n.trigger=e(this._get(n,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:a,alt:r,title:r}):e("<button type='button'></button>").addClass(this._triggerClass).html(a?e("<img/>").attr({src:a,alt:r,title:r}):r)),t[o?"before":"after"](n.trigger),n.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,i,r,a=new Date(2009,11,20),s=this._get(e,"dateFormat");s.match(/[DM]/)&&(t=function(e){for(n=0,i=0,r=0;r<e.length;r++)e[r].length>n&&(n=e[r].length,i=r);return i},a.setMonth(t(this._get(e,s.match(/MM/)?"monthNames":"monthNamesShort"))),a.setDate(t(this._get(e,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-a.getDay())),e.input.attr("size",this._formatDate(e,a).length)}},_inlineDatepicker:function(t,n){var i=e(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),e.data(t,s,n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(t),n.dpDiv.css("display","block"))},_dialogDatepicker:function(t,n,i,a,o){var l,c,h,u,d,p=this._dialogInst;return p||(this.uuid+=1,l="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},e.data(this._dialogInput[0],s,p)),r(p.settings,a||{}),n=n&&n.constructor===Date?this._formatDate(p,n):n,this._dialogInput.val(n),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(c=document.documentElement.clientWidth,h=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+u,h/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],s,p),this},_destroyDatepicker:function(t){var n,i=e(t),r=e.data(t,s);i.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),e.removeData(t,s),"input"===n?(r.append.remove(),r.trigger.remove(),i.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===n||"span"===n)&&i.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var n,i,r=e(t),a=e.data(t,s);r.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!1,a.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===n||"span"===n)&&(i=r.children("."+this._inlineClass),i.children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var n,i,r=e(t),a=e.data(t,s);r.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!0,a.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===n||"span"===n)&&(i=r.children("."+this._inlineClass),i.children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,s)}catch(n){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(n,i,a){var s,o,l,c,h=this._getInst(n);return 2===arguments.length&&"string"==typeof i?"defaults"===i?e.extend({},e.datepicker._defaults):h?"all"===i?e.extend({},h.settings):this._get(h,i):null:(s=i||{},"string"==typeof i&&(s={},s[i]=a),h&&(this._curInst===h&&this._hideDatepicker(),o=this._getDateDatepicker(n,!0),l=this._getMinMaxDate(h,"min"),c=this._getMinMaxDate(h,"max"),r(h.settings,s),null!==l&&s.dateFormat!==t&&s.minDate===t&&(h.settings.minDate=this._formatDate(h,l)),null!==c&&s.dateFormat!==t&&s.maxDate===t&&(h.settings.maxDate=this._formatDate(h,c)),"disabled"in s&&(s.disabled?this._disableDatepicker(n):this._enableDatepicker(n)),this._attachments(e(n),h),this._autoSize(h),this._setDate(h,o),this._updateAlternate(h),this._updateDatepicker(h)),void 0)},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var n,i,r,a=e.datepicker._getInst(t.target),s=!0,o=a.dpDiv.is(".ui-datepicker-rtl");if(a._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),s=!1;break;case 13:return r=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",a.dpDiv),r[0]&&e.datepicker._selectDay(t.target,a.selectedMonth,a.selectedYear,r[0]),n=e.datepicker._get(a,"onSelect"),n?(i=e.datepicker._formatDate(a),n.apply(a.input?a.input[0]:null,[i,a])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),s=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),s=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?1:-1,"D"),s=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),s=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?-1:1,"D"),s=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),s=t.ctrlKey||t.metaKey;break;default:s=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):s=!1;s&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var n,i,r=e.datepicker._getInst(t.target);return e.datepicker._get(r,"constrainInput")?(n=e.datepicker._possibleChars(e.datepicker._get(r,"dateFormat")),i=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">i||!n||n.indexOf(i)>-1):void 0},_doKeyUp:function(t){var n,i=e.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{n=e.datepicker.parseDate(e.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,e.datepicker._getFormatConfig(i)),n&&(e.datepicker._setDateFromField(i),e.datepicker._updateAlternate(i),e.datepicker._updateDatepicker(i))}catch(r){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var n,i,a,s,o,l,c;n=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==n&&(e.datepicker._curInst.dpDiv.stop(!0,!0),n&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),i=e.datepicker._get(n,"beforeShow"),a=i?i.apply(t,[t,n]):{},a!==!1&&(r(n.settings,a),n.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(n),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),s=!1,e(t).parents().each(function(){return s|="fixed"===e(this).css("position"),!s}),o={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(n),o=e.datepicker._checkOffset(n,o,s),n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":s?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),n.inline||(l=e.datepicker._get(n,"showAnim"),c=e.datepicker._get(n,"duration"),n.dpDiv.zIndex(e(t).zIndex()+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[l]?n.dpDiv.show(l,e.datepicker._get(n,"showOptions"),c):n.dpDiv[l||"show"](l?c:null),n.input.is(":visible")&&!n.input.is(":disabled")&&n.input.focus(),e.datepicker._curInst=n))}},_updateDatepicker:function(t){this.maxRows=4,a=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var n,i=this._getNumberOfMonths(t),r=i[1],s=17;t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&t.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",s*r+"em"),t.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&t.input[0]!==document.activeElement&&t.input.focus(),t.yearshtml&&(n=t.yearshtml,setTimeout(function(){n===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),n=t.yearshtml=null},0))},_getBorders:function(e){var t=function(e){return{thin:1,medium:2,thick:3}[e]||e};return[parseFloat(t(e.css("border-left-width"))),parseFloat(t(e.css("border-top-width")))]},_checkOffset:function(t,n,i){var r=t.dpDiv.outerWidth(),a=t.dpDiv.outerHeight(),s=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(i?0:e(document).scrollTop());return n.left-=this._get(t,"isRTL")?r-s:0,n.left-=i&&n.left===t.input.offset().left?e(document).scrollLeft():0,n.top-=i&&n.top===t.input.offset().top+o?e(document).scrollTop():0,n.left-=Math.min(n.left,n.left+r>l&&l>r?Math.abs(n.left+r-l):0),n.top-=Math.min(n.top,n.top+a>c&&c>a?Math.abs(a+o):0),n},_findPos:function(t){for(var n,i=this._getInst(t),r=this._get(i,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[r?"previousSibling":"nextSibling"];return n=e(t).offset(),[n.left,n.top]},_hideDatepicker:function(t){var n,i,r,a,o=this._curInst;!o||t&&o!==e.data(t,s)||this._datepickerShowing&&(n=this._get(o,"showAnim"),i=this._get(o,"duration"),r=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[n]||e.effects[n])?o.dpDiv.hide(n,e.datepicker._get(o,"showOptions"),i,r):o.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1,a=this._get(o,"onClose"),a&&a.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var n=e(t.target),i=e.datepicker._getInst(n[0]);(n[0].id!==e.datepicker._mainDivId&&0===n.parents("#"+e.datepicker._mainDivId).length&&!n.hasClass(e.datepicker.markerClassName)&&!n.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||n.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==i)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,n,i){var r=e(t),a=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(a,n+("M"===i?this._get(a,"showCurrentAtPos"):0),i),this._updateDatepicker(a))},_gotoToday:function(t){var n,i=e(t),r=this._getInst(i[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(n=new Date,r.selectedDay=n.getDate(),r.drawMonth=r.selectedMonth=n.getMonth(),r.drawYear=r.selectedYear=n.getFullYear()),this._notifyChange(r),this._adjustDate(i)},_selectMonthYear:function(t,n,i){var r=e(t),a=this._getInst(r[0]);a["selected"+("M"===i?"Month":"Year")]=a["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(a),this._adjustDate(r)},_selectDay:function(t,n,i,r){var a,s=e(t);e(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||(a=this._getInst(s[0]),a.selectedDay=a.currentDay=e("a",r).html(),a.selectedMonth=a.currentMonth=n,a.selectedYear=a.currentYear=i,this._selectDate(t,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear)))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var i,r=e(t),a=this._getInst(r[0]);n=null!=n?n:this._formatDate(a),a.input&&a.input.val(n),this._updateAlternate(a),i=this._get(a,"onSelect"),i?i.apply(a.input?a.input[0]:null,[n,a]):a.input&&a.input.trigger("change"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],"object"!=typeof a.input[0]&&a.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var n,i,r,a=this._get(t,"altField");a&&(n=this._get(t,"altFormat")||this._get(t,"dateFormat"),i=this._getDate(t),r=this.formatDate(n,i,this._getFormatConfig(t)),e(a).each(function(){e(this).val(r)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(t,n,i){if(null==t||null==n)throw"Invalid arguments";if(n="object"==typeof n?n.toString():n+"",""===n)return null;var r,a,s,o,l=0,c=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,h="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),u=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,d=(i?i.dayNames:null)||this._defaults.dayNames,p=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,f=(i?i.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,b=-1,y=!1,x=function(e){var n=r+1<t.length&&t.charAt(r+1)===e;return n&&r++,n},w=function(e){var t=x(e),i="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,r=new RegExp("^\\d{1,"+i+"}"),a=n.substring(l).match(r);if(!a)throw"Missing number at position "+l;return l+=a[0].length,parseInt(a[0],10)},_=function(t,i,r){var a=-1,s=e.map(x(t)?r:i,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(s,function(e,t){var i=t[1];return n.substr(l,i.length).toLowerCase()===i.toLowerCase()?(a=t[0],l+=i.length,!1):void 0}),-1!==a)return a+1;throw"Unknown name at position "+l},C=function(){if(n.charAt(l)!==t.charAt(r))throw"Unexpected literal at position "+l;l++};for(r=0;r<t.length;r++)if(y)"'"!==t.charAt(r)||x("'")?C():y=!1;else switch(t.charAt(r)){case"d":v=w("d");break;case"D":_("D",u,d);break;case"o":b=w("o");break;case"m":m=w("m");break;case"M":m=_("M",p,f);break;case"y":g=w("y");break;case"@":o=new Date(w("@")),g=o.getFullYear(),m=o.getMonth()+1,v=o.getDate();break;case"!":o=new Date((w("!")-this._ticksTo1970)/1e4),g=o.getFullYear(),m=o.getMonth()+1,v=o.getDate();break;case"'":x("'")?C():y=!0;break;default:C()}if(l<n.length&&(s=n.substr(l),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(h>=g?0:-100)),b>-1)for(m=1,v=b;;){if(a=this._getDaysInMonth(g,m-1),a>=v)break;m++,v-=a}if(o=this._daylightSavingAdjust(new Date(g,m-1,v)),o.getFullYear()!==g||o.getMonth()+1!==m||o.getDate()!==v)throw"Invalid date";return o},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,n){if(!t)return"";var i,r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,a=(n?n.dayNames:null)||this._defaults.dayNames,s=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,o=(n?n.monthNames:null)||this._defaults.monthNames,l=function(t){var n=i+1<e.length&&e.charAt(i+1)===t;return n&&i++,n},c=function(e,t,n){var i=""+t;if(l(e))for(;i.length<n;)i="0"+i;return i},h=function(e,t,n,i){return l(e)?i[t]:n[t]},u="",d=!1;if(t)for(i=0;i<e.length;i++)if(d)"'"!==e.charAt(i)||l("'")?u+=e.charAt(i):d=!1;else switch(e.charAt(i)){case"d":u+=c("d",t.getDate(),2);break;case"D":u+=h("D",t.getDay(),r,a);break;case"o":u+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=c("m",t.getMonth()+1,2);break;case"M":u+=h("M",t.getMonth(),s,o);break;case"y":u+=l("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":u+=t.getTime();break;case"!":u+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?u+="'":d=!0;break;default:u+=e.charAt(i)}return u},_possibleChars:function(e){var t,n="",i=!1,r=function(n){var i=t+1<e.length&&e.charAt(t+1)===n;return i&&t++,i};for(t=0;t<e.length;t++)if(i)"'"!==e.charAt(t)||r("'")?n+=e.charAt(t):i=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":r("'")?n+="'":i=!0;break;default:n+=e.charAt(t)}return n},_get:function(e,n){return e.settings[n]!==t?e.settings[n]:this._defaults[n]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),i=e.lastVal=e.input?e.input.val():null,r=this._getDefaultDate(e),a=r,s=this._getFormatConfig(e);try{a=this.parseDate(n,i,s)||r}catch(o){i=t?"":i}e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),e.currentDay=i?a.getDate():0,e.currentMonth=i?a.getMonth():0,e.currentYear=i?a.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,i){var r=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},a=function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(i){}for(var r=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,a=r.getFullYear(),s=r.getMonth(),o=r.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,c=l.exec(n);c;){switch(c[2]||"d"){case"d":case"D":o+=parseInt(c[1],10);break;case"w":case"W":o+=7*parseInt(c[1],10);break;case"m":case"M":s+=parseInt(c[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(a,s));break;case"y":case"Y":a+=parseInt(c[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(a,s))}c=l.exec(n)}return new Date(a,s,o)},s=null==n||""===n?i:"string"==typeof n?a(n):"number"==typeof n?isNaN(n)?i:r(n):new Date(n.getTime());return s=s&&"Invalid Date"===s.toString()?i:s,s&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var i=!t,r=e.selectedMonth,a=e.selectedYear,s=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=s.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=s.getMonth(),e.drawYear=e.selectedYear=e.currentYear=s.getFullYear(),r===e.selectedMonth&&a===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(i?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){window["DP_jQuery_"+o].datepicker._adjustDate(i,-n,"M")},next:function(){window["DP_jQuery_"+o].datepicker._adjustDate(i,+n,"M")},hide:function(){window["DP_jQuery_"+o].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+o].datepicker._gotoToday(i)},selectDay:function(){return window["DP_jQuery_"+o].datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+o].datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+o].datepicker._selectMonthYear(i,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,n,i,r,a,s,o,l,c,h,u,d,p,f,g,m,v,b,y,x,w,_,C,T,D,S,E,k,I,N,A,R,M,P,O,F,B,j,L,V=new Date,$=this._daylightSavingAdjust(new Date(V.getFullYear(),V.getMonth(),V.getDate())),H=this._get(e,"isRTL"),G=this._get(e,"showButtonPanel"),z=this._get(e,"hideIfNoPrevNext"),U=this._get(e,"navigationAsDateFormat"),W=this._getNumberOfMonths(e),q=this._get(e,"showCurrentAtPos"),Y=this._get(e,"stepMonths"),K=1!==W[0]||1!==W[1],X=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(e,"min"),J=this._getMinMaxDate(e,"max"),Z=e.drawMonth-q,et=e.drawYear;if(0>Z&&(Z+=12,et--),J)for(t=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-W[0]*W[1]+1,J.getDate())),t=Q&&Q>t?Q:t;this._daylightSavingAdjust(new Date(et,Z,1))>t;)Z--,0>Z&&(Z=11,et--);for(e.drawMonth=Z,e.drawYear=et,n=this._get(e,"prevText"),n=U?this.formatDate(n,this._daylightSavingAdjust(new Date(et,Z-Y,1)),this._getFormatConfig(e)):n,i=this._canAdjustMonth(e,-1,et,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+n+"</span></a>":z?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+n+"</span></a>",r=this._get(e,"nextText"),r=U?this.formatDate(r,this._daylightSavingAdjust(new Date(et,Z+Y,1)),this._getFormatConfig(e)):r,a=this._canAdjustMonth(e,1,et,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+r+"</span></a>":z?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+r+"</span></a>",s=this._get(e,"currentText"),o=this._get(e,"gotoCurrent")&&e.currentDay?X:$,s=U?this.formatDate(s,o,this._getFormatConfig(e)):s,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=G?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(H?l:"")+(this._isInRange(e,o)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(H?"":l)+"</div>":"",h=parseInt(this._get(e,"firstDay"),10),h=isNaN(h)?0:h,u=this._get(e,"showWeek"),d=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),g=this._get(e,"monthNamesShort"),m=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),b=this._get(e,"selectOtherMonths"),y=this._getDefaultDate(e),x="",_=0;_<W[0];_++){for(C="",this.maxRows=4,T=0;T<W[1];T++){if(D=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),S=" ui-corner-all",E="",K){if(E+="<div class='ui-datepicker-group",W[1]>1)switch(T){case 0:E+=" ui-datepicker-group-first",S=" ui-corner-"+(H?"right":"left");break;case W[1]-1:E+=" ui-datepicker-group-last",S=" ui-corner-"+(H?"left":"right");break;default:E+=" ui-datepicker-group-middle",S=""}E+="'>"}for(E+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+S+"'>"+(/all|left/.test(S)&&0===_?H?a:i:"")+(/all|right/.test(S)&&0===_?H?i:a:"")+this._generateMonthYearHeader(e,Z,et,Q,J,_>0||T>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",k=u?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",w=0;7>w;w++)I=(w+h)%7,k+="<th"+((w+h+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+d[I]+"'>"+p[I]+"</span></th>";for(E+=k+"</tr></thead><tbody>",N=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,N)),A=(this._getFirstDayOfMonth(et,Z)-h+7)%7,R=Math.ceil((A+N)/7),M=K?this.maxRows>R?this.maxRows:R:R,this.maxRows=M,P=this._daylightSavingAdjust(new Date(et,Z,1-A)),O=0;M>O;O++){for(E+="<tr>",F=u?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(P)+"</td>":"",w=0;7>w;w++)B=m?m.apply(e.input?e.input[0]:null,[P]):[!0,""],j=P.getMonth()!==Z,L=j&&!b||!B[0]||Q&&Q>P||J&&P>J,F+="<td class='"+((w+h+6)%7>=5?" ui-datepicker-week-end":"")+(j?" ui-datepicker-other-month":"")+(P.getTime()===D.getTime()&&Z===e.selectedMonth&&e._keyEvent||y.getTime()===P.getTime()&&y.getTime()===D.getTime()?" "+this._dayOverClass:"")+(L?" "+this._unselectableClass+" ui-state-disabled":"")+(j&&!v?"":" "+B[1]+(P.getTime()===X.getTime()?" "+this._currentClass:"")+(P.getTime()===$.getTime()?" ui-datepicker-today":""))+"'"+(j&&!v||!B[2]?"":" title='"+B[2].replace(/'/g,"&#39;")+"'")+(L?"":" data-handler='selectDay' data-event='click' data-month='"+P.getMonth()+"' data-year='"+P.getFullYear()+"'")+">"+(j&&!v?"&#xa0;":L?"<span class='ui-state-default'>"+P.getDate()+"</span>":"<a class='ui-state-default"+(P.getTime()===$.getTime()?" ui-state-highlight":"")+(P.getTime()===X.getTime()?" ui-state-active":"")+(j?" ui-priority-secondary":"")+"' href='#'>"+P.getDate()+"</a>")+"</td>",P.setDate(P.getDate()+1),P=this._daylightSavingAdjust(P);
E+=F+"</tr>"}Z++,Z>11&&(Z=0,et++),E+="</tbody></table>"+(K?"</div>"+(W[0]>0&&T===W[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),C+=E}x+=C}return x+=c,e._keyEvent=!1,x},_generateMonthYearHeader:function(e,t,n,i,r,a,s,o){var l,c,h,u,d,p,f,g,m=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),b=this._get(e,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",x="";if(a||!m)x+="<span class='ui-datepicker-month'>"+s[t]+"</span>";else{for(l=i&&i.getFullYear()===n,c=r&&r.getFullYear()===n,x+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",h=0;12>h;h++)(!l||h>=i.getMonth())&&(!c||h<=r.getMonth())&&(x+="<option value='"+h+"'"+(h===t?" selected='selected'":"")+">"+o[h]+"</option>");x+="</select>"}if(b||(y+=x+(!a&&m&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",a||!v)y+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(u=this._get(e,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?d+parseInt(e,10):parseInt(e,10);return isNaN(t)?d:t},f=p(u[0]),g=Math.max(f,p(u[1]||"")),f=i?Math.max(f,i.getFullYear()):f,g=r?Math.min(g,r.getFullYear()):g,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=f;f++)e.yearshtml+="<option value='"+f+"'"+(f===n?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",y+=e.yearshtml,e.yearshtml=null}return y+=this._get(e,"yearSuffix"),b&&(y+=(!a&&m&&v?"":"&#xa0;")+x),y+="</div>"},_adjustInstDate:function(e,t,n){var i=e.drawYear+("Y"===n?t:0),r=e.drawMonth+("M"===n?t:0),a=Math.min(e.selectedDay,this._getDaysInMonth(i,r))+("D"===n?t:0),s=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,r,a)));e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),("M"===n||"Y"===n)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),r=n&&n>t?n:t;return i&&r>i?i:r},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,i){var r=this._getNumberOfMonths(e),a=this._daylightSavingAdjust(new Date(n,i+(0>t?t:r[0]*r[1]),1));return 0>t&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(e,a)},_isInRange:function(e,t){var n,i,r=this._getMinMaxDate(e,"min"),a=this._getMinMaxDate(e,"max"),s=null,o=null,l=this._get(e,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),s=parseInt(n[0],10),o=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(s+=i),n[1].match(/[+\-].*/)&&(o+=i)),(!r||t.getTime()>=r.getTime())&&(!a||t.getTime()<=a.getTime())&&(!s||t.getFullYear()>=s)&&(!o||t.getFullYear()<=o)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,i){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var r=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(i,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),r,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n))},e.datepicker=new n,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.10.2",window["DP_jQuery_"+o]=e}(jQuery),function(e){var t={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},n={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};e.widget("ui.dialog",{version:"1.10.2",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var n=e(this).css(t).offset().top;0>n&&e(this).css("top",t.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var n=this;this._isOpen&&this._trigger("beforeClose",t)!==!1&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||e(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,t){var n=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return n&&!t&&this._trigger("focus",e),n},open:function(){var t=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._trigger("open"),void 0)},_focusTabbable:function(){var e=this.element.find("[autofocus]");e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function n(){var t=this.document[0].activeElement,n=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);n||this._focusTabbable()}t.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),this.close(t),void 0;if(t.keyCode===e.ui.keyCode.TAB){var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),r=n.filter(":last");t.target!==r[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==i[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(r.focus(1),t.preventDefault()):(i.focus(1),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,n=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(n)||e.isArray(n)&&!n.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):(e.each(n,function(n,i){var r,a;i=e.isFunction(i)?{click:i,text:n}:i,i=e.extend({type:"button"},i),r=i.click,i.click=function(){r.apply(t.element[0],arguments)},a={icons:i.icons,text:i.showText},delete i.icons,delete i.showText,e("<button></button>",i).button(a).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var n=this,i=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,r){e(this).addClass("ui-dialog-dragging"),n._blockFrames(),n._trigger("dragStart",i,t(r))},drag:function(e,i){n._trigger("drag",e,t(i))},stop:function(r,a){i.position=[a.position.left-n.document.scrollLeft(),a.position.top-n.document.scrollTop()],e(this).removeClass("ui-dialog-dragging"),n._unblockFrames(),n._trigger("dragStop",r,t(a))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var n=this,i=this.options,r=i.resizable,a=this.uiDialog.css("position"),s="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:s,start:function(i,r){e(this).addClass("ui-dialog-resizing"),n._blockFrames(),n._trigger("resizeStart",i,t(r))},resize:function(e,i){n._trigger("resize",e,t(i))},stop:function(r,a){i.height=e(this).height(),i.width=e(this).width(),e(this).removeClass("ui-dialog-resizing"),n._unblockFrames(),n._trigger("resizeStop",r,t(a))}}).css("position",a)},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(i){var r=this,a=!1,s={};e.each(i,function(e,i){r._setOption(e,i),e in t&&(a=!0),e in n&&(s[e]=i)}),a&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",s)},_setOption:function(e,t){var n,i,r=this.uiDialog;"dialogClass"===e&&r.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(n=r.is(":data(ui-draggable)"),n&&!t&&r.draggable("destroy"),!n&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(i=r.is(":data(ui-resizable)"),i&&!t&&r.resizable("destroy"),i&&"string"==typeof t&&r.resizable("option","handles",t),i||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),e=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),t=Math.max(0,i.minHeight-e),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-e):"none","auto"===i.height?this.element.css({minHeight:t,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(".ui-dialog").length?!0:!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=this,n=this.widgetFullName;e.ui.dialog.overlayInstances||this._delay(function(){e.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(i){t._allowInteraction(i)||(i.preventDefault(),e(".ui-dialog:visible:last .ui-dialog-content").data(n)._focusTabbable())})}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),e.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(e.ui.dialog.overlayInstances--,e.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),e.ui.dialog.overlayInstances=0,e.uiBackCompat!==!1&&e.widget("ui.dialog",e.ui.dialog,{_position:function(){var t,n=this.options.position,i=[],r=[0,0];n?(("string"==typeof n||"object"==typeof n&&"0"in n)&&(i=n.split?n.split(" "):[n[0],n[1]],1===i.length&&(i[1]=i[0]),e.each(["left","top"],function(e,t){+i[e]===i[e]&&(r[e]=i[e],i[e]=t)}),n={my:i[0]+(r[0]<0?r[0]:"+"+r[0])+" "+i[1]+(r[1]<0?r[1]:"+"+r[1]),at:i.join(" ")}),n=e.extend({},e.ui.dialog.prototype.options.position,n)):n=e.ui.dialog.prototype.options.position,t=this.uiDialog.is(":visible"),t||this.uiDialog.show(),this.uiDialog.position(n),t||this.uiDialog.hide()}})}(jQuery),function(e){var t=/up|down|vertical/,n=/up|left|vertical|horizontal/;e.effects.effect.blind=function(i,r){var a,s,o,l=e(this),c=["position","top","bottom","left","right","height","width"],h=e.effects.setMode(l,i.mode||"hide"),u=i.direction||"up",d=t.test(u),p=d?"height":"width",f=d?"top":"left",g=n.test(u),m={},v="show"===h;l.parent().is(".ui-effects-wrapper")?e.effects.save(l.parent(),c):e.effects.save(l,c),l.show(),a=e.effects.createWrapper(l).css({overflow:"hidden"}),s=a[p](),o=parseFloat(a.css(f))||0,m[p]=v?s:0,g||(l.css(d?"bottom":"right",0).css(d?"top":"left","auto").css({position:"absolute"}),m[f]=v?o:s+o),v&&(a.css(p,0),g||a.css(f,o+s)),a.animate(m,{duration:i.duration,easing:i.easing,queue:!1,complete:function(){"hide"===h&&l.hide(),e.effects.restore(l,c),e.effects.removeWrapper(l),r()}})}}(jQuery),function(e){e.effects.effect.bounce=function(t,n){var i,r,a,s=e(this),o=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(s,t.mode||"effect"),c="hide"===l,h="show"===l,u=t.direction||"up",d=t.distance,p=t.times||5,f=2*p+(h||c?1:0),g=t.duration/f,m=t.easing,v="up"===u||"down"===u?"top":"left",b="up"===u||"left"===u,y=s.queue(),x=y.length;for((h||c)&&o.push("opacity"),e.effects.save(s,o),s.show(),e.effects.createWrapper(s),d||(d=s["top"===v?"outerHeight":"outerWidth"]()/3),h&&(a={opacity:1},a[v]=0,s.css("opacity",0).css(v,b?2*-d:2*d).animate(a,g,m)),c&&(d/=Math.pow(2,p-1)),a={},a[v]=0,i=0;p>i;i++)r={},r[v]=(b?"-=":"+=")+d,s.animate(r,g,m).animate(a,g,m),d=c?2*d:d/2;c&&(r={opacity:0},r[v]=(b?"-=":"+=")+d,s.animate(r,g,m)),s.queue(function(){c&&s.hide(),e.effects.restore(s,o),e.effects.removeWrapper(s),n()}),x>1&&y.splice.apply(y,[1,0].concat(y.splice(x,f+1))),s.dequeue()}}(jQuery),function(e){e.effects.effect.clip=function(t,n){var i,r,a,s=e(this),o=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(s,t.mode||"hide"),c="show"===l,h=t.direction||"vertical",u="vertical"===h,d=u?"height":"width",p=u?"top":"left",f={};e.effects.save(s,o),s.show(),i=e.effects.createWrapper(s).css({overflow:"hidden"}),r="IMG"===s[0].tagName?i:s,a=r[d](),c&&(r.css(d,0),r.css(p,a/2)),f[d]=c?a:0,f[p]=c?0:a/2,r.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){c||s.hide(),e.effects.restore(s,o),e.effects.removeWrapper(s),n()}})}}(jQuery),function(e){e.effects.effect.drop=function(t,n){var i,r=e(this),a=["position","top","bottom","left","right","opacity","height","width"],s=e.effects.setMode(r,t.mode||"hide"),o="show"===s,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",h="up"===l||"left"===l?"pos":"neg",u={opacity:o?1:0};e.effects.save(r,a),r.show(),e.effects.createWrapper(r),i=t.distance||r["top"===c?"outerHeight":"outerWidth"](!0)/2,o&&r.css("opacity",0).css(c,"pos"===h?-i:i),u[c]=(o?"pos"===h?"+=":"-=":"pos"===h?"-=":"+=")+i,r.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&r.hide(),e.effects.restore(r,a),e.effects.removeWrapper(r),n()}})}}(jQuery),function(e){e.effects.effect.explode=function(t,n){function i(){y.push(this),y.length===u*d&&r()}function r(){p.css({visibility:"visible"}),e(y).remove(),g||p.hide(),n()}var a,s,o,l,c,h,u=t.pieces?Math.round(Math.sqrt(t.pieces)):3,d=u,p=e(this),f=e.effects.setMode(p,t.mode||"hide"),g="show"===f,m=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/d),b=Math.ceil(p.outerHeight()/u),y=[];for(a=0;u>a;a++)for(l=m.top+a*b,h=a-(u-1)/2,s=0;d>s;s++)o=m.left+s*v,c=s-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*v,top:-a*b}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:b,left:o+(g?c*v:0),top:l+(g?h*b:0),opacity:g?0:1}).animate({left:o+(g?0:c*v),top:l+(g?0:h*b),opacity:g?1:0},t.duration||500,t.easing,i)}}(jQuery),function(e){e.effects.effect.fade=function(t,n){var i=e(this),r=e.effects.setMode(i,t.mode||"toggle");i.animate({opacity:r},{queue:!1,duration:t.duration,easing:t.easing,complete:n})}}(jQuery),function(e){e.effects.effect.fold=function(t,n){var i,r,a=e(this),s=["position","top","bottom","left","right","height","width"],o=e.effects.setMode(a,t.mode||"hide"),l="show"===o,c="hide"===o,h=t.size||15,u=/([0-9]+)%/.exec(h),d=!!t.horizFirst,p=l!==d,f=p?["width","height"]:["height","width"],g=t.duration/2,m={},v={};e.effects.save(a,s),a.show(),i=e.effects.createWrapper(a).css({overflow:"hidden"}),r=p?[i.width(),i.height()]:[i.height(),i.width()],u&&(h=parseInt(u[1],10)/100*r[c?0:1]),l&&i.css(d?{height:0,width:h}:{height:h,width:0}),m[f[0]]=l?r[0]:h,v[f[1]]=l?r[1]:0,i.animate(m,g,t.easing).animate(v,g,t.easing,function(){c&&a.hide(),e.effects.restore(a,s),e.effects.removeWrapper(a),n()})}}(jQuery),function(e){e.effects.effect.highlight=function(t,n){var i=e(this),r=["backgroundImage","backgroundColor","opacity"],a=e.effects.setMode(i,t.mode||"show"),s={backgroundColor:i.css("backgroundColor")};"hide"===a&&(s.opacity=0),e.effects.save(i,r),i.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&i.hide(),e.effects.restore(i,r),n()}})}}(jQuery),function(e){e.effects.effect.pulsate=function(t,n){var i,r=e(this),a=e.effects.setMode(r,t.mode||"show"),s="show"===a,o="hide"===a,l=s||"hide"===a,c=2*(t.times||5)+(l?1:0),h=t.duration/c,u=0,d=r.queue(),p=d.length;for((s||!r.is(":visible"))&&(r.css("opacity",0).show(),u=1),i=1;c>i;i++)r.animate({opacity:u},h,t.easing),u=1-u;r.animate({opacity:u},h,t.easing),r.queue(function(){o&&r.hide(),n()}),p>1&&d.splice.apply(d,[1,0].concat(d.splice(p,c+1))),r.dequeue()}}(jQuery),function(e){e.effects.effect.puff=function(t,n){var i=e(this),r=e.effects.setMode(i,t.mode||"hide"),a="hide"===r,s=parseInt(t.percent,10)||150,o=s/100,l={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:r,complete:n,percent:a?s:100,from:a?l:{height:l.height*o,width:l.width*o,outerHeight:l.outerHeight*o,outerWidth:l.outerWidth*o}}),i.effect(t)},e.effects.effect.scale=function(t,n){var i=e(this),r=e.extend(!0,{},t),a=e.effects.setMode(i,t.mode||"effect"),s=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===a?0:100),o=t.direction||"both",l=t.origin,c={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()},h={y:"horizontal"!==o?s/100:1,x:"vertical"!==o?s/100:1};r.effect="size",r.queue=!1,r.complete=n,"effect"!==a&&(r.origin=l||["middle","center"],r.restore=!0),r.from=t.from||("show"===a?{height:0,width:0,outerHeight:0,outerWidth:0}:c),r.to={height:c.height*h.y,width:c.width*h.x,outerHeight:c.outerHeight*h.y,outerWidth:c.outerWidth*h.x},r.fade&&("show"===a&&(r.from.opacity=0,r.to.opacity=1),"hide"===a&&(r.from.opacity=1,r.to.opacity=0)),i.effect(r)},e.effects.effect.size=function(t,n){var i,r,a,s=e(this),o=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],c=["width","height","overflow"],h=["fontSize"],u=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=e.effects.setMode(s,t.mode||"effect"),f=t.restore||"effect"!==p,g=t.scale||"both",m=t.origin||["middle","center"],v=s.css("position"),b=f?o:l,y={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&s.show(),i={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},"toggle"===t.mode&&"show"===p?(s.from=t.to||y,s.to=t.from||i):(s.from=t.from||("show"===p?y:i),s.to=t.to||("hide"===p?y:i)),a={from:{y:s.from.height/i.height,x:s.from.width/i.width},to:{y:s.to.height/i.height,x:s.to.width/i.width}},("box"===g||"both"===g)&&(a.from.y!==a.to.y&&(b=b.concat(u),s.from=e.effects.setTransition(s,u,a.from.y,s.from),s.to=e.effects.setTransition(s,u,a.to.y,s.to)),a.from.x!==a.to.x&&(b=b.concat(d),s.from=e.effects.setTransition(s,d,a.from.x,s.from),s.to=e.effects.setTransition(s,d,a.to.x,s.to))),("content"===g||"both"===g)&&a.from.y!==a.to.y&&(b=b.concat(h).concat(c),s.from=e.effects.setTransition(s,h,a.from.y,s.from),s.to=e.effects.setTransition(s,h,a.to.y,s.to)),e.effects.save(s,b),s.show(),e.effects.createWrapper(s),s.css("overflow","hidden").css(s.from),m&&(r=e.effects.getBaseline(m,i),s.from.top=(i.outerHeight-s.outerHeight())*r.y,s.from.left=(i.outerWidth-s.outerWidth())*r.x,s.to.top=(i.outerHeight-s.to.outerHeight)*r.y,s.to.left=(i.outerWidth-s.to.outerWidth)*r.x),s.css(s.from),("content"===g||"both"===g)&&(u=u.concat(["marginTop","marginBottom"]).concat(h),d=d.concat(["marginLeft","marginRight"]),c=o.concat(u).concat(d),s.find("*[width]").each(function(){var n=e(this),i={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};f&&e.effects.save(n,c),n.from={height:i.height*a.from.y,width:i.width*a.from.x,outerHeight:i.outerHeight*a.from.y,outerWidth:i.outerWidth*a.from.x},n.to={height:i.height*a.to.y,width:i.width*a.to.x,outerHeight:i.height*a.to.y,outerWidth:i.width*a.to.x},a.from.y!==a.to.y&&(n.from=e.effects.setTransition(n,u,a.from.y,n.from),n.to=e.effects.setTransition(n,u,a.to.y,n.to)),a.from.x!==a.to.x&&(n.from=e.effects.setTransition(n,d,a.from.x,n.from),n.to=e.effects.setTransition(n,d,a.to.x,n.to)),n.css(n.from),n.animate(n.to,t.duration,t.easing,function(){f&&e.effects.restore(n,c)})})),s.animate(s.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===s.to.opacity&&s.css("opacity",s.from.opacity),"hide"===p&&s.hide(),e.effects.restore(s,b),f||("static"===v?s.css({position:"relative",top:s.to.top,left:s.to.left}):e.each(["top","left"],function(e,t){s.css(t,function(t,n){var i=parseInt(n,10),r=e?s.to.left:s.to.top;return"auto"===n?r+"px":i+r+"px"})})),e.effects.removeWrapper(s),n()}})}}(jQuery),function(e){e.effects.effect.shake=function(t,n){var i,r=e(this),a=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(r,t.mode||"effect"),o=t.direction||"left",l=t.distance||20,c=t.times||3,h=2*c+1,u=Math.round(t.duration/h),d="up"===o||"down"===o?"top":"left",p="up"===o||"left"===o,f={},g={},m={},v=r.queue(),b=v.length;for(e.effects.save(r,a),r.show(),e.effects.createWrapper(r),f[d]=(p?"-=":"+=")+l,g[d]=(p?"+=":"-=")+2*l,m[d]=(p?"-=":"+=")+2*l,r.animate(f,u,t.easing),i=1;c>i;i++)r.animate(g,u,t.easing).animate(m,u,t.easing);r.animate(g,u,t.easing).animate(f,u/2,t.easing).queue(function(){"hide"===s&&r.hide(),e.effects.restore(r,a),e.effects.removeWrapper(r),n()}),b>1&&v.splice.apply(v,[1,0].concat(v.splice(b,h+1))),r.dequeue()}}(jQuery),function(e){e.effects.effect.slide=function(t,n){var i,r=e(this),a=["position","top","bottom","left","right","width","height"],s=e.effects.setMode(r,t.mode||"show"),o="show"===s,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",h="up"===l||"left"===l,u={};e.effects.save(r,a),r.show(),i=t.distance||r["top"===c?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(r).css({overflow:"hidden"}),o&&r.css(c,h?isNaN(i)?"-"+i:-i:i),u[c]=(o?h?"+=":"-=":h?"-=":"+=")+i,r.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&r.hide(),e.effects.restore(r,a),e.effects.removeWrapper(r),n()}})}}(jQuery),function(e){e.effects.effect.transfer=function(t,n){var i=e(this),r=e(t.to),a="fixed"===r.css("position"),s=e("body"),o=a?s.scrollTop():0,l=a?s.scrollLeft():0,c=r.offset(),h={top:c.top-o,left:c.left-l,height:r.innerHeight(),width:r.innerWidth()},u=i.offset(),d=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:u.top-o,left:u.left-l,height:i.innerHeight(),width:i.innerWidth(),position:a?"fixed":"absolute"}).animate(h,t.duration,t.easing,function(){d.remove(),n()})}}(jQuery),function(e){e.widget("ui.menu",{version:"1.10.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,e.proxy(function(e){this.options.disabled&&e.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(t){var n=e(t.target).closest(".ui-menu-item");!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(t),n.has(".ui-menu").length?this.expand(t):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var n=e(t.currentTarget);n.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,n)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,n)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){e(t.target).closest(".ui-menu").length||this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function n(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var i,r,a,s,o,l=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:l=!1,r=this.previousFilter||"",a=String.fromCharCode(t.keyCode),s=!1,clearTimeout(this.filterTimer),a===r?s=!0:a=r+a,o=new RegExp("^"+n(a),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return o.test(e(this).children("a").text())}),i=s&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(a=String.fromCharCode(t.keyCode),o=new RegExp("^"+n(a),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return o.test(e(this).children("a").text())})),i.length?(this.focus(t,i),i.length>1?(this.previousFilter=a,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,n=this.options.icons.submenu,i=this.element.find(this.options.menus);i.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.prev("a"),r=e("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(r),t.attr("aria-labelledby",i.attr("id"))}),t=i.add(this.element),t.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each(function(){var t=e(this);/[^\-\u2014\u2013\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")}),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]
},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),this._super(e,t)},focus:function(e,t){var n,i;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=t.children(".ui-menu"),n.length&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,i,r,a,s,o;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,r=t.offset().top-this.activeMenu.offset().top-n-i,a=this.activeMenu.scrollTop(),s=this.activeMenu.height(),o=t.height(),0>r?this.activeMenu.scrollTop(a+r):r+o>s&&this.activeMenu.scrollTop(a+r-s+o))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(t),this.activeMenu=i},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var i;this.active&&(i="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(n,i)},nextPage:function(t){var n,i,r;return this.active?(this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return n=e(this),n.offset().top-i-r<0}),this.focus(t,n)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())),void 0):(this.next(t),void 0)},previousPage:function(t){var n,i,r;return this.active?(this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return n=e(this),n.offset().top-i+r>0}),this.focus(t,n)):this.focus(t,this.activeMenu.children(".ui-menu-item").first())),void 0):(this.next(t),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)}})}(jQuery),function(e,t){function n(e,t,n){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?n/100:1)]}function i(t,n){return parseInt(e.css(t,n),10)||0}function r(t){var n=t[0];return 9===n.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var a,s=Math.max,o=Math.abs,l=Math.round,c=/left|center|right/,h=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(a!==t)return a;var n,i,r=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=r.children()[0];return e("body").append(r),n=s.offsetWidth,r.css("overflow","scroll"),i=s.offsetWidth,n===i&&(i=r[0].clientWidth),r.remove(),a=n-i},getScrollInfo:function(t){var n=t.isWindow?"":t.element.css("overflow-x"),i=t.isWindow?"":t.element.css("overflow-y"),r="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth,a="scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight;return{width:a?e.position.scrollbarWidth():0,height:r?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),i=e.isWindow(n[0]);return{element:n,isWindow:i,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i?n.width():n.outerWidth(),height:i?n.height():n.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return f.apply(this,arguments);t=e.extend({},t);var a,p,g,m,v,b,y=e(t.of),x=e.position.getWithinInfo(t.within),w=e.position.getScrollInfo(x),_=(t.collision||"flip").split(" "),C={};return b=r(y),y[0].preventDefault&&(t.at="left top"),p=b.width,g=b.height,m=b.offset,v=e.extend({},m),e.each(["my","at"],function(){var e,n,i=(t[this]||"").split(" ");1===i.length&&(i=c.test(i[0])?i.concat(["center"]):h.test(i[0])?["center"].concat(i):["center","center"]),i[0]=c.test(i[0])?i[0]:"center",i[1]=h.test(i[1])?i[1]:"center",e=u.exec(i[0]),n=u.exec(i[1]),C[this]=[e?e[0]:0,n?n[0]:0],t[this]=[d.exec(i[0])[0],d.exec(i[1])[0]]}),1===_.length&&(_[1]=_[0]),"right"===t.at[0]?v.left+=p:"center"===t.at[0]&&(v.left+=p/2),"bottom"===t.at[1]?v.top+=g:"center"===t.at[1]&&(v.top+=g/2),a=n(C.at,p,g),v.left+=a[0],v.top+=a[1],this.each(function(){var r,c,h=e(this),u=h.outerWidth(),d=h.outerHeight(),f=i(this,"marginLeft"),b=i(this,"marginTop"),T=u+f+i(this,"marginRight")+w.width,D=d+b+i(this,"marginBottom")+w.height,S=e.extend({},v),E=n(C.my,h.outerWidth(),h.outerHeight());"right"===t.my[0]?S.left-=u:"center"===t.my[0]&&(S.left-=u/2),"bottom"===t.my[1]?S.top-=d:"center"===t.my[1]&&(S.top-=d/2),S.left+=E[0],S.top+=E[1],e.support.offsetFractions||(S.left=l(S.left),S.top=l(S.top)),r={marginLeft:f,marginTop:b},e.each(["left","top"],function(n,i){e.ui.position[_[n]]&&e.ui.position[_[n]][i](S,{targetWidth:p,targetHeight:g,elemWidth:u,elemHeight:d,collisionPosition:r,collisionWidth:T,collisionHeight:D,offset:[a[0]+E[0],a[1]+E[1]],my:t.my,at:t.at,within:x,elem:h})}),t.using&&(c=function(e){var n=m.left-S.left,i=n+p-u,r=m.top-S.top,a=r+g-d,l={target:{element:y,left:m.left,top:m.top,width:p,height:g},element:{element:h,left:S.left,top:S.top,width:u,height:d},horizontal:0>i?"left":n>0?"right":"center",vertical:0>a?"top":r>0?"bottom":"middle"};u>p&&o(n+i)<p&&(l.horizontal="center"),d>g&&o(r+a)<g&&(l.vertical="middle"),l.important=s(o(n),o(i))>s(o(r),o(a))?"horizontal":"vertical",t.using.call(this,e,l)}),h.offset(e.extend(S,{using:c}))})},e.ui.position={fit:{left:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollLeft:i.offset.left,a=i.width,o=e.left-t.collisionPosition.marginLeft,l=r-o,c=o+t.collisionWidth-a-r;t.collisionWidth>a?l>0&&0>=c?(n=e.left+l+t.collisionWidth-a-r,e.left+=l-n):e.left=c>0&&0>=l?r:l>c?r+a-t.collisionWidth:r:l>0?e.left+=l:c>0?e.left-=c:e.left=s(e.left-o,e.left)},top:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollTop:i.offset.top,a=t.within.height,o=e.top-t.collisionPosition.marginTop,l=r-o,c=o+t.collisionHeight-a-r;t.collisionHeight>a?l>0&&0>=c?(n=e.top+l+t.collisionHeight-a-r,e.top+=l-n):e.top=c>0&&0>=l?r:l>c?r+a-t.collisionHeight:r:l>0?e.top+=l:c>0?e.top-=c:e.top=s(e.top-o,e.top)}},flip:{left:function(e,t){var n,i,r=t.within,a=r.offset.left+r.scrollLeft,s=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,c=e.left-t.collisionPosition.marginLeft,h=c-l,u=c+t.collisionWidth-s-l,d="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>h?(n=e.left+d+p+f+t.collisionWidth-s-a,(0>n||n<o(h))&&(e.left+=d+p+f)):u>0&&(i=e.left-t.collisionPosition.marginLeft+d+p+f-l,(i>0||o(i)<u)&&(e.left+=d+p+f))},top:function(e,t){var n,i,r=t.within,a=r.offset.top+r.scrollTop,s=r.height,l=r.isWindow?r.scrollTop:r.offset.top,c=e.top-t.collisionPosition.marginTop,h=c-l,u=c+t.collisionHeight-s-l,d="top"===t.my[1],p=d?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,g=-2*t.offset[1];0>h?(i=e.top+p+f+g+t.collisionHeight-s-a,e.top+p+f+g>h&&(0>i||i<o(h))&&(e.top+=p+f+g)):u>0&&(n=e.top-t.collisionPosition.marginTop+p+f+g-l,e.top+p+f+g>u&&(n>0||o(n)<u)&&(e.top+=p+f+g))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,i,r,a,s=document.getElementsByTagName("body")[0],o=document.createElement("div");t=document.createElement(s?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&e.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(a in i)t.style[a]=i[a];t.appendChild(o),n=s||document.documentElement,n.insertBefore(t,n.firstChild),o.style.cssText="position: absolute; left: 10.7432222px;",r=e(o).offset().left,e.support.offsetFractions=r>10&&11>r,t.innerHTML="",n.removeChild(t)}()}(jQuery),function(e,t){e.widget("ui.progressbar",{version:"1.10.2",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return e===t?this.options.value:(this.options.value=this._constrainedValue(e),this._refreshValue(),void 0)},_constrainedValue:function(e){return e===t&&(e=this.options.value),this.indeterminate=e===!1,"number"!=typeof e&&(e=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(n.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}})}(jQuery),function(e){var t=5;e.widget("ui.slider",e.ui.mouse,{version:"1.10.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,n,i=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",s=[];for(n=i.values&&i.values.length||1,r.length>n&&(r.slice(n).remove(),r=r.slice(0,n)),t=r.length;n>t;t++)s.push(a);this.handles=r.add(e(s.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,n="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),n="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(n+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):this.range=e([])},_setupEvents:function(){var e=this.handles.add(this.range).filter("a");this._off(e),this._on(e,this._handleEvents),this._hoverable(e),this._focusable(e)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var n,i,r,a,s,o,l,c,h=this,u=this.options;return u.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(n),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var n=Math.abs(i-h.values(t));(r>n||r===n&&(t===h._lastChangedValue||h.values(t)===u.min))&&(r=n,a=e(this),s=t)}),o=this._start(t,s),o===!1?!1:(this._mouseSliding=!0,this._handleIndex=s,a.addClass("ui-state-active").focus(),l=a.offset(),c=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-l.left-a.width()/2,top:t.pageY-l.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,s,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,i,r,a;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),i=n/t,i>1&&(i=1),0>i&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),a=this._valueMin()+i*r,this._trimAlignValue(a)},_start:function(e,t){var n={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("start",e,n)},_slide:function(e,t,n){var i,r,a;this.options.values&&this.options.values.length?(i=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&n>i||1===t&&i>n)&&(n=i),n!==this.values(t)&&(r=this.values(),r[t]=n,a=this._trigger("slide",e,{handle:this.handles[t],value:n,values:r}),i=this.values(t?0:1),a!==!1&&this.values(t,n,!0))):n!==this.value()&&(a=this._trigger("slide",e,{handle:this.handles[t],value:n}),a!==!1&&this.value(n))},_stop:function(e,t){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("stop",e,n)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,n)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(t,n){var i,r,a;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),this._change(null,t),void 0;if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(i=this.options.values,r=arguments[0],a=0;a<i.length;a+=1)i[a]=this._trimAlignValue(r[a]),this._change(null,a);this._refreshValue()},_setOption:function(t,n){var i,r=0;switch("range"===t&&this.options.range===!0&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(r=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;r>i;i+=1)this._change(null,i);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,n,i;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,i=e-n;return 2*Math.abs(n)>=t&&(i+=n>0?t:-t),parseFloat(i.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,n,i,r,a,s=this.options.range,o=this.options,l=this,c=this._animateOff?!1:o.animate,h={};this.options.values&&this.options.values.length?this.handles.each(function(i){n=100*((l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())),h["horizontal"===l.orientation?"left":"bottom"]=n+"%",e(this).stop(1,1)[c?"animate":"css"](h,o.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[c?"animate":"css"]({left:n+"%"},o.animate),1===i&&l.range[c?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:o.animate})):(0===i&&l.range.stop(1,1)[c?"animate":"css"]({bottom:n+"%"},o.animate),1===i&&l.range[c?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:o.animate}))),t=n}):(i=this.value(),r=this._valueMin(),a=this._valueMax(),n=a!==r?100*((i-r)/(a-r)):0,h["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[c?"animate":"css"](h,o.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:n+"%"},o.animate),"max"===s&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:o.animate}),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:n+"%"},o.animate),"max"===s&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:o.animate}))},_handleEvents:{keydown:function(n){var i,r,a,s,o=e(n.target).data("ui-slider-handle-index");switch(n.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(n.target).addClass("ui-state-active"),i=this._start(n,o),i===!1))return}switch(s=this.options.step,r=a=this.options.values&&this.options.values.length?this.values(o):this.value(),n.keyCode){case e.ui.keyCode.HOME:a=this._valueMin();break;case e.ui.keyCode.END:a=this._valueMax();break;case e.ui.keyCode.PAGE_UP:a=this._trimAlignValue(r+(this._valueMax()-this._valueMin())/t);break;case e.ui.keyCode.PAGE_DOWN:a=this._trimAlignValue(r-(this._valueMax()-this._valueMin())/t);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(r===this._valueMax())return;a=this._trimAlignValue(r+s);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(r===this._valueMin())return;a=this._trimAlignValue(r-s)}this._slide(n,o,a)},click:function(e){e.preventDefault()},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,n),this._change(t,n),e(t.target).removeClass("ui-state-active"))}}})}(jQuery),function(e){function t(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.widget("ui.spinner",{version:"1.10.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},n=this.element;return e.each(["min","max","step"],function(e,i){var r=n.attr(i);void 0!==r&&r.length&&(t[i]=r)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e),void 0)},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function n(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i}))}var i;i=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?this._start(t)===!1?!1:(this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var n=this.options,i=e.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,n.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-n.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>"},_start:function(e){return this.spinning||this._trigger("start",e)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(e,t,n){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,n)},e),this._spin(t*this.options.step,n)},_spin:function(e,t){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:n})===!1||(this._value(n),this.counter++)},_increment:function(t){var n=this.options.incremental;return n?e.isFunction(n)?n(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_adjustValue:function(e){var t,n,i=this.options;return t=null!==i.min?i.min:0,n=e-t,n=Math.round(n/i.step)*i.step,e=t+n,e=parseFloat(e.toFixed(this._precision())),null!==i.max&&e>i.max?i.max:null!==i.min&&e<i.min?i.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var n=this._parse(this.element.val());return this.options[e]=t,this.element.val(this._format(n)),void 0}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(t?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:t(function(e){this._super(e),this._value(this.element.val())}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(e,t){var n;""!==e&&(n=this._parse(e),null!==n&&(t||(n=this._adjustValue(n)),e=this._format(n))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:t(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:t(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:t(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:t(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?(t(this._value).call(this,e),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}(jQuery),function(e,t){function n(){return++r}function i(e){return e.hash.length>1&&decodeURIComponent(e.href.replace(a,""))===decodeURIComponent(location.href.replace(a,""))}var r=0,a=/#.*$/;e.widget("ui.tabs",{version:"1.10.2",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var t=this,n=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",n.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),n.active=this._initialActive(),e.isArray(n.disabled)&&(n.disabled=e.unique(n.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(n.active):e(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var t=this.options.active,n=this.options.collapsible,i=location.hash.substring(1);return null===t&&(i&&this.tabs.each(function(n,r){return e(r).attr("aria-controls")===i?(t=n,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=n?!1:0)),!n&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var n=e(this.document[0].activeElement).closest("li"),i=this.tabs.index(n),r=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:i++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:r=!1,i--;break;case e.ui.keyCode.END:i=this.anchors.length-1;break;case e.ui.keyCode.HOME:i=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),this._activate(i),void 0;case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),this._activate(i===this.options.active?!1:i),void 0;default:return}t.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,r),t.ctrlKey||(n.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,n){function i(){return t>r&&(t=0),0>t&&(t=r),t}for(var r=this.tabs.length-1;-1!==e.inArray(i(),this.options.disabled);)t=n?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?(this._activate(t),void 0):"disabled"===e?(this._setupDisabled(t),void 0):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t),void 0)},_tabId:function(e){return e.attr("aria-controls")||"ui-tabs-"+n()},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""
},refresh:function(){var t=this.options,n=this.tablist.children(":has(a[href])");t.disabled=e.map(n.filter(".ui-state-disabled"),function(e){return n.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(n,r){var a,s,o,l=e(r).uniqueId().attr("id"),c=e(r).closest("li"),h=c.attr("aria-controls");i(r)?(a=r.hash,s=t.element.find(t._sanitizeSelector(a))):(o=t._tabId(c),a="#"+o,s=t.element.find(a),s.length||(s=t._createPanel(o),s.insertAfter(t.panels[n-1]||t.tablist)),s.attr("aria-live","polite")),s.length&&(t.panels=t.panels.add(s)),h&&c.data("ui-tabs-aria-controls",h),c.attr({"aria-controls":a.substring(1),"aria-labelledby":l}),s.attr("aria-labelledby",l)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var n,i=0;n=this.tabs[i];i++)t===!0||-1!==e.inArray(i,t)?e(n).addClass("ui-state-disabled").attr("aria-disabled","true"):e(n).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var n={click:function(e){e.preventDefault()}};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,i=this.element.parent();"fill"===t?(n=i.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),i=t.css("position");"absolute"!==i&&"fixed"!==i&&(n-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,n-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(n=0,this.panels.each(function(){n=Math.max(n,e(this).height("").height())}).height(n))},_eventHandler:function(t){var n=this.options,i=this.active,r=e(t.currentTarget),a=r.closest("li"),s=a[0]===i[0],o=s&&n.collapsible,l=o?e():this._getPanelForTab(a),c=i.length?this._getPanelForTab(i):e(),h={oldTab:i,oldPanel:c,newTab:o?e():a,newPanel:l};t.preventDefault(),a.hasClass("ui-state-disabled")||a.hasClass("ui-tabs-loading")||this.running||s&&!n.collapsible||this._trigger("beforeActivate",t,h)===!1||(n.active=o?!1:this.tabs.index(a),this.active=s?e():a,this.xhr&&this.xhr.abort(),c.length||l.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(a),t),this._toggle(t,h))},_toggle:function(t,n){function i(){a.running=!1,a._trigger("activate",t,n)}function r(){n.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),s.length&&a.options.show?a._show(s,a.options.show,i):(s.show(),i())}var a=this,s=n.newPanel,o=n.oldPanel;this.running=!0,o.length&&this.options.hide?this._hide(o,this.options.hide,function(){n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r()}):(n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o.hide(),r()),o.attr({"aria-expanded":"false","aria-hidden":"true"}),n.oldTab.attr("aria-selected","false"),s.length&&o.length?n.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),s.attr({"aria-expanded":"true","aria-hidden":"false"}),n.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var n,i=this._findActive(t);i[0]!==this.active[0]&&(i.length||(i=this.active),n=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),n=t.data("ui-tabs-aria-controls");n?t.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(n){var i=this.options.disabled;i!==!1&&(n===t?i=!1:(n=this._getIndex(n),i=e.isArray(i)?e.map(i,function(e){return e!==n?e:null}):e.map(this.tabs,function(e,t){return t!==n?t:null})),this._setupDisabled(i))},disable:function(n){var i=this.options.disabled;if(i!==!0){if(n===t)i=!0;else{if(n=this._getIndex(n),-1!==e.inArray(n,i))return;i=e.isArray(i)?e.merge([n],i).sort():[n]}this._setupDisabled(i)}},load:function(t,n){t=this._getIndex(t);var r=this,a=this.tabs.eq(t),s=a.find(".ui-tabs-anchor"),o=this._getPanelForTab(a),l={tab:a,panel:o};i(s[0])||(this.xhr=e.ajax(this._ajaxSettings(s,n,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(a.addClass("ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.success(function(e){setTimeout(function(){o.html(e),r._trigger("load",n,l)},1)}).complete(function(e,t){setTimeout(function(){"abort"===t&&r.panels.stop(!1,!0),a.removeClass("ui-tabs-loading"),o.removeAttr("aria-busy"),e===r.xhr&&delete r.xhr},1)})))},_ajaxSettings:function(t,n,i){var r=this;return{url:t.attr("href"),beforeSend:function(t,a){return r._trigger("beforeLoad",n,e.extend({jqXHR:t,ajaxSettings:a},i))}}},_getPanelForTab:function(t){var n=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}})}(jQuery),function(e){function t(t,n){var i=(t.attr("aria-describedby")||"").split(/\s+/);i.push(n),t.data("ui-tooltip-id",n).attr("aria-describedby",e.trim(i.join(" ")))}function n(t){var n=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),r=e.inArray(n,i);-1!==r&&i.splice(r,1),t.removeData("ui-tooltip-id"),i=e.trim(i.join(" ")),i?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")}var i=0;e.widget("ui.tooltip",{version:"1.10.2",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(t,n){var i=this;return"disabled"===t?(this[n?"_disable":"_enable"](),this.options[t]=n,void 0):(this._super(t,n),"content"===t&&e.each(this.tooltips,function(e,t){i._updateContent(t)}),void 0)},_disable:function(){var t=this;e.each(this.tooltips,function(n,i){var r=e.Event("blur");r.target=r.currentTarget=i[0],t.close(r,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var n=this,i=e(t?t.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&i.parents().each(function(){var t,i=e(this);i.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,n.close(t,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._updateContent(i,t))},_updateContent:function(e,t){var n,i=this.options.content,r=this,a=t?t.type:null;return"string"==typeof i?this._open(t,e,i):(n=i.call(e[0],function(n){e.data("ui-tooltip-open")&&r._delay(function(){t&&(t.type=a),this._open(t,e,n)})}),n&&this._open(t,e,n),void 0)},_open:function(n,i,r){function a(e){c.of=e,s.is(":hidden")||s.position(c)}var s,o,l,c=e.extend({},this.options.position);if(r){if(s=this._find(i),s.length)return s.find(".ui-tooltip-content").html(r),void 0;i.is("[title]")&&(n&&"mouseover"===n.type?i.attr("title",""):i.removeAttr("title")),s=this._tooltip(i),t(i,s.attr("id")),s.find(".ui-tooltip-content").html(r),this.options.track&&n&&/^mouse/.test(n.type)?(this._on(this.document,{mousemove:a}),a(n)):s.position(e.extend({of:i},this.options.position)),s.hide(),this._show(s,this.options.show),this.options.show&&this.options.show.delay&&(l=this.delayedShow=setInterval(function(){s.is(":visible")&&(a(c.of),clearInterval(l))},e.fx.interval)),this._trigger("open",n,{tooltip:s}),o={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var n=e.Event(t);n.currentTarget=i[0],this.close(n,!0)}},remove:function(){this._removeTooltip(s)}},n&&"mouseover"!==n.type||(o.mouseleave="close"),n&&"focusin"!==n.type||(o.focusout="close"),this._on(!0,i,o)}},close:function(t){var i=this,r=e(t?t.currentTarget:this.element),a=this._find(r);this.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&r.attr("title",r.data("ui-tooltip-title")),n(r),a.stop(!0),this._hide(a,this.options.hide,function(){i._removeTooltip(e(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,n){e(n.element).attr("title",n.title),delete i.parents[t]}),this.closing=!0,this._trigger("close",t,{tooltip:a}),this.closing=!1)},_tooltip:function(t){var n="ui-tooltip-"+i++,r=e("<div>").attr({id:n,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return e("<div>").addClass("ui-tooltip-content").appendTo(r),r.appendTo(this.document[0].body),this.tooltips[n]=t,r},_find:function(t){var n=t.data("ui-tooltip-id");return n?e("#"+n):e()},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(n,i){var r=e.Event("blur");r.target=r.currentTarget=i[0],t.close(r,!0),e("#"+n).remove(),i.data("ui-tooltip-title")&&(i.attr("title",i.data("ui-tooltip-title")),i.removeData("ui-tooltip-title"))})}})}(jQuery),this.j$=this.jStat=function(e){function t(){return new t.fn.init(arguments)}var n=Array.prototype.slice,i=Object.prototype.toString,r=function(t,n){var i=t>n?t:n;return e.pow(10,17-~~(e.log(i>0?i:-i)*e.LOG10E))},a=Array.isArray||function(e){return"[object Array]"===i.call(e)},s=function(e){return"[object Function]"===i.call(e)},o=function(e){return"[object Number]"===i.call(e)&&!isNaN(e)},l=function(e){return[].concat.apply([],e)};return t.fn=t.prototype={constructor:t,init:function(e){var n=0;if(a(e[0]))if(a(e[0][0])){for(s(e[1])&&(e[0]=t.map(e[0],e[1]));n<e[0].length;n++)this[n]=e[0][n];this.length=e[0].length}else this[0]=s(e[1])?t.map(e[0],e[1]):e[0],this.length=1;else if(o(e[0]))this[0]=t.seq.apply(null,e),this.length=1;else{if(e[0]instanceof t)return t(e[0].toArray());this[0]=[],this.length=1}return this},length:0,toArray:function(){return this.length>1?n.call(this):n.call(this)[0]},push:[].push,sort:[].sort,splice:[].splice,slice:[].slice},t.fn.init.prototype=t.fn,t.utils={calcRdx:r,isArray:a,isFunction:s,isNumber:o,toVector:l},t.extend=function(e){var i,r=n.call(arguments),a=1;if(1===r.length){for(i in e)t[i]=e[i];return this}for(;a<r.length;a++)for(i in r[a])e[i]=r[a][i];return e},t.extend({rows:function(e){return e.length||1},cols:function(e){return e[0].length||1},dimensions:function(e){return{rows:t.rows(e),cols:t.cols(e)}},row:function(e,t){return e[t]},col:function(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)n[i]=[e[i][t]];return n},diag:function(e){for(var n=0,i=t.rows(e),r=new Array(i);i>n;n++)r[n]=[e[n][n]];return r},antidiag:function(e){for(var n=t.rows(e)-1,i=new Array(n),r=0;n>=0;n--,r++)i[r]=[e[r][n]];return i},transpose:function(e){var t,n,i,r=[],s=0;for(a(e[0])||(e=[e]),t=e.length,n=e[0].length;n>s;s++)for(r.push(new Array(t)),i=0;t>i;i++)r[s][i]=e[i][s];return 1===r.length?r[0]:r},map:function(e,t,n){var i,r,s,o,l=0;for(a(e[0])||(e=[e]),i=e.length,r=e[0].length,s=n?e:new Array(i);i>l;l++)for(s[l]||(s[l]=new Array(r)),o=0;r>o;o++)s[l][o]=t(e[l][o],l,o);return 1===s.length?s[0]:s},alter:function(e,n){return t.map(e,n,!0)},create:function(e,t,n){var i,r,a=new Array(e);for(s(t)&&(n=t,t=e),i=0;e>i;i++)for(a[i]=new Array(t),r=0;t>r;r++)a[i][r]=n(i,r);return a},zeros:function(e,n){return o(n)||(n=e),t.create(e,n,function(){return 0})},ones:function(e,n){return o(n)||(n=e),t.create(e,n,function(){return 1})},rand:function(n,i){return o(i)||(i=n),t.create(n,i,function(){return e.random()})},identity:function(e,n){return o(n)||(n=e),t.create(e,n,function(e,t){return e===t?1:0})},symmetric:function(e){var t,n=0,i=e.length;if(e.length!==e[0].length)return!1;for(;i>n;n++)for(t=0;i>t;t++)if(e[t][n]!==e[n][t])return!1;return!0},clear:function(e){return t.alter(e,function(){return 0})},seq:function(e,t,n,i){s(i)||(i=!1);for(var a=[],o=r(e,t),l=(t*o-e*o)/((n-1)*o),c=e,h=0;t>=c;h++,c=(e*o+l*o*h)/o)a.push(i?i(c,h):c);return a}}),function(e){for(var n=0;n<e.length;n++)!function(e){t.fn[e]=function(n){var i,r=this;return n?(setTimeout(function(){n.call(r,t.fn[e].call(r))},15),this):(i=t[e](this),a(i)?t(i):i)}}(e[n])}("transpose clear symmetric rows cols dimensions diag antidiag".split(" ")),function(e){for(var n=0;n<e.length;n++)!function(e){t.fn[e]=function(n,i){var r=this;return i?(setTimeout(function(){i.call(r,t.fn[e].call(r,n))},15),this):t(t[e](this,n))}}(e[n])}("row col".split(" ")),function(e){for(var n=0;n<e.length;n++)!function(e){t.fn[e]=function(){return t(t[e].apply(null,arguments))}}(e[n])}("create zeros ones rand identity".split(" ")),t.extend(t.fn,{map:function(e,n){return t(t.map(this,e,n))},alter:function(e){return t.alter(this,e),this}}),t}(Math),function(e,t){var n=e.utils.isFunction,i=function(e,t){return e-t};e.extend({sum:function(e){for(var t=0,n=e.length;--n>=0;)t+=e[n];return t},sumsqrd:function(e){for(var t=0,n=e.length;--n>=0;)t+=e[n]*e[n];return t},sumsqerr:function(t){for(var n,i=e.mean(t),r=0,a=t.length;--a>=0;)n=t[a]-i,r+=n*n;return r},product:function(e){for(var t=1,n=e.length;--n>=0;)t*=e[n];return t},min:function(e){for(var t=e[0],n=0;++n<e.length;)e[n]<t&&(t=e[n]);return t},max:function(e){for(var t=e[0],n=0;++n<e.length;)e[n]>t&&(t=e[n]);return t},mean:function(t){return e.sum(t)/t.length},meansqerr:function(t){return e.sumsqerr(t)/t.length},geomean:function(n){return t.pow(e.product(n),1/n.length)},median:function(e){var t=e.length,n=e.slice().sort(i);return 1&t?n[0|t/2]:(n[t/2-1]+n[t/2])/2},cumsum:function(e){var t=e.length,n=new Array(t),i=1;for(n[0]=e[0];t>i;i++)n[i]=n[i-1]+e[i];return n},diff:function(e){var t=[],n=e.length,i=1;for(i=1;n>i;i++)t.push(e[i]-e[i-1]);return t},mode:function(e){for(var t=e.length,n=e.slice().sort(i),r=1,a=0,s=0,o=0,l=[];t>o;o++)n[o]===n[o+1]?r++:(r>a?(l=[n[o]],a=r,s=0):r===a&&(l.push(n[o]),s++),r=1);return 0===s?l[0]:l},range:function(t){return e.max(t)-e.min(t)},variance:function(t,n){return e.sumsqerr(t)/(t.length-(n?1:0))},stdev:function(n,i){return t.sqrt(e.variance(n,i))},meandev:function(n){for(var i=0,r=e.mean(n),a=n.length-1;a>=0;a--)i+=t.abs(n[a]-r);return i/n.length},meddev:function(n){for(var i=0,r=e.median(n),a=n.length-1;a>=0;a--)i+=t.abs(n[a]-r);return i/n.length},coeffvar:function(t){return e.stdev(t)/e.mean(t)},quartiles:function(e){var n=e.length,r=e.slice().sort(i);return[r[t.round(n/4)-1],r[t.round(n/2)-1],r[t.round(3*n/4)-1]]},covariance:function(t,n){for(var i=e.mean(t),r=e.mean(n),a=t.length,s=new Array(a),o=0;a>o;o++)s[o]=(t[o]-i)*(n[o]-r);return e.sum(s)/(a-1)},corrcoeff:function(t,n){return e.covariance(t,n)/e.stdev(t,1)/e.stdev(n,1)}}),function(t){for(var i=0;i<t.length;i++)!function(t){e.fn[t]=function(i,r){var a=[],s=0,o=this;if(n(i)&&(r=i,i=!1),r)return setTimeout(function(){r.call(o,e.fn[t].call(o,i))},15),this;if(this.length>1){for(o=i===!0?this:this.transpose();s<o.length;s++)a[s]=e[t](o[s]);return i===!0?e[t](e.utils.toVector(a)):a}return e[t](this[0],i)}}(t[i])}("sum sumsqrd sumsqerr product min max mean meansqerr geomean median diff mode range variance stdev meandev meddev coeffvar quartiles".split(" ")),e.fn.cumsum=function(t,i){var r=[],a=0,s=this;if(n(t)&&(i=t,t=!1),i)return setTimeout(function(){i.call(s,e.fn.cumsum.call(s,t))},15),this;if(this.length>1){for(s=t===!0?this:this.transpose();a<s.length;a++)r[a]=e.cumsum(s[a]);return r}return e.cumsum(this[0],t)}}(this.jStat,Math),function(e,t){e.extend({gammaln:function(e){var n,i,r,a=0,s=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],o=1.000000000190015;for(r=(i=n=e)+5.5,r-=(n+.5)*t.log(r);6>a;a++)o+=s[a]/++i;return t.log(2.5066282746310007*o/n)-r},gammafn:function(e){var n,i,r,a,s=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],o=[-30.8402300119739,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.2596755535],l=!1,c=0,h=0,u=0,d=e;if(0>=d){if(a=d%1+3.6e-16,!a)return 1/0;l=(1&d?-1:1)*t.PI/t.sin(t.PI*a),d=1-d}for(r=d,i=1>d?d++:(d-=c=(0|d)-1)-1,n=0;8>n;++n)u=(u+s[n])*i,h=h*i+o[n];if(a=u/h+1,d>r)a/=r;else if(r>d)for(n=0;c>n;++n)a*=d,d++;return l&&(a=l/a),a},gammap:function(n,i){var r,a=e.gammaln(n),s=n,o=1/n,l=o,c=i+1-n,h=1/1e-30,u=1/c,d=u,p=1,f=-~(8.5*t.log(n>=1?n:1/n)+.4*n+17);if(0>i||0>=n)return 0/0;if(n+1>i){for(;f>=p;p++)o+=l*=i/++s;return o*t.exp(-i+n*t.log(i)-a)}for(;f>=p;p++)r=-p*(p-n),c+=2,u=r*u+c,h=c+r/h,u=1/u,d*=u*h;return 1-d*t.exp(-i+n*t.log(i)-a)},factorialln:function(t){return 0>t?0/0:e.gammaln(t+1)},factorial:function(t){return 0>t?0/0:e.gammafn(t+1)},combination:function(n,i){return n>170||i>170?t.exp(e.combinationln(n,i)):e.factorial(n)/e.factorial(i)/e.factorial(n-i)},combinationln:function(t,n){return e.factorialln(t)-e.factorialln(n)-e.factorialln(t-n)},permutation:function(t,n){return e.factorial(t)/e.factorial(t-n)},betafn:function(n,i){return 0>=n||0>=i?void 0:n+i>170?t.exp(e.betaln(n,i)):e.gammafn(n)*e.gammafn(i)/e.gammafn(n+i)},betaln:function(t,n){return e.gammaln(t)+e.gammaln(n)-e.gammaln(t+n)},betacf:function(e,n,i){var r,a,s,o,l,c,h,u,d,p=1e-30,f=1;for(h=n+i,d=n+1,u=n-1,s=1,o=1-h*e/d,t.abs(o)<p&&(o=p),o=1/o,c=o;100>=f&&(r=2*f,a=f*(i-f)*e/((u+r)*(n+r)),o=1+a*o,t.abs(o)<p&&(o=p),s=1+a/s,t.abs(s)<p&&(s=p),o=1/o,c*=o*s,a=-(n+f)*(h+f)*e/((n+r)*(d+r)),o=1+a*o,t.abs(o)<p&&(o=p),s=1+a/s,t.abs(s)<p&&(s=p),o=1/o,l=o*s,c*=l,!(t.abs(l-1)<3e-7));f++);return c},gammapinv:function(n,i){var r,a,s,o,l,c,h,u=0,d=i-1,p=1e-8,f=e.gammaln(i);if(n>=1)return t.max(100,i+100*t.sqrt(i));if(0>=n)return 0;for(i>1?(c=t.log(d),h=t.exp(d*(c-1)-f),l=.5>n?n:1-n,s=t.sqrt(-2*t.log(l)),r=(2.30753+.27061*s)/(1+s*(.99229+.04481*s))-s,.5>n&&(r=-r),r=t.max(.001,i*t.pow(1-1/(9*i)-r/(3*t.sqrt(i)),3))):(s=1-i*(.253+.12*i),r=s>n?t.pow(n/s,1/i):1-t.log(1-(n-s)/(1-s)));12>u;u++){if(0>=r)return 0;if(a=e.gammap(i,r)-n,s=i>1?h*t.exp(-(r-d)+d*(t.log(r)-c)):t.exp(-r+d*t.log(r)-f),o=a/s,r-=s=o/(1-.5*t.min(1,o*((i-1)/r-1))),0>=r&&(r=.5*(r+s)),t.abs(s)<p*r)break}return r},erf:function(e){var n,i,r,a,s=[-1.3026537197817094,.6419697923564902,.019476473204185836,-.00956151478680863,-.000946595344482036,.000366839497852761,42523324806907e-18,-20278578112534e-18,-1624290004647e-18,130365583558e-17,1.5626441722e-8,-8.5238095915e-8,6.529054439e-9,5.059343495e-9,-9.91364156e-10,-2.27365122e-10,9.6467911e-11,2.394038e-12,-6.886027e-12,8.94487e-13,3.13092e-13,-1.12708e-13,3.81e-16,7.106e-15,-1.523e-15,-9.4e-17,1.21e-16,-2.8e-17],o=s.length-1,l=!1,c=0,h=0;for(0>e&&(e=-e,l=!0),n=2/(2+e),i=4*n-2;o>0;o--)r=c,c=i*c-h+s[o],h=r;return a=n*t.exp(-e*e+.5*(s[0]+i*c)-h),l?a-1:1-a},erfc:function(t){return 1-e.erf(t)},erfcinv:function(n){var i,r,a,s,o=0;if(n>=2)return-100;if(0>=n)return 100;for(s=1>n?n:2-n,a=t.sqrt(-2*t.log(s/2)),i=-.70711*((2.30753+.27061*a)/(1+a*(.99229+.04481*a))-a);2>o;o++)r=e.erfc(i)-s,i+=r/(1.1283791670955126*t.exp(-i*i)-i*r);return 1>n?i:-i},ibetainv:function(n,i,r){var a,s,o,l,c,h,u,d,p,f,g,m=1e-8,v=i-1,b=r-1,y=0;if(0>=n)return 0;if(n>=1)return 1;for(i>=1&&r>=1?(o=.5>n?n:1-n,l=t.sqrt(-2*t.log(o)),u=(2.30753+.27061*l)/(1+l*(.99229+.04481*l))-l,.5>n&&(u=-u),d=(u*u-3)/6,p=2/(1/(2*i-1)+1/(2*r-1)),f=u*t.sqrt(d+p)/p-(1/(2*r-1)-1/(2*i-1))*(d+5/6-2/(3*p)),u=i/(i+r*t.exp(2*f))):(a=t.log(i/(i+r)),s=t.log(r/(i+r)),l=t.exp(i*a)/i,c=t.exp(r*s)/r,f=l+c,u=l/f>n?t.pow(i*f*n,1/i):1-t.pow(r*f*(1-n),1/r)),g=-e.gammaln(i)-e.gammaln(r)+e.gammaln(i+r);10>y;y++){if(0===u||1===u)return u;if(h=e.ibeta(u,i,r)-n,l=t.exp(v*t.log(u)+b*t.log(1-u)+g),c=h/l,u-=l=c/(1-.5*t.min(1,c*(v/u-b/(1-u)))),0>=u&&(u=.5*(u+l)),u>=1&&(u=.5*(u+l+1)),t.abs(l)<m*u&&y>0)break}return u},ibeta:function(n,i,r){var a=0===n||1===n?0:t.exp(e.gammaln(i+r)-e.gammaln(i)-e.gammaln(r)+i*t.log(n)+r*t.log(1-n));return 0>n||n>1?!1:(i+1)/(i+r+2)>n?a*e.betacf(n,i,r)/i:1-a*e.betacf(1-n,r,i)/r},randn:function(n,i){var r,a,s,o,l;if(i||(i=n),n)return e.create(n,i,function(){return e.randn()});do r=t.random(),a=1.7156*(t.random()-.5),s=r-.449871,o=t.abs(a)+.386595,l=s*s+o*(.196*o-.25472*s);while(l>.27597&&(l>.27846||a*a>-4*t.log(r)*r*r));return a/r},randg:function(n,i,r){var a,s,o,l,c,h,u=n;if(r||(r=i),n||(n=1),i)return h=e.zeros(i,r),h.alter(function(){return e.randg(n)}),h;1>n&&(n+=1),a=n-1/3,s=1/t.sqrt(9*a);do{do c=e.randn(),l=1+s*c;while(0>=l);l=l*l*l,o=t.random()}while(o>1-.331*t.pow(c,4)&&t.log(o)>.5*c*c+a*(1-l+t.log(l)));if(n==u)return a*l;do o=t.random();while(0===o);return t.pow(o,1/u)*a*l}}),function(t){for(var n=0;n<t.length;n++)!function(t){e.fn[t]=function(){return e(e.map(this,function(n){return e[t](n)}))}}(t[n])}("gammaln gammafn factorial factorialln".split(" ")),function(t){for(var n=0;n<t.length;n++)!function(t){e.fn[t]=function(){return e(e[t].apply(null,arguments))}}(t[n])}("randn".split(" "))}(this.jStat,Math),function(e,t){!function(t){for(var n=0;n<t.length;n++)!function(t){e[t]=function(e,t,n){return this instanceof arguments.callee?(this._a=e,this._b=t,this._c=n,this):new arguments.callee(e,t,n)},e.fn[t]=function(n,i,r){var a=e[t](n,i,r);return a.data=this,a},e[t].prototype.sample=function(n){var i=this._a,r=this._b,a=this._c;return n?e.alter(n,function(){return e[t].sample(i,r,a)}):e[t].sample(i,r,a)},function(n){for(var i=0;i<n.length;i++)!function(n){e[t].prototype[n]=function(i){var r=this._a,a=this._b,s=this._c;return i||(i=this.data),"number"!=typeof i?e.fn.map.call(i,function(i){return e[t][n](i,r,a,s)}):e[t][n](i,r,a,s)}}(n[i])}("pdf cdf inv".split(" ")),function(n){for(var i=0;i<n.length;i++)!function(n){e[t].prototype[n]=function(){return e[t][n](this._a,this._b,this._c)}}(n[i])}("mean median mode variance".split(" "))}(t[n])}("beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy lognormal normal pareto studentt weibull uniform  binomial negbin hypgeom poisson triangular".split(" ")),e.extend(e.beta,{pdf:function(n,i,r){return n>1||0>n?0:t.pow(n,i-1)*t.pow(1-n,r-1)/e.betafn(i,r)},cdf:function(t,n,i){return t>1||0>t?1*(t>1):e.ibeta(t,n,i)},inv:function(t,n,i){return e.ibetainv(t,n,i)},mean:function(e,t){return e/(e+t)},median:function(){},mode:function(e,n){return e*n/(t.pow(e+n,2)*(e+n+1))},sample:function(t,n){var i=e.randg(t);return i/(i+e.randg(n))},variance:function(e,n){return e*n/(t.pow(e+n,2)*(e+n+1))}}),e.extend(e.centralF,{pdf:function(n,i,r){return n>=0?t.sqrt(t.pow(i*n,i)*t.pow(r,r)/t.pow(i*n+r,i+r))/(n*e.betafn(i/2,r/2)):void 0},cdf:function(t,n,i){return e.ibeta(n*t/(n*t+i),n/2,i/2)},inv:function(t,n,i){return i/(n*(1/e.ibetainv(t,n/2,i/2)-1))},mean:function(e,t){return t>2?t/(t-2):void 0},mode:function(e,t){return e>2?t*(e-2)/(e*(t+2)):void 0},sample:function(t,n){var i=2*e.randg(t/2),r=2*e.randg(n/2);return i/t/(r/n)},variance:function(e,t){return t>4?2*t*t*(e+t-2)/(e*(t-2)*(t-2)*(t-4)):void 0}}),e.extend(e.cauchy,{pdf:function(e,n,i){return i/(t.pow(e-n,2)+t.pow(i,2))/t.PI},cdf:function(e,n,i){return t.atan((e-n)/i)/t.PI+.5},inv:function(e,n,i){return n+i*t.tan(t.PI*(e-.5))},median:function(e){return e},mode:function(e){return e},sample:function(n,i){return e.randn()*t.sqrt(1/(2*e.randg(.5)))*i+n}}),e.extend(e.chisquare,{pdf:function(n,i){return t.exp((i/2-1)*t.log(n)-n/2-i/2*t.log(2)-e.gammaln(i/2))},cdf:function(t,n){return e.gammap(n/2,t/2)},inv:function(t,n){return 2*e.gammapinv(t,.5*n)},mean:function(e){return e},median:function(e){return e*t.pow(1-2/(9*e),3)},mode:function(e){return e-2>0?e-2:0},sample:function(t){return 2*e.randg(t/2)},variance:function(e){return 2*e}}),e.extend(e.exponential,{pdf:function(e,n){return 0>e?0:n*t.exp(-n*e)},cdf:function(e,n){return 0>e?0:1-t.exp(-n*e)},inv:function(e,n){return-t.log(1-e)/n},mean:function(e){return 1/e},median:function(e){return 1/e*t.log(2)},mode:function(){return 0},sample:function(e){return-1/e*t.log(t.random())},variance:function(e){return t.pow(e,-2)}}),e.extend(e.gamma,{pdf:function(n,i,r){return t.exp((i-1)*t.log(n)-n/r-e.gammaln(i)-i*t.log(r))},cdf:function(t,n,i){return e.gammap(n,t/i)},inv:function(t,n,i){return e.gammapinv(t,n)*i},mean:function(e,t){return e*t},mode:function(e,t){return e>1?(e-1)*t:void 0},sample:function(t,n){return e.randg(t)*n},variance:function(e,t){return e*t*t}}),e.extend(e.invgamma,{pdf:function(n,i,r){return t.exp(-(i+1)*t.log(n)-r/n-e.gammaln(i)+i*t.log(r))},cdf:function(t,n,i){return 1-e.gammap(n,i/t)},inv:function(t,n,i){return i/e.gammapinv(1-t,n)},mean:function(e,t){return e>1?t/(e-1):void 0},mode:function(e,t){return t/(e+1)},sample:function(t,n){return n/e.randg(t)},variance:function(e,t){return e>2?t*t/((e-1)*(e-1)*(e-2)):void 0}}),e.extend(e.kumaraswamy,{pdf:function(e,n,i){return t.exp(t.log(n)+t.log(i)+(n-1)*t.log(e)+(i-1)*t.log(1-t.pow(e,n)))},cdf:function(e,n,i){return 1-t.pow(1-t.pow(e,n),i)},mean:function(t,n){return n*e.gammafn(1+1/t)*e.gammafn(n)/e.gammafn(1+1/t+n)},median:function(e,n){return t.pow(1-t.pow(2,-1/n),1/e)},mode:function(e,n){return e>=1&&n>=1&&1!==e&&1!==n?t.pow((e-1)/(e*n-1),1/e):void 0},variance:function(){}}),e.extend(e.lognormal,{pdf:function(e,n,i){return t.exp(-t.log(e)-.5*t.log(2*t.PI)-t.log(i)-t.pow(t.log(e)-n,2)/(2*i*i))},cdf:function(n,i,r){return.5+.5*e.erf((t.log(n)-i)/t.sqrt(2*r*r))},inv:function(n,i,r){return t.exp(-1.4142135623730951*r*e.erfcinv(2*n)+i)},mean:function(e,n){return t.exp(e+n*n/2)},median:function(e){return t.exp(e)},mode:function(e,n){return t.exp(e-n*n)},sample:function(n,i){return t.exp(e.randn()*i+n)},variance:function(e,n){return(t.exp(n*n)-1)*t.exp(2*e+n*n)}}),e.extend(e.normal,{pdf:function(e,n,i){return t.exp(-.5*t.log(2*t.PI)-t.log(i)-t.pow(e-n,2)/(2*i*i))},cdf:function(n,i,r){return.5*(1+e.erf((n-i)/t.sqrt(2*r*r)))},inv:function(t,n,i){return-1.4142135623730951*i*e.erfcinv(2*t)+n},mean:function(e){return e},median:function(e){return e},mode:function(e){return e},sample:function(t,n){return e.randn()*n+t},variance:function(e,t){return t*t}}),e.extend(e.pareto,{pdf:function(e,n,i){return e>n?i*t.pow(n,i)/t.pow(e,i+1):void 0},cdf:function(e,n,i){return 1-t.pow(n/e,i)},mean:function(e,n){return n>1?n*t.pow(e,n)/(n-1):void 0},median:function(e,n){return e*n*t.SQRT2},mode:function(e){return e},variance:function(e,n){return n>2?e*e*n/(t.pow(n-1,2)*(n-2)):void 0}}),e.extend(e.studentt,{pdf:function(n,i){return e.gammafn((i+1)/2)/(t.sqrt(i*t.PI)*e.gammafn(i/2))*t.pow(1+n*n/i,-((i+1)/2))},cdf:function(n,i){var r=i/2;return e.ibeta((n+t.sqrt(n*n+i))/(2*t.sqrt(n*n+i)),r,r)},inv:function(n,i){var r=e.ibetainv(2*t.min(n,1-n),.5*i,.5);return r=t.sqrt(i*(1-r)/r),n>0?r:-r},mean:function(e){return e>1?0:void 0},median:function(){return 0},mode:function(){return 0},sample:function(n){return e.randn()*t.sqrt(n/(2*e.randg(n/2)))},variance:function(e){return e>2?e/(e-2):e>1?1/0:void 0}}),e.extend(e.weibull,{pdf:function(e,n,i){return 0>e?0:i/n*t.pow(e/n,i-1)*t.exp(-t.pow(e/n,i))},cdf:function(e,n,i){return 0>e?0:1-t.exp(-t.pow(e/n,i))},inv:function(e,n,i){return n*t.pow(-t.log(1-e),1/i)},mean:function(t,n){return t*e.gammafn(1+1/n)},median:function(e,n){return e*t.pow(t.log(2),1/n)},mode:function(e,n){return n>1?e*t.pow((n-1)/n,1/n):void 0},sample:function(e,n){return e*t.pow(-t.log(t.random()),1/n)},variance:function(n,i){return n*n*e.gammafn(1+2/i)-t.pow(this.mean(n,i),2)}}),e.extend(e.uniform,{pdf:function(e,t,n){return t>e||e>n?0:1/(n-t)},cdf:function(e,t,n){return t>e?0:n>e?(e-t)/(n-t):1},mean:function(e,t){return.5*(e+t)},median:function(t,n){return e.mean(t,n)},mode:function(){},sample:function(e,n){return e/2+n/2+(n/2-e/2)*(2*t.random()-1)},variance:function(e,n){return t.pow(n-e,2)/12}}),e.extend(e.binomial,{pdf:function(n,i,r){return 0===r||1===r?i*r===n?1:0:e.combination(i,n)*t.pow(r,n)*t.pow(1-r,i-n)},cdf:function(t,n,i){var r=[],a=0;if(0>t)return 0;if(n>t){for(;t>=a;a++)r[a]=e.binomial.pdf(a,n,i);return e.sum(r)}return 1}}),e.extend(e.negbin,{pdf:function(n,i,r){return 0|n!==n?!1:0>n?0:e.combination(n+i-1,n)*t.pow(1-r,i)*t.pow(r,n)},cdf:function(t,n,i){var r=0,a=0;if(0>t)return 0;for(;t>=a;a++)r+=e.negbin.pdf(a,n,i);return r}}),e.extend(e.hypgeom,{pdf:function(t,n,i,r){return 0|t!==t?!1:0>t?0:e.combination(i,t)*e.combination(n-i,r-t)/e.combination(n,r)},cdf:function(t,n,i,r){var a=0,s=0;if(0>t)return 0;for(;t>=s;s++)a+=e.hypgeom.pdf(s,n,i,r);return a}}),e.extend(e.poisson,{pdf:function(n,i){return t.pow(i,n)*t.exp(-i)/e.factorial(n)},cdf:function(t,n){var i=[],r=0;if(0>t)return 0;for(;t>=r;r++)i.push(e.poisson.pdf(r,n));return e.sum(i)},mean:function(e){return e},variance:function(e){return e},sample:function(e){var n=1,i=0,r=t.exp(-e);do i++,n*=t.random();while(n>r);return i-1}}),e.extend(e.triangular,{pdf:function(e,t,n,i){return t>=n||t>i||i>n?void 0:t>e||e>n?0:i>=e?2*(e-t)/((n-t)*(i-t)):2*(n-e)/((n-t)*(n-i))},cdf:function(e,n,i,r){return n>=i||n>r||r>i?void 0:n>e?0:r>=e?t.pow(e-n,2)/((i-n)*(r-n)):1-t.pow(i-e,2)/((i-n)*(i-r))},mean:function(e,t,n){return(e+t+n)/3},median:function(e,n,i){return(e+n)/2>=i?n-t.sqrt((n-e)*(n-i))/t.sqrt(2):i>(e+n)/2?e+t.sqrt((n-e)*(i-e))/t.sqrt(2):void 0},mode:function(e,t,n){return n},sample:function(e,n,i){var r=t.random();return(i-e)/(n-e)>r?e+t.sqrt(r*(n-e)*(i-e)):n-t.sqrt((1-r)*(n-e)*(n-i))},variance:function(e,t,n){return(e*e+t*t+n*n-e*t-e*n-t*n)/18}})}(this.jStat,Math),function(e,t){var n=Array.prototype.push,i=e.utils.isArray;e.extend({add:function(t,n){return i(n)?(i(n[0])||(n=[n]),e.map(t,function(e,t,i){return e+n[t][i]})):e.map(t,function(e){return e+n})},subtract:function(t,n){return i(n)?(i(n[0])||(n=[n]),e.map(t,function(e,t,i){return e-n[t][i]||0
})):e.map(t,function(e){return e-n})},divide:function(t,n){return i(n)?(i(n[0])||(n=[n]),e.multiply(t,e.inv(n))):e.map(t,function(e){return e/n})},multiply:function(t,n){var r,a,s,o,l=t.length,c=t[0].length,h=e.zeros(l,s=i(n)?n[0].length:c),u=0;if(i(n)){for(;s>u;u++)for(r=0;l>r;r++){for(o=0,a=0;c>a;a++)o+=t[r][a]*n[a][u];h[r][u]=o}return 1===l&&1===u?h[0][0]:h}return e.map(t,function(e){return e*n})},dot:function(t,n){i(t[0])||(t=[t]),i(n[0])||(n=[n]);for(var r,a,s=1===t[0].length&&1!==t.length?e.transpose(t):t,o=1===n[0].length&&1!==n.length?e.transpose(n):n,l=[],c=0,h=s.length,u=s[0].length;h>c;c++){for(l[c]=[],r=0,a=0;u>a;a++)r+=s[c][a]*o[c][a];l[c]=r}return 1===l.length?l[0]:l},pow:function(n,i){return e.map(n,function(e){return t.pow(e,i)})},abs:function(n){return e.map(n,function(e){return t.abs(e)})},norm:function(e,n){var r=0,a=0;for(isNaN(n)&&(n=2),i(e[0])&&(e=e[0]);a<e.length;a++)r+=t.pow(t.abs(e[a]),n);return t.pow(r,1/n)},angle:function(n,i){return t.acos(e.dot(n,i)/(e.norm(n)*e.norm(i)))},aug:function(e,t){for(var i=e.slice(),r=0;r<i.length;r++)n.apply(i[r],t[r]);return i},inv:function(t){for(var n,i=t.length,r=t[0].length,a=e.identity(i,r),s=e.gauss_jordan(t,a),o=[],l=0;i>l;l++)for(o[l]=[],n=r-1;n<s[0].length;n++)o[l][n-r]=s[l][n];return o},det:function(e){var t,n=e.length,i=2*n,r=new Array(i),a=n-1,s=i-1,o=a-n+1,l=s,c=0,h=0;if(2===n)return e[0][0]*e[1][1]-e[0][1]*e[1][0];for(;i>c;c++)r[c]=1;for(c=0;n>c;c++){for(t=0;n>t;t++)r[0>o?o+n:o]*=e[c][t],r[n>l?l+n:l]*=e[c][t],o++,l--;o=--a-n+1,l=--s}for(c=0;n>c;c++)h+=r[c];for(;i>c;c++)h-=r[c];return h},gauss_elimination:function(n,i){var r,a,s,o,l=0,c=0,h=n.length,u=n[0].length,d=1,p=0,f=[];for(n=e.aug(n,i),r=n[0].length;h>l;l++){for(a=n[l][l],c=l,o=l+1;u>o;o++)a<t.abs(n[o][l])&&(a=n[o][l],c=o);if(c!=l)for(o=0;r>o;o++)s=n[l][o],n[l][o]=n[c][o],n[c][o]=s;for(c=l+1;h>c;c++)for(d=n[c][l]/n[l][l],o=l;r>o;o++)n[c][o]=n[c][o]-d*n[l][o]}for(l=h-1;l>=0;l--){for(p=0,c=l+1;h-1>=c;c++)p=f[c]*n[l][c];f[l]=(n[l][r-1]-p)/n[l][l]}return f},gauss_jordan:function(n,i){for(var r=e.aug(n,i),a=r.length,s=r[0].length,o=0;a>o;o++){for(var l=o,h=o+1;a>h;h++)t.abs(r[h][o])>t.abs(r[l][o])&&(l=h);var u=r[o];r[o]=r[l],r[l]=u;for(var h=o+1;a>h;h++){c=r[h][o]/r[o][o];for(var d=o;s>d;d++)r[h][d]-=r[o][d]*c}}for(var o=a-1;o>=0;o--){c=r[o][o];for(var h=0;o>h;h++)for(var d=s-1;d>o-1;d--)r[h][d]-=r[o][d]*r[h][o]/c;r[o][o]/=c;for(var d=a;s>d;d++)r[o][d]/=c}return r},lu:function(){},cholesky:function(){},gauss_jacobi:function(n,i,r,a){for(var s,o,l,c,h=0,u=0,d=n.length,p=[],f=[],g=[];d>h;h++)for(p[h]=[],f[h]=[],g[h]=[],u=0;d>u;u++)h>u?(p[h][u]=n[h][u],f[h][u]=g[h][u]=0):u>h?(f[h][u]=n[h][u],p[h][u]=g[h][u]=0):(g[h][u]=n[h][u],p[h][u]=f[h][u]=0);for(l=e.multiply(e.multiply(e.inv(g),e.add(p,f)),-1),o=e.multiply(e.inv(g),i),s=r,c=e.add(e.multiply(l,r),o),h=2;t.abs(e.norm(e.subtract(c,s)))>a;)s=c,c=e.add(e.multiply(l,s),o),h++;return c},gauss_seidel:function(n,i,r,a){for(var s,o,l,c,h,u=0,d=n.length,p=[],f=[],g=[];d>u;u++)for(p[u]=[],f[u]=[],g[u]=[],s=0;d>s;s++)u>s?(p[u][s]=n[u][s],f[u][s]=g[u][s]=0):s>u?(f[u][s]=n[u][s],p[u][s]=g[u][s]=0):(g[u][s]=n[u][s],p[u][s]=f[u][s]=0);for(c=e.multiply(e.multiply(e.inv(e.add(g,p)),f),-1),l=e.multiply(e.inv(e.add(g,p)),i),o=r,h=e.add(e.multiply(c,r),l),u=2;t.abs(e.norm(e.subtract(h,o)))>a;)o=h,h=e.add(e.multiply(c,o),l),u+=1;return h},SOR:function(n,i,r,a,s){for(var o,l,c,h,u,d=0,p=n.length,f=[],g=[],m=[];p>d;d++)for(f[d]=[],g[d]=[],m[d]=[],o=0;p>o;o++)d>o?(f[d][o]=n[d][o],g[d][o]=m[d][o]=0):o>d?(g[d][o]=n[d][o],f[d][o]=m[d][o]=0):(m[d][o]=n[d][o],f[d][o]=g[d][o]=0);for(h=e.multiply(e.inv(e.add(m,e.multiply(f,s))),e.subtract(e.multiply(m,1-s),e.multiply(g,s))),c=e.multiply(e.multiply(e.inv(e.add(m,e.multiply(f,s))),i),s),l=r,u=e.add(e.multiply(h,r),c),d=2;t.abs(e.norm(e.subtract(u,l)))>a;)l=u,u=e.add(e.multiply(h,l),c),d++;return u},householder:function(n){for(var i,r,a,s,o,l=n.length,c=n[0].length,h=0,u=[],d=[];l-1>h;h++){for(i=0,s=h+1;c>s;s++)i+=n[s][h]*n[s][h];for(o=n[h+1][h]>0?-1:1,i=o*t.sqrt(i),r=t.sqrt((i*i-n[h+1][h]*i)/2),u=e.zeros(l,1),u[h+1][0]=(n[h+1][h]-i)/(2*r),a=h+2;l>a;a++)u[a][0]=n[a][h]/(2*r);d=e.subtract(e.identity(l,c),e.multiply(e.multiply(u,e.transpose(u)),2)),n=e.multiply(d,e.multiply(n,d))}return n},QR:function(n,i){for(var r,a,s,o,l,c,h=n.length,u=n[0].length,d=0,p=[],f=[],g=[];h-1>d;d++){for(a=0,r=d+1;u>r;r++)a+=n[r][d]*n[r][d];for(l=n[d+1][d]>0?-1:1,a=l*t.sqrt(a),s=t.sqrt((a*a-n[d+1][d]*a)/2),p=e.zeros(h,1),p[d+1][0]=(n[d+1][d]-a)/(2*s),o=d+2;h>o;o++)p[o][0]=n[o][d]/(2*s);f=e.subtract(e.identity(h,u),e.multiply(e.multiply(p,e.transpose(p)),2)),n=e.multiply(f,n),i=e.multiply(f,i)}for(d=h-1;d>=0;d--){for(c=0,r=d+1;u-1>=r;r++)c=g[r]*n[d][r];g[d]=i[d][0]/n[d][d]}return g},jacobi:function(n){for(var i,r,a,s,o,l,c,h,u=1,d=0,p=n.length,f=e.identity(p,p),g=[];1===u;){for(d++,l=n[0][1],s=0,o=1,r=0;p>r;r++)for(a=0;p>a;a++)r!=a&&l<t.abs(n[r][a])&&(l=t.abs(n[r][a]),s=r,o=a);for(c=n[s][s]===n[o][o]?n[s][o]>0?t.PI/4:-t.PI/4:t.atan(2*n[s][o]/(n[s][s]-n[o][o]))/2,h=e.identity(p,p),h[s][s]=t.cos(c),h[s][o]=-t.sin(c),h[o][s]=t.sin(c),h[o][o]=t.cos(c),f=e.multiply(f,h),i=e.multiply(e.multiply(e.inv(h),n),h),n=i,u=0,r=1;p>r;r++)for(a=1;p>a;a++)r!=a&&t.abs(n[r][a])>.001&&(u=1)}for(r=0;p>r;r++)g.push(n[r][r]);return[f,g]},rungekutta:function(e,t,n,i,r,a){var s,o,l,c,h;if(2===a)for(;n>=i;)s=t*e(i,r),o=t*e(i+t,r+s),l=r+(s+o)/2,r=l,i+=t;if(4===a)for(;n>=i;)s=t*e(i,r),o=t*e(i+t/2,r+s/2),c=t*e(i+t/2,r+o/2),h=t*e(i+t,r+c),l=r+(s+2*o+2*c+h)/6,r=l,i+=t;return r},romberg:function(e,n,i,r){for(var a,s,o,l,c,h=0,u=(i-n)/2,d=[],p=[],f=[];r/2>h;){for(c=e(n),o=n,l=0;i>=o;o+=u,l++)d[l]=o;for(a=d.length,o=1;a-1>o;o++)c+=(0!==o%2?4:2)*e(d[o]);c=u/3*(c+e(i)),f[h]=c,u/=2,h++}for(s=f.length,a=1;1!==s;){for(o=0;s-1>o;o++)p[o]=(t.pow(4,a)*f[o+1]-f[o])/(t.pow(4,a)-1);s=p.length,f=p,p=[],a++}return f},richardson:function(e,n,i,r){function a(e,t){for(var n,i=0,r=e.length;r>i;i++)e[i]===t&&(n=i);return n}for(var s,o,l,c,h,u=(e.length,t.abs(i-e[a(e,i)+1])),d=0,p=[],f=[];r>=u;)s=a(e,i+r),o=a(e,i),p[d]=(n[s]-2*n[o]+n[2*o-s])/(r*r),r/=2,d++;for(c=p.length,l=1;1!=c;){for(h=0;c-1>h;h++)f[h]=(t.pow(4,l)*p[h+1]-p[h])/(t.pow(4,l)-1);c=f.length,p=f,f=[],l++}return p},simpson:function(e,t,n,i){for(var r,a=(n-t)/i,s=e(t),o=[],l=t,c=0,h=1;n>=l;l+=a,c++)o[c]=l;for(r=o.length;r-1>h;h++)s+=(0!==h%2?4:2)*e(o[h]);return a/3*(s+e(n))},hermite:function(e,t,n,i){for(var r,a=e.length,s=0,o=0,l=[],c=[],h=[],u=[];a>o;o++){for(l[o]=1,r=0;a>r;r++)o!=r&&(l[o]*=(i-e[r])/(e[o]-e[r]));for(c[o]=0,r=0;a>r;r++)o!=r&&(c[o]+=1/(e[o]-e[r]));h[o]=(1-2*(i-e[o])*c[o])*l[o]*l[o],u[o]=(i-e[o])*l[o]*l[o],s+=h[o]*t[o]+u[o]*n[o]}return s},lagrange:function(e,t,n){for(var i,r,a=0,s=0,o=e.length;o>s;s++){for(r=t[s],i=0;o>i;i++)s!=i&&(r*=(n-e[i])/(e[s]-e[i]));a+=r}return a},cubic_spline:function(t,n,i){for(var r,a=t.length,s=0,o=[],l=[],c=[],h=[],u=[],d=[],p=[];a-1>s;s++)u[s]=t[s+1]-t[s];for(c[0]=0,s=1;a-1>s;s++)c[s]=3/u[s]*(n[s+1]-n[s])-3/u[s-1]*(n[s]-n[s-1]);for(s=1;a-1>s;s++)o[s]=[],l[s]=[],o[s][s-1]=u[s-1],o[s][s]=2*(u[s-1]+u[s]),o[s][s+1]=u[s],l[s][0]=c[s];for(h=e.multiply(e.inv(o),l),r=0;a-1>r;r++)d[r]=(n[r+1]-n[r])/u[r]-u[r]*(h[r+1][0]+2*h[r][0])/3,p[r]=(h[r+1][0]-h[r][0])/(3*u[r]);for(r=0;a>r&&!(t[r]>i);r++);return r-=1,n[r]+(i-t[r])*d[r]+e.sq(i-t[r])*h[r]+(i-t[r])*e.sq(i-t[r])*p[r]},gauss_quadrature:function(){},PCA:function(t){var n,i,r=t.length,a=t[0].length,s=0,o=[],l=[],c=[],h=[],u=[],d=[],p=[],f=[],g=[],m=[];for(s=0;r>s;s++)o[s]=e.sum(t[s])/a;for(s=0;a>s;s++)for(p[s]=[],n=0;r>n;n++)p[s][n]=t[n][s]-o[n];for(p=e.transpose(p),s=0;r>s;s++)for(f[s]=[],n=0;r>n;n++)f[s][n]=e.dot([p[s]],[p[n]])/(a-1);for(c=e.jacobi(f),g=c[0],l=c[1],m=e.transpose(g),s=0;s<l.length;s++)for(n=s;n<l.length;n++)l[s]<l[n]&&(i=l[s],l[s]=l[n],l[n]=i,h=m[s],m[s]=m[n],m[n]=h);for(d=e.transpose(p),s=0;r>s;s++)for(u[s]=[],n=0;n<d.length;n++)u[s][n]=e.dot([m[s]],[d[n]]);return[t,l,m,u]}}),function(t){for(var n=0;n<t.length;n++)!function(t){e.fn[t]=function(n,i){var r=this;return i?(setTimeout(function(){i.call(r,e.fn[t].call(r,n))},15),this):e(e[t](this,n))}}(t[n])}("add divide multiply subtract dot pow abs norm angle".split(" "))}(this.jStat,Math),function(e,t){var n=[].slice,i=e.utils.isNumber;e.extend({zscore:function(){var t=n.call(arguments);return i(t[1])?(t[0]-t[1])/t[2]:(t[0]-e.mean(t[1]))/e.stdev(t[1],t[2])},ztest:function(){var r=n.call(arguments);if(4===r.length){if(i(r[1])){var a=e.zscore(r[0],r[1],r[2]);return 1===r[3]?e.normal.cdf(-t.abs(a),0,1):2*e.normal.cdf(-t.abs(a),0,1)}var a=r[0];return 1===r[2]?e.normal.cdf(-t.abs(a),0,1):2*e.normal.cdf(-t.abs(a),0,1)}var a=e.zscore(r[0],r[1],r[3]);return 1===r[1]?e.normal.cdf(-t.abs(a),0,1):2*e.normal.cdf(-t.abs(a),0,1)}}),e.extend(e.fn,{zscore:function(e,t){return(e-this.mean())/this.stdev(t)},ztest:function(n,i,r){var a=t.abs(this.zscore(n,r));return 1===i?e.normal.cdf(-a,0,1):2*e.normal.cdf(-a,0,1)}}),e.extend({tscore:function(){var i=n.call(arguments);return 4===i.length?(i[0]-i[1])/(i[2]/t.sqrt(i[3])):(i[0]-e.mean(i[1]))/(e.stdev(i[1],!0)/t.sqrt(i[1].length))},ttest:function(){var r,a=n.call(arguments);return 5===a.length?(r=t.abs(e.tscore(a[0],a[1],a[2],a[3])),1===a[4]?e.studentt.cdf(-r,a[3]-1):2*e.studentt.cdf(-r,a[3]-1)):i(a[1])?(r=t.abs(a[0]),1==a[2]?e.studentt.cdf(-r,a[1]-1):2*e.studentt.cdf(-r,a[1]-1)):(r=t.abs(e.tscore(a[0],a[1])),1==a[2]?e.studentt.cdf(-r,a[1].length-1):2*e.studentt.cdf(-r,a[1].length-1))}}),e.extend(e.fn,{tscore:function(e){return(e-this.mean())/(this.stdev(!0)/t.sqrt(this.cols()))},ttest:function(n,i){return 1===i?1-e.studentt.cdf(t.abs(this.tscore(n)),this.cols()-1):2*e.studentt.cdf(-t.abs(this.tscore(n)),this.cols()-1)}}),e.extend({anovafscore:function(){var i,r,a,s,o,l,c,h,u=n.call(arguments);if(1===u.length){for(o=new Array(u[0].length),c=0;c<u[0].length;c++)o[c]=u[0][c];u=o}if(2===u.length)return e.variance(u[0])/e.variance(u[1]);for(r=new Array,c=0;c<u.length;c++)r=r.concat(u[c]);for(a=e.mean(r),i=0,c=0;c<u.length;c++)i+=u[c].length*t.pow(e.mean(u[c])-a,2);for(i/=u.length-1,l=0,c=0;c<u.length;c++)for(s=e.mean(u[c]),h=0;h<u[c].length;h++)l+=t.pow(u[c][h]-s,2);return l/=r.length-u.length,i/l},anovaftest:function(){var t,r,a,s,o=n.call(arguments);if(i(o[0]))return 1-e.centralF.cdf(o[0],o[1],o[2]);for(anovafscore=e.anovafscore(o),t=o.length-1,a=0,s=0;s<o.length;s++)a+=o[s].length;return r=a-t-1,1-e.centralF.cdf(anovafscore,t,r)},ftest:function(t,n,i){return 1-e.centralF.cdf(t,n,i)}}),e.extend(e.fn,{anovafscore:function(){return e.anovafscore(this.toArray())},anovaftest:function(){var t,n=0;for(t=0;t<this.length;t++)n+=this[t].length;return e.ftest(this.anovafscore(),this.length-1,n-this.length)}}),e.extend({normalci:function(){var i,r=n.call(arguments),a=new Array(2);return i=4===r.length?t.abs(e.normal.inv(r[1]/2,0,1)*r[2]/t.sqrt(r[3])):t.abs(e.normal.inv(r[1]/2,0,1)*e.stdev(r[2])/t.sqrt(r[2].length)),a[0]=r[0]-i,a[1]=r[0]+i,a},tci:function(){var i,r=n.call(arguments),a=new Array(2);return i=4===r.length?t.abs(e.studentt.inv(r[1]/2,r[3]-1)*r[2]/t.sqrt(r[3])):t.abs(e.studentt.inv(r[1]/2,r[2].length)*e.stdev(r[2],!0)/t.sqrt(r[2].length)),a[0]=r[0]-i,a[1]=r[0]+i,a},significant:function(e,t){return t>e}}),e.extend(e.fn,{normalci:function(t,n){return e.normalci(t,n,this.toArray())},tci:function(t,n){return e.tci(t,n,this.toArray())}})}(this.jStat,Math),function(e){e.fn.drag=function(t,n,i){var r="string"==typeof t?t:"",a=e.isFunction(t)?t:e.isFunction(n)?n:null;return 0!==r.indexOf("drag")&&(r="drag"+r),i=(t==a?n:i)||{},a?this.bind(r,i,a):this.trigger(r)};var t=e.event,n=t.special,i=n.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",noBubble:!0,add:function(t){var n=e.data(this,i.datakey),r=t.data||{};n.related+=1,e.each(i.defaults,function(e){void 0!==r[e]&&(n[e]=r[e])})},remove:function(){e.data(this,i.datakey).related-=1},setup:function(){if(!e.data(this,i.datakey)){var n=e.extend({related:0},i.defaults);e.data(this,i.datakey,n),t.add(this,"touchstart mousedown",i.init,n),this.attachEvent&&this.attachEvent("ondragstart",i.dontstart)}},teardown:function(){var n=e.data(this,i.datakey)||{};n.related||(e.removeData(this,i.datakey),t.remove(this,"touchstart mousedown",i.init),i.textselect(!0),this.detachEvent&&this.detachEvent("ondragstart",i.dontstart))},init:function(r){if(!i.touched){var a,s=r.data;if(!(0!=r.which&&s.which>0&&r.which!=s.which||e(r.target).is(s.not)||s.handle&&!e(r.target).closest(s.handle,r.currentTarget).length||(i.touched="touchstart"==r.type?this:null,s.propagates=1,s.mousedown=this,s.interactions=[i.interaction(this,s)],s.target=r.target,s.pageX=r.pageX,s.pageY=r.pageY,s.dragging=null,a=i.hijack(r,"draginit",s),!s.propagates)))return a=i.flatten(a),a&&a.length&&(s.interactions=[],e.each(a,function(){s.interactions.push(i.interaction(this,s))})),s.propagates=s.interactions.length,s.drop!==!1&&n.drop&&n.drop.handler(r,s),i.textselect(!1),i.touched?t.add(i.touched,"touchmove touchend",i.handler,s):t.add(document,"mousemove mouseup",i.handler,s),!i.touched||s.live?!1:void 0}},interaction:function(t,n){var r=e(t)[n.relative?"position":"offset"]()||{top:0,left:0};return{drag:t,callback:new i.callback,droppable:[],offset:r}},handler:function(r){var a=r.data;switch(r.type){case!a.dragging&&"touchmove":r.preventDefault();case!a.dragging&&"mousemove":if(Math.pow(r.pageX-a.pageX,2)+Math.pow(r.pageY-a.pageY,2)<Math.pow(a.distance,2))break;r.target=a.target,i.hijack(r,"dragstart",a),a.propagates&&(a.dragging=!0);case"touchmove":r.preventDefault();case"mousemove":if(a.dragging){if(i.hijack(r,"drag",a),a.propagates){a.drop!==!1&&n.drop&&n.drop.handler(r,a);break}r.type="mouseup"}case"touchend":case"mouseup":default:i.touched?t.remove(i.touched,"touchmove touchend",i.handler):t.remove(document,"mousemove mouseup",i.handler),a.dragging&&(a.drop!==!1&&n.drop&&n.drop.handler(r,a),i.hijack(r,"dragend",a)),i.textselect(!0),a.click===!1&&a.dragging&&e.data(a.mousedown,"suppress.click",(new Date).getTime()+5),a.dragging=i.touched=!1}},hijack:function(n,r,a,s,o){if(a){var l,c,h,u={event:n.originalEvent,type:n.type},d=r.indexOf("drop")?"drag":"drop",p=s||0,f=isNaN(s)?a.interactions.length:s;n.type=r,n.originalEvent=null,a.results=[];do if(c=a.interactions[p]){if("dragend"!==r&&c.cancelled)continue;h=i.properties(n,a,c),c.results=[],e(o||c[d]||a.droppable).each(function(s,o){return h.target=o,n.isPropagationStopped=function(){return!1},l=o?t.dispatch.call(o,n,h):null,l===!1?("drag"==d&&(c.cancelled=!0,a.propagates-=1),"drop"==r&&(c[d][s]=null)):"dropinit"==r&&c.droppable.push(i.element(l)||o),"dragstart"==r&&(c.proxy=e(i.element(l)||c.drag)[0]),c.results.push(l),delete n.result,"dropinit"!==r?l:void 0}),a.results[p]=i.flatten(c.results),"dropinit"==r&&(c.droppable=i.flatten(c.droppable)),"dragstart"!=r||c.cancelled||h.update()}while(++p<f);return n.type=u.type,n.originalEvent=u.event,i.flatten(a.results)}},properties:function(e,t,n){var r=n.callback;return r.drag=n.drag,r.proxy=n.proxy||n.drag,r.startX=t.pageX,r.startY=t.pageY,r.deltaX=e.pageX-t.pageX,r.deltaY=e.pageY-t.pageY,r.originalX=n.offset.left,r.originalY=n.offset.top,r.offsetX=r.originalX+r.deltaX,r.offsetY=r.originalY+r.deltaY,r.drop=i.flatten((n.drop||[]).slice()),r.available=i.flatten((n.droppable||[]).slice()),r},element:function(e){return e&&(e.jquery||1==e.nodeType)?e:void 0},flatten:function(t){return e.map(t,function(t){return t&&t.jquery?e.makeArray(t):t&&t.length?i.flatten(t):t})},textselect:function(t){e(document)[t?"unbind":"bind"]("selectstart",i.dontstart).css("MozUserSelect",t?"":"none"),document.unselectable=t?"off":"on"},dontstart:function(){return!1},callback:function(){}};i.callback.prototype={update:function(){n.drop&&this.available.length&&e.each(this.available,function(e){n.drop.locate(this,e)})}};var r=t.dispatch;t.dispatch=function(t){return e.data(this,"suppress."+t.type)-(new Date).getTime()>0?(e.removeData(this,"suppress."+t.type),void 0):r.apply(this,arguments)};var a=t.fixHooks.touchstart=t.fixHooks.touchmove=t.fixHooks.touchend=t.fixHooks.touchcancel={props:"clientX clientY pageX pageY screenX screenY".split(" "),filter:function(t,n){if(n){var i=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0]||null;i&&e.each(a.props,function(e,n){t[n]=i[n]})}return t}};n.draginit=n.dragstart=n.dragend=i}(jQuery),function(e){e.fn.drop=function(t,n,i){var r="string"==typeof t?t:"",a=e.isFunction(t)?t:e.isFunction(n)?n:null;return 0!==r.indexOf("drop")&&(r="drop"+r),i=(t==a?n:i)||{},a?this.bind(r,i,a):this.trigger(r)},e.drop=function(t){t=t||{},i.multi=t.multi===!0?1/0:t.multi===!1?1:isNaN(t.multi)?i.multi:t.multi,i.delay=t.delay||i.delay,i.tolerance=e.isFunction(t.tolerance)?t.tolerance:null===t.tolerance?null:i.tolerance,i.mode=t.mode||i.mode||"intersect"};var t=e.event,n=t.special,i=e.event.special.drop={multi:1,delay:20,mode:"overlap",targets:[],datakey:"dropdata",livekey:"livedrop",add:function(n){var r=e.data(this,i.datakey);r.related+=1,!r.live&&n.selector&&(r.live=!0,t.add(this,"dropinit."+i.livekey,i.delegate))},remove:function(){e.data(this,i.datakey).related-=1},setup:function(){if(!e.data(this,i.datakey)){var t={related:0,active:[],anyactive:0,winner:0,location:{}};e.data(this,i.datakey,t),i.targets.push(this)}},teardown:function(){if(!e.data(this,i.datakey).related){e.removeData(this,i.datakey),t.remove(this,"dropinit",i.delegate);var n=this;i.targets=e.grep(i.targets,function(e){return e!==n})}},handler:function(r,a){var s;if(a)switch(r.type){case"mousedown":s=e(i.targets),"string"==typeof a.drop&&(s=s.filter(a.drop)),s.each(function(){var t=e.data(this,i.datakey);t.active=[],t.anyactive=0,t.winner=0}),a.droppable=s,i.delegates=[],n.drag.hijack(r,"dropinit",a),i.delegates=e.unique(n.drag.flatten(i.delegates));break;case"mousemove":i.event=r,i.timer||i.tolerate(a);break;case"mouseup":i.timer=clearTimeout(i.timer),a.propagates&&(n.drag.hijack(r,"drop",a),n.drag.hijack(r,"dropend",a),e.each(i.delegates||[],function(){t.remove(this,"."+i.livekey)}))}},delegate:function(n){var r,a=[],s=e.data(this,"events")||{};return e.each(s.live||[],function(s,o){0===o.preType.indexOf("drop")&&(r=e(n.currentTarget).find(o.selector),r.length&&r.each(function(){t.add(this,o.origType+"."+i.livekey,o.origHandler,o.data),e.inArray(this,a)<0&&a.push(this)}))}),i.delegates.push(a),a.length?e(a):!1},locate:function(t,n){var r=e.data(t,i.datakey),a=e(t),s=a.offset()||{},o=a.outerHeight(),l=a.outerWidth(),c={elem:t,width:l,height:o,top:s.top,left:s.left,right:s.left+l,bottom:s.top+o};return r&&(r.location=c,r.index=n,r.elem=t),c},contains:function(e,t){return(t[0]||t.left)>=e.left&&(t[0]||t.right)<=e.right&&(t[1]||t.top)>=e.top&&(t[1]||t.bottom)<=e.bottom},modes:{intersect:function(e,t,n){return this.contains(n,[e.pageX,e.pageY])?1e9:this.modes.overlap.apply(this,arguments)},overlap:function(e,t,n){return Math.max(0,Math.min(n.bottom,t.bottom)-Math.max(n.top,t.top))*Math.max(0,Math.min(n.right,t.right)-Math.max(n.left,t.left))},fit:function(e,t,n){return this.contains(n,t)?1:0},middle:function(e,t,n){return this.contains(n,[t.left+.5*t.width,t.top+.5*t.height])?1:0}},sort:function(e,t){return t.winner-e.winner||e.index-t.index},tolerate:function(t){var r,a,s,o,l,c,h,u,d=0,p=t.interactions.length,f=[i.event.pageX,i.event.pageY],g=i.tolerance||i.modes[i.mode];do if(u=t.interactions[d]){if(!u)return;u.drop=[],l=[],c=u.droppable.length,g&&(s=i.locate(u.proxy)),r=0;do if(h=u.droppable[r]){if(o=e.data(h,i.datakey),a=o.location,!a)continue;o.winner=g?g.call(i,i.event,s,a):i.contains(a,f)?1:0,l.push(o)}while(++r<c);l.sort(i.sort),r=0;do(o=l[r])&&(o.winner&&u.drop.length<i.multi?(o.active[d]||o.anyactive||(n.drag.hijack(i.event,"dropstart",t,d,o.elem)[0]!==!1?(o.active[d]=1,o.anyactive+=1):o.winner=0),o.winner&&u.drop.push(o.elem)):o.active[d]&&1==o.anyactive&&(n.drag.hijack(i.event,"dropend",t,d,o.elem),o.active[d]=0,o.anyactive-=1));while(++r<c)}while(++d<p);i.last&&f[0]==i.last.pageX&&f[1]==i.last.pageY?delete i.timer:i.timer=setTimeout(function(){i.tolerate(t)},i.delay),i.last=i.event}};n.dropinit=n.dropstart=n.dropend=i}(jQuery),function(e){function t(){var e=!1,t=!1;this.stopPropagation=function(){e=!0},this.isPropagationStopped=function(){return e},this.stopImmediatePropagation=function(){t=!0},this.isImmediatePropagationStopped=function(){return t}}function n(){var e=[];this.subscribe=function(t){e.push(t)},this.unsubscribe=function(t){for(var n=e.length-1;n>=0;n--)e[n]===t&&e.splice(n,1)},this.notify=function(n,i,r){i=i||new t,r=r||this;for(var a,s=0;s<e.length&&!i.isPropagationStopped()&&!i.isImmediatePropagationStopped();s++)a=e[s].call(r,i,n);return a}}function i(){var e=[];this.subscribe=function(t,n){return e.push({event:t,handler:n}),t.subscribe(n),this},this.unsubscribe=function(t,n){for(var i=e.length;i--;)if(e[i].event===t&&e[i].handler===n)return e.splice(i,1),t.unsubscribe(n),void 0;return this},this.unsubscribeAll=function(){for(var t=e.length;t--;)e[t].event.unsubscribe(e[t].handler);return e=[],this}}function r(e,t,n,i){void 0===n&&void 0===i&&(n=e,i=t),this.fromRow=Math.min(e,n),this.fromCell=Math.min(t,i),this.toRow=Math.max(e,n),this.toCell=Math.max(t,i),this.isSingleRow=function(){return this.fromRow==this.toRow},this.isSingleCell=function(){return this.fromRow==this.toRow&&this.fromCell==this.toCell},this.contains=function(e,t){return e>=this.fromRow&&e<=this.toRow&&t>=this.fromCell&&t<=this.toCell},this.toString=function(){return this.isSingleCell()?"("+this.fromRow+":"+this.fromCell+")":"("+this.fromRow+":"+this.fromCell+" - "+this.toRow+":"+this.toCell+")"}}function a(){this.__nonDataRow=!0}function s(){this.__group=!0,this.level=0,this.count=0,this.value=null,this.title=null,this.collapsed=!1,this.totals=null,this.rows=[],this.groups=null,this.groupingKey=null}function o(){this.__groupTotals=!0,this.group=null}function l(){var e=null;this.isActive=function(t){return t?e===t:null!==e},this.activate=function(t){if(t!==e){if(null!==e)throw"SlickGrid.EditorLock.activate: an editController is still active, can't activate another editController";if(!t.commitCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .commitCurrentEdit()";if(!t.cancelCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .cancelCurrentEdit()";e=t}},this.deactivate=function(t){if(e!==t)throw"SlickGrid.EditorLock.deactivate: specified editController is not the currently active one";e=null},this.commitCurrentEdit=function(){return e?e.commitCurrentEdit():!0},this.cancelCurrentEdit=function(){return e?e.cancelCurrentEdit():!0}}e.extend(!0,window,{Slick:{Event:n,EventData:t,EventHandler:i,Range:r,NonDataRow:a,Group:s,GroupTotals:o,EditorLock:l,GlobalEditorLock:new l}}),s.prototype=new a,s.prototype.equals=function(e){return this.value===e.value&&this.count===e.count&&this.collapsed===e.collapsed},o.prototype=new a}(jQuery),"undefined"==typeof jQuery)throw"SlickGrid requires jquery module to be loaded";if(!jQuery.fn.drag)throw"SlickGrid requires jquery.event.drag module to be loaded";if("undefined"==typeof Slick)throw"slick.core.js not loaded";!function($){function SlickGrid(container,data,columns,options){function init(){if($container=$(container),$container.length<1)throw new Error("SlickGrid requires a valid container, "+container+" does not exist in the DOM.");maxSupportedCssHeight=maxSupportedCssHeight||getMaxSupportedCssHeight(),scrollbarDimensions=scrollbarDimensions||measureScrollbar(),options=$.extend({},defaults,options),validateAndEnforceOptions(),columnDefaults.width=options.defaultColumnWidth,columnsById={};for(var e=0;e<columns.length;e++){var t=columns[e]=$.extend({},columnDefaults,columns[e]);columnsById[t.id]=e,t.minWidth&&t.width<t.minWidth&&(t.width=t.minWidth),t.maxWidth&&t.width>t.maxWidth&&(t.width=t.maxWidth)}if(options.enableColumnReorder&&!$.fn.sortable)throw new Error("SlickGrid's 'enableColumnReorder = true' option requires jquery-ui.sortable module to be loaded");editController={commitCurrentEdit:commitCurrentEdit,cancelCurrentEdit:cancelCurrentEdit},$container.empty().css("overflow","hidden").css("outline",0).addClass(uid).addClass("ui-widget"),/relative|absolute|fixed/.test($container.css("position"))||$container.css("position","relative"),$focusSink=$("<div tabIndex='0' hideFocus style='position:fixed;width:0;height:0;top:0;left:0;outline:0;'></div>").appendTo($container),$headerScroller=$("<div class='slick-header ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container),$headers=$("<div class='slick-header-columns' style='left:-1000px' />").appendTo($headerScroller),$headers.width(getHeadersWidth()),$headerRowScroller=$("<div class='slick-headerrow ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container),$headerRow=$("<div class='slick-headerrow-columns' />").appendTo($headerRowScroller),$headerRowSpacer=$("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").css("width",getCanvasWidth()+scrollbarDimensions.width+"px").appendTo($headerRowScroller),$topPanelScroller=$("<div class='slick-top-panel-scroller ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container),$topPanel=$("<div class='slick-top-panel' style='width:10000px' />").appendTo($topPanelScroller),options.showTopPanel||$topPanelScroller.hide(),options.showHeaderRow||$headerRowScroller.hide(),$viewport=$("<div class='slick-viewport' style='width:100%;overflow:auto;outline:0;position:relative;;'>").appendTo($container),$viewport.css("overflow-y",options.autoHeight?"hidden":"auto"),$canvas=$("<div class='grid-canvas' />").appendTo($viewport),$focusSink2=$focusSink.clone().appendTo($container),options.explicitInitialization||finishInitialization()}function finishInitialization(){initialized||(initialized=!0,viewportW=parseFloat($.css($container[0],"width",!0)),measureCellPaddingAndBorder(),disableSelection($headers),options.enableTextSelectionOnCells||$viewport.bind("selectstart.ui",function(e){return $(e.target).is("input,textarea")}),updateColumnCaches(),createColumnHeaders(),setupColumnSort(),createCssRules(),resizeCanvas(),bindAncestorScrollEvents(),$container.bind("resize.slickgrid",resizeCanvas),$viewport.bind("scroll",handleScroll),$headerScroller.bind("contextmenu",handleHeaderContextMenu).bind("click",handleHeaderClick).delegate(".slick-header-column","mouseenter",handleHeaderMouseEnter).delegate(".slick-header-column","mouseleave",handleHeaderMouseLeave),$headerRowScroller.bind("scroll",handleHeaderRowScroll),$focusSink.add($focusSink2).bind("keydown",handleKeyDown),$canvas.bind("keydown",handleKeyDown).bind("click",handleClick).bind("dblclick",handleDblClick).bind("contextmenu",handleContextMenu).bind("draginit",handleDragInit).bind("dragstart",{distance:3},handleDragStart).bind("drag",handleDrag).bind("dragend",handleDragEnd).delegate(".slick-cell","mouseenter",handleMouseEnter).delegate(".slick-cell","mouseleave",handleMouseLeave))}function registerPlugin(e){plugins.unshift(e),e.init(self)}function unregisterPlugin(e){for(var t=plugins.length;t>=0;t--)if(plugins[t]===e){plugins[t].destroy&&plugins[t].destroy(),plugins.splice(t,1);break}}function setSelectionModel(e){selectionModel&&(selectionModel.onSelectedRangesChanged.unsubscribe(handleSelectedRangesChanged),selectionModel.destroy&&selectionModel.destroy()),selectionModel=e,selectionModel&&(selectionModel.init(self),selectionModel.onSelectedRangesChanged.subscribe(handleSelectedRangesChanged))}function getSelectionModel(){return selectionModel}function getCanvasNode(){return $canvas[0]}function measureScrollbar(){var e=$("<div style='position:absolute; top:-10000px; left:-10000px; width:100px; height:100px; overflow:scroll;'></div>").appendTo("body"),t={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),t}function getHeadersWidth(){for(var e=0,t=0,n=columns.length;n>t;t++){var i=columns[t].width;e+=i}return e+=scrollbarDimensions.width,Math.max(e,viewportW)+1e3}function getCanvasWidth(){for(var e=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW,t=0,n=columns.length;n--;)t+=columns[n].width;return options.fullWidthRows?Math.max(t,e):t}function updateCanvasWidth(e){var t=canvasWidth;canvasWidth=getCanvasWidth(),canvasWidth!=t&&($canvas.width(canvasWidth),$headerRow.width(canvasWidth),$headers.width(getHeadersWidth()),viewportHasHScroll=canvasWidth>viewportW-scrollbarDimensions.width),$headerRowSpacer.width(canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0)),(canvasWidth!=t||e)&&applyColumnWidths()}function disableSelection(e){e&&e.jquery&&e.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function getMaxSupportedCssHeight(){for(var e=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,n=$("<div style='display:none' />").appendTo(document.body);;){var i=2*e;if(n.css("height",i),i>t||n.height()!==i)break;e=i}return n.remove(),e}function bindAncestorScrollEvents(){for(var e=$canvas[0];(e=e.parentNode)!=document.body&&null!=e;)if(e==$viewport[0]||e.scrollWidth!=e.clientWidth||e.scrollHeight!=e.clientHeight){var t=$(e);$boundAncestors=$boundAncestors?$boundAncestors.add(t):t,t.bind("scroll."+uid,handleActiveCellPositionChange)}}function unbindAncestorScrollEvents(){$boundAncestors&&($boundAncestors.unbind("scroll."+uid),$boundAncestors=null)}function updateColumnHeader(e,t,n){if(initialized){var i=getColumnIndex(e);if(null!=i){var r=columns[i],a=$headers.children().eq(i);a&&(void 0!==t&&(columns[i].name=t),void 0!==n&&(columns[i].toolTip=n),trigger(self.onBeforeHeaderCellDestroy,{node:a[0],column:r}),a.attr("title",n||"").children().eq(0).html(t),trigger(self.onHeaderCellRendered,{node:a[0],column:r}))}}}function getHeaderRow(){return $headerRow[0]}function getHeaderRowColumn(e){var t=getColumnIndex(e),n=$headerRow.children().eq(t);return n&&n[0]}function createColumnHeaders(){function e(){$(this).addClass("ui-state-hover")}function t(){$(this).removeClass("ui-state-hover")}$headers.find(".slick-header-column").each(function(){var e=$(this).data("column");e&&trigger(self.onBeforeHeaderCellDestroy,{node:this,column:e})}),$headers.empty(),$headers.width(getHeadersWidth()),$headerRow.find(".slick-headerrow-column").each(function(){var e=$(this).data("column");e&&trigger(self.onBeforeHeaderRowCellDestroy,{node:this,column:e})}),$headerRow.empty();for(var n=0;n<columns.length;n++){var i=columns[n],r=$("<div class='ui-state-default slick-header-column' />").html("<span class='slick-column-name'>"+i.name+"</span>").width(i.width-headerColumnWidthDiff).attr("id",""+uid+i.id).attr("title",i.toolTip||"").data("column",i).addClass(i.headerCssClass||"").appendTo($headers);if((options.enableColumnReorder||i.sortable)&&r.on("mouseenter",e).on("mouseleave",t),i.sortable&&(r.addClass("slick-header-sortable"),r.append("<span class='slick-sort-indicator' />")),trigger(self.onHeaderCellRendered,{node:r[0],column:i}),options.showHeaderRow){var a=$("<div class='ui-state-default slick-headerrow-column l"+n+" r"+n+"'></div>").data("column",i).appendTo($headerRow);trigger(self.onHeaderRowCellRendered,{node:a[0],column:i})}}setSortColumns(sortColumns),setupColumnResize(),options.enableColumnReorder&&setupColumnReorder()}function setupColumnSort(){$headers.click(function(e){if(e.metaKey=e.metaKey||e.ctrlKey,!$(e.target).hasClass("slick-resizable-handle")){var t=$(e.target).closest(".slick-header-column");if(t.length){var n=t.data("column");if(n.sortable){if(!getEditorLock().commitCurrentEdit())return;for(var i=null,r=0;r<sortColumns.length;r++)if(sortColumns[r].columnId==n.id){i=sortColumns[r],i.sortAsc=!i.sortAsc;break}e.metaKey&&options.multiColumnSort?i&&sortColumns.splice(r,1):((e.shiftKey||e.metaKey)&&options.multiColumnSort||(sortColumns=[]),i?0==sortColumns.length&&sortColumns.push(i):(i={columnId:n.id,sortAsc:n.defaultSortAsc},sortColumns.push(i))),setSortColumns(sortColumns),options.multiColumnSort?trigger(self.onSort,{multiColumnSort:!0,sortCols:$.map(sortColumns,function(e){return{sortCol:columns[getColumnIndex(e.columnId)],sortAsc:e.sortAsc}})},e):trigger(self.onSort,{multiColumnSort:!1,sortCol:n,sortAsc:i.sortAsc},e)}}}})}function setupColumnReorder(){$headers.filter(":ui-sortable").sortable("destroy"),$headers.sortable({containment:"parent",distance:3,axis:"x",cursor:"default",tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder ui-state-default slick-header-column",forcePlaceholderSize:!0,start:function(e,t){$(t.helper).addClass("slick-header-column-active")},beforeStop:function(e,t){$(t.helper).removeClass("slick-header-column-active")},stop:function(e){if(!getEditorLock().commitCurrentEdit())return $(this).sortable("cancel"),void 0;
for(var t=$headers.sortable("toArray"),n=[],i=0;i<t.length;i++)n.push(columns[getColumnIndex(t[i].replace(uid,""))]);setColumns(n),trigger(self.onColumnsReordered,{}),e.stopPropagation(),setupColumnResize()}})}function setupColumnResize(){var e,t,n,i,r,a,s,o,l;r=$headers.children(),r.find(".slick-resizable-handle").remove(),r.each(function(e){columns[e].resizable&&(void 0===o&&(o=e),l=e)}),void 0!==o&&r.each(function(c,h){o>c||options.forceFitColumns&&c>=l||(e=$(h),$("<div class='slick-resizable-handle' />").appendTo(h).bind("dragstart",function(e){if(!getEditorLock().commitCurrentEdit())return!1;i=e.pageX,$(this).parent().addClass("slick-header-column-active");var o=null,l=null;if(r.each(function(e,t){columns[e].previousWidth=$(t).outerWidth()}),options.forceFitColumns)for(o=0,l=0,t=c+1;t<r.length;t++)n=columns[t],n.resizable&&(null!==l&&(n.maxWidth?l+=n.maxWidth-n.previousWidth:l=null),o+=n.previousWidth-Math.max(n.minWidth||0,absoluteColumnMinWidth));var h=0,u=0;for(t=0;c>=t;t++)n=columns[t],n.resizable&&(null!==u&&(n.maxWidth?u+=n.maxWidth-n.previousWidth:u=null),h+=n.previousWidth-Math.max(n.minWidth||0,absoluteColumnMinWidth));null===o&&(o=1e5),null===h&&(h=1e5),null===l&&(l=1e5),null===u&&(u=1e5),s=i+Math.min(o,u),a=i-Math.min(h,l)}).bind("drag",function(e){var o,l,h=Math.min(s,Math.max(a,e.pageX))-i;if(0>h){for(l=h,t=c;t>=0;t--)n=columns[t],n.resizable&&(o=Math.max(n.minWidth||0,absoluteColumnMinWidth),l&&n.previousWidth+l<o?(l+=n.previousWidth-o,n.width=o):(n.width=n.previousWidth+l,l=0));if(options.forceFitColumns)for(l=-h,t=c+1;t<r.length;t++)n=columns[t],n.resizable&&(l&&n.maxWidth&&n.maxWidth-n.previousWidth<l?(l-=n.maxWidth-n.previousWidth,n.width=n.maxWidth):(n.width=n.previousWidth+l,l=0))}else{for(l=h,t=c;t>=0;t--)n=columns[t],n.resizable&&(l&&n.maxWidth&&n.maxWidth-n.previousWidth<l?(l-=n.maxWidth-n.previousWidth,n.width=n.maxWidth):(n.width=n.previousWidth+l,l=0));if(options.forceFitColumns)for(l=-h,t=c+1;t<r.length;t++)n=columns[t],n.resizable&&(o=Math.max(n.minWidth||0,absoluteColumnMinWidth),l&&n.previousWidth+l<o?(l+=n.previousWidth-o,n.width=o):(n.width=n.previousWidth+l,l=0))}applyColumnHeaderWidths(),options.syncColumnCellResize&&applyColumnWidths()}).bind("dragend",function(){var e;for($(this).parent().removeClass("slick-header-column-active"),t=0;t<r.length;t++)n=columns[t],e=$(r[t]).outerWidth(),n.previousWidth!==e&&n.rerenderOnResize&&invalidateAllRows();updateCanvasWidth(!0),render(),trigger(self.onColumnsResized,{})}))})}function getVBoxDelta(e){var t=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],n=0;return $.each(t,function(t,i){n+=parseFloat(e.css(i))||0}),n}function measureCellPaddingAndBorder(){var e,t=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],n=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"];e=$("<div class='ui-state-default slick-header-column' style='visibility:hidden'>-</div>").appendTo($headers),headerColumnWidthDiff=headerColumnHeightDiff=0,$.each(t,function(t,n){headerColumnWidthDiff+=parseFloat(e.css(n))||0}),$.each(n,function(t,n){headerColumnHeightDiff+=parseFloat(e.css(n))||0}),e.remove();var i=$("<div class='slick-row' />").appendTo($canvas);e=$("<div class='slick-cell' id='' style='visibility:hidden'>-</div>").appendTo(i),cellWidthDiff=cellHeightDiff=0,$.each(t,function(t,n){cellWidthDiff+=parseFloat(e.css(n))||0}),$.each(n,function(t,n){cellHeightDiff+=parseFloat(e.css(n))||0}),i.remove(),absoluteColumnMinWidth=Math.max(headerColumnWidthDiff,cellWidthDiff)}function createCssRules(){$style=$("<style type='text/css' rel='stylesheet' />").appendTo($("head"));for(var e=options.rowHeight-cellHeightDiff,t=["."+uid+" .slick-header-column { left: 1000px; }","."+uid+" .slick-top-panel { height:"+options.topPanelHeight+"px; }","."+uid+" .slick-headerrow-columns { height:"+options.headerRowHeight+"px; }","."+uid+" .slick-cell { height:"+e+"px; }","."+uid+" .slick-row { height:"+options.rowHeight+"px; }"],n=0;n<columns.length;n++)t.push("."+uid+" .l"+n+" { }"),t.push("."+uid+" .r"+n+" { }");$style[0].styleSheet?$style[0].styleSheet.cssText=t.join(" "):$style[0].appendChild(document.createTextNode(t.join(" ")))}function getColumnCssRules(e){if(!stylesheet){for(var t=document.styleSheets,n=0;n<t.length;n++)if((t[n].ownerNode||t[n].owningElement)==$style[0]){stylesheet=t[n];break}if(!stylesheet)throw new Error("Cannot find stylesheet.");columnCssRulesL=[],columnCssRulesR=[];for(var i,r,a=stylesheet.cssRules||stylesheet.rules,n=0;n<a.length;n++){var s=a[n].selectorText;(i=/\.l\d+/.exec(s))?(r=parseInt(i[0].substr(2,i[0].length-2),10),columnCssRulesL[r]=a[n]):(i=/\.r\d+/.exec(s))&&(r=parseInt(i[0].substr(2,i[0].length-2),10),columnCssRulesR[r]=a[n])}}return{left:columnCssRulesL[e],right:columnCssRulesR[e]}}function removeCssRules(){$style.remove(),stylesheet=null}function destroy(){getEditorLock().cancelCurrentEdit(),trigger(self.onBeforeDestroy,{});for(var e=plugins.length;e--;)unregisterPlugin(plugins[e]);options.enableColumnReorder&&$headers.filter(":ui-sortable").sortable("destroy"),unbindAncestorScrollEvents(),$container.unbind(".slickgrid"),removeCssRules(),$canvas.unbind("draginit dragstart dragend drag"),$container.empty().removeClass(uid)}function trigger(e,t,n){return n=n||new Slick.EventData,t=t||{},t.grid=self,e.notify(t,n,self)}function getEditorLock(){return options.editorLock}function getEditController(){return editController}function getColumnIndex(e){return columnsById[e]}function autosizeColumns(){var e,t,n,i=[],r=0,a=0,s=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW;for(e=0;e<columns.length;e++)t=columns[e],i.push(t.width),a+=t.width,t.resizable&&(r+=t.width-Math.max(t.minWidth,absoluteColumnMinWidth));for(n=a;a>s&&r;){var o=(a-s)/r;for(e=0;e<columns.length&&a>s;e++){t=columns[e];var l=i[e];if(!(!t.resizable||l<=t.minWidth||absoluteColumnMinWidth>=l)){var c=Math.max(t.minWidth,absoluteColumnMinWidth),h=Math.floor(o*(l-c))||1;h=Math.min(h,l-c),a-=h,r-=h,i[e]-=h}}if(n==a)break;n=a}for(n=a;s>a;){var u=s/a;for(e=0;e<columns.length&&s>a;e++)if(t=columns[e],t.resizable&&!(t.maxWidth<=t.width)){var d=Math.min(Math.floor(u*t.width)-t.width,t.maxWidth-t.width||1e6)||1;a+=d,i[e]+=d}if(n==a)break;n=a}var p=!1;for(e=0;e<columns.length;e++)columns[e].rerenderOnResize&&columns[e].width!=i[e]&&(p=!0),columns[e].width=i[e];applyColumnHeaderWidths(),updateCanvasWidth(!0),p&&(invalidateAllRows(),render())}function applyColumnHeaderWidths(){if(initialized){for(var e,t=0,n=$headers.children(),i=n.length;i>t;t++)e=$(n[t]),e.width()!==columns[t].width-headerColumnWidthDiff&&e.width(columns[t].width-headerColumnWidthDiff);updateColumnCaches()}}function applyColumnWidths(){for(var e,t,n=0,i=0;i<columns.length;i++)e=columns[i].width,t=getColumnCssRules(i),t.left.style.left=n+"px",t.right.style.right=canvasWidth-n-e+"px",n+=columns[i].width}function setSortColumn(e,t){setSortColumns([{columnId:e,sortAsc:t}])}function setSortColumns(e){sortColumns=e;var t=$headers.children();t.removeClass("slick-header-column-sorted").find(".slick-sort-indicator").removeClass("slick-sort-indicator-asc slick-sort-indicator-desc"),$.each(sortColumns,function(e,n){null==n.sortAsc&&(n.sortAsc=!0);var i=getColumnIndex(n.columnId);null!=i&&t.eq(i).addClass("slick-header-column-sorted").find(".slick-sort-indicator").addClass(n.sortAsc?"slick-sort-indicator-asc":"slick-sort-indicator-desc")})}function getSortColumns(){return sortColumns}function handleSelectedRangesChanged(e,t){selectedRows=[];for(var n={},i=0;i<t.length;i++)for(var r=t[i].fromRow;r<=t[i].toRow;r++){n[r]||(selectedRows.push(r),n[r]={});for(var a=t[i].fromCell;a<=t[i].toCell;a++)canCellBeSelected(r,a)&&(n[r][columns[a].id]=options.selectedCellCssClass)}setCellCssStyles(options.selectedCellCssClass,n),trigger(self.onSelectedRowsChanged,{rows:getSelectedRows()},e)}function getColumns(){return columns}function updateColumnCaches(){columnPosLeft=[],columnPosRight=[];for(var e=0,t=0,n=columns.length;n>t;t++)columnPosLeft[t]=e,columnPosRight[t]=e+columns[t].width,e+=columns[t].width}function setColumns(e){columns=e,columnsById={};for(var t=0;t<columns.length;t++){var n=columns[t]=$.extend({},columnDefaults,columns[t]);columnsById[n.id]=t,n.minWidth&&n.width<n.minWidth&&(n.width=n.minWidth),n.maxWidth&&n.width>n.maxWidth&&(n.width=n.maxWidth)}updateColumnCaches(),initialized&&(invalidateAllRows(),createColumnHeaders(),removeCssRules(),createCssRules(),resizeCanvas(),applyColumnWidths(),handleScroll())}function getOptions(){return options}function setOptions(e){getEditorLock().commitCurrentEdit()&&(makeActiveCellNormal(),options.enableAddRow!==e.enableAddRow&&invalidateRow(getDataLength()),options=$.extend(options,e),validateAndEnforceOptions(),$viewport.css("overflow-y",options.autoHeight?"hidden":"auto"),render())}function validateAndEnforceOptions(){options.autoHeight&&(options.leaveSpaceForNewRows=!1)}function setData(e,t){data=e,invalidateAllRows(),updateRowCount(),t&&scrollTo(0)}function getData(){return data}function getDataLength(){return data.getLength?data.getLength():data.length}function getDataItem(e){return data.getItem?data.getItem(e):data[e]}function getTopPanel(){return $topPanel[0]}function setTopPanelVisibility(e){options.showTopPanel!=e&&(options.showTopPanel=e,e?$topPanelScroller.slideDown("fast",resizeCanvas):$topPanelScroller.slideUp("fast",resizeCanvas))}function setHeaderRowVisibility(e){options.showHeaderRow!=e&&(options.showHeaderRow=e,e?$headerRowScroller.slideDown("fast",resizeCanvas):$headerRowScroller.slideUp("fast",resizeCanvas))}function getContainerNode(){return $container.get(0)}function getRowTop(e){return options.rowHeight*e-offset}function getRowFromPosition(e){return Math.floor((e+offset)/options.rowHeight)}function scrollTo(e){e=Math.max(e,0),e=Math.min(e,th-viewportH+(viewportHasHScroll?scrollbarDimensions.height:0));var t=offset;page=Math.min(n-1,Math.floor(e/ph)),offset=Math.round(page*cj);var i=e-offset;if(offset!=t){var r=getVisibleRange(i);cleanupRows(r),updateRowPositions()}prevScrollTop!=i&&(vScrollDir=i+offset>prevScrollTop+t?1:-1,$viewport[0].scrollTop=lastRenderedScrollTop=scrollTop=prevScrollTop=i,trigger(self.onViewportChanged,{}))}function defaultFormatter(e,t,n){return null==n?"":(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function getFormatter(e,t){var n=data.getItemMetadata&&data.getItemMetadata(e),i=n&&n.columns&&(n.columns[t.id]||n.columns[getColumnIndex(t.id)]);return i&&i.formatter||n&&n.formatter||t.formatter||options.formatterFactory&&options.formatterFactory.getFormatter(t)||options.defaultFormatter}function getEditor(e,t){var n=columns[t],i=data.getItemMetadata&&data.getItemMetadata(e),r=i&&i.columns;return r&&r[n.id]&&void 0!==r[n.id].editor?r[n.id].editor:r&&r[t]&&void 0!==r[t].editor?r[t].editor:n.editor||options.editorFactory&&options.editorFactory.getEditor(n)}function getDataItemValueForColumn(e,t){return options.dataItemColumnValueExtractor?options.dataItemColumnValueExtractor(e,t):e[t.field]}function appendRowHtml(e,t,n,i){var r=getDataItem(t),a=i>t&&!r,s="slick-row"+(a?" loading":"")+(t===activeRow?" active":"")+(1==t%2?" odd":" even"),o=data.getItemMetadata&&data.getItemMetadata(t);o&&o.cssClasses&&(s+=" "+o.cssClasses),e.push("<div class='ui-widget-content "+s+"' style='top:"+getRowTop(t)+"px'>");for(var l,c,h=0,u=columns.length;u>h;h++){if(c=columns[h],l=1,o&&o.columns){var d=o.columns[c.id]||o.columns[h];l=d&&d.colspan||1,"*"===l&&(l=u-h)}if(columnPosRight[Math.min(u-1,h+l-1)]>n.leftPx){if(columnPosLeft[h]>n.rightPx)break;appendCellHtml(e,t,h,l,r)}l>1&&(h+=l-1)}e.push("</div>")}function appendCellHtml(e,t,n,i,r){var a=columns[n],s="slick-cell l"+n+" r"+Math.min(columns.length-1,n+i-1)+(a.cssClass?" "+a.cssClass:"");t===activeRow&&n===activeCell&&(s+=" active");for(var o in cellCssClasses)cellCssClasses[o][t]&&cellCssClasses[o][t][a.id]&&(s+=" "+cellCssClasses[o][t][a.id]);if(e.push("<div class='"+s+"'>"),r){var l=getDataItemValueForColumn(r,a);e.push(getFormatter(t,a)(t,n,l,a,r))}e.push("</div>"),rowsCache[t].cellRenderQueue.push(n),rowsCache[t].cellColSpans[n]=i}function cleanupRows(e){for(var t in rowsCache)(t=parseInt(t,10))!==activeRow&&(t<e.top||t>e.bottom)&&removeRowFromCache(t)}function invalidate(){updateRowCount(),invalidateAllRows(),render()}function invalidateAllRows(){currentEditor&&makeActiveCellNormal();for(var e in rowsCache)removeRowFromCache(e)}function removeRowFromCache(e){var t=rowsCache[e];t&&($canvas[0].removeChild(t.rowNode),delete rowsCache[e],delete postProcessedRows[e],renderedRows--,counter_rows_removed++)}function invalidateRows(e){var t,n;if(e&&e.length)for(vScrollDir=0,t=0,n=e.length;n>t;t++)currentEditor&&activeRow===e[t]&&makeActiveCellNormal(),rowsCache[e[t]]&&removeRowFromCache(e[t])}function invalidateRow(e){invalidateRows([e])}function updateCell(e,t){var n=getCellNode(e,t);if(n){var i=columns[t],r=getDataItem(e);currentEditor&&activeRow===e&&activeCell===t?currentEditor.loadValue(r):(n.innerHTML=r?getFormatter(e,i)(e,t,getDataItemValueForColumn(r,i),i,r):"",invalidatePostProcessingResults(e))}}function updateRow(e){var t=rowsCache[e];if(t){ensureCellNodesInRowsCache(e);var n=getDataItem(e);for(var i in t.cellNodesByColumnIdx)if(t.cellNodesByColumnIdx.hasOwnProperty(i)){i=0|i;var r=columns[i],a=t.cellNodesByColumnIdx[i];e===activeRow&&i===activeCell&&currentEditor?currentEditor.loadValue(n):a.innerHTML=n?getFormatter(e,r)(e,i,getDataItemValueForColumn(n,r),r,n):""}invalidatePostProcessingResults(e)}}function getViewportHeight(){return parseFloat($.css($container[0],"height",!0))-parseFloat($.css($container[0],"paddingTop",!0))-parseFloat($.css($container[0],"paddingBottom",!0))-parseFloat($.css($headerScroller[0],"height"))-getVBoxDelta($headerScroller)-(options.showTopPanel?options.topPanelHeight+getVBoxDelta($topPanelScroller):0)-(options.showHeaderRow?options.headerRowHeight+getVBoxDelta($headerRowScroller):0)}function resizeCanvas(){initialized&&(viewportH=options.autoHeight?options.rowHeight*(getDataLength()+(options.enableAddRow?1:0)):getViewportHeight(),numVisibleRows=Math.ceil(viewportH/options.rowHeight),viewportW=parseFloat($.css($container[0],"width",!0)),options.autoHeight||$viewport.height(viewportH),options.forceFitColumns&&autosizeColumns(),updateRowCount(),handleScroll(),render())}function updateRowCount(){var e=getDataLength();if(initialized){numberOfRows=e+(options.enableAddRow?1:0)+(options.leaveSpaceForNewRows?numVisibleRows-1:0);var t=viewportHasVScroll;viewportHasVScroll=!options.autoHeight&&numberOfRows*options.rowHeight>viewportH;var i=options.enableAddRow?e:e-1;for(var r in rowsCache)r>=i&&removeRowFromCache(r);activeCellNode&&activeRow>i&&resetActiveCell();var a=h;th=Math.max(options.rowHeight*numberOfRows,viewportH-scrollbarDimensions.height),maxSupportedCssHeight>th?(h=ph=th,n=1,cj=0):(h=maxSupportedCssHeight,ph=h/100,n=Math.floor(th/ph),cj=(th-h)/(n-1)),h!==a&&($canvas.css("height",h),scrollTop=$viewport[0].scrollTop);var s=th-viewportH>=scrollTop+offset;0==th||0==scrollTop?page=offset=0:s?scrollTo(scrollTop+offset):scrollTo(th-viewportH),h!=a&&options.autoHeight&&resizeCanvas(),options.forceFitColumns&&t!=viewportHasVScroll&&autosizeColumns(),updateCanvasWidth(!1)}}function getVisibleRange(e,t){return null==e&&(e=scrollTop),null==t&&(t=scrollLeft),{top:getRowFromPosition(e),bottom:getRowFromPosition(e+viewportH)+1,leftPx:t,rightPx:t+viewportW}}function getRenderedRange(e,t){var n=getVisibleRange(e,t),i=Math.round(viewportH/options.rowHeight),r=3;return-1==vScrollDir?(n.top-=i,n.bottom+=r):1==vScrollDir?(n.top-=r,n.bottom+=i):(n.top-=r,n.bottom+=r),n.top=Math.max(0,n.top),n.bottom=Math.min(options.enableAddRow?getDataLength():getDataLength()-1,n.bottom),n.leftPx-=viewportW,n.rightPx+=viewportW,n.leftPx=Math.max(0,n.leftPx),n.rightPx=Math.min(canvasWidth,n.rightPx),n}function ensureCellNodesInRowsCache(e){var t=rowsCache[e];if(t&&t.cellRenderQueue.length)for(var n=t.rowNode.lastChild;t.cellRenderQueue.length;){var i=t.cellRenderQueue.pop();t.cellNodesByColumnIdx[i]=n,n=n.previousSibling}}function cleanUpCells(e,t){var n=0,i=rowsCache[t],r=[];for(var a in i.cellNodesByColumnIdx)if(i.cellNodesByColumnIdx.hasOwnProperty(a)){a=0|a;var s=i.cellColSpans[a];(columnPosLeft[a]>e.rightPx||columnPosRight[Math.min(columns.length-1,a+s-1)]<e.leftPx)&&(t!=activeRow||a!=activeCell)&&r.push(a)}for(var o;null!=(o=r.pop());)i.rowNode.removeChild(i.cellNodesByColumnIdx[o]),delete i.cellColSpans[o],delete i.cellNodesByColumnIdx[o],postProcessedRows[t]&&delete postProcessedRows[t][o],n++}function cleanUpAndRenderCells(e){for(var t,n,i,r=[],a=[],s=0,o=e.top,l=e.bottom;l>=o;o++)if(t=rowsCache[o]){ensureCellNodesInRowsCache(o),cleanUpCells(e,o),n=0;var c=data.getItemMetadata&&data.getItemMetadata(o);c=c&&c.columns;for(var h=getDataItem(o),u=0,d=columns.length;d>u&&!(columnPosLeft[u]>e.rightPx);u++)if(null==(i=t.cellColSpans[u])){if(i=1,c){var p=c[columns[u].id]||c[u];i=p&&p.colspan||1,"*"===i&&(i=d-u)}columnPosRight[Math.min(d-1,u+i-1)]>e.leftPx&&(appendCellHtml(r,o,u,i,h),n++),u+=i>1?i-1:0}else u+=i>1?i-1:0;n&&(s+=n,a.push(o))}if(r.length){var f=document.createElement("div");f.innerHTML=r.join("");for(var g,m;null!=(g=a.pop());){t=rowsCache[g];for(var v;null!=(v=t.cellRenderQueue.pop());)m=f.lastChild,t.rowNode.appendChild(m),t.cellNodesByColumnIdx[v]=m}}}function renderRows(e){for(var t=$canvas[0],n=[],i=[],r=!1,a=getDataLength(),s=e.top,o=e.bottom;o>=s;s++)rowsCache[s]||(renderedRows++,i.push(s),rowsCache[s]={rowNode:null,cellColSpans:[],cellNodesByColumnIdx:[],cellRenderQueue:[]},appendRowHtml(n,s,e,a),activeCellNode&&activeRow===s&&(r=!0),counter_rows_rendered++);if(i.length){var l=document.createElement("div");l.innerHTML=n.join("");for(var s=0,o=i.length;o>s;s++)rowsCache[i[s]].rowNode=t.appendChild(l.firstChild);r&&(activeCellNode=getCellNode(activeRow,activeCell))}}function startPostProcessing(){options.enableAsyncPostRender&&(clearTimeout(h_postrender),h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay))}function invalidatePostProcessingResults(e){delete postProcessedRows[e],postProcessFromRow=Math.min(postProcessFromRow,e),postProcessToRow=Math.max(postProcessToRow,e),startPostProcessing()}function updateRowPositions(){for(var e in rowsCache)rowsCache[e].rowNode.style.top=getRowTop(e)+"px"}function render(){if(initialized){var e=getVisibleRange(),t=getRenderedRange();cleanupRows(t),lastRenderedScrollLeft!=scrollLeft&&cleanUpAndRenderCells(t),renderRows(t),postProcessFromRow=e.top,postProcessToRow=Math.min(options.enableAddRow?getDataLength():getDataLength()-1,e.bottom),startPostProcessing(),lastRenderedScrollTop=scrollTop,lastRenderedScrollLeft=scrollLeft,h_render=null}}function handleHeaderRowScroll(){var e=$headerRowScroller[0].scrollLeft;e!=$viewport[0].scrollLeft&&($viewport[0].scrollLeft=e)}function handleScroll(){scrollTop=$viewport[0].scrollTop,scrollLeft=$viewport[0].scrollLeft;var e=Math.abs(scrollTop-prevScrollTop),t=Math.abs(scrollLeft-prevScrollLeft);if(t&&(prevScrollLeft=scrollLeft,$headerScroller[0].scrollLeft=scrollLeft,$topPanelScroller[0].scrollLeft=scrollLeft,$headerRowScroller[0].scrollLeft=scrollLeft),e)if(vScrollDir=scrollTop>prevScrollTop?1:-1,prevScrollTop=scrollTop,viewportH>e)scrollTo(scrollTop+offset);else{var i=offset;page=h==viewportH?0:Math.min(n-1,Math.floor(scrollTop*((th-viewportH)/(h-viewportH))*(1/ph))),offset=Math.round(page*cj),i!=offset&&invalidateAllRows()}(t||e)&&(h_render&&clearTimeout(h_render),(Math.abs(lastRenderedScrollTop-scrollTop)>20||Math.abs(lastRenderedScrollLeft-scrollLeft)>20)&&(options.forceSyncScrolling||Math.abs(lastRenderedScrollTop-scrollTop)<viewportH&&Math.abs(lastRenderedScrollLeft-scrollLeft)<viewportW?render():h_render=setTimeout(render,50),trigger(self.onViewportChanged,{}))),trigger(self.onScroll,{scrollLeft:scrollLeft,scrollTop:scrollTop})}function asyncPostProcessRows(){for(;postProcessToRow>=postProcessFromRow;){var e=vScrollDir>=0?postProcessFromRow++:postProcessToRow--,t=rowsCache[e];if(t&&!(e>=getDataLength())){postProcessedRows[e]||(postProcessedRows[e]={}),ensureCellNodesInRowsCache(e);for(var n in t.cellNodesByColumnIdx)if(t.cellNodesByColumnIdx.hasOwnProperty(n)){n=0|n;var i=columns[n];if(i.asyncPostRender&&!postProcessedRows[e][n]){var r=t.cellNodesByColumnIdx[n];r&&i.asyncPostRender(r,e,getDataItem(e),i),postProcessedRows[e][n]=!0}}return h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay),void 0}}}function updateCellCssStylesOnRenderedRows(e,t){var n,i,r,a;for(var s in rowsCache){if(a=t&&t[s],r=e&&e[s],a)for(i in a)r&&a[i]==r[i]||(n=getCellNode(s,getColumnIndex(i)),n&&$(n).removeClass(a[i]));if(r)for(i in r)a&&a[i]==r[i]||(n=getCellNode(s,getColumnIndex(i)),n&&$(n).addClass(r[i]))}}function addCellCssStyles(e,t){if(cellCssClasses[e])throw"addCellCssStyles: cell CSS hash with key '"+e+"' already exists.";cellCssClasses[e]=t,updateCellCssStylesOnRenderedRows(t,null),trigger(self.onCellCssStylesChanged,{key:e,hash:t})}function removeCellCssStyles(e){cellCssClasses[e]&&(updateCellCssStylesOnRenderedRows(null,cellCssClasses[e]),delete cellCssClasses[e],trigger(self.onCellCssStylesChanged,{key:e,hash:null}))}function setCellCssStyles(e,t){var n=cellCssClasses[e];cellCssClasses[e]=t,updateCellCssStylesOnRenderedRows(t,n),trigger(self.onCellCssStylesChanged,{key:e,hash:t})}function getCellCssStyles(e){return cellCssClasses[e]}function flashCell(e,t,n){function i(e){e&&setTimeout(function(){r.queue(function(){r.toggleClass(options.cellFlashingCssClass).dequeue(),i(e-1)})},n)}if(n=n||100,rowsCache[e]){var r=$(getCellNode(e,t));i(4)}}function handleDragInit(e,t){var n=getCellFromEvent(e);if(!n||!cellExists(n.row,n.cell))return!1;var i=trigger(self.onDragInit,t,e);return e.isImmediatePropagationStopped()?i:!1}function handleDragStart(e,t){var n=getCellFromEvent(e);if(!n||!cellExists(n.row,n.cell))return!1;var i=trigger(self.onDragStart,t,e);return e.isImmediatePropagationStopped()?i:!1}function handleDrag(e,t){return trigger(self.onDrag,t,e)}function handleDragEnd(e,t){trigger(self.onDragEnd,t,e)}function handleKeyDown(e){trigger(self.onKeyDown,{row:activeRow,cell:activeCell},e);var t=e.isImmediatePropagationStopped();if(!t)if(e.shiftKey||e.altKey||e.ctrlKey)9!=e.which||!e.shiftKey||e.ctrlKey||e.altKey||(t=navigatePrev());else if(27==e.which){if(!getEditorLock().isActive())return;cancelEditAndSetFocus()}else 37==e.which?t=navigateLeft():39==e.which?t=navigateRight():38==e.which?t=navigateUp():40==e.which?t=navigateDown():9==e.which?t=navigateNext():13==e.which&&(options.editable&&(currentEditor?activeRow===getDataLength()?navigateDown():commitEditAndSetFocus():getEditorLock().commitCurrentEdit()&&makeActiveCellEditable()),t=!0);if(t){e.stopPropagation(),e.preventDefault();try{e.originalEvent.keyCode=0}catch(n){}}}function handleClick(e){currentEditor||e.target!=document.activeElement&&setFocus();var t=getCellFromEvent(e);!t||null!==currentEditor&&activeRow==t.row&&activeCell==t.cell||(trigger(self.onClick,{row:t.row,cell:t.cell},e),e.isImmediatePropagationStopped()||activeCell==t.cell&&activeRow==t.row||!canCellBeActive(t.row,t.cell)||(!getEditorLock().isActive()||getEditorLock().commitCurrentEdit())&&(scrollRowIntoView(t.row,!1),setActiveCellInternal(getCellNode(t.row,t.cell),t.row===getDataLength()||options.autoEdit)))}function handleContextMenu(e){var t=$(e.target).closest(".slick-cell",$canvas);0!==t.length&&(activeCellNode!==t[0]||null===currentEditor)&&trigger(self.onContextMenu,{},e)}function handleDblClick(e){var t=getCellFromEvent(e);!t||null!==currentEditor&&activeRow==t.row&&activeCell==t.cell||(trigger(self.onDblClick,{row:t.row,cell:t.cell},e),e.isImmediatePropagationStopped()||options.editable&&gotoCell(t.row,t.cell,!0))}function handleHeaderMouseEnter(e){trigger(self.onHeaderMouseEnter,{column:$(this).data("column")},e)}function handleHeaderMouseLeave(e){trigger(self.onHeaderMouseLeave,{column:$(this).data("column")},e)}function handleHeaderContextMenu(e){var t=$(e.target).closest(".slick-header-column",".slick-header-columns"),n=t&&t.data("column");trigger(self.onHeaderContextMenu,{column:n},e)}function handleHeaderClick(e){var t=$(e.target).closest(".slick-header-column",".slick-header-columns"),n=t&&t.data("column");n&&trigger(self.onHeaderClick,{column:n},e)}function handleMouseEnter(e){trigger(self.onMouseEnter,{},e)}function handleMouseLeave(e){trigger(self.onMouseLeave,{},e)}function cellExists(e,t){return!(0>e||e>=getDataLength()||0>t||t>=columns.length)}function getCellFromPoint(e,t){for(var n=getRowFromPosition(t),i=0,r=0,a=0;a<columns.length&&e>r;a++)r+=columns[a].width,i++;return 0>i&&(i=0),{row:n,cell:i-1}}function getCellFromNode(e){var t=/l\d+/.exec(e.className);if(!t)throw"getCellFromNode: cannot get cell - "+e.className;return parseInt(t[0].substr(1,t[0].length-1),10)}function getRowFromNode(e){for(var t in rowsCache)if(rowsCache[t].rowNode===e)return 0|t;return null}function getCellFromEvent(e){var t=$(e.target).closest(".slick-cell",$canvas);if(!t.length)return null;var n=getRowFromNode(t[0].parentNode),i=getCellFromNode(t[0]);return null==n||null==i?null:{row:n,cell:i}}function getCellNodeBox(e,t){if(!cellExists(e,t))return null;for(var n=getRowTop(e),i=n+options.rowHeight-1,r=0,a=0;t>a;a++)r+=columns[a].width;var s=r+columns[t].width;return{top:n,left:r,bottom:i,right:s}}function resetActiveCell(){setActiveCellInternal(null,!1)}function setFocus(){-1==tabbingDirection?$focusSink[0].focus():$focusSink2[0].focus()}function scrollCellIntoView(e,t,n){scrollRowIntoView(e,n);var i=getColspan(e,t),r=columnPosLeft[t],a=columnPosRight[t+(i>1?i-1:0)],s=scrollLeft+viewportW;scrollLeft>r?($viewport.scrollLeft(r),handleScroll(),render()):a>s&&($viewport.scrollLeft(Math.min(r,a-$viewport[0].clientWidth)),handleScroll(),render())}function setActiveCellInternal(e,t){null!==activeCellNode&&(makeActiveCellNormal(),$(activeCellNode).removeClass("active"),rowsCache[activeRow]&&$(rowsCache[activeRow].rowNode).removeClass("active"));var n=activeCellNode!==e;activeCellNode=e,null!=activeCellNode?(activeRow=getRowFromNode(activeCellNode.parentNode),activeCell=activePosX=getCellFromNode(activeCellNode),$(activeCellNode).addClass("active"),$(rowsCache[activeRow].rowNode).addClass("active"),options.editable&&t&&isCellPotentiallyEditable(activeRow,activeCell)&&(clearTimeout(h_editorLoader),options.asyncEditorLoading?h_editorLoader=setTimeout(function(){makeActiveCellEditable()},options.asyncEditorLoadDelay):makeActiveCellEditable())):activeRow=activeCell=null,n&&trigger(self.onActiveCellChanged,getActiveCell())}function clearTextSelection(){if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}else if(window.getSelection){var t=window.getSelection();t&&t.removeAllRanges&&t.removeAllRanges()}}function isCellPotentiallyEditable(e,t){return e<getDataLength()&&!getDataItem(e)?!1:columns[t].cannotTriggerInsert&&e>=getDataLength()?!1:getEditor(e,t)?!0:!1}function makeActiveCellNormal(){if(currentEditor){if(trigger(self.onBeforeCellEditorDestroy,{editor:currentEditor}),currentEditor.destroy(),currentEditor=null,activeCellNode){var e=getDataItem(activeRow);if($(activeCellNode).removeClass("editable invalid"),e){var t=columns[activeCell],n=getFormatter(activeRow,t);activeCellNode.innerHTML=n(activeRow,activeCell,getDataItemValueForColumn(e,t),t,e),invalidatePostProcessingResults(activeRow)}}navigator.userAgent.toLowerCase().match(/msie/)&&clearTextSelection(),getEditorLock().deactivate(editController)}}function makeActiveCellEditable(e){if(activeCellNode){if(!options.editable)throw"Grid : makeActiveCellEditable : should never get called when options.editable is false";if(clearTimeout(h_editorLoader),isCellPotentiallyEditable(activeRow,activeCell)){var t=columns[activeCell],n=getDataItem(activeRow);if(trigger(self.onBeforeEditCell,{row:activeRow,cell:activeCell,item:n,column:t})===!1)return setFocus(),void 0;getEditorLock().activate(editController),$(activeCellNode).addClass("editable"),e||(activeCellNode.innerHTML=""),currentEditor=new(e||getEditor(activeRow,activeCell))({grid:self,gridPosition:absBox($container[0]),position:absBox(activeCellNode),container:activeCellNode,column:t,item:n||{},commitChanges:commitEditAndSetFocus,cancelChanges:cancelEditAndSetFocus}),n&&currentEditor.loadValue(n),serializedEditorValue=currentEditor.serializeValue(),currentEditor.position&&handleActiveCellPositionChange()}}}function commitEditAndSetFocus(){getEditorLock().commitCurrentEdit()&&(setFocus(),options.autoEdit&&navigateDown())}function cancelEditAndSetFocus(){getEditorLock().cancelCurrentEdit()&&setFocus()}function absBox(e){var t={top:e.offsetTop,left:e.offsetLeft,bottom:0,right:0,width:$(e).outerWidth(),height:$(e).outerHeight(),visible:!0};t.bottom=t.top+t.height,t.right=t.left+t.width;for(var n=e.offsetParent;(e=e.parentNode)!=document.body;)t.visible&&e.scrollHeight!=e.offsetHeight&&"visible"!=$(e).css("overflowY")&&(t.visible=t.bottom>e.scrollTop&&t.top<e.scrollTop+e.clientHeight),t.visible&&e.scrollWidth!=e.offsetWidth&&"visible"!=$(e).css("overflowX")&&(t.visible=t.right>e.scrollLeft&&t.left<e.scrollLeft+e.clientWidth),t.left-=e.scrollLeft,t.top-=e.scrollTop,e===n&&(t.left+=e.offsetLeft,t.top+=e.offsetTop,n=e.offsetParent),t.bottom=t.top+t.height,t.right=t.left+t.width;return t}function getActiveCellPosition(){return absBox(activeCellNode)}function getGridPosition(){return absBox($container[0])}function handleActiveCellPositionChange(){if(activeCellNode&&(trigger(self.onActiveCellPositionChanged,{}),currentEditor)){var e=getActiveCellPosition();currentEditor.show&&currentEditor.hide&&(e.visible?currentEditor.show():currentEditor.hide()),currentEditor.position&&currentEditor.position(e)}}function getCellEditor(){return currentEditor}function getActiveCell(){return activeCellNode?{row:activeRow,cell:activeCell}:null}function getActiveCellNode(){return activeCellNode}function scrollRowIntoView(e,t){var n=e*options.rowHeight,i=(e+1)*options.rowHeight-viewportH+(viewportHasHScroll?scrollbarDimensions.height:0);(e+1)*options.rowHeight>scrollTop+viewportH+offset?(scrollTo(t?n:i),render()):e*options.rowHeight<scrollTop+offset&&(scrollTo(t?i:n),render())}function scrollRowToTop(e){scrollTo(e*options.rowHeight),render()}function getColspan(e,t){var n=data.getItemMetadata&&data.getItemMetadata(e);if(!n||!n.columns)return 1;var i=n.columns[columns[t].id]||n.columns[t],r=i&&i.colspan;return r="*"===r?columns.length-t:r||1}function findFirstFocusableCell(e){for(var t=0;t<columns.length;){if(canCellBeActive(e,t))return t;t+=getColspan(e,t)}return null}function findLastFocusableCell(e){for(var t=0,n=null;t<columns.length;)canCellBeActive(e,t)&&(n=t),t+=getColspan(e,t);return n}function gotoRight(e,t){if(t>=columns.length)return null;do t+=getColspan(e,t);while(t<columns.length&&!canCellBeActive(e,t));return t<columns.length?{row:e,cell:t,posX:t}:null}function gotoLeft(e,t){if(0>=t)return null;var n=findFirstFocusableCell(e);if(null===n||n>=t)return null;for(var i,r={row:e,cell:n,posX:n};;){if(i=gotoRight(r.row,r.cell,r.posX),!i)return null;if(i.cell>=t)return r;r=i}}function gotoDown(e,t,n){for(var i;;){if(++e>=getDataLength()+(options.enableAddRow?1:0))return null;for(i=t=0;n>=t;)i=t,t+=getColspan(e,t);if(canCellBeActive(e,i))return{row:e,cell:i,posX:n}}}function gotoUp(e,t,n){for(var i;;){if(--e<0)return null;for(i=t=0;n>=t;)i=t,t+=getColspan(e,t);if(canCellBeActive(e,i))return{row:e,cell:i,posX:n}}}function gotoNext(e,t,n){if(null==e&&null==t&&(e=t=n=0,canCellBeActive(e,t)))return{row:e,cell:t,posX:t};var i=gotoRight(e,t,n);if(i)return i;for(var r=null;++e<getDataLength()+(options.enableAddRow?1:0);)if(r=findFirstFocusableCell(e),null!==r)return{row:e,cell:r,posX:r};return null}function gotoPrev(e,t,n){if(null==e&&null==t&&(e=getDataLength()+(options.enableAddRow?1:0)-1,t=n=columns.length-1,canCellBeActive(e,t)))return{row:e,cell:t,posX:t};for(var i,r;!i&&!(i=gotoLeft(e,t,n));){if(--e<0)return null;t=0,r=findLastFocusableCell(e),null!==r&&(i={row:e,cell:r,posX:r})}return i}function navigateRight(){return navigate("right")}function navigateLeft(){return navigate("left")}function navigateDown(){return navigate("down")}function navigateUp(){return navigate("up")}function navigateNext(){return navigate("next")}function navigatePrev(){return navigate("prev")}function navigate(e){if(!options.enableCellNavigation)return!1;if(!activeCellNode&&"prev"!=e&&"next"!=e)return!1;if(!getEditorLock().commitCurrentEdit())return!0;setFocus();var t={up:-1,down:1,left:-1,right:1,prev:-1,next:1};tabbingDirection=t[e];var n={up:gotoUp,down:gotoDown,left:gotoLeft,right:gotoRight,prev:gotoPrev,next:gotoNext},i=n[e],r=i(activeRow,activeCell,activePosX);
if(r){var a=r.row==getDataLength();return scrollCellIntoView(r.row,r.cell,!a),setActiveCellInternal(getCellNode(r.row,r.cell),a||options.autoEdit),activePosX=r.posX,!0}return setActiveCellInternal(getCellNode(activeRow,activeCell),activeRow==getDataLength()||options.autoEdit),!1}function getCellNode(e,t){return rowsCache[e]?(ensureCellNodesInRowsCache(e),rowsCache[e].cellNodesByColumnIdx[t]):null}function setActiveCell(e,t){initialized&&(e>getDataLength()||0>e||t>=columns.length||0>t||options.enableCellNavigation&&(scrollCellIntoView(e,t,!1),setActiveCellInternal(getCellNode(e,t),!1)))}function canCellBeActive(e,t){if(!options.enableCellNavigation||e>=getDataLength()+(options.enableAddRow?1:0)||0>e||t>=columns.length||0>t)return!1;var n=data.getItemMetadata&&data.getItemMetadata(e);if(n&&"boolean"==typeof n.focusable)return n.focusable;var i=n&&n.columns;return i&&i[columns[t].id]&&"boolean"==typeof i[columns[t].id].focusable?i[columns[t].id].focusable:i&&i[t]&&"boolean"==typeof i[t].focusable?i[t].focusable:columns[t].focusable}function canCellBeSelected(e,t){if(e>=getDataLength()||0>e||t>=columns.length||0>t)return!1;var n=data.getItemMetadata&&data.getItemMetadata(e);if(n&&"boolean"==typeof n.selectable)return n.selectable;var i=n&&n.columns&&(n.columns[columns[t].id]||n.columns[t]);return i&&"boolean"==typeof i.selectable?i.selectable:columns[t].selectable}function gotoCell(e,t,n){if(initialized&&canCellBeActive(e,t)&&getEditorLock().commitCurrentEdit()){scrollCellIntoView(e,t,!1);var i=getCellNode(e,t);setActiveCellInternal(i,n||e===getDataLength()||options.autoEdit),currentEditor||setFocus()}}function commitCurrentEdit(){var e=getDataItem(activeRow),t=columns[activeCell];if(currentEditor){if(currentEditor.isValueChanged()){var n=currentEditor.validate();if(n.valid){if(activeRow<getDataLength()){var i={row:activeRow,cell:activeCell,editor:currentEditor,serializedValue:currentEditor.serializeValue(),prevSerializedValue:serializedEditorValue,execute:function(){this.editor.applyValue(e,this.serializedValue),updateRow(this.row)},undo:function(){this.editor.applyValue(e,this.prevSerializedValue),updateRow(this.row)}};options.editCommandHandler?(makeActiveCellNormal(),options.editCommandHandler(e,t,i)):(i.execute(),makeActiveCellNormal()),trigger(self.onCellChange,{row:activeRow,cell:activeCell,item:e})}else{var r={};currentEditor.applyValue(r,currentEditor.serializeValue()),makeActiveCellNormal(),trigger(self.onAddNewRow,{item:r,column:t})}return!getEditorLock().isActive()}return $(activeCellNode).removeClass("invalid"),$(activeCellNode).width(),$(activeCellNode).addClass("invalid"),trigger(self.onValidationError,{editor:currentEditor,cellNode:activeCellNode,validationResults:n,row:activeRow,cell:activeCell,column:t}),currentEditor.focus(),!1}makeActiveCellNormal()}return!0}function cancelCurrentEdit(){return makeActiveCellNormal(),!0}function rowsToRanges(e){for(var t=[],n=columns.length-1,i=0;i<e.length;i++)t.push(new Slick.Range(e[i],0,e[i],n));return t}function getSelectedRows(){if(!selectionModel)throw"Selection model is not set";return selectedRows}function setSelectedRows(e){if(!selectionModel)throw"Selection model is not set";selectionModel.setSelectedRanges(rowsToRanges(e))}var defaults={explicitInitialization:!1,rowHeight:25,defaultColumnWidth:80,enableAddRow:!1,leaveSpaceForNewRows:!1,editable:!1,autoEdit:!0,enableCellNavigation:!0,enableColumnReorder:!0,asyncEditorLoading:!1,asyncEditorLoadDelay:100,forceFitColumns:!1,enableAsyncPostRender:!1,asyncPostRenderDelay:50,autoHeight:!1,editorLock:Slick.GlobalEditorLock,showHeaderRow:!1,headerRowHeight:25,showTopPanel:!1,topPanelHeight:25,formatterFactory:null,editorFactory:null,cellFlashingCssClass:"flashing",selectedCellCssClass:"selected",multiSelect:!0,enableTextSelectionOnCells:!1,dataItemColumnValueExtractor:null,fullWidthRows:!1,multiColumnSort:!1,defaultFormatter:defaultFormatter,forceSyncScrolling:!1},columnDefaults={name:"",resizable:!0,sortable:!1,minWidth:30,rerenderOnResize:!1,headerCssClass:null,defaultSortAsc:!0,focusable:!0,selectable:!0},th,h,ph,n,cj,page=0,offset=0,vScrollDir=1,initialized=!1,$container,uid="slickgrid_"+Math.round(1e6*Math.random()),self=this,$focusSink,$focusSink2,$headerScroller,$headers,$headerRow,$headerRowScroller,$headerRowSpacer,$topPanelScroller,$topPanel,$viewport,$canvas,$style,$boundAncestors,stylesheet,columnCssRulesL,columnCssRulesR,viewportH,viewportW,canvasWidth,viewportHasHScroll,viewportHasVScroll,headerColumnWidthDiff=0,headerColumnHeightDiff=0,cellWidthDiff=0,cellHeightDiff=0,absoluteColumnMinWidth,numberOfRows=0,tabbingDirection=1,activePosX,activeRow,activeCell,activeCellNode=null,currentEditor=null,serializedEditorValue,editController,rowsCache={},renderedRows=0,numVisibleRows,prevScrollTop=0,scrollTop=0,lastRenderedScrollTop=0,lastRenderedScrollLeft=0,prevScrollLeft=0,scrollLeft=0,selectionModel,selectedRows=[],plugins=[],cellCssClasses={},columnsById={},sortColumns=[],columnPosLeft=[],columnPosRight=[],h_editorLoader=null,h_render=null,h_postrender=null,postProcessedRows={},postProcessToRow=null,postProcessFromRow=null,counter_rows_rendered=0,counter_rows_removed=0;this.debug=function(){var e="";e+="\ncounter_rows_rendered:  "+counter_rows_rendered,e+="\ncounter_rows_removed:  "+counter_rows_removed,e+="\nrenderedRows:  "+renderedRows,e+="\nnumVisibleRows:  "+numVisibleRows,e+="\nmaxSupportedCssHeight:  "+maxSupportedCssHeight,e+="\nn(umber of pages):  "+n,e+="\n(current) page:  "+page,e+="\npage height (ph):  "+ph,e+="\nvScrollDir:  "+vScrollDir,alert(e)},this.eval=function(expr){return eval(expr)},$.extend(this,{slickGridVersion:"2.1",onScroll:new Slick.Event,onSort:new Slick.Event,onHeaderMouseEnter:new Slick.Event,onHeaderMouseLeave:new Slick.Event,onHeaderContextMenu:new Slick.Event,onHeaderClick:new Slick.Event,onHeaderCellRendered:new Slick.Event,onBeforeHeaderCellDestroy:new Slick.Event,onHeaderRowCellRendered:new Slick.Event,onBeforeHeaderRowCellDestroy:new Slick.Event,onMouseEnter:new Slick.Event,onMouseLeave:new Slick.Event,onClick:new Slick.Event,onDblClick:new Slick.Event,onContextMenu:new Slick.Event,onKeyDown:new Slick.Event,onAddNewRow:new Slick.Event,onValidationError:new Slick.Event,onViewportChanged:new Slick.Event,onColumnsReordered:new Slick.Event,onColumnsResized:new Slick.Event,onCellChange:new Slick.Event,onBeforeEditCell:new Slick.Event,onBeforeCellEditorDestroy:new Slick.Event,onBeforeDestroy:new Slick.Event,onActiveCellChanged:new Slick.Event,onActiveCellPositionChanged:new Slick.Event,onDragInit:new Slick.Event,onDragStart:new Slick.Event,onDrag:new Slick.Event,onDragEnd:new Slick.Event,onSelectedRowsChanged:new Slick.Event,onCellCssStylesChanged:new Slick.Event,registerPlugin:registerPlugin,unregisterPlugin:unregisterPlugin,getColumns:getColumns,setColumns:setColumns,getColumnIndex:getColumnIndex,updateColumnHeader:updateColumnHeader,setSortColumn:setSortColumn,setSortColumns:setSortColumns,getSortColumns:getSortColumns,autosizeColumns:autosizeColumns,getOptions:getOptions,setOptions:setOptions,getData:getData,getDataLength:getDataLength,getDataItem:getDataItem,setData:setData,getSelectionModel:getSelectionModel,setSelectionModel:setSelectionModel,getSelectedRows:getSelectedRows,setSelectedRows:setSelectedRows,getContainerNode:getContainerNode,render:render,invalidate:invalidate,invalidateRow:invalidateRow,invalidateRows:invalidateRows,invalidateAllRows:invalidateAllRows,updateCell:updateCell,updateRow:updateRow,getViewport:getVisibleRange,getRenderedRange:getRenderedRange,resizeCanvas:resizeCanvas,updateRowCount:updateRowCount,scrollRowIntoView:scrollRowIntoView,scrollRowToTop:scrollRowToTop,scrollCellIntoView:scrollCellIntoView,getCanvasNode:getCanvasNode,focus:setFocus,getCellFromPoint:getCellFromPoint,getCellFromEvent:getCellFromEvent,getActiveCell:getActiveCell,setActiveCell:setActiveCell,getActiveCellNode:getActiveCellNode,getActiveCellPosition:getActiveCellPosition,resetActiveCell:resetActiveCell,editActiveCell:makeActiveCellEditable,getCellEditor:getCellEditor,getCellNode:getCellNode,getCellNodeBox:getCellNodeBox,canCellBeSelected:canCellBeSelected,canCellBeActive:canCellBeActive,navigatePrev:navigatePrev,navigateNext:navigateNext,navigateUp:navigateUp,navigateDown:navigateDown,navigateLeft:navigateLeft,navigateRight:navigateRight,gotoCell:gotoCell,getTopPanel:getTopPanel,setTopPanelVisibility:setTopPanelVisibility,setHeaderRowVisibility:setHeaderRowVisibility,getHeaderRow:getHeaderRow,getHeaderRowColumn:getHeaderRowColumn,getGridPosition:getGridPosition,flashCell:flashCell,addCellCssStyles:addCellCssStyles,setCellCssStyles:setCellCssStyles,removeCellCssStyles:removeCellCssStyles,getCellCssStyles:getCellCssStyles,init:finishInitialization,destroy:destroy,getEditorLock:getEditorLock,getEditController:getEditController}),init()}$.extend(!0,window,{Slick:{Grid:SlickGrid}});var scrollbarDimensions,maxSupportedCssHeight}(jQuery),function(e){function t(t){function n(){bt=!0}function i(){bt=!1,tt()}function r(e){xt=e}function a(e){st=e}function s(e){e=e||0;for(var t,n=e,i=dt.length;i>n;n++){if(t=dt[n][ut],void 0===t)throw"Each data element must implement a unique 'id' property";ft[t]=n}}function o(){for(var e,t=0,n=dt.length;n>t;t++)if(e=dt[t][ut],void 0===e||ft[e]!==t)throw"Each data element must implement a unique 'id' property"}function l(){return dt}function c(e,t){void 0!==t&&(ut=t),dt=_t=e,ft={},s(),o(),tt()}function h(e){void 0!=e.pageSize&&(It=e.pageSize,Nt=It?Math.min(Nt,Math.max(0,Math.ceil(At/It)-1)):0),void 0!=e.pageNum&&(Nt=Math.min(e.pageNum,Math.max(0,Math.ceil(At/It)-1))),Pt.notify(u(),null,ct),tt()}function u(){var e=It?Math.max(1,Math.ceil(At/It)):1;return{pageSize:It,pageNum:Nt,totalRows:At,totalPages:e}}function d(e,t){yt=t,at=e,rt=null,t===!1&&dt.reverse(),dt.sort(e),t===!1&&dt.reverse(),ft={},s(),tt()}function p(e,t){yt=t,rt=e,at=null;var n=Object.prototype.toString;Object.prototype.toString="function"==typeof e?e:function(){return this[e]},t===!1&&dt.reverse(),dt.sort(),Object.prototype.toString=n,t===!1&&dt.reverse(),ft={},s(),tt()}function f(){at?d(at,yt):rt&&p(rt,yt)}function g(e){mt=e,t.inlineFilters&&(ot=Y(),lt=K()),tt()}function m(){return Dt}function v(n){t.groupItemMetadataProvider||(t.groupItemMetadataProvider=new Slick.Data.GroupItemMetadataProvider),St=[],Et=[],n=n||[],Dt=n instanceof Array?n:[n];for(var i=0;i<Dt.length;i++){var r=Dt[i]=e.extend(!0,{},Tt,Dt[i]);r.getterIsAFn="function"==typeof r.getter,r.compiledAccumulators=[];for(var a=r.aggregators.length;a--;)r.compiledAccumulators[a]=q(r.aggregators[a]);Et[i]={}}tt()}function b(e,t,n){return null==e?(v([]),void 0):(v({getter:e,formatter:t,comparer:n}),void 0)}function y(e,t){if(!Dt.length)throw new Error("At least one grouping must be specified before calling setAggregators().");Dt[0].aggregators=e,Dt[0].aggregateCollapsed=t,v(Dt)}function x(e){return dt[e]}function w(e){return ft[e]}function _(){if(!gt){gt={};for(var e=0,t=pt.length;t>e;e++)gt[pt[e][ut]]=e}}function C(e){return _(),gt[e]}function T(e){return dt[ft[e]]}function D(e){var t=[];_();for(var n=0;n<e.length;n++){var i=gt[e[n]];null!=i&&(t[t.length]=i)}return t}function S(e){for(var t=[],n=0;n<e.length;n++)e[n]<pt.length&&(t[t.length]=pt[e[n]][ut]);return t}function E(e,t){if(void 0===ft[e]||e!==t[ut])throw"Invalid or non-matching id";dt[ft[e]]=t,vt||(vt={}),vt[e]=!0,tt()}function k(e,t){dt.splice(e,0,t),s(e),tt()}function I(e){dt.push(e),s(dt.length-1),tt()}function N(e){var t=ft[e];if(void 0===t)throw"Invalid id";delete ft[e],dt.splice(t,1),s(t),tt()}function A(){return pt.length}function R(e){return pt[e]}function M(e){var n=pt[e];return void 0===n?null:n.__group?t.groupItemMetadataProvider.getGroupRowMetadata(n):n.__groupTotals?t.groupItemMetadataProvider.getTotalsRowMetadata(n):null}function P(e,t){if(null==e)for(var n=0;n<Dt.length;n++)Et[n]={},Dt[n].collapsed=t;else Et[e]={},Dt[e].collapsed=t;tt()}function O(e){P(e,!0)}function F(e){P(e,!1)}function B(e,t,n){Et[e][t]=Dt[e].collapsed^n,tt()}function j(){var e=Array.prototype.slice.call(arguments),t=e[0];1==e.length&&-1!=t.indexOf(kt)?B(t.split(kt).length-1,t,!0):B(e.length-1,e.join(kt),!0)}function L(){var e=Array.prototype.slice.call(arguments),t=e[0];1==e.length&&-1!=t.indexOf(kt)?B(t.split(kt).length-1,t,!1):B(e.length-1,e.join(kt),!1)}function V(){return St}function $(e,t){for(var n,i,r,a=[],s=[],o=t?t.level+1:0,l=Dt[o],c=0,h=l.predefinedValues.length;h>c;c++)i=l.predefinedValues[c],n=s[i],n||(n=new Slick.Group,n.value=i,n.level=o,n.groupingKey=(t?t.groupingKey+kt:"")+i,a[a.length]=n,s[i]=n);for(var c=0,h=e.length;h>c;c++)r=e[c],i=l.getterIsAFn?l.getter(r):r[l.getter],n=s[i],n||(n=new Slick.Group,n.value=i,n.level=o,n.groupingKey=(t?t.groupingKey+kt:"")+i,a[a.length]=n,s[i]=n),n.rows[n.count++]=r;if(o<Dt.length-1)for(var c=0;c<a.length;c++)n=a[c],n.groups=$(n.rows,n);return a.sort(Dt[o].comparer),a}function H(e){for(var t,n=Dt[e.level],i=e.level==Dt.length,r=new Slick.GroupTotals,a=n.aggregators.length;a--;)t=n.aggregators[a],t.init(),n.compiledAccumulators[a].call(t,!i&&n.aggregateChildGroups?e.groups:e.rows),t.storeResult(r);r.group=e,e.totals=r}function G(e,t){t=t||0;for(var n,i=Dt[t],r=e.length;r--;)n=e[r],(!n.collapsed||i.aggregateCollapsed)&&(n.groups&&G(n.groups,t+1),i.aggregators.length&&(i.aggregateEmpty||n.rows.length||n.groups&&n.groups.length)&&H(n))}function z(e,t){t=t||0;for(var n,i=Dt[t],r=i.collapsed,a=Et[t],s=e.length;s--;)n=e[s],n.collapsed=r^a[n.groupingKey],n.title=i.formatter?i.formatter(n):n.value,n.groups&&(z(n.groups,t+1),n.rows=[])}function U(e,t){t=t||0;for(var n,i,r=Dt[t],a=[],s=0,o=0,l=e.length;l>o;o++){if(i=e[o],a[s++]=i,!i.collapsed){n=i.groups?U(i.groups,t+1):i.rows;for(var c=0,h=n.length;h>c;c++)a[s++]=n[c]}i.totals&&r.displayTotalsRow&&(!i.collapsed||r.aggregateCollapsed)&&(a[s++]=i.totals)}return a}function W(e){var t=/^function[^(]*\(([^)]*)\)\s*{([\s\S]*)}$/,n=e.toString().match(t);return{params:n[1].split(","),body:n[2]}}function q(e){var t=W(e.accumulate),n=new Function("_items","for (var "+t.params[0]+", _i=0, _il=_items.length; _i<_il; _i++) {"+t.params[0]+" = _items[_i]; "+t.body+"}");return n.displayName=n.name="compiledAccumulatorLoop",n}function Y(){var e=W(mt),t=e.body.replace(/return false\s*([;}]|$)/gi,"{ continue _coreloop; }$1").replace(/return true\s*([;}]|$)/gi,"{ _retval[_idx++] = $item$; continue _coreloop; }$1").replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ($1) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),n=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","$filter$; ","} ","return _retval; "].join("");n=n.replace(/\$filter\$/gi,t),n=n.replace(/\$item\$/gi,e.params[0]),n=n.replace(/\$args\$/gi,e.params[1]);var i=new Function("_items,_args",n);return i.displayName=i.name="compiledFilter",i}function K(){var e=W(mt),t=e.body.replace(/return false\s*([;}]|$)/gi,"{ continue _coreloop; }$1").replace(/return true\s*([;}]|$)/gi,"{ _cache[_i] = true;_retval[_idx++] = $item$; continue _coreloop; }$1").replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ((_cache[_i] = $1)) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),n=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","if (_cache[_i]) { ","_retval[_idx++] = $item$; ","continue _coreloop; ","} ","$filter$; ","} ","return _retval; "].join("");n=n.replace(/\$filter\$/gi,t),n=n.replace(/\$item\$/gi,e.params[0]),n=n.replace(/\$args\$/gi,e.params[1]);var i=new Function("_items,_args,_cache",n);return i.displayName=i.name="compiledFilterWithCaching",i}function X(e,t){for(var n=[],i=0,r=0,a=e.length;a>r;r++)mt(e[r],t)&&(n[i++]=e[r]);return n}function Q(e,t,n){for(var i,r=[],a=0,s=0,o=e.length;o>s;s++)i=e[s],n[s]?r[a++]=i:mt(i,t)&&(r[a++]=i,n[s]=!0);return r}function J(e){if(mt){var n=t.inlineFilters?ot:X,i=t.inlineFilters?lt:Q;xt.isFilterNarrowing?_t=n(_t,st):xt.isFilterExpanding?_t=i(e,st,Ct):xt.isFilterUnchanged||(_t=n(e,st))}else _t=It?e:e.concat();var r;return It?(_t.length<Nt*It&&(Nt=Math.floor(_t.length/It)),r=_t.slice(It*Nt,It*Nt+It)):r=_t,{totalRows:_t.length,rows:r}}function Z(e,t){var n,i,r,a=[],s=0,o=t.length;xt&&xt.ignoreDiffsBefore&&(s=Math.max(0,Math.min(t.length,xt.ignoreDiffsBefore))),xt&&xt.ignoreDiffsAfter&&(o=Math.min(t.length,Math.max(0,xt.ignoreDiffsAfter)));for(var l=s,c=e.length;o>l;l++)l>=c?a[a.length]=l:(n=t[l],i=e[l],(Dt.length&&(r=n.__nonDataRow||i.__nonDataRow)&&n.__group!==i.__group||n.__group&&!n.equals(i)||r&&(n.__groupTotals||i.__groupTotals)||n[ut]!=i[ut]||vt&&vt[n[ut]])&&(a[a.length]=l));return a}function et(e){gt=null,(xt.isFilterNarrowing!=wt.isFilterNarrowing||xt.isFilterExpanding!=wt.isFilterExpanding)&&(Ct=[]);var t=J(e);At=t.totalRows;var n=t.rows;St=[],Dt.length&&(St=$(n),St.length&&(G(St),z(St),n=U(St)));var i=Z(pt,n);return pt=n,i}function tt(){if(!bt){var e=pt.length,t=At,n=et(dt,mt);It&&Nt*It>At&&(Nt=Math.max(0,Math.ceil(At/It)-1),n=et(dt,mt)),vt=null,wt=xt,xt={},t!=At&&Pt.notify(u(),null,ct),e!=pt.length&&Rt.notify({previous:e,current:pt.length},null,ct),n.length>0&&Mt.notify({rows:n},null,ct)}}function nt(e,t){function n(){if(a.length>0){i=!0;var n=r.mapIdsToRows(a);t||(a=r.mapRowsToIds(n)),e.setSelectedRows(n),i=!1}}var i,r=this,a=r.mapRowsToIds(e.getSelectedRows());e.onSelectedRowsChanged.subscribe(function(){i||(a=r.mapRowsToIds(e.getSelectedRows()))}),this.onRowsChanged.subscribe(n),this.onRowCountChanged.subscribe(n)}function it(e,t){function n(e){r={};for(var t in e){var n=pt[t][ut];r[n]=e[t]}}function i(){if(r){a=!0,_();var n={};for(var i in r){var s=gt[i];void 0!=s&&(n[s]=r[i])}e.setCellCssStyles(t,n),a=!1}}var r,a;n(e.getCellCssStyles(t)),e.onCellCssStylesChanged.subscribe(function(e,i){a||t==i.key&&i.hash&&n(i.hash)}),this.onRowsChanged.subscribe(i),this.onRowCountChanged.subscribe(i)}var rt,at,st,ot,lt,ct=this,ht={groupItemMetadataProvider:null,inlineFilters:!1},ut="id",dt=[],pt=[],ft={},gt=null,mt=null,vt=null,bt=!1,yt=!0,xt={},wt={},_t=[],Ct=[],Tt={getter:null,formatter:null,comparer:function(e,t){return e.value-t.value},predefinedValues:[],aggregators:[],aggregateEmpty:!1,aggregateCollapsed:!1,aggregateChildGroups:!1,collapsed:!1,displayTotalsRow:!0},Dt=[],St=[],Et=[],kt=":|:",It=0,Nt=0,At=0,Rt=new Slick.Event,Mt=new Slick.Event,Pt=new Slick.Event;t=e.extend(!0,{},ht,t),e.extend(this,{beginUpdate:n,endUpdate:i,setPagingOptions:h,getPagingInfo:u,getItems:l,setItems:c,setFilter:g,sort:d,fastSort:p,reSort:f,setGrouping:v,getGrouping:m,groupBy:b,setAggregators:y,collapseAllGroups:O,expandAllGroups:F,collapseGroup:j,expandGroup:L,getGroups:V,getIdxById:w,getRowById:C,getItemById:T,getItemByIdx:x,mapRowsToIds:S,mapIdsToRows:D,setRefreshHints:r,setFilterArgs:a,refresh:tt,updateItem:E,insertItem:k,addItem:I,deleteItem:N,syncGridSelection:nt,syncGridCellCssStyles:it,getLength:A,getItem:R,getItemMetadata:M,onRowCountChanged:Rt,onRowsChanged:Mt,onPagingInfoChanged:Pt})}function n(e){this.field_=e,this.init=function(){this.count_=0,this.nonNullCount_=0,this.sum_=0},this.accumulate=function(e){var t=e[this.field_];this.count_++,null!=t&&""!==t&&0/0!==t&&(this.nonNullCount_++,this.sum_+=parseFloat(t))},this.storeResult=function(e){e.avg||(e.avg={}),0!=this.nonNullCount_&&(e.avg[this.field_]=this.sum_/this.nonNullCount_)}}function i(e){this.field_=e,this.init=function(){this.min_=null},this.accumulate=function(e){var t=e[this.field_];null!=t&&""!==t&&0/0!==t&&(null==this.min_||t<this.min_)&&(this.min_=t)},this.storeResult=function(e){e.min||(e.min={}),e.min[this.field_]=this.min_}}function r(e){this.field_=e,this.init=function(){this.max_=null},this.accumulate=function(e){var t=e[this.field_];null!=t&&""!==t&&0/0!==t&&(null==this.max_||t>this.max_)&&(this.max_=t)},this.storeResult=function(e){e.max||(e.max={}),e.max[this.field_]=this.max_}}function a(e){this.field_=e,this.init=function(){this.sum_=null},this.accumulate=function(e){var t=e[this.field_];null!=t&&""!==t&&0/0!==t&&(this.sum_+=parseFloat(t))},this.storeResult=function(e){e.sum||(e.sum={}),e.sum[this.field_]=this.sum_}}e.extend(!0,window,{Slick:{Data:{DataView:t,Aggregators:{Avg:n,Min:i,Max:r,Sum:a}}}})}(jQuery),function(e){function t(t){var n,i;this.init=function(){n=e("<INPUT type=text class='editor-text' />").appendTo(t.container).bind("keydown.nav",function(t){(t.keyCode===e.ui.keyCode.LEFT||t.keyCode===e.ui.keyCode.RIGHT)&&t.stopImmediatePropagation()}).focus().select()},this.destroy=function(){n.remove()},this.focus=function(){n.focus()},this.getValue=function(){return n.val()},this.setValue=function(e){n.val(e)},this.loadValue=function(e){i=e[t.column.field]||"",n.val(i),n[0].defaultValue=i,n.select()},this.serializeValue=function(){return n.val()},this.applyValue=function(e,n){e[t.column.field]=n},this.isValueChanged=function(){return!(""==n.val()&&null==i)&&n.val()!=i},this.validate=function(){if(t.column.validator){var e=t.column.validator(n.val());if(!e.valid)return e}return{valid:!0,msg:null}},this.init()}function n(t){var n,i;this.init=function(){n=e("<INPUT type=text class='editor-text' />"),n.bind("keydown.nav",function(t){(t.keyCode===e.ui.keyCode.LEFT||t.keyCode===e.ui.keyCode.RIGHT)&&t.stopImmediatePropagation()}),n.appendTo(t.container),n.focus().select()},this.destroy=function(){n.remove()},this.focus=function(){n.focus()},this.loadValue=function(e){i=e[t.column.field],n.val(i),n[0].defaultValue=i,n.select()},this.serializeValue=function(){return parseInt(n.val(),10)||0},this.applyValue=function(e,n){e[t.column.field]=n},this.isValueChanged=function(){return!(""==n.val()&&null==i)&&n.val()!=i},this.validate=function(){return isNaN(n.val())?{valid:!1,msg:"Please enter a valid integer"}:{valid:!0,msg:null}},this.init()}function i(t){var n,i,r=!1;this.init=function(){n=e("<INPUT type=text class='editor-text' />"),n.appendTo(t.container),n.focus().select(),n.datepicker({showOn:"button",buttonImageOnly:!0,buttonImage:"../images/calendar.gif",beforeShow:function(){r=!0},onClose:function(){r=!1}}),n.width(n.width()-18)},this.destroy=function(){e.datepicker.dpDiv.stop(!0,!0),n.datepicker("hide"),n.datepicker("destroy"),n.remove()},this.show=function(){r&&e.datepicker.dpDiv.stop(!0,!0).show()},this.hide=function(){r&&e.datepicker.dpDiv.stop(!0,!0).hide()},this.position=function(t){r&&e.datepicker.dpDiv.css("top",t.top+30).css("left",t.left)},this.focus=function(){n.focus()},this.loadValue=function(e){i=e[t.column.field],n.val(i),n[0].defaultValue=i,n.select()},this.serializeValue=function(){return n.val()},this.applyValue=function(e,n){e[t.column.field]=n},this.isValueChanged=function(){return!(""==n.val()&&null==i)&&n.val()!=i},this.validate=function(){return{valid:!0,msg:null}},this.init()}function r(t){var n,i;this.init=function(){n=e("<SELECT tabIndex='0' class='editor-yesno'><OPTION value='yes'>Yes</OPTION><OPTION value='no'>No</OPTION></SELECT>"),n.appendTo(t.container),n.focus()},this.destroy=function(){n.remove()},this.focus=function(){n.focus()},this.loadValue=function(e){n.val((i=e[t.column.field])?"yes":"no"),n.select()},this.serializeValue=function(){return"yes"==n.val()},this.applyValue=function(e,n){e[t.column.field]=n},this.isValueChanged=function(){return n.val()!=i},this.validate=function(){return{valid:!0,msg:null}},this.init()}function a(t){var n,i;this.init=function(){n=e("<INPUT type=checkbox value='true' class='editor-checkbox' hideFocus>"),n.appendTo(t.container),n.focus()},this.destroy=function(){n.remove()},this.focus=function(){n.focus()},this.loadValue=function(e){i=!!e[t.column.field],i?n.attr("checked","checked"):n.removeAttr("checked")},this.serializeValue=function(){return!!n.attr("checked")},this.applyValue=function(e,n){e[t.column.field]=n},this.isValueChanged=function(){return this.serializeValue()!==i},this.validate=function(){return{valid:!0,msg:null}},this.init()}function s(t){var n,i,r;this.init=function(){n=e("<INPUT type=text class='editor-percentcomplete' />"),n.width(e(t.container).innerWidth()-25),n.appendTo(t.container),i=e("<div class='editor-percentcomplete-picker' />").appendTo(t.container),i.append("<div class='editor-percentcomplete-helper'><div class='editor-percentcomplete-wrapper'><div class='editor-percentcomplete-slider' /><div class='editor-percentcomplete-buttons' /></div></div>"),i.find(".editor-percentcomplete-buttons").append("<button val=0>Not started</button><br/><button val=50>In Progress</button><br/><button val=100>Complete</button>"),n.focus().select(),i.find(".editor-percentcomplete-slider").slider({orientation:"vertical",range:"min",value:r,slide:function(e,t){n.val(t.value)}}),i.find(".editor-percentcomplete-buttons button").bind("click",function(){n.val(e(this).attr("val")),i.find(".editor-percentcomplete-slider").slider("value",e(this).attr("val"))})},this.destroy=function(){n.remove(),i.remove()},this.focus=function(){n.focus()},this.loadValue=function(e){n.val(r=e[t.column.field]),n.select()},this.serializeValue=function(){return parseInt(n.val(),10)||0},this.applyValue=function(e,n){e[t.column.field]=n},this.isValueChanged=function(){return!(""==n.val()&&null==r)&&(parseInt(n.val(),10)||0)!=r},this.validate=function(){return isNaN(parseInt(n.val(),10))?{valid:!1,msg:"Please enter a valid positive number"}:{valid:!0,msg:null}},this.init()}function o(t){var n,i,r,a=this;this.init=function(){var r=e("body");i=e("<DIV style='z-index:10000;position:absolute;background:white;padding:5px;border:3px solid gray; -moz-border-radius:10px; border-radius:10px;'/>").appendTo(r),n=e("<TEXTAREA hidefocus rows=5 style='backround:white;width:250px;height:80px;border:0;outline:0'>").appendTo(i),e("<DIV style='text-align:right'><BUTTON>Save</BUTTON><BUTTON>Cancel</BUTTON></DIV>").appendTo(i),i.find("button:first").bind("click",this.save),i.find("button:last").bind("click",this.cancel),n.bind("keydown",this.handleKeyDown),a.position(t.position),n.focus().select()},this.handleKeyDown=function(n){n.which==e.ui.keyCode.ENTER&&n.ctrlKey?a.save():n.which==e.ui.keyCode.ESCAPE?(n.preventDefault(),a.cancel()):n.which==e.ui.keyCode.TAB&&n.shiftKey?(n.preventDefault(),t.grid.navigatePrev()):n.which==e.ui.keyCode.TAB&&(n.preventDefault(),t.grid.navigateNext())},this.save=function(){t.commitChanges()},this.cancel=function(){n.val(r),t.cancelChanges()},this.hide=function(){i.hide()},this.show=function(){i.show()},this.position=function(e){i.css("top",e.top-5).css("left",e.left-5)},this.destroy=function(){i.remove()},this.focus=function(){n.focus()},this.loadValue=function(e){n.val(r=e[t.column.field]),n.select()},this.serializeValue=function(){return n.val()},this.applyValue=function(e,n){e[t.column.field]=n},this.isValueChanged=function(){return!(""==n.val()&&null==r)&&n.val()!=r},this.validate=function(){return{valid:!0,msg:null}},this.init()}e.extend(!0,window,{Slick:{Editors:{Text:t,Integer:n,Date:i,YesNoSelect:r,Checkbox:a,PercentComplete:s,LongText:o}}})}(jQuery),function(e){function t(t){function n(e,n,i,r,a){if(!t.enableExpandCollapse)return a.title;var s=15*a.level+"px";return"<span class='"+t.toggleCssClass+" "+(a.collapsed?t.toggleCollapsedCssClass:t.toggleExpandedCssClass)+"' style='margin-left:"+s+"'>"+"</span>"+"<span class='"+t.groupTitleCssClass+"' level='"+a.level+"'>"+a.title+"</span>"}function i(e,t,n,i,r){return i.groupTotalsFormatter&&i.groupTotalsFormatter(r,i)||""}function r(e){h=e,h.onClick.subscribe(s),h.onKeyDown.subscribe(o)}function a(){h&&(h.onClick.unsubscribe(s),h.onKeyDown.unsubscribe(o))}function s(n,i){var r=this.getDataItem(i.row);r&&r instanceof Slick.Group&&e(n.target).hasClass(t.toggleCssClass)&&(r.collapsed?this.getData().expandGroup(r.groupingKey):this.getData().collapseGroup(r.groupingKey),n.stopImmediatePropagation(),n.preventDefault())}function o(n){if(t.enableExpandCollapse&&n.which==e.ui.keyCode.SPACE){var i=this.getActiveCell();if(i){var r=this.getDataItem(i.row);r&&r instanceof Slick.Group&&(r.collapsed?this.getData().expandGroup(r.groupingKey):this.getData().collapseGroup(r.groupingKey),n.stopImmediatePropagation(),n.preventDefault())}}}function l(){return{selectable:!1,focusable:t.groupFocusable,cssClasses:t.groupCssClass,columns:{0:{colspan:"*",formatter:n,editor:null}}}}function c(){return{selectable:!1,focusable:t.totalsFocusable,cssClasses:t.totalsCssClass,formatter:i,editor:null}}var h,u={groupCssClass:"slick-group",groupTitleCssClass:"slick-group-title",totalsCssClass:"slick-group-totals",groupFocusable:!0,totalsFocusable:!1,toggleCssClass:"slick-group-toggle",toggleExpandedCssClass:"expanded",toggleCollapsedCssClass:"collapsed",enableExpandCollapse:!0};return t=e.extend(!0,{},u,t),{init:r,destroy:a,getGroupRowMetadata:l,getTotalsRowMetadata:c}}e.extend(!0,window,{Slick:{Data:{GroupItemMetadataProvider:t}}})}(jQuery),function(e){function t(e,t,n){return null==n||""===n?"-":50>n?"<span style='color:red;font-weight:bold;'>"+n+"%</span>":"<span style='color:green'>"+n+"%</span>"}function n(e,t,n){if(null==n||""===n)return"";var i;return i=30>n?"red":70>n?"silver":"green","<span class='percent-complete-bar' style='background:"+i+";width:"+n+"%'></span>"}function i(e,t,n){return n?"Yes":"No"}function r(e,t,n){return n?"<img src='../images/tick.png'>":""}e.extend(!0,window,{Slick:{Formatters:{PercentComplete:t,PercentCompleteBar:n,YesNo:i,Checkmark:r}}})}(jQuery),function(e){function t(t,n,i){function r(){t.onPagingInfoChanged.subscribe(function(e,t){d(t)}),u(),d(t.getPagingInfo())}function a(){var e=!Slick.GlobalEditorLock.commitCurrentEdit(),n=t.getPagingInfo(),i=n.totalPages-1;return{canGotoFirst:!e&&0!=n.pageSize&&n.pageNum>0,canGotoLast:!e&&0!=n.pageSize&&n.pageNum!=i,canGotoPrev:!e&&0!=n.pageSize&&n.pageNum>0,canGotoNext:!e&&0!=n.pageSize&&n.pageNum<i,pagingInfo:n}}function s(e){t.setRefreshHints({isFilterUnchanged:!0}),t.setPagingOptions({pageSize:e})}function o(){a().canGotoFirst&&t.setPagingOptions({pageNum:0})}function l(){var e=a();e.canGotoLast&&t.setPagingOptions({pageNum:e.pagingInfo.totalPages-1})}function c(){var e=a();e.canGotoPrev&&t.setPagingOptions({pageNum:e.pagingInfo.pageNum-1})}function h(){var e=a();e.canGotoNext&&t.setPagingOptions({pageNum:e.pagingInfo.pageNum+1})}function u(){i.empty();var t=e("<span class='slick-pager-nav' />").appendTo(i),r=e("<span class='slick-pager-settings' />").appendTo(i);p=e("<span class='slick-pager-status' />").appendTo(i),r.append("<span class='slick-pager-settings-expanded' style='display:none'>Show: <a data=0>All</a><a data='-1'>Auto</a><a data=25>25</a><a data=50>50</a><a data=100>100</a></span>"),r.find("a[data]").click(function(t){var i=e(t.target).attr("data");if(void 0!=i)if(-1==i){var r=n.getViewport();s(r.bottom-r.top)}else s(parseInt(i))});var a="<span class='ui-state-default ui-corner-all ui-icon-container'><span class='ui-icon ",u="' /></span>";e(a+"ui-icon-lightbulb"+u).click(function(){e(".slick-pager-settings-expanded").toggle()}).appendTo(r),e(a+"ui-icon-seek-first"+u).click(o).appendTo(t),e(a+"ui-icon-seek-prev"+u).click(c).appendTo(t),e(a+"ui-icon-seek-next"+u).click(h).appendTo(t),e(a+"ui-icon-seek-end"+u).click(l).appendTo(t),i.find(".ui-icon-container").hover(function(){e(this).toggleClass("ui-state-hover")}),i.children().wrapAll("<div class='slick-pager' />")}function d(e){var t=a();i.find(".slick-pager-nav span").removeClass("ui-state-disabled"),t.canGotoFirst||i.find(".ui-icon-seek-first").addClass("ui-state-disabled"),t.canGotoLast||i.find(".ui-icon-seek-end").addClass("ui-state-disabled"),t.canGotoNext||i.find(".ui-icon-seek-next").addClass("ui-state-disabled"),t.canGotoPrev||i.find(".ui-icon-seek-prev").addClass("ui-state-disabled"),0==e.pageSize?p.text("Showing all "+e.totalRows+" rows"):p.text("Showing page "+(e.pageNum+1)+" of "+e.totalPages)}var p;r()}e.extend(!0,window,{Slick:{Controls:{Pager:t}}})}(jQuery),function(e){function t(t,n,i){function r(){n.onHeaderContextMenu.subscribe(a),n.onColumnsReordered.subscribe(s),i=e.extend({},u,i),c=e("<span class='slick-columnpicker' style='display:none;position:absolute;z-index:20;' />").appendTo(document.body),c.bind("mouseleave",function(){e(this).fadeOut(i.fadeSpeed)}),c.bind("click",o)}function a(r){r.preventDefault(),c.empty(),s(),h=[];for(var a,o,l=0;l<t.length;l++)a=e("<li />").appendTo(c),o=e("<input type='checkbox' />").data("column-id",t[l].id),h.push(o),null!=n.getColumnIndex(t[l].id)&&o.attr("checked","checked"),e("<label />").text(t[l].name).prepend(o).appendTo(a);e("<hr/>").appendTo(c),a=e("<li />").appendTo(c),o=e("<input type='checkbox' />").data("option","autoresize"),e("<label />").text("Force fit columns").prepend(o).appendTo(a),n.getOptions().forceFitColumns&&o.attr("checked","checked"),a=e("<li />").appendTo(c),o=e("<input type='checkbox' />").data("option","syncresize"),e("<label />").text("Synchronous resize").prepend(o).appendTo(a),n.getOptions().syncColumnCellResize&&o.attr("checked","checked"),c.css("top",r.pageY-10).css("left",r.pageX-10).fadeIn(i.fadeSpeed)
}function s(){for(var e=n.getColumns().slice(0),i=new Array(t.length),r=0;r<i.length;r++)i[r]=void 0===n.getColumnIndex(t[r].id)?t[r]:e.shift();t=i}function o(i){if("autoresize"==e(i.target).data("option"))return i.target.checked?(n.setOptions({forceFitColumns:!0}),n.autosizeColumns()):n.setOptions({forceFitColumns:!1}),void 0;if("syncresize"==e(i.target).data("option"))return i.target.checked?n.setOptions({syncColumnCellResize:!0}):n.setOptions({syncColumnCellResize:!1}),void 0;if(e(i.target).is(":checkbox")){var r=[];if(e.each(h,function(n){e(this).is(":checked")&&r.push(t[n])}),!r.length)return e(i.target).attr("checked","checked"),void 0;n.setColumns(r)}}function l(){return t}var c,h,u={fadeSpeed:250};return r(),{getAllColumns:l}}e.extend(!0,window,{Slick:{Controls:{ColumnPicker:t}}})}(jQuery),function(e){function t(t){function n(n){v=e.extend(!0,{},w,t),g=n,x.subscribe(g.onActiveCellChanged,r(d)),x.subscribe(g.onKeyDown,r(p)),x.subscribe(g.onClick,r(f))}function i(){x.unsubscribeAll()}function r(e){return function(){m||(m=!0,e.apply(this,arguments),m=!1)}}function a(e){for(var t=[],n=0;n<e.length;n++)for(var i=e[n].fromRow;i<=e[n].toRow;i++)t.push(i);return t}function s(e){for(var t=[],n=g.getColumns().length-1,i=0;i<e.length;i++)t.push(new Slick.Range(e[i],0,e[i],n));return t}function o(e,t){var n,i=[];for(n=e;t>=n;n++)i.push(n);for(n=t;e>n;n++)i.push(n);return i}function l(){return a(b)}function c(e){h(s(e))}function h(e){b=e,y.onSelectedRangesChanged.notify(b)}function u(){return b}function d(e,t){v.selectActiveRow&&null!=t.row&&h([new Slick.Range(t.row,0,t.row,g.getColumns().length-1)])}function p(e){var t=g.getActiveCell();if(t&&e.shiftKey&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&(38==e.which||40==e.which)){var n=l();n.sort(function(e,t){return e-t}),n.length||(n=[t.row]);var i,r=n[0],a=n[n.length-1];i=40==e.which?t.row<a||r==a?++a:++r:t.row<a?--a:--r,i>=0&&i<g.getDataLength()&&(g.scrollRowIntoView(i),b=s(o(r,a)),h(b)),e.preventDefault(),e.stopPropagation()}}function f(t){var n=g.getCellFromEvent(t);if(!n||!g.canCellBeActive(n.row,n.cell))return!1;var i=a(b),r=e.inArray(n.row,i);if(!(t.ctrlKey||t.shiftKey||t.metaKey))return!1;if(g.getOptions().multiSelect)if(-1===r&&(t.ctrlKey||t.metaKey))i.push(n.row),g.setActiveCell(n.row,n.cell);else if(-1!==r&&(t.ctrlKey||t.metaKey))i=e.grep(i,function(e){return e!==n.row}),g.setActiveCell(n.row,n.cell);else if(i.length&&t.shiftKey){var o=i.pop(),l=Math.min(n.row,o),c=Math.max(n.row,o);i=[];for(var u=l;c>=u;u++)u!==o&&i.push(u);i.push(o),g.setActiveCell(n.row,n.cell)}return b=s(i),h(b),t.stopImmediatePropagation(),!0}var g,m,v,b=[],y=this,x=new Slick.EventHandler,w={selectActiveRow:!0};e.extend(this,{getSelectedRows:l,setSelectedRows:c,getSelectedRanges:u,setSelectedRanges:h,init:n,destroy:i,onSelectedRangesChanged:new Slick.Event})}e.extend(!0,window,{Slick:{RowSelectionModel:t}})}(jQuery),function(e){function t(t){function n(n){p=e.extend(!0,{},v,t),u=n,d=u.getCanvasNode(),u.onActiveCellChanged.subscribe(c),u.onKeyDown.subscribe(h),n.registerPlugin(m),m.onCellRangeSelected.subscribe(l),m.onBeforeCellRangeSelected.subscribe(o)}function i(){u.onActiveCellChanged.unsubscribe(c),u.onKeyDown.unsubscribe(h),m.onCellRangeSelected.unsubscribe(l),m.onBeforeCellRangeSelected.unsubscribe(o),u.unregisterPlugin(m)}function r(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];u.canCellBeSelected(i.fromRow,i.fromCell)&&u.canCellBeSelected(i.toRow,i.toCell)&&t.push(i)}return t}function a(e){f=r(e),g.onSelectedRangesChanged.notify(f)}function s(){return f}function o(e){return u.getEditorLock().isActive()?(e.stopPropagation(),!1):void 0}function l(e,t){a([t.range])}function c(e,t){p.selectActiveCell&&null!=t.row&&null!=t.cell&&a([new Slick.Range(t.row,t.cell)])}function h(e){var t,n,i=u.getActiveCell();if(i&&e.shiftKey&&!e.ctrlKey&&!e.altKey&&(37==e.which||39==e.which||38==e.which||40==e.which)){t=s(),t.length||t.push(new Slick.Range(i.row,i.cell)),n=t.pop(),n.contains(i.row,i.cell)||(n=new Slick.Range(i.row,i.cell));var o=n.toRow-n.fromRow,l=n.toCell-n.fromCell,c=i.row==n.fromRow?1:-1,h=i.cell==n.fromCell?1:-1;37==e.which?l-=h:39==e.which?l+=h:38==e.which?o-=c:40==e.which&&(o+=c);var d=new Slick.Range(i.row,i.cell,i.row+c*o,i.cell+h*l);if(r([d]).length){t.push(d);var p=c>0?d.toRow:d.fromRow,f=h>0?d.toCell:d.fromCell;u.scrollRowIntoView(p),u.scrollCellIntoView(p,f)}else t.push(n);a(t),e.preventDefault(),e.stopPropagation()}}var u,d,p,f=[],g=this,m=new Slick.CellRangeSelector({selectionCss:{border:"2px solid black"}}),v={selectActiveCell:!0};e.extend(this,{getSelectedRanges:s,setSelectedRanges:a,init:n,destroy:i,onSelectedRangesChanged:new Slick.Event})}e.extend(!0,window,{Slick:{CellSelectionModel:t}})}(jQuery),/*!
 * jQuery UI Widget 1.9.2
 * http://jqueryui.com
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
function(e,t){var n=0,i=Array.prototype.slice,r=e.cleanData;e.cleanData=function(t){for(var n,i=0;null!=(n=t[i]);i++)try{e(n).triggerHandler("remove")}catch(a){}r(t)},e.widget=function(t,n,i){var r,a,s,o,l=t.split(".")[0];t=t.split(".")[1],r=l+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[l]=e[l]||{},a=e[l][t],s=e[l][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new s(e,t)},e.extend(s,a,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),o=new n,o.options=e.widget.extend({},o.options),e.each(i,function(t,r){e.isFunction(r)&&(i[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,a=this._superApply;return this._super=e,this._superApply=i,t=r.apply(this,arguments),this._super=n,this._superApply=a,t}}())}),s.prototype=e.widget.extend(o,{widgetEventPrefix:a?o.widgetEventPrefix:t},i,{constructor:s,namespace:l,widgetName:t,widgetBaseClass:r,widgetFullName:r}),a?(e.each(a._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete a._childConstructors):n._childConstructors.push(s),e.widget.bridge(t,s)},e.widget.extend=function(n){for(var r,a,s=i.call(arguments,1),o=0,l=s.length;l>o;o++)for(r in s[o])a=s[o][r],s[o].hasOwnProperty(r)&&a!==t&&(n[r]=e.isPlainObject(a)?e.isPlainObject(n[r])?e.widget.extend({},n[r],a):e.widget.extend({},a):a);return n},e.widget.bridge=function(n,r){var a=r.prototype.widgetFullName||n;e.fn[n]=function(s){var o="string"==typeof s,l=i.call(arguments,1),c=this;return s=!o&&l.length?e.widget.extend.apply(null,[s].concat(l)):s,o?this.each(function(){var i,r=e.data(this,a);return r?e.isFunction(r[s])&&"_"!==s.charAt(0)?(i=r[s].apply(r,l),i!==r&&i!==t?(c=i&&i.jquery?c.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+s+"' for "+n+" widget instance"):e.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+s+"'")}):this.each(function(){var t=e.data(this,a);t?t.option(s||{})._init():e.data(this,a,new r(s,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetName,this),e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,i){var r,a,s,o=n;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof n)if(o={},r=n.split("."),n=r.shift(),r.length){for(a=o[n]=e.widget.extend({},this.options[n]),s=0;s<r.length-1;s++)a[r[s]]=a[r[s]]||{},a=a[r[s]];if(n=r.pop(),i===t)return a[n]===t?null:a[n];a[n]=i}else{if(i===t)return this.options[n]===t?null:this.options[n];o[n]=i}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,i){var r,a=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=r=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),e.each(i,function(i,s){function o(){return t||a.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof s?a[s]:s).apply(a,arguments):void 0}"string"!=typeof s&&(o.guid=s.guid=s.guid||o.guid||e.guid++);var l=i.match(/^(\w+)\s*(.*)$/),c=l[1]+a.eventNamespace,h=l[2];h?r.delegate(h,c,o):n.bind(c,o)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var r,a,s=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],a=n.originalEvent)for(r in a)r in n||(n[r]=a[r]);return this.element.trigger(n,i),!(e.isFunction(s)&&s.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,r,a){"string"==typeof r&&(r={effect:r});var s,o=r?r===!0||"number"==typeof r?n:r.effect||n:t;r=r||{},"number"==typeof r&&(r={duration:r}),s=!e.isEmptyObject(r),r.complete=a,r.delay&&i.delay(r.delay),s&&e.effects&&(e.effects.effect[o]||e.uiBackCompat!==!1&&e.effects[o])?i[t](r):o!==t&&i[o]?i[o](r.duration,r.easing,a):i.queue(function(n){e(this)[t](),a&&a.call(i[0]),n()})}}),e.uiBackCompat!==!1&&(e.Widget.prototype._getCreateOptions=function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]})}(jQuery),/*
 * jQuery Iframe Transport Plugin 1.6.1
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2011, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(window.jQuery)}(function(e){"use strict";var t=0;e.ajaxTransport("iframe",function(n){if(n.async){var i,r,a;return{send:function(s,o){i=e('<form style="display:none;"></form>'),i.attr("accept-charset",n.formAcceptCharset),a=/\?/.test(n.url)?"&":"?","DELETE"===n.type?(n.url=n.url+a+"_method=DELETE",n.type="POST"):"PUT"===n.type?(n.url=n.url+a+"_method=PUT",n.type="POST"):"PATCH"===n.type&&(n.url=n.url+a+"_method=PATCH",n.type="POST"),r=e('<iframe src="javascript:false;" name="iframe-transport-'+(t+=1)+'"></iframe>').bind("load",function(){var t,a=e.isArray(n.paramName)?n.paramName:[n.paramName];r.unbind("load").bind("load",function(){var t;try{if(t=r.contents(),!t.length||!t[0].firstChild)throw new Error}catch(n){t=void 0}o(200,"success",{iframe:t}),e('<iframe src="javascript:false;"></iframe>').appendTo(i),i.remove()}),i.prop("target",r.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&e.each(n.formData,function(t,n){e('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(i)}),n.fileInput&&n.fileInput.length&&"POST"===n.type&&(t=n.fileInput.clone(),n.fileInput.after(function(e){return t[e]}),n.paramName&&n.fileInput.each(function(t){e(this).prop("name",a[t]||n.paramName)}),i.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data")),i.submit(),t&&t.length&&n.fileInput.each(function(n,i){var r=e(t[n]);e(i).prop("name",r.prop("name")),r.replaceWith(i)})}),i.append(r).appendTo(document.body)},abort:function(){r&&r.unbind("load").prop("src","javascript".concat(":false;")),i&&i.remove()}}}}),e.ajaxSetup({converters:{"iframe text":function(t){return t&&e(t[0].body).text()},"iframe json":function(t){return t&&e.parseJSON(e(t[0].body).text())},"iframe html":function(t){return t&&e(t[0].body).html()},"iframe script":function(t){return t&&e.globalEval(e(t[0].body).text())}}})}),/*
 * jQuery File Upload Plugin 5.31
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2010, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],e):e(window.jQuery)}(function(e){"use strict";e.support.xhrFileUpload=!(!window.XMLHttpRequestUpload||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:e(document),fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,n){return t=this.messages[t]||t.toString(),n&&e.each(n,function(e,n){t=t.replace("{"+e+"}",n)}),t},formData:function(e){return e.serializeArray()},add:function(t,n){(n.autoUpload||n.autoUpload!==!1&&e(this).fileupload("option","autoUpload"))&&n.process().done(function(){n.submit()})},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,n){var i=e-this.timestamp;return(!this.bitrate||!n||i>n)&&(this.bitrate=8*(t-this.loaded)*(1e3/i),this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var n;return"function"==typeof t.formData?t.formData(t.form):e.isArray(t.formData)?t.formData:"object"===e.type(t.formData)?(n=[],e.each(t.formData,function(e,t){n.push({name:e,value:t})}),n):[]},_getTotal:function(t){var n=0;return e.each(t,function(e,t){n+=t.size||1}),n},_initProgressObject:function(t){var n={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,n):t._progress=n},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(e,t){if(e.lengthComputable){var n,i=Date.now?Date.now():(new Date).getTime();if(t._time&&t.progressInterval&&i-t._time<t.progressInterval&&e.loaded!==e.total)return;t._time=i,n=Math.floor(e.loaded/e.total*(t.chunkSize||t._progress.total))+(t.uploadedBytes||0),this._progress.loaded+=n-t._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(i,this._progress.loaded,t.bitrateInterval),t._progress.loaded=t.loaded=n,t._progress.bitrate=t.bitrate=t._bitrateTimer.getBitrate(i,n,t.bitrateInterval),this._trigger("progress",e,t),this._trigger("progressall",e,this._progress)}},_initProgressListener:function(t){var n=this,i=t.xhr?t.xhr():e.ajaxSettings.xhr();i.upload&&(e(i.upload).bind("progress",function(e){var i=e.originalEvent;e.lengthComputable=i.lengthComputable,e.loaded=i.loaded,e.total=i.total,n._onProgress(e,t)}),t.xhr=function(){return i})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var n,i=this,r=t.files[0],a=t.multipart||!e.support.xhrFileUpload,s=t.paramName[0];t.headers=t.headers||{},t.contentRange&&(t.headers["Content-Range"]=t.contentRange),a?e.support.xhrFormDataFileUpload&&(t.postMessage?(n=this._getFormData(t),t.blob?n.push({name:s,value:t.blob}):e.each(t.files,function(e,i){n.push({name:t.paramName[e]||s,value:i})})):(i._isInstanceOf("FormData",t.formData)?n=t.formData:(n=new FormData,e.each(this._getFormData(t),function(e,t){n.append(t.name,t.value)})),t.blob?(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(r.name)+'"',n.append(s,t.blob,r.name)):e.each(t.files,function(e,r){(i._isInstanceOf("File",r)||i._isInstanceOf("Blob",r))&&n.append(t.paramName[e]||s,r,r.name)})),t.data=n):(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(r.name)+'"',t.contentType=r.type,t.data=t.blob||r),t.blob=null},_initIframeSettings:function(t){t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&e("<a></a>").prop("href",t.url).prop("host")!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var n=e(t.fileInput),i=t.paramName;return i?e.isArray(i)||(i=[i]):(i=[],n.each(function(){for(var t=e(this),n=t.prop("name")||"files[]",r=(t.prop("files")||[1]).length;r;)i.push(n),r-=1}),i.length||(i=[n.prop("name")||"files[]"])),i},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var n=e.extend({},this.options,t);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,n,i){var r=e.Deferred(),a=r.promise();return n=n||this.options.context||a,t===!0?r.resolveWith(n,i):t===!1&&r.rejectWith(n,i),a.abort=r.promise,this._enhancePromise(a)},_addConvenienceMethods:function(t,n){var i=this,r=function(t){return e.Deferred().resolveWith(i,[t]).promise()};n.process=function(e,t){return(e||t)&&(n._processQueue=this._processQueue=(this._processQueue||r(this)).pipe(e,t)),this._processQueue||r(this)},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=i._trigger("submit",t,this)!==!1&&i._onSend(t,this)),this.jqXHR||i._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():i._getXHRPromise()},n.state=function(){return this.jqXHR?i._getDeferredState(this.jqXHR):this._processQueue?i._getDeferredState(this._processQueue):void 0},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),n=t&&t.split("-"),i=n&&n.length>1&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(t,n){var i,r,a=this,s=t.files[0],o=s.size,l=t.uploadedBytes=t.uploadedBytes||0,c=t.maxChunkSize||o,h=s.slice||s.webkitSlice||s.mozSlice,u=e.Deferred(),d=u.promise();return this._isXHRUpload(t)&&h&&(l||o>c)&&!t.data?n?!0:l>=o?(s.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",s.error])):(r=function(){var n=e.extend({},t),d=n._progress.loaded;n.blob=h.call(s,l,l+c,s.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+l+"-"+(l+n.chunkSize-1)+"/"+o,a._initXHRData(n),a._initProgressListener(n),i=(a._trigger("chunksend",null,n)!==!1&&e.ajax(n)||a._getXHRPromise(!1,n.context)).done(function(i,s,c){l=a._getUploadedBytes(c)||l+n.chunkSize,n._progress.loaded===d&&a._onProgress(e.Event("progress",{lengthComputable:!0,loaded:l-n.uploadedBytes,total:l-n.uploadedBytes}),n),t.uploadedBytes=n.uploadedBytes=l,n.result=i,n.textStatus=s,n.jqXHR=c,a._trigger("chunkdone",null,n),a._trigger("chunkalways",null,n),o>l?r():u.resolveWith(n.context,[i,s,c])}).fail(function(e,t,i){n.jqXHR=e,n.textStatus=t,n.errorThrown=i,a._trigger("chunkfail",null,n),a._trigger("chunkalways",null,n),u.rejectWith(n.context,[e,t,i])})},this._enhancePromise(d),d.abort=function(){return i.abort()},r(),d):!1},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,n,i,r){var a=r._progress.total,s=r._response;r._progress.loaded<a&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:a,total:a}),r),s.result=r.result=t,s.textStatus=r.textStatus=n,s.jqXHR=r.jqXHR=i,this._trigger("done",null,r)},_onFail:function(e,t,n,i){var r=i._response;i.recalculateProgress&&(this._progress.loaded-=i._progress.loaded,this._progress.total-=i._progress.total),r.jqXHR=i.jqXHR=e,r.textStatus=i.textStatus=t,r.errorThrown=i.errorThrown=n,this._trigger("fail",null,i)},_onAlways:function(e,t,n,i){this._trigger("always",null,i)},_onSend:function(t,n){n.submit||this._addConvenienceMethods(t,n);var i,r,a,s,o=this,l=o._getAJAXSettings(n),c=function(){return o._sending+=1,l._bitrateTimer=new o._BitrateTimer,i=i||((r||o._trigger("send",t,l)===!1)&&o._getXHRPromise(!1,l.context,r)||o._chunkedUpload(l)||e.ajax(l)).done(function(e,t,n){o._onDone(e,t,n,l)}).fail(function(e,t,n){o._onFail(e,t,n,l)}).always(function(e,t,n){if(o._onAlways(e,t,n,l),o._sending-=1,o._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>o._sending)for(var i=o._slots.shift();i;){if("pending"===o._getDeferredState(i)){i.resolve();break}i=o._slots.shift()}0===o._active&&o._trigger("stop")})};return this._beforeSend(t,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(a=e.Deferred(),this._slots.push(a),s=a.pipe(c)):s=this._sequence=this._sequence.pipe(c,c),s.abort=function(){return r=[void 0,"abort","abort"],i?i.abort():(a&&a.rejectWith(l.context,r),c())},this._enhancePromise(s)):c()},_onAdd:function(t,n){var i,r,a,s,o=this,l=!0,c=e.extend({},this.options,n),h=c.limitMultiFileUploads,u=this._getParamName(c);if((c.singleFileUploads||h)&&this._isXHRUpload(c))if(!c.singleFileUploads&&h)for(a=[],i=[],s=0;s<n.files.length;s+=h)a.push(n.files.slice(s,s+h)),r=u.slice(s,s+h),r.length||(r=u),i.push(r);else i=u;else a=[n.files],i=[u];return n.originalFiles=n.files,e.each(a||n.files,function(r,s){var c=e.extend({},n);return c.files=a?s:[s],c.paramName=i[r],o._initResponseObject(c),o._initProgressObject(c),o._addConvenienceMethods(t,c),l=o._trigger("add",t,c)}),l},_replaceFileInput:function(t){var n=t.clone(!0);e("<form></form>").append(n)[0].reset(),t.after(n).detach(),e.cleanData(t.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,i){return i===t[0]?n[0]:i}),t[0]===this.element[0]&&(this.element=n)},_handleFileTreeEntry:function(t,n){var i,r=this,a=e.Deferred(),s=function(e){e&&!e.entry&&(e.entry=t),a.resolve([e])};return n=n||"",t.isFile?t._file?(t._file.relativePath=n,a.resolve(t._file)):t.file(function(e){e.relativePath=n,a.resolve(e)},s):t.isDirectory?(i=t.createReader(),i.readEntries(function(e){r._handleFileTreeEntries(e,n+t.name+"/").done(function(e){a.resolve(e)}).fail(s)},s)):a.resolve([]),a.promise()},_handleFileTreeEntries:function(t,n){var i=this;return e.when.apply(e,e.map(t,function(e){return i._handleFileTreeEntry(e,n)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var n=t.items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(e.map(n,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var n,i,r=t.prop("webkitEntries")||t.prop("entries");if(r&&r.length)return this._handleFileTreeEntries(r);if(n=e.makeArray(t.prop("files")),n.length)void 0===n[0].name&&n[0].fileName&&e.each(n,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(i=t.prop("value"),!i)return e.Deferred().resolve([]).promise();n=[{name:i.replace(/^.*\\/,"")}]}return e.Deferred().resolve(n).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var n=this,i={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(i.fileInput).always(function(e){i.files=e,n.options.replaceFileInput&&n._replaceFileInput(i.fileInput),n._trigger("change",t,i)!==!1&&n._onAdd(t,i)})},_onPaste:function(t){var n=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,i={files:[]};return n&&n.length&&(e.each(n,function(e,t){var n=t.getAsFile&&t.getAsFile();n&&i.files.push(n)}),this._trigger("paste",t,i)===!1||this._onAdd(t,i)===!1)?!1:void 0},_onDrop:function(e){var t=this,n=e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer,i={};n&&n.files&&n.files.length&&(e.preventDefault(),this._getDroppedFiles(n).always(function(n){i.files=n,t._trigger("drop",e,i)!==!1&&t._onAdd(e,i)}))},_onDragOver:function(t){var n=t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;if(n){if(this._trigger("dragover",t)===!1)return!1;-1!==e.inArray("Files",n.types)&&(n.dropEffect="copy",t.preventDefault())}},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste})),this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,n){var i=-1!==e.inArray(t,this._specialOptions);i&&this._destroyEventHandlers(),this._super(t,n),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),n=t.pop();return t.shift(),new RegExp(t.join("/"),n)},_isRegExpOption:function(t,n){return"url"!==t&&"string"===e.type(n)&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var t=this,n=this.options;e.each(e(this.element[0].cloneNode(!1)).data(),function(e,i){t._isRegExpOption(e,i)&&(i=t._getRegExp(i)),n[e]=i})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var n=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,n._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var n,i,r=this,a=e.Deferred(),s=a.promise();return s.abort=function(){return i=!0,n?n.abort():(a.reject(null,"abort","abort"),s)},this._getFileInputFiles(t.fileInput).always(function(e){i||(t.files=e,n=r._onSend(null,t).then(function(e,t,n){a.resolve(e,t,n)},function(e,t,n){a.reject(e,t,n)}))}),this._enhancePromise(s)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),/*!
 * jQuery UI Sortable 1.10.2
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/sortable/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(e){function t(e,t,n){return e>t&&t+n>e}function n(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}e.widget("ui.sortable",e.ui.mouse,{version:"1.10.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===e.axis||n(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,n){"disabled"===t?(this.options[t]=n,this.widget().toggleClass("ui-sortable-disabled",!!n)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,n){var i=null,r=!1,a=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,a.widgetName+"-item")===a?(i=e(this),!1):void 0}),e.data(t.target,a.widgetName+"-item")===a&&(i=e(t.target)),i?!this.options.handle||n||(e(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(r=!0)}),r)?(this.currentItem=i,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,n,i){var r,a,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(a=this.document.find("body"),this.storedCursor=a.css("cursor"),a.css("cursor",s.cursor),this.storedStylesheet=e("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(a)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,i,r,a,s=this.options,o=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop+s.scrollSpeed:t.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft+s.scrollSpeed:t.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(t.pageY-e(document).scrollTop()<s.scrollSensitivity?o=e(document).scrollTop(e(document).scrollTop()-s.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<s.scrollSensitivity&&(o=e(document).scrollTop(e(document).scrollTop()+s.scrollSpeed)),t.pageX-e(document).scrollLeft()<s.scrollSensitivity?o=e(document).scrollLeft(e(document).scrollLeft()-s.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<s.scrollSensitivity&&(o=e(document).scrollLeft(e(document).scrollLeft()+s.scrollSpeed))),o!==!1&&e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],a=this._intersectsWithPointer(i),a&&i.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===a?"next":"prev"]()[0]!==r&&!e.contains(this.placeholder[0],r)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],r):!0)){if(this.direction=1===a?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var i=this,r=this.placeholder.offset(),a=this.options.axis,s={};a&&"x"!==a||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),a&&"y"!==a||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&i.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n.each(function(){i.push(e(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,a=e.left,s=a+e.width,o=e.top,l=o+e.height,c=this.offset.click.top,h=this.offset.click.left,u=i+c>o&&l>i+c&&t+h>a&&s>t+h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?u:a<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&o<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var n="x"===this.options.axis||t(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||t(this.positionAbs.left+this.offset.click.left,e.left,e.width),r=n&&i,a=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return r?this.floating?s&&"right"===s||"down"===a?2:1:a&&("down"===a?2:1):!1},_intersectsWithSides:function(e){var n=t(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=t(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return this.floating&&a?"right"===a&&i||"left"===a&&!i:r&&("down"===r&&n||"up"===r&&!n)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n,i,r,a,s=[],o=[],l=this._connectWith();if(l&&t)for(n=l.length-1;n>=0;n--)for(r=e(l[n]),i=r.length-1;i>=0;i--)a=e.data(r[i],this.widgetFullName),a&&a!==this&&!a.options.disabled&&o.push([e.isFunction(a.options.items)?a.options.items.call(a.element):e(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(o.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=o.length-1;n>=0;n--)o[n][0].each(function(){s.push(this)});return e(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;n<t.length;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,i,r,a,s,o,l,c,h=this.items,u=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(n=d.length-1;n>=0;n--)for(r=e(d[n]),i=r.length-1;i>=0;i--)a=e.data(r[i],this.widgetFullName),a&&a!==this&&!a.options.disabled&&(u.push([e.isFunction(a.options.items)?a.options.items.call(a.element[0],t,{item:this.currentItem}):e(a.options.items,a.element),a]),this.containers.push(a));for(n=u.length-1;n>=0;n--)for(s=u[n][1],o=u[n][0],i=0,c=o.length;c>i;i++)l=e(o[i]),l.data(this.widgetName+"-item",s),h.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,a;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?e(this.options.toleranceElement,i.item):i.item,t||(i.width=r.outerWidth(),i.height=r.outerHeight()),a=r.offset(),i.left=a.left,i.top=a.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)a=this.containers[n].element.offset(),this.containers[n].containerCache.left=a.left,this.containers[n].containerCache.top=a.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var n,i=t.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=t.currentItem[0].nodeName.toLowerCase(),r=e(t.document[0].createElement(i)).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===i?r.append("<td colspan='99'>&#160;</td>"):"img"===i&&r.attr("src",t.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(e,r){(!n||i.forcePlaceholderSize)&&(r.height()||r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_contactContainers:function(i){var r,a,s,o,l,c,h,u,d,p,f=null,g=null;for(r=this.containers.length-1;r>=0;r--)if(!e.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(f&&e.contains(this.containers[r].element[0],f.element[0]))continue;f=this.containers[r],g=r}else this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",i,this._uiHash(this)),this.containers[r].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[g].containerCache.over||(this.containers[g]._trigger("over",i,this._uiHash(this)),this.containers[g].containerCache.over=1);else{for(s=1e4,o=null,p=f.floating||n(this.currentItem),l=p?"left":"top",c=p?"width":"height",h=this.positionAbs[l]+this.offset.click[l],a=this.items.length-1;a>=0;a--)e.contains(this.containers[g].element[0],this.items[a].item[0])&&this.items[a].item[0]!==this.currentItem[0]&&(!p||t(this.positionAbs.top+this.offset.click.top,this.items[a].top,this.items[a].height))&&(u=this.items[a].item.offset()[l],d=!1,Math.abs(u-h)>Math.abs(u+this.items[a][c]-h)&&(d=!0,u+=this.items[a][c]),Math.abs(u-h)<s&&(s=Math.abs(u-h),o=this.items[a],this.direction=d?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[g])return;o?this._rearrange(i,o,null,!0):this._rearrange(i,null,this.containers[g].element,!0),this._trigger("change",i,this._uiHash()),this.containers[g]._trigger("change",i,this._uiHash(this)),this.currentContainer=this.containers[g],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[g]._trigger("over",i,this._uiHash(this)),this.containers[g].containerCache.over=1}},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===r.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===r.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(t=e(r.containment)[0],n=e(r.containment).offset(),i="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:r.scrollLeft())*i}},_generatePosition:function(t){var n,i,r=this.options,a=t.pageX,s=t.pageY,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(o[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((a-this.originalPageX)/r.grid[0])*r.grid[0],a=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:o.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:o.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(e,t){this.reverting=!1;var n,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)("auto"===this._storedCSS[n]||"static"===this._storedCSS[n])&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&i.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||i.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(i.push(function(e){this._trigger("remove",e,this._uiHash())}),i.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)t||i.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over&&(i.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),n=0;n<i.length;n++)i[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(n=0;n<i.length;n++)i[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})}(jQuery),function(){var e=this,t=e._,n={},i=Array.prototype,r=Object.prototype,a=Function.prototype,s=i.push,o=i.slice,l=i.concat,c=r.toString,h=r.hasOwnProperty,u=i.forEach,d=i.map,p=i.reduce,f=i.reduceRight,g=i.filter,m=i.every,v=i.some,b=i.indexOf,y=i.lastIndexOf,x=Array.isArray,w=Object.keys,_=a.bind,C=function(e){return e instanceof C?e:this instanceof C?(this._wrapped=e,void 0):new C(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=C),exports._=C):e._=C,C.VERSION="1.4.4";var T=C.each=C.forEach=function(e,t,i){if(null!=e)if(u&&e.forEach===u)e.forEach(t,i);else if(e.length===+e.length){for(var r=0,a=e.length;a>r;r++)if(t.call(i,e[r],r,e)===n)return}else for(var s in e)if(C.has(e,s)&&t.call(i,e[s],s,e)===n)return};C.map=C.collect=function(e,t,n){var i=[];return null==e?i:d&&e.map===d?e.map(t,n):(T(e,function(e,r,a){i[i.length]=t.call(n,e,r,a)}),i)};var D="Reduce of empty array with no initial value";C.reduce=C.foldl=C.inject=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),p&&e.reduce===p)return i&&(t=C.bind(t,i)),r?e.reduce(t,n):e.reduce(t);if(T(e,function(e,a,s){r?n=t.call(i,n,e,a,s):(n=e,r=!0)}),!r)throw new TypeError(D);return n},C.reduceRight=C.foldr=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),f&&e.reduceRight===f)return i&&(t=C.bind(t,i)),r?e.reduceRight(t,n):e.reduceRight(t);var a=e.length;if(a!==+a){var s=C.keys(e);a=s.length}if(T(e,function(o,l,c){l=s?s[--a]:--a,r?n=t.call(i,n,e[l],l,c):(n=e[l],r=!0)}),!r)throw new TypeError(D);return n},C.find=C.detect=function(e,t,n){var i;return S(e,function(e,r,a){return t.call(n,e,r,a)?(i=e,!0):void 0}),i},C.filter=C.select=function(e,t,n){var i=[];return null==e?i:g&&e.filter===g?e.filter(t,n):(T(e,function(e,r,a){t.call(n,e,r,a)&&(i[i.length]=e)}),i)},C.reject=function(e,t,n){return C.filter(e,function(e,i,r){return!t.call(n,e,i,r)},n)},C.every=C.all=function(e,t,i){t||(t=C.identity);var r=!0;return null==e?r:m&&e.every===m?e.every(t,i):(T(e,function(e,a,s){return(r=r&&t.call(i,e,a,s))?void 0:n}),!!r)};var S=C.some=C.any=function(e,t,i){t||(t=C.identity);var r=!1;return null==e?r:v&&e.some===v?e.some(t,i):(T(e,function(e,a,s){return r||(r=t.call(i,e,a,s))?n:void 0}),!!r)};C.contains=C.include=function(e,t){return null==e?!1:b&&e.indexOf===b?-1!=e.indexOf(t):S(e,function(e){return e===t})},C.invoke=function(e,t){var n=o.call(arguments,2),i=C.isFunction(t);return C.map(e,function(e){return(i?t:e[t]).apply(e,n)})},C.pluck=function(e,t){return C.map(e,function(e){return e[t]})},C.where=function(e,t,n){return C.isEmpty(t)?n?null:[]:C[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},C.findWhere=function(e,t){return C.where(e,t,!0)},C.max=function(e,t,n){if(!t&&C.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.max.apply(Math,e);if(!t&&C.isEmpty(e))return-1/0;var i={computed:-1/0,value:-1/0};return T(e,function(e,r,a){var s=t?t.call(n,e,r,a):e;s>=i.computed&&(i={value:e,computed:s})}),i.value},C.min=function(e,t,n){if(!t&&C.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.min.apply(Math,e);if(!t&&C.isEmpty(e))return 1/0;var i={computed:1/0,value:1/0};return T(e,function(e,r,a){var s=t?t.call(n,e,r,a):e;i.computed>s&&(i={value:e,computed:s})}),i.value},C.shuffle=function(e){var t,n=0,i=[];return T(e,function(e){t=C.random(n++),i[n-1]=i[t],i[t]=e}),i};var E=function(e){return C.isFunction(e)?e:function(t){return t[e]}};C.sortBy=function(e,t,n){var i=E(t);return C.pluck(C.map(e,function(e,t,r){return{value:e,index:t,criteria:i.call(n,e,t,r)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index<t.index?-1:1}),"value")};var k=function(e,t,n,i){var r={},a=E(t||C.identity);return T(e,function(t,s){var o=a.call(n,t,s,e);i(r,o,t)}),r};C.groupBy=function(e,t,n){return k(e,t,n,function(e,t,n){(C.has(e,t)?e[t]:e[t]=[]).push(n)})},C.countBy=function(e,t,n){return k(e,t,n,function(e,t){C.has(e,t)||(e[t]=0),e[t]++})},C.sortedIndex=function(e,t,n,i){n=null==n?C.identity:E(n);for(var r=n.call(i,t),a=0,s=e.length;s>a;){var o=a+s>>>1;r>n.call(i,e[o])?a=o+1:s=o}return a},C.toArray=function(e){return e?C.isArray(e)?o.call(e):e.length===+e.length?C.map(e,C.identity):C.values(e):[]},C.size=function(e){return null==e?0:e.length===+e.length?e.length:C.keys(e).length},C.first=C.head=C.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:o.call(e,0,t)},C.initial=function(e,t,n){return o.call(e,0,e.length-(null==t||n?1:t))},C.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:o.call(e,Math.max(e.length-t,0))},C.rest=C.tail=C.drop=function(e,t,n){return o.call(e,null==t||n?1:t)},C.compact=function(e){return C.filter(e,C.identity)};var I=function(e,t,n){return T(e,function(e){C.isArray(e)?t?s.apply(n,e):I(e,t,n):n.push(e)}),n};C.flatten=function(e,t){return I(e,t,[])},C.without=function(e){return C.difference(e,o.call(arguments,1))},C.uniq=C.unique=function(e,t,n,i){C.isFunction(t)&&(i=n,n=t,t=!1);var r=n?C.map(e,n,i):e,a=[],s=[];return T(r,function(n,i){(t?i&&s[s.length-1]===n:C.contains(s,n))||(s.push(n),a.push(e[i]))}),a},C.union=function(){return C.uniq(l.apply(i,arguments))},C.intersection=function(e){var t=o.call(arguments,1);return C.filter(C.uniq(e),function(e){return C.every(t,function(t){return C.indexOf(t,e)>=0})})},C.difference=function(e){var t=l.apply(i,o.call(arguments,1));return C.filter(e,function(e){return!C.contains(t,e)})},C.zip=function(){for(var e=o.call(arguments),t=C.max(C.pluck(e,"length")),n=Array(t),i=0;t>i;i++)n[i]=C.pluck(e,""+i);return n},C.object=function(e,t){if(null==e)return{};for(var n={},i=0,r=e.length;r>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},C.indexOf=function(e,t,n){if(null==e)return-1;var i=0,r=e.length;if(n){if("number"!=typeof n)return i=C.sortedIndex(e,t),e[i]===t?i:-1;i=0>n?Math.max(0,r+n):n}if(b&&e.indexOf===b)return e.indexOf(t,n);for(;r>i;i++)if(e[i]===t)return i;return-1},C.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=null!=n;if(y&&e.lastIndexOf===y)return i?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var r=i?n:e.length;r--;)if(e[r]===t)return r;return-1},C.range=function(e,t,n){1>=arguments.length&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=0,a=Array(i);i>r;)a[r++]=e,e+=n;return a},C.bind=function(e,t){if(e.bind===_&&_)return _.apply(e,o.call(arguments,1));var n=o.call(arguments,2);return function(){return e.apply(t,n.concat(o.call(arguments)))}},C.partial=function(e){var t=o.call(arguments,1);return function(){return e.apply(this,t.concat(o.call(arguments)))}},C.bindAll=function(e){var t=o.call(arguments,1);return 0===t.length&&(t=C.functions(e)),T(t,function(t){e[t]=C.bind(e[t],e)}),e},C.memoize=function(e,t){var n={};return t||(t=C.identity),function(){var i=t.apply(this,arguments);return C.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},C.delay=function(e,t){var n=o.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},C.defer=function(e){return C.delay.apply(C,[e,1].concat(o.call(arguments,1)))},C.throttle=function(e,t){var n,i,r,a,s=0,o=function(){s=new Date,r=null,a=e.apply(n,i)};return function(){var l=new Date,c=t-(l-s);return n=this,i=arguments,0>=c?(clearTimeout(r),r=null,s=l,a=e.apply(n,i)):r||(r=setTimeout(o,c)),a}},C.debounce=function(e,t,n){var i,r;return function(){var a=this,s=arguments,o=function(){i=null,n||(r=e.apply(a,s))},l=n&&!i;return clearTimeout(i),i=setTimeout(o,t),l&&(r=e.apply(a,s)),r}},C.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},C.wrap=function(e,t){return function(){var n=[e];return s.apply(n,arguments),t.apply(this,n)}},C.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},C.after=function(e,t){return 0>=e?t():function(){return 1>--e?t.apply(this,arguments):void 0}},C.keys=w||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)C.has(e,n)&&(t[t.length]=n);return t},C.values=function(e){var t=[];for(var n in e)C.has(e,n)&&t.push(e[n]);return t},C.pairs=function(e){var t=[];for(var n in e)C.has(e,n)&&t.push([n,e[n]]);return t},C.invert=function(e){var t={};for(var n in e)C.has(e,n)&&(t[e[n]]=n);return t},C.functions=C.methods=function(e){var t=[];for(var n in e)C.isFunction(e[n])&&t.push(n);return t.sort()},C.extend=function(e){return T(o.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},C.pick=function(e){var t={},n=l.apply(i,o.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},C.omit=function(e){var t={},n=l.apply(i,o.call(arguments,1));for(var r in e)C.contains(n,r)||(t[r]=e[r]);return t},C.defaults=function(e){return T(o.call(arguments,1),function(t){if(t)for(var n in t)null==e[n]&&(e[n]=t[n])}),e},C.clone=function(e){return C.isObject(e)?C.isArray(e)?e.slice():C.extend({},e):e
},C.tap=function(e,t){return t(e),e};var N=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof C&&(e=e._wrapped),t instanceof C&&(t=t._wrapped);var r=c.call(e);if(r!=c.call(t))return!1;switch(r){case"[object String]":return e==t+"";case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var a=n.length;a--;)if(n[a]==e)return i[a]==t;n.push(e),i.push(t);var s=0,o=!0;if("[object Array]"==r){if(s=e.length,o=s==t.length)for(;s--&&(o=N(e[s],t[s],n,i)););}else{var l=e.constructor,h=t.constructor;if(l!==h&&!(C.isFunction(l)&&l instanceof l&&C.isFunction(h)&&h instanceof h))return!1;for(var u in e)if(C.has(e,u)&&(s++,!(o=C.has(t,u)&&N(e[u],t[u],n,i))))break;if(o){for(u in t)if(C.has(t,u)&&!s--)break;o=!s}}return n.pop(),i.pop(),o};C.isEqual=function(e,t){return N(e,t,[],[])},C.isEmpty=function(e){if(null==e)return!0;if(C.isArray(e)||C.isString(e))return 0===e.length;for(var t in e)if(C.has(e,t))return!1;return!0},C.isElement=function(e){return!(!e||1!==e.nodeType)},C.isArray=x||function(e){return"[object Array]"==c.call(e)},C.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){C["is"+e]=function(t){return c.call(t)=="[object "+e+"]"}}),C.isArguments(arguments)||(C.isArguments=function(e){return!(!e||!C.has(e,"callee"))}),"function"!=typeof/./&&(C.isFunction=function(e){return"function"==typeof e}),C.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},C.isNaN=function(e){return C.isNumber(e)&&e!=+e},C.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==c.call(e)},C.isNull=function(e){return null===e},C.isUndefined=function(e){return void 0===e},C.has=function(e,t){return h.call(e,t)},C.noConflict=function(){return e._=t,this},C.identity=function(e){return e},C.times=function(e,t,n){for(var i=Array(e),r=0;e>r;r++)i[r]=t.call(n,r);return i},C.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var A={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};A.unescape=C.invert(A.escape);var R={escape:RegExp("["+C.keys(A.escape).join("")+"]","g"),unescape:RegExp("("+C.keys(A.unescape).join("|")+")","g")};C.each(["escape","unescape"],function(e){C[e]=function(t){return null==t?"":(""+t).replace(R[e],function(t){return A[e][t]})}}),C.result=function(e,t){if(null==e)return null;var n=e[t];return C.isFunction(n)?n.call(e):n},C.mixin=function(e){T(C.functions(e),function(t){var n=C[t]=e[t];C.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),B.call(this,n.apply(C,e))}})};var M=0;C.uniqueId=function(e){var t=++M+"";return e?e+t:t},C.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,O={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},F=/\\|'|\r|\n|\t|\u2028|\u2029/g;C.template=function(e,t,n){var i;n=C.defaults({},n,C.templateSettings);var r=RegExp([(n.escape||P).source,(n.interpolate||P).source,(n.evaluate||P).source].join("|")+"|$","g"),a=0,s="__p+='";e.replace(r,function(t,n,i,r,o){return s+=e.slice(a,o).replace(F,function(e){return"\\"+O[e]}),n&&(s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(s+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),r&&(s+="';\n"+r+"\n__p+='"),a=o+t.length,t}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{i=Function(n.variable||"obj","_",s)}catch(o){throw o.source=s,o}if(t)return i(t,C);var l=function(e){return i.call(this,e,C)};return l.source="function("+(n.variable||"obj")+"){\n"+s+"}",l},C.chain=function(e){return C(e).chain()};var B=function(e){return this._chain?C(e).chain():e};C.mixin(C),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];C.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],B.call(this,n)}}),T(["concat","join","slice"],function(e){var t=i[e];C.prototype[e]=function(){return B.call(this,t.apply(this._wrapped,arguments))}}),C.extend(C.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),/* ===================================================
 * bootstrap-transition.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#transitions
 * ===================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";e(function(){e.support.transition=function(){var e=function(){var e,t=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return n[e]}();return e&&{end:e}}()})}(window.jQuery),/* ==========================================================
 * bootstrap-affix.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#affix
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy(function(){setTimeout(e.proxy(this.checkPosition,this),1)},this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t,n=e(document).height(),i=this.$window.scrollTop(),r=this.$element.offset(),a=this.options.offset,s=a.bottom,o=a.top,l="affix affix-top affix-bottom";"object"!=typeof a&&(s=o=a),"function"==typeof o&&(o=a.top()),"function"==typeof s&&(s=a.bottom()),t=null!=this.unpin&&i+this.unpin<=r.top?!1:null!=s&&r.top+this.$element.height()>=n-s?"bottom":null!=o&&o>=i?"top":!1,this.affixed!==t&&(this.affixed=t,this.unpin="bottom"==t?r.top-i:null,this.$element.removeClass(l).addClass("affix"+(t?"-"+t:"")))}};var n=e.fn.affix;e.fn.affix=function(n){return this.each(function(){var i=e(this),r=i.data("affix"),a="object"==typeof n&&n;r||i.data("affix",r=new t(this,a)),"string"==typeof n&&r[n]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery),/* ==========================================================
 * bootstrap-alert.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#alerts
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function n(){i.trigger("closed").remove()}var i,r=e(this),a=r.attr("data-target");a||(a=r.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),i=e(a),t&&t.preventDefault(),i.length||(i=r.hasClass("alert")?r:r.parent()),i.trigger(t=e.Event("close")),t.isDefaultPrevented()||(i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.on(e.support.transition.end,n):n())};var i=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var i=e(this),r=i.data("alert");r||i.data("alert",r=new n(this)),"string"==typeof t&&r[t].call(i)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.alert.data-api",t,n.prototype.close)}(window.jQuery),/* ============================================================
 * bootstrap-button.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#buttons
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,i=n.data(),r=n.is("input")?"val":"html";e+="Text",i.resetText||n.data("resetText",n[r]()),n[r](i[e]||this.options[e]),setTimeout(function(){"loadingText"==e?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var i=e(this),r=i.data("button"),a="object"==typeof n&&n;r||i.data("button",r=new t(this,a)),"toggle"==n?r.toggle():n&&r.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),/* ==========================================================
 * bootstrap-carousel.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#carousel
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,"hover"==this.options.pause&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(t){var n=this.getActiveIndex(),i=this;if(!(t>this.$items.length-1||0>t))return this.sliding?this.$element.one("slid",function(){i.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",e(this.$items[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(t,n){var i,r=this.$element.find(".item.active"),a=n||r[t](),s=this.interval,o="next"==t?"left":"right",l="next"==t?"first":"last",c=this;if(this.sliding=!0,s&&this.pause(),a=a.length?a:this.$element.find(".item")[l](),i=e.Event("slide",{relatedTarget:a[0],direction:o}),!a.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var t=e(c.$indicators.children()[c.getActiveIndex()]);t&&t.addClass("active")})),e.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(i),i.isDefaultPrevented())return;a.addClass(t),a[0].offsetWidth,r.addClass(o),a.addClass(o),this.$element.one(e.support.transition.end,function(){a.removeClass([t,o].join(" ")).addClass("active"),r.removeClass(["active",o].join(" ")),c.sliding=!1,setTimeout(function(){c.$element.trigger("slid")},0)})}else{if(this.$element.trigger(i),i.isDefaultPrevented())return;r.removeClass("active"),a.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}}};var n=e.fn.carousel;e.fn.carousel=function(n){return this.each(function(){var i=e(this),r=i.data("carousel"),a=e.extend({},e.fn.carousel.defaults,"object"==typeof n&&n),s="string"==typeof n?n:a.slide;r||i.data("carousel",r=new t(this,a)),"number"==typeof n?r.to(n):s?r[s]():a.interval&&r.pause().cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this},e(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(t){var n,i,r=e(this),a=e(r.attr("data-target")||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),s=e.extend({},a.data(),r.data());a.carousel(s),(i=r.attr("data-slide-to"))&&a.data("carousel").pause().to(i).cycle(),t.preventDefault()})}(window.jQuery),/* =============================================================
 * bootstrap-collapse.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#collapse
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,i,r;if(!this.transitioning&&!this.$element.hasClass("in")){if(t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),i=this.$parent&&this.$parent.find("> .accordion-group > .in"),i&&i.length){if(r=i.data("collapse"),r&&r.transitioning)return;i.collapse("hide"),r||i.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])}},hide:function(){var t;!this.transitioning&&this.$element.hasClass("in")&&(t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0))},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[null!==e?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,i){var r=this,a=function(){"show"==n.type&&r.reset(),r.transitioning=0,r.$element.trigger(i)};this.$element.trigger(n),n.isDefaultPrevented()||(this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,a):a())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var i=e(this),r=i.data("collapse"),a=e.extend({},e.fn.collapse.defaults,i.data(),"object"==typeof n&&n);r||i.data("collapse",r=new t(this,a)),"string"==typeof n&&r[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n,i=e(this),r=i.attr("data-target")||t.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),a=e(r).data("collapse")?"toggle":i.data();i[e(r).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(r).collapse(a)})}(window.jQuery),/* ============================================================
 * bootstrap-dropdown.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#dropdowns
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(e){"use strict";function t(){e(".dropdown-backdrop").remove(),e(i).each(function(){n(e(this)).removeClass("open")})}function n(t){var n,i=t.attr("data-target");return i||(i=t.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),n=i&&e(i),n&&n.length||(n=t.parent()),n}var i="[data-toggle=dropdown]",r=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};r.prototype={constructor:r,toggle:function(){var i,r,a=e(this);if(!a.is(".disabled, :disabled"))return i=n(a),r=i.hasClass("open"),t(),r||("ontouchstart"in document.documentElement&&e('<div class="dropdown-backdrop"/>').insertBefore(e(this)).on("click",t),i.toggleClass("open")),a.focus(),!1},keydown:function(t){var r,a,s,o,l;if(/(38|40|27)/.test(t.keyCode)&&(r=e(this),t.preventDefault(),t.stopPropagation(),!r.is(".disabled, :disabled"))){if(s=n(r),o=s.hasClass("open"),!o||o&&27==t.keyCode)return 27==t.which&&s.find(i).focus(),r.click();a=e("[role=menu] li:not(.divider):visible a",s),a.length&&(l=a.index(a.filter(":focus")),38==t.keyCode&&l>0&&l--,40==t.keyCode&&l<a.length-1&&l++,~l||(l=0),a.eq(l).focus())}}};var a=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),i=n.data("dropdown");i||n.data("dropdown",i=new r(this)),"string"==typeof t&&i[t].call(n)})},e.fn.dropdown.Constructor=r,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=a,this},e(document).on("click.dropdown.data-api",t).on("click.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api",i,r.prototype.toggle).on("keydown.dropdown.data-api",i+", [role=menu]",r.prototype.keydown)}(window.jQuery),/* =========================================================
 * bootstrap-modal.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#modals
 * =========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */
!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")}))},hide:function(t){t&&t.preventDefault(),t=e.Event("hide"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]===e.target||t.$element.has(e.target).length||t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&n;if(this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t):t()):t&&t()}};var n=e.fn.modal;e.fn.modal=function(n){return this.each(function(){var i=e(this),r=i.data("modal"),a=e.extend({},e.fn.modal.defaults,i.data(),"object"==typeof n&&n);r||i.data("modal",r=new t(this,a)),"string"==typeof n?r[n]():a.show&&r.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),i=n.attr("href"),r=e(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),a=r.data("modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},r.data(),n.data());t.preventDefault(),r.modal(a).one("hide",function(){n.focus()})})}(window.jQuery),/* =============================================================
 * bootstrap-scrollspy.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#scrollspy
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================== */
!function(e){"use strict";function t(t,n){var i,r=e.proxy(this.process,this),a=e(t).is("body")?e(window):e(t);this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=a.on("scroll.scroll-spy.data-api",r),this.selector=(this.options.target||(i=e(t).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t,n=this;this.offsets=e([]),this.targets=e([]),t=this.$body.find(this.selector).map(function(){var t=e(this),i=t.data("target")||t.attr("href"),r=/^#\w/.test(i)&&e(i);return r&&r.length&&[[r.position().top+(!e.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},process:function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,i=n-this.$scrollElement.height(),r=this.offsets,a=this.targets,s=this.activeTarget;if(t>=i)return s!=(e=a.last()[0])&&this.activate(e);for(e=r.length;e--;)s!=a[e]&&t>=r[e]&&(!r[e+1]||t<=r[e+1])&&this.activate(a[e])},activate:function(t){var n,i;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(i).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each(function(){var i=e(this),r=i.data("scrollspy"),a="object"==typeof n&&n;r||i.data("scrollspy",r=new t(this,a)),"string"==typeof n&&r[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),/* ========================================================
 * bootstrap-tab.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#tabs
 * ========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================== */
!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t,n,i,r=this.element,a=r.closest("ul:not(.dropdown-menu)"),s=r.attr("data-target");s||(s=r.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,"")),r.parent("li").hasClass("active")||(t=a.find(".active:last a")[0],i=e.Event("show",{relatedTarget:t}),r.trigger(i),i.isDefaultPrevented()||(n=e(s),this.activate(r.parent("li"),a),this.activate(n,n.parent(),function(){r.trigger({type:"shown",relatedTarget:t})})))},activate:function(t,n,i){function r(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),i&&i()}var a=n.find("> .active"),s=i&&e.support.transition&&a.hasClass("fade");s?a.one(e.support.transition.end,r):r(),a.removeClass("in")}};var n=e.fn.tab;e.fn.tab=function(n){return this.each(function(){var i=e(this),r=i.data("tab");r||i.data("tab",r=new t(this)),"string"==typeof n&&r[n]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(window.jQuery),/* ===========================================================
 * bootstrap-tooltip.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#tooltips
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,i){var r,a,s,o,l;for(this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.enabled=!0,s=this.options.trigger.split(" "),l=s.length;l--;)o=s[l],"click"==o?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):"manual"!=o&&(r="hover"==o?"mouseenter":"focus",a="hover"==o?"mouseleave":"blur",this.$element.on(r+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.leave,this)));this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n,i=e.fn[this.type].defaults,r={};return this._options&&e.each(this._options,function(e,t){i[e]!=t&&(r[e]=t)},this),n=e(t.currentTarget)[this.type](r).data(this.type),n.options.delay&&n.options.delay.show?(clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),n.options.delay&&n.options.delay.hide?(n.hoverState="out",this.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},show:function(){var t,n,i,r,a,s,o=e.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(o),o.isDefaultPrevented())return;switch(t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),a="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,t.detach().css({top:0,left:0,display:"block"}),this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element),n=this.getPosition(),i=t[0].offsetWidth,r=t[0].offsetHeight,"right auto"==a&&(a=n.left+i>e(document).outerWidth()?"left":"right"),a){case"bottom":s={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"top":s={top:n.top-r,left:n.left+n.width/2-i/2};break;case"left":s={top:n.top+n.height/2-r/2,left:n.left-i-7};break;case"right":s={top:n.top+n.height/2-r/2,left:n.left+n.width}}this.applyPlacement(s,a),this.$element.trigger("shown")}},applyPlacement:function(e,t){var n,i,r,a,s=this.tip(),o=s[0].offsetWidth,l=s[0].offsetHeight;s.offset(e).addClass(t).addClass("in"),n=s[0].offsetWidth,i=s[0].offsetHeight,"top"==t&&i!=l&&(e.top=e.top+l-i,a=!0),"bottom"==t||"top"==t?(r=0,e.left<0&&(r=-2*e.left,e.left=0,s.offset(e),n=s[0].offsetWidth,i=s[0].offsetHeight),this.replaceArrow(r-o+n,n,"left")):this.replaceArrow(i-l,i,"top"),a&&s.offset(e)},replaceArrow:function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function t(){var t=setTimeout(function(){n.off(e.support.transition.end).detach()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.detach()})}var n=this.tip(),i=e.Event("hide");return this.$element.trigger(i),i.isDefaultPrevented()?void 0:(n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?t():n.detach(),this.$element.trigger("hidden"),this)},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},tip:function(){return this.$tip=this.$tip||e(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var n=t?e(t.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var i=e(this),r=i.data("tooltip"),a="object"==typeof n&&n;r||i.data("tooltip",r=new t(this,a)),"string"==typeof n&&r[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(window.jQuery),/* ===========================================================
 * bootstrap-popover.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#popovers
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =========================================================== */
!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=("function"==typeof n.content?n.content.call(t[0]):n.content)||t.attr("data-content")},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var i=e(this),r=i.data("popover"),a="object"==typeof n&&n;r||i.data("popover",r=new t(this,a)),"string"==typeof n&&r[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(window.jQuery),/* =============================================================
 * bootstrap-typeahead.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#typeahead
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=e(this.options.menu),this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var t;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(t=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,t?this.process(t):this)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){for(var t,n=[],i=[],r=[];t=e.shift();)t.toLowerCase().indexOf(this.query.toLowerCase())?~t.indexOf(this.query)?i.push(t):r.push(t):n.push(t);return n.concat(i,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,i){return t=e(n.options.item).attr("data-value",i),t.find("a").html(n.highlighter(i)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(){var t=this.$menu.find(".active").removeClass("active"),n=t.next();n.length||(n=e(this.$menu.find("li")[0])),n.addClass("active")},prev:function(){var e=this.$menu.find(".active").removeClass("active"),t=e.prev();t.length||(t=this.$menu.find("li").last()),t.addClass("active")},listen:function(){this.$element.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this)).on("mouseleave","li",e.proxy(this.mouseleave,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t="function"==typeof this.$element[e]),t},move:function(e){if(this.shown){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},focus:function(){this.focused=!0},blur:function(){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(t){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")},mouseleave:function(){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var n=e.fn.typeahead;e.fn.typeahead=function(n){return this.each(function(){var i=e(this),r=i.data("typeahead"),a="object"==typeof n&&n;r||i.data("typeahead",r=new t(this,a)),"string"==typeof n&&r[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=n,this},e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(){var t=e(this);t.data("typeahead")||t.typeahead(t.data())})}(window.jQuery),/* =========================================================
 * bootstrap-datepicker.js
 * http://www.eyecon.ro/bootstrap-datepicker
 * =========================================================
 * Copyright 2012 Stefan Petre
 * Improvements by Andrew Rowls
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */
!function(e){function t(){return new Date(Date.UTC.apply(Date,arguments))}var n=function(t,n){var a=this;switch(this.element=e(t),this.language=n.language||this.element.data("date-language")||"en",this.language=this.language in i?this.language:"en",this.isRTL=i[this.language].rtl||!1,this.format=r.parseFormat(n.format||this.element.data("date-format")||"mm/dd/yyyy"),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this._attachEvents(),this.forceParse=!0,"forceParse"in n?this.forceParse=n.forceParse:"dateForceParse"in this.element.data()&&(this.forceParse=this.element.data("date-force-parse")),this.picker=e(r.template).appendTo(this.isInline?this.element:"body").on({click:e.proxy(this.click,this),mousedown:e.proxy(this.mousedown,this)}),this.isInline?this.picker.addClass("datepicker-inline"):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.isRTL&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")),e(document).on("mousedown",function(t){0===e(t.target).closest(".datepicker").length&&a.hide()}),this.autoclose=!1,"autoclose"in n?this.autoclose=n.autoclose:"dateAutoclose"in this.element.data()&&(this.autoclose=this.element.data("date-autoclose")),this.keyboardNavigation=!0,"keyboardNavigation"in n?this.keyboardNavigation=n.keyboardNavigation:"dateKeyboardNavigation"in this.element.data()&&(this.keyboardNavigation=this.element.data("date-keyboard-navigation")),this.viewMode=this.startViewMode=0,n.startView||this.element.data("date-start-view")){case 2:case"decade":this.viewMode=this.startViewMode=2;break;case 1:case"year":this.viewMode=this.startViewMode=1}this.todayBtn=n.todayBtn||this.element.data("date-today-btn")||!1,this.todayHighlight=n.todayHighlight||this.element.data("date-today-highlight")||!1,this.weekStart=(n.weekStart||this.element.data("date-weekstart")||i[this.language].weekStart||0)%7,this.weekEnd=(this.weekStart+6)%7,this.startDate=-1/0,this.endDate=1/0,this.daysOfWeekDisabled=[],this.setStartDate(n.startDate||this.element.data("date-startdate")),this.setEndDate(n.endDate||this.element.data("date-enddate")),this.setDaysOfWeekDisabled(n.daysOfWeekDisabled||this.element.data("date-days-of-week-disabled")),this.fillDow(),this.fillMonths(),this.update(),this.showMode(),this.isInline&&this.show()};n.prototype={constructor:n,_events:[],_attachEvents:function(){this._detachEvents(),this.isInput?this._events=[[this.element,{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}],[this.component,{click:e.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:e.proxy(this.show,this)}]];for(var t,n,i=0;i<this._events.length;i++)t=this._events[i][0],n=this._events[i][1],t.on(n)},_detachEvents:function(){for(var e,t,n=0;n<this._events.length;n++)e=this._events[n][0],t=this._events[n][1],e.off(t);this._events=[]},show:function(t){this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.update(),this.place(),e(window).on("resize",e.proxy(this.place,this)),t&&(t.stopPropagation(),t.preventDefault()),this.element.trigger({type:"show",date:this.date})},hide:function(){this.isInline||(this.picker.hide(),e(window).off("resize",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||e(document).off("mousedown",this.hide),this.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this.element.trigger({type:"hide",date:this.date}))},remove:function(){this._detachEvents(),this.picker.remove(),delete this.element.data().datepicker},getDate:function(){var e=this.getUTCDate();return new Date(e.getTime()+6e4*e.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(e){this.setUTCDate(new Date(e.getTime()-6e4*e.getTimezoneOffset()))},setUTCDate:function(e){this.date=e,this.setValue()},setValue:function(){var e=this.getFormattedDate();this.isInput?this.element.prop("value",e):(this.component&&this.element.find("input").prop("value",e),this.element.data("date",e))},getFormattedDate:function(e){return void 0==e&&(e=this.format),r.formatDate(this.date,e,this.language)},setStartDate:function(e){this.startDate=e||-1/0,this.startDate!==-1/0&&(this.startDate=r.parseDate(this.startDate,this.format,this.language)),this.update(),this.updateNavArrows()},setEndDate:function(e){this.endDate=e||1/0,1/0!==this.endDate&&(this.endDate=r.parseDate(this.endDate,this.format,this.language)),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this.daysOfWeekDisabled=t||[],e.isArray(this.daysOfWeekDisabled)||(this.daysOfWeekDisabled=this.daysOfWeekDisabled.split(/,\s*/)),this.daysOfWeekDisabled=e.map(this.daysOfWeekDisabled,function(e){return parseInt(e,10)}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var t=parseInt(this.element.parents().filter(function(){return"auto"!=e(this).css("z-index")}).first().css("z-index"))+10,n=this.component?this.component.offset():this.element.offset();this.picker.css({top:n.top+this.height,left:n.left,zIndex:t})}},update:function(){var e,t=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(e=arguments[0],t=!0):e=this.isInput?this.element.prop("value"):this.element.data("date")||this.element.find("input").prop("value"),this.date=r.parseDate(e,this.format,this.language),t&&this.setValue();var n=this.viewDate;this.viewDate=this.date<this.startDate?new Date(this.startDate):this.date>this.endDate?new Date(this.endDate):new Date(this.date),n&&n.getTime()!=this.viewDate.getTime()&&this.element.trigger({type:"changeDate",date:this.viewDate}),this.fill()},fillDow:function(){for(var e=this.weekStart,t="<tr>";e<this.weekStart+7;)t+='<th class="dow">'+i[this.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var e="",t=0;12>t;)e+='<span class="month">'+i[this.language].monthsShort[t++]+"</span>";this.picker.find(".datepicker-months td").html(e)},fill:function(){var n=new Date(this.viewDate),a=n.getUTCFullYear(),s=n.getUTCMonth(),o=this.startDate!==-1/0?this.startDate.getUTCFullYear():-1/0,l=this.startDate!==-1/0?this.startDate.getUTCMonth():-1/0,c=1/0!==this.endDate?this.endDate.getUTCFullYear():1/0,h=1/0!==this.endDate?this.endDate.getUTCMonth():1/0,u=this.date&&this.date.valueOf(),d=new Date;this.picker.find(".datepicker-days thead th:eq(1)").text(i[this.language].months[s]+" "+a),this.picker.find("tfoot th.today").text(i[this.language].today).toggle(this.todayBtn!==!1),this.updateNavArrows(),this.fillMonths();var p=t(a,s-1,28,0,0,0,0),f=r.getDaysInMonth(p.getUTCFullYear(),p.getUTCMonth());p.setUTCDate(f),p.setUTCDate(f-(p.getUTCDay()-this.weekStart+7)%7);var g=new Date(p);g.setUTCDate(g.getUTCDate()+42),g=g.valueOf();for(var m,v=[];p.valueOf()<g;)p.getUTCDay()==this.weekStart&&v.push("<tr>"),m="",p.getUTCFullYear()<a||p.getUTCFullYear()==a&&p.getUTCMonth()<s?m+=" old":(p.getUTCFullYear()>a||p.getUTCFullYear()==a&&p.getUTCMonth()>s)&&(m+=" new"),this.todayHighlight&&p.getUTCFullYear()==d.getFullYear()&&p.getUTCMonth()==d.getMonth()&&p.getUTCDate()==d.getDate()&&(m+=" today"),u&&p.valueOf()==u&&(m+=" active"),(p.valueOf()<this.startDate||p.valueOf()>this.endDate||-1!==e.inArray(p.getUTCDay(),this.daysOfWeekDisabled))&&(m+=" disabled"),v.push('<td class="day'+m+'">'+p.getUTCDate()+"</td>"),p.getUTCDay()==this.weekEnd&&v.push("</tr>"),p.setUTCDate(p.getUTCDate()+1);this.picker.find(".datepicker-days tbody").empty().append(v.join(""));var b=this.date&&this.date.getUTCFullYear(),y=this.picker.find(".datepicker-months").find("th:eq(1)").text(a).end().find("span").removeClass("active");b&&b==a&&y.eq(this.date.getUTCMonth()).addClass("active"),(o>a||a>c)&&y.addClass("disabled"),a==o&&y.slice(0,l).addClass("disabled"),a==c&&y.slice(h+1).addClass("disabled"),v="",a=10*parseInt(a/10,10);var x=this.picker.find(".datepicker-years").find("th:eq(1)").text(a+"-"+(a+9)).end().find("td");a-=1;for(var w=-1;11>w;w++)v+='<span class="year'+(-1==w||10==w?" old":"")+(b==a?" active":"")+(o>a||a>c?" disabled":"")+'">'+a+"</span>",a+=1;x.html(v)},updateNavArrows:function(){var e=new Date(this.viewDate),t=e.getUTCFullYear(),n=e.getUTCMonth();switch(this.viewMode){case 0:this.startDate!==-1/0&&t<=this.startDate.getUTCFullYear()&&n<=this.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.endDate&&t>=this.endDate.getUTCFullYear()&&n>=this.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.startDate!==-1/0&&t<=this.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.endDate&&t>=this.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}},click:function(n){n.stopPropagation(),n.preventDefault();var i=e(n.target).closest("span, td, th");if(1==i.length)switch(i[0].nodeName.toLowerCase()){case"th":switch(i[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var a=r.modes[this.viewMode].navStep*("prev"==i[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,a);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,a)}this.fill();break;case"today":var s=new Date;s=t(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0),this.showMode(-2);var o="linked"==this.todayBtn?null:"view";this._setDate(s,o)}break;case"span":if(!i.is(".disabled")){if(this.viewDate.setUTCDate(1),i.is(".month")){var l=i.parent().find("span").index(i);this.viewDate.setUTCMonth(l),this.element.trigger({type:"changeMonth",date:this.viewDate})}else{var c=parseInt(i.text(),10)||0;this.viewDate.setUTCFullYear(c),this.element.trigger({type:"changeYear",date:this.viewDate})}this.showMode(-1),this.fill()}break;case"td":if(i.is(".day")&&!i.is(".disabled")){var h=parseInt(i.text(),10)||1,c=this.viewDate.getUTCFullYear(),l=this.viewDate.getUTCMonth();i.is(".old")?0===l?(l=11,c-=1):l-=1:i.is(".new")&&(11==l?(l=0,c+=1):l+=1),this._setDate(t(c,l,h,0,0,0,0))}}},_setDate:function(e,t){t&&"date"!=t||(this.date=e),t&&"view"!=t||(this.viewDate=e),this.fill(),this.setValue(),this.element.trigger({type:"changeDate",date:this.date});var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&(n.change(),!this.autoclose||t&&"date"!=t||this.hide())},moveMonth:function(e,t){if(!t)return e;var n,i,r=new Date(e.valueOf()),a=r.getUTCDate(),s=r.getUTCMonth(),o=Math.abs(t);if(t=t>0?1:-1,1==o)i=-1==t?function(){return r.getUTCMonth()==s}:function(){return r.getUTCMonth()!=n},n=s+t,r.setUTCMonth(n),(0>n||n>11)&&(n=(n+12)%12);else{for(var l=0;o>l;l++)r=this.moveMonth(r,t);n=r.getUTCMonth(),r.setUTCDate(a),i=function(){return n!=r.getUTCMonth()}}for(;i();)r.setUTCDate(--a),r.setUTCMonth(n);return r},moveYear:function(e,t){return this.moveMonth(e,12*t)},dateWithinRange:function(e){return e>=this.startDate&&e<=this.endDate},keydown:function(e){if(this.picker.is(":not(:visible)"))return 27==e.keyCode&&this.show(),void 0;var t,n,i,r=!1;switch(e.keyCode){case 27:this.hide(),e.preventDefault();break;case 37:case 39:if(!this.keyboardNavigation)break;t=37==e.keyCode?-1:1,e.ctrlKey?(n=this.moveYear(this.date,t),i=this.moveYear(this.viewDate,t)):e.shiftKey?(n=this.moveMonth(this.date,t),i=this.moveMonth(this.viewDate,t)):(n=new Date(this.date),n.setUTCDate(this.date.getUTCDate()+t),i=new Date(this.viewDate),i.setUTCDate(this.viewDate.getUTCDate()+t)),this.dateWithinRange(n)&&(this.date=n,this.viewDate=i,this.setValue(),this.update(),e.preventDefault(),r=!0);break;case 38:case 40:if(!this.keyboardNavigation)break;t=38==e.keyCode?-1:1,e.ctrlKey?(n=this.moveYear(this.date,t),i=this.moveYear(this.viewDate,t)):e.shiftKey?(n=this.moveMonth(this.date,t),i=this.moveMonth(this.viewDate,t)):(n=new Date(this.date),n.setUTCDate(this.date.getUTCDate()+7*t),i=new Date(this.viewDate),i.setUTCDate(this.viewDate.getUTCDate()+7*t)),this.dateWithinRange(n)&&(this.date=n,this.viewDate=i,this.setValue(),this.update(),e.preventDefault(),r=!0);break;case 13:this.hide(),e.preventDefault();break;case 9:this.hide()}if(r){this.element.trigger({type:"changeDate",date:this.date});var a;this.isInput?a=this.element:this.component&&(a=this.element.find("input")),a&&a.change()}},showMode:function(e){e&&(this.viewMode=Math.max(0,Math.min(2,this.viewMode+e))),this.picker.find(">div").hide().filter(".datepicker-"+r.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}},e.fn.datepicker=function(t){var i=Array.apply(null,arguments);return i.shift(),this.each(function(){var r=e(this),a=r.data("datepicker"),s="object"==typeof t&&t;a||r.data("datepicker",a=new n(this,e.extend({},e.fn.datepicker.defaults,s))),"string"==typeof t&&"function"==typeof a[t]&&a[t].apply(a,i)})},e.fn.datepicker.defaults={},e.fn.datepicker.Constructor=n;var i=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today"}},r={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return 0===e%4&&0!==e%100||0===e%400},getDaysInMonth:function(e,t){return[31,r.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){var t=e.replace(this.validParts,"\0").split("\0"),n=e.match(this.validParts);if(!t||!t.length||!n||0==n.length)throw new Error("Invalid date format.");return{separators:t,parts:n}},parseDate:function(r,a,s){if(r instanceof Date)return r;if(/^[-+]\d+[dmwy]([\s,]+[-+]\d+[dmwy])*$/.test(r)){var o,l,c=/([-+]\d+)([dmwy])/,h=r.match(/([-+]\d+)([dmwy])/g);r=new Date;for(var u=0;u<h.length;u++)switch(o=c.exec(h[u]),l=parseInt(o[1]),o[2]){case"d":r.setUTCDate(r.getUTCDate()+l);break;case"m":r=n.prototype.moveMonth.call(n.prototype,r,l);break;case"w":r.setUTCDate(r.getUTCDate()+7*l);break;case"y":r=n.prototype.moveYear.call(n.prototype,r,l)}return t(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),0,0,0)}var d,p,o,h=r&&r.match(this.nonpunctuation)||[],r=new Date,f={},g=["yyyy","yy","M","MM","m","mm","d","dd"],m={yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){for(t-=1;0>t;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!=t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};m.M=m.MM=m.mm=m.m,m.dd=m.d,r=t(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0);var v=a.parts.slice();if(h.length!=v.length&&(v=e(v).filter(function(t,n){return-1!==e.inArray(n,g)}).toArray()),h.length==v.length){for(var u=0,b=v.length;b>u;u++){if(d=parseInt(h[u],10),o=v[u],isNaN(d))switch(o){case"MM":p=e(i[s].months).filter(function(){var e=this.slice(0,h[u].length),t=h[u].slice(0,e.length);return e==t}),d=e.inArray(p[0],i[s].months)+1;break;case"M":p=e(i[s].monthsShort).filter(function(){var e=this.slice(0,h[u].length),t=h[u].slice(0,e.length);return e==t}),d=e.inArray(p[0],i[s].monthsShort)+1}f[o]=d}for(var y,u=0;u<g.length;u++)y=g[u],y in f&&!isNaN(f[y])&&m[y](r,f[y])}return r},formatDate:function(t,n,r){var a={d:t.getUTCDate(),D:i[r].daysShort[t.getUTCDay()],DD:i[r].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:i[r].monthsShort[t.getUTCMonth()],MM:i[r].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};a.dd=(a.d<10?"0":"")+a.d,a.mm=(a.m<10?"0":"")+a.m;for(var t=[],s=e.extend([],n.separators),o=0,l=n.parts.length;l>o;o++)s.length&&t.push(s.shift()),t.push(a[n.parts[o]]);return t.join("")},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr></tfoot>'};r.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+r.headTemplate+"<tbody></tbody>"+r.footTemplate+"</table>"+"</div>"+'<div class="datepicker-months">'+'<table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+"</table>"+"</div>"+'<div class="datepicker-years">'+'<table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+"</table>"+"</div>"+"</div>",e.fn.datepicker.DPGlobal=r}(window.jQuery),/**
 * @license
 * =========================================================
 * bootstrap-datetimepicker.js
 * http://www.eyecon.ro/bootstrap-datepicker
 * =========================================================
 * Copyright 2012 Stefan Petre
 *
 * Contributions:
 *  - Andrew Rowls
 *  - Thiago de Arruda
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =========================================================
 */
function(e){function t(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function n(e,t,n){return t<e.length?e:Array(t-e.length+1).join(n||" ")+e}function i(e,t,n,i,r,a){return t&&n?'<div class="bootstrap-datetimepicker-widget dropdown-menu"><ul><li'+(a?' class="collapse in"':"")+">"+'<div class="datepicker">'+p.template+"</div>"+"</li>"+'<li class="picker-switch accordion-toggle"><a><i class="'+e+'"></i></a></li>'+"<li"+(a?' class="collapse"':"")+">"+'<div class="timepicker">'+f.getTemplate(i,r)+"</div>"+"</li>"+"</ul>"+"</div>":n?'<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="timepicker">'+f.getTemplate(i,r)+"</div>"+"</div>":'<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="datepicker">'+p.template+"</div>"+"</div>"}function r(){return new Date(Date.UTC.apply(Date,arguments))}void 0!=window.orientation;var a=function(e,t){this.id=s++,this.init(e,t)};a.prototype={constructor:a,init:function(t,n){var r;if(!n.pickTime&&!n.pickDate)throw new Error("Must choose at least one picker");if(this.options=n,this.$element=e(t),this.language=n.language in o?n.language:"en",this.pickDate=n.pickDate,this.pickTime=n.pickTime,this.isInput=this.$element.is("input"),this.component=!1,(this.$element.find(".input-append")||this.$element.find(".input-prepend"))&&(this.component=this.$element.find(".add-on")),this.format=n.format,this.format||(this.format=this.isInput?this.$element.data("format"):this.$element.find("input").data("format"),this.format||(this.format="MM/dd/yyyy")),this._compileFormat(),this.component&&(r=this.component.find("i")),this.pickTime&&(r&&r.length&&(this.timeIcon=r.data("time-icon")),this.timeIcon||(this.timeIcon="icon-time"),r.addClass(this.timeIcon)),this.pickDate&&(r&&r.length&&(this.dateIcon=r.data("date-icon")),this.dateIcon||(this.dateIcon="icon-calendar"),r.removeClass(this.timeIcon),r.addClass(this.dateIcon)),this.widget=e(i(this.timeIcon,n.pickDate,n.pickTime,n.pick12HourFormat,n.pickSeconds,n.collapse)).appendTo("body"),this.minViewMode=n.minViewMode||this.$element.data("date-minviewmode")||0,"string"==typeof this.minViewMode)switch(this.minViewMode){case"months":this.minViewMode=1;break;case"years":this.minViewMode=2;break;default:this.minViewMode=0}if(this.viewMode=n.viewMode||this.$element.data("date-viewmode")||0,"string"==typeof this.viewMode)switch(this.viewMode){case"months":this.viewMode=1;break;case"years":this.viewMode=2;break;default:this.viewMode=0}this.startViewMode=this.viewMode,this.weekStart=n.weekStart||this.$element.data("date-weekstart")||0,this.weekEnd=0===this.weekStart?6:this.weekStart-1,this.setStartDate(n.startDate||this.$element.data("date-startdate")),this.setEndDate(n.endDate||this.$element.data("date-enddate")),this.fillDow(),this.fillMonths(),this.fillHours(),this.fillMinutes(),this.fillSeconds(),this.update(),this.showMode(),this._attachDatePickerEvents()},show:function(e){this.widget.show(),this.height=this.component?this.component.outerHeight():this.$element.outerHeight(),this.place(),this.$element.trigger({type:"show",date:this._date}),this._attachDatePickerGlobalEvents(),e&&(e.stopPropagation(),e.preventDefault())},disable:function(){this.$element.find("input").prop("disabled",!0),this._detachDatePickerEvents()},enable:function(){this.$element.find("input").prop("disabled",!1),this._attachDatePickerEvents()},hide:function(){for(var e=this.widget.find(".collapse"),t=0;t<e.length;t++){var n=e.eq(t).data("collapse");if(n&&n.transitioning)return}this.widget.hide(),this.viewMode=this.startViewMode,this.showMode(),this.set(),this.$element.trigger({type:"hide",date:this._date}),this._detachDatePickerGlobalEvents()},set:function(){var e="";if(this._unset||(e=this.formatDate(this._date)),this.isInput)this.$element.val(e),this._resetMaskPos(this.$element);else{if(this.component){var t=this.$element.find("input");t.val(e),this._resetMaskPos(t)}this.$element.data("date",e)}},setValue:function(e){this._unset=e?!1:!0,"string"==typeof e?this._date=this.parseDate(e):e&&(this._date=new Date(e)),this.set(),this.viewDate=r(this._date.getUTCFullYear(),this._date.getUTCMonth(),1,0,0,0,0),this.fillDate(),this.fillTime()},getDate:function(){return this._unset?null:new Date(this._date.valueOf())},setDate:function(e){e?this.setValue(e.valueOf()):this.setValue(null)},setStartDate:function(e){e instanceof Date?this.startDate=e:"string"==typeof e?(this.startDate=new r(e),this.startDate.getUTCFullYear()||(this.startDate=-1/0)):this.startDate=-1/0,this.viewDate&&this.update()},setEndDate:function(e){e instanceof Date?this.endDate=e:"string"==typeof e?(this.endDate=new r(e),this.endDate.getUTCFullYear()||(this.endDate=1/0)):this.endDate=1/0,this.viewDate&&this.update()},getLocalDate:function(){if(this._unset)return null;var e=this._date;return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())},setLocalDate:function(e){e?this.setValue(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())):this.setValue(null)},place:function(){var t="absolute",n=this.component?this.component.offset():this.$element.offset();this.width=this.component?this.component.outerWidth():this.$element.outerWidth(),n.top=n.top+this.height;var i=e(window);void 0!=this.options.width&&this.widget.width(this.options.width),"left"==this.options.orientation&&(this.widget.addClass("left-oriented"),n.left=n.left-this.widget.width()+20),this._isInFixed()&&(t="fixed",n.top-=i.scrollTop(),n.left-=i.scrollLeft()),i.width()<n.left+this.widget.outerWidth()?(n.right=i.width()-n.left-this.width,n.left="auto",this.widget.addClass("pull-right")):(n.right="auto",this.widget.removeClass("pull-right")),this.widget.css({position:t,top:n.top,left:n.left,right:n.right})},notifyChange:function(){this.$element.trigger({type:"changeDate",date:this.getDate(),localDate:this.getLocalDate()})},update:function(e){var t=e;if(!t&&(t=this.isInput?this.$element.val():this.$element.find("input").val(),t&&(this._date=this.parseDate(t)),!this._date)){var n=new Date;this._date=r(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}this.viewDate=r(this._date.getUTCFullYear(),this._date.getUTCMonth(),1,0,0,0,0),this.fillDate(),this.fillTime()},fillDow:function(){for(var t=this.weekStart,n=e("<tr>");t<this.weekStart+7;)n.append('<th class="dow">'+o[this.language].daysMin[t++%7]+"</th>");this.widget.find(".datepicker-days thead").append(n)},fillMonths:function(){for(var e="",t=0;12>t;)e+='<span class="month">'+o[this.language].monthsShort[t++]+"</span>";this.widget.find(".datepicker-months td").append(e)},fillDate:function(){var t=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),i=r(this._date.getUTCFullYear(),this._date.getUTCMonth(),this._date.getUTCDate(),0,0,0,0),a="object"==typeof this.startDate?this.startDate.getUTCFullYear():-1/0,s="object"==typeof this.startDate?this.startDate.getUTCMonth():-1,l="object"==typeof this.endDate?this.endDate.getUTCFullYear():1/0,c="object"==typeof this.endDate?this.endDate.getUTCMonth():12;this.widget.find(".datepicker-days").find(".disabled").removeClass("disabled"),this.widget.find(".datepicker-months").find(".disabled").removeClass("disabled"),this.widget.find(".datepicker-years").find(".disabled").removeClass("disabled"),this.widget.find(".datepicker-days th:eq(1)").text(o[this.language].months[n]+" "+t);var h=r(t,n-1,28,0,0,0,0),u=p.getDaysInMonth(h.getUTCFullYear(),h.getUTCMonth());h.setUTCDate(u),h.setUTCDate(u-(h.getUTCDay()-this.weekStart+7)%7),(t==a&&s>=n||a>t)&&this.widget.find(".datepicker-days th:eq(0)").addClass("disabled"),(t==l&&n>=c||t>l)&&this.widget.find(".datepicker-days th:eq(2)").addClass("disabled");var d=new Date(h.valueOf());d.setUTCDate(d.getUTCDate()+42),d=d.valueOf();for(var f,g,m=[];h.valueOf()<d;)h.getUTCDay()===this.weekStart&&(f=e("<tr>"),m.push(f)),g="",h.getUTCFullYear()<t||h.getUTCFullYear()==t&&h.getUTCMonth()<n?g+=" old":(h.getUTCFullYear()>t||h.getUTCFullYear()==t&&h.getUTCMonth()>n)&&(g+=" new"),h.valueOf()===i.valueOf()&&(g+=" active"),h.valueOf()+864e5<=this.startDate&&(g+=" disabled"),h.valueOf()>this.endDate&&(g+=" disabled"),f.append('<td class="day'+g+'">'+h.getUTCDate()+"</td>"),h.setUTCDate(h.getUTCDate()+1);this.widget.find(".datepicker-days tbody").empty().append(m);var v=this._date.getUTCFullYear(),b=this.widget.find(".datepicker-months").find("th:eq(1)").text(t).end().find("span").removeClass("active");v===t&&b.eq(this._date.getUTCMonth()).addClass("active"),a>v-1&&this.widget.find(".datepicker-months th:eq(0)").addClass("disabled"),v+1>l&&this.widget.find(".datepicker-months th:eq(2)").addClass("disabled");for(var y=0;12>y;y++)t==a&&s>y||a>t?e(b[y]).addClass("disabled"):(t==l&&y>c||t>l)&&e(b[y]).addClass("disabled");m="",t=10*parseInt(t/10,10);var x=this.widget.find(".datepicker-years").find("th:eq(1)").text(t+"-"+(t+9)).end().find("td");this.widget.find(".datepicker-years").find("th").removeClass("disabled"),a>t&&this.widget.find(".datepicker-years").find("th:eq(0)").addClass("disabled"),t+9>l&&this.widget.find(".datepicker-years").find("th:eq(2)").addClass("disabled"),t-=1;for(var y=-1;11>y;y++)m+='<span class="year'+(-1===y||10===y?" old":"")+(v===t?" active":"")+(a>t||t>l?" disabled":"")+'">'+t+"</span>",t+=1;x.html(m)},fillHours:function(){var e=this.widget.find(".timepicker .timepicker-hours table");e.parent().hide();var t="";if(this.options.pick12HourFormat)for(var i=1,r=0;3>r;r+=1){t+="<tr>";for(var a=0;4>a;a+=1){var s=i.toString();t+='<td class="hour">'+n(s,2,"0")+"</td>",i++}t+="</tr>"}else for(var i=0,r=0;6>r;r+=1){t+="<tr>";for(var a=0;4>a;a+=1){var s=i.toString();t+='<td class="hour">'+n(s,2,"0")+"</td>",i++}t+="</tr>"}e.html(t)},fillMinutes:function(){var e=this.widget.find(".timepicker .timepicker-minutes table");e.parent().hide();for(var t="",i=0,r=0;5>r;r++){t+="<tr>";for(var a=0;4>a;a+=1){var s=i.toString();t+='<td class="minute">'+n(s,2,"0")+"</td>",i+=3}t+="</tr>"}e.html(t)},fillSeconds:function(){var e=this.widget.find(".timepicker .timepicker-seconds table");e.parent().hide();for(var t="",i=0,r=0;5>r;r++){t+="<tr>";for(var a=0;4>a;a+=1){var s=i.toString();t+='<td class="second">'+n(s,2,"0")+"</td>",i+=3}t+="</tr>"}e.html(t)},fillTime:function(){if(this._date){var e=this.widget.find(".timepicker span[data-time-component]");e.closest("table");var t=this.options.pick12HourFormat,i=this._date.getUTCHours(),r="AM";t&&(i>=12&&(r="PM"),0===i?i=12:12!=i&&(i%=12),this.widget.find(".timepicker [data-action=togglePeriod]").text(r)),i=n(i.toString(),2,"0");var a=n(this._date.getUTCMinutes().toString(),2,"0"),s=n(this._date.getUTCSeconds().toString(),2,"0");e.filter("[data-time-component=hours]").text(i),e.filter("[data-time-component=minutes]").text(a),e.filter("[data-time-component=seconds]").text(s)}},click:function(t){t.stopPropagation(),t.preventDefault(),this._unset=!1;var n=e(t.target).closest("span, td, th");if(1===n.length&&!n.is(".disabled"))switch(n[0].nodeName.toLowerCase()){case"th":switch(n[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var i=this.viewDate,a=p.modes[this.viewMode].navFnc,s=p.modes[this.viewMode].navStep;"prev"===n[0].className&&(s=-1*s),i["set"+a](i["get"+a]()+s),this.fillDate(),this.set()}break;case"span":if(n.is(".month")){var o=n.parent().find("span").index(n);this.viewDate.setUTCMonth(o)}else{var l=parseInt(n.text(),10)||0;this.viewDate.setUTCFullYear(l)}0!==this.viewMode&&(this._date=r(this.viewDate.getUTCFullYear(),this.viewDate.getUTCMonth(),this.viewDate.getUTCDate(),this._date.getUTCHours(),this._date.getUTCMinutes(),this._date.getUTCSeconds(),this._date.getUTCMilliseconds()),this.notifyChange()),this.showMode(-1),this.fillDate(),this.set();break;case"td":if(n.is(".day")){var c=parseInt(n.text(),10)||1,o=this.viewDate.getUTCMonth(),l=this.viewDate.getUTCFullYear();n.is(".old")?0===o?(o=11,l-=1):o-=1:n.is(".new")&&(11==o?(o=0,l+=1):o+=1),this._date=r(l,o,c,this._date.getUTCHours(),this._date.getUTCMinutes(),this._date.getUTCSeconds(),this._date.getUTCMilliseconds()),this.viewDate=r(l,o,Math.min(28,c),0,0,0,0),this.fillDate(),this.set(),this.notifyChange()}}},actions:{incrementHours:function(){this._date.setUTCHours(this._date.getUTCHours()+1)},incrementMinutes:function(){this._date.setUTCMinutes(this._date.getUTCMinutes()+1)},incrementSeconds:function(){this._date.setUTCSeconds(this._date.getUTCSeconds()+1)},decrementHours:function(){this._date.setUTCHours(this._date.getUTCHours()-1)},decrementMinutes:function(){this._date.setUTCMinutes(this._date.getUTCMinutes()-1)},decrementSeconds:function(){this._date.setUTCSeconds(this._date.getUTCSeconds()-1)},togglePeriod:function(){var e=this._date.getUTCHours();e>=12?e-=12:e+=12,this._date.setUTCHours(e)},showPicker:function(){this.widget.find(".timepicker > div:not(.timepicker-picker)").hide(),this.widget.find(".timepicker .timepicker-picker").show()},showHours:function(){this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-hours").show()},showMinutes:function(){this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-seconds").show()},selectHour:function(t){var n=e(t.target),i=parseInt(n.text(),10);if(this.options.pick12HourFormat){var r=this._date.getUTCHours();r>=12?12!=i&&(i=(i+12)%24):12===i?i=0:i%=12}this._date.setUTCHours(i),this.actions.showPicker.call(this)},selectMinute:function(t){var n=e(t.target),i=parseInt(n.text(),10);this._date.setUTCMinutes(i),this.actions.showPicker.call(this)},selectSecond:function(t){var n=e(t.target),i=parseInt(n.text(),10);this._date.setUTCSeconds(i),this.actions.showPicker.call(this)}},doAction:function(t){t.stopPropagation(),t.preventDefault(),this._date||(this._date=r(1970,0,0,0,0,0,0));var n=e(t.currentTarget).data("action"),i=this.actions[n].apply(this,arguments);return this.set(),this.fillTime(),this.notifyChange(),i},stopEvent:function(e){e.stopPropagation(),e.preventDefault()},keydown:function(t){var n=this,i=t.which,r=e(t.target);(8==i||46==i)&&setTimeout(function(){n._resetMaskPos(r)})},keypress:function(t){var n=t.which;if(8!=n&&46!=n){var i=e(t.target),r=String.fromCharCode(n),a=i.val()||"";a+=r;var s=this._mask[this._maskPos];if(!s)return!1;if(s.end==a.length){if(!s.pattern.test(a.slice(s.start))){for(a=a.slice(0,a.length-1);(s=this._mask[this._maskPos])&&s.character;)a+=s.character,this._maskPos++;return a+=r,s.end!=a.length?(i.val(a),!1):s.pattern.test(a.slice(s.start))?(i.val(a),this._maskPos++,!1):(i.val(a.slice(0,s.start)),!1)}this._maskPos++}}},change:function(t){var n=e(t.target),i=n.val();this._formatPattern.test(i)?(this.update(),this.setValue(this._date.getTime()),this.notifyChange(),this.set()):i&&i.trim()?(this.setValue(this._date.getTime()),this._date?this.set():n.val("")):this._date&&(this.setValue(null),this.notifyChange(),this._unset=!0),this._resetMaskPos(n)},showMode:function(e){e&&(this.viewMode=Math.max(this.minViewMode,Math.min(2,this.viewMode+e))),this.widget.find(".datepicker > div").hide().filter(".datepicker-"+p.modes[this.viewMode].clsName).show()},destroy:function(){this._detachDatePickerEvents(),this._detachDatePickerGlobalEvents(),this.widget.remove(),this.$element.removeData("datetimepicker"),this.component.removeData("datetimepicker")},formatDate:function(e){return this.format.replace(d,function(t){var i,r,a,s=t.length;if("ms"===t&&(s=1),r=l[t].property,"Hours12"===r)a=e.getUTCHours(),0===a?a=12:12!==a&&(a%=12);else{if("Period12"===r)return e.getUTCHours()>=12?"PM":"AM";i="get"+r,a=e[i]()}return"getUTCMonth"===i&&(a+=1),"getUTCYear"===i&&(a=a+1900-2e3),n(a.toString(),s,"0")})},parseDate:function(e){var t,n,i,r,a={};if(!(t=this._formatPattern.exec(e)))return null;for(n=1;n<t.length;n++)i=this._propertiesByIndex[n],i&&(r=t[n],/^\d+$/.test(r)&&(r=parseInt(r,10)),a[i]=r);return this._finishParsingDate(a)},_resetMaskPos:function(e){for(var t=e.val(),n=0;n<this._mask.length;n++){if(this._mask[n].end>t.length){this._maskPos=n;break}if(this._mask[n].end===t.length){this._maskPos=n+1;break}}},_finishParsingDate:function(e){var t,n,i,a,s,o,l;return t=e.UTCFullYear,e.UTCYear&&(t=2e3+e.UTCYear),t||(t=1970),n=e.UTCMonth?e.UTCMonth-1:0,i=e.UTCDate||1,a=e.UTCHours||0,s=e.UTCMinutes||0,o=e.UTCSeconds||0,l=e.UTCMilliseconds||0,e.Hours12&&(a=e.Hours12),e.Period12&&(/pm/i.test(e.Period12)?12!=a&&(a=(a+12)%24):a%=12),r(t,n,i,a,s,o,l)},_compileFormat:function(){for(var e,n,i=[],r=[],a=this.format,s={},o=0,c=0;e=u.exec(a);)n=e[0],n in l?(o++,s[o]=l[n].property,i.push("\\s*"+l[n].getPattern(this)+"\\s*"),r.push({pattern:new RegExp(l[n].getPattern(this)),property:l[n].property,start:c,end:c+=n.length})):(i.push(t(n)),r.push({pattern:new RegExp(t(n)),character:n,start:c,end:++c})),a=a.slice(n.length);this._mask=r,this._maskPos=0,this._formatPattern=new RegExp("^\\s*"+i.join("")+"\\s*$"),this._propertiesByIndex=s},_attachDatePickerEvents:function(){var t=this;this.widget.on("click",".datepicker *",e.proxy(this.click,this)),this.widget.on("click","[data-action]",e.proxy(this.doAction,this)),this.widget.on("mousedown",e.proxy(this.stopEvent,this)),this.pickDate&&this.pickTime&&this.widget.on("click.togglePicker",".accordion-toggle",function(n){n.stopPropagation();var i=e(this),r=i.closest("ul"),a=r.find(".collapse.in"),s=r.find(".collapse:not(.in)");if(a&&a.length){var o=a.data("collapse");if(o&&o.transitioning)return;a.collapse("hide"),s.collapse("show"),i.find("i").toggleClass(t.timeIcon+" "+t.dateIcon),t.$element.find(".add-on i").toggleClass(t.timeIcon+" "+t.dateIcon)}}),this.isInput?(this.$element.on({focus:e.proxy(this.show,this),change:e.proxy(this.change,this)}),this.options.maskInput&&this.$element.on({keydown:e.proxy(this.keydown,this),keypress:e.proxy(this.keypress,this)})):(this.$element.on({change:e.proxy(this.change,this)},"input"),this.options.maskInput&&this.$element.on({keydown:e.proxy(this.keydown,this),keypress:e.proxy(this.keypress,this)},"input"),this.component?this.component.on("click",e.proxy(this.show,this)):this.$element.on("click",e.proxy(this.show,this)))},_attachDatePickerGlobalEvents:function(){e(window).on("resize.datetimepicker"+this.id,e.proxy(this.place,this)),this.isInput||e(document).on("mousedown.datetimepicker"+this.id,e.proxy(this.hide,this))},_detachDatePickerEvents:function(){this.widget.off("click",".datepicker *",this.click),this.widget.off("click","[data-action]"),this.widget.off("mousedown",this.stopEvent),this.pickDate&&this.pickTime&&this.widget.off("click.togglePicker"),this.isInput?(this.$element.off({focus:this.show,change:this.change}),this.options.maskInput&&this.$element.off({keydown:this.keydown,keypress:this.keypress})):(this.$element.off({change:this.change},"input"),this.options.maskInput&&this.$element.off({keydown:this.keydown,keypress:this.keypress},"input"),this.component?this.component.off("click",this.show):this.$element.off("click",this.show))},_detachDatePickerGlobalEvents:function(){e(window).off("resize.datetimepicker"+this.id),this.isInput||e(document).off("mousedown.datetimepicker"+this.id)},_isInFixed:function(){if(this.$element){for(var t=this.$element.parents(),n=!1,i=0;i<t.length;i++)if("fixed"==e(t[i]).css("position")){n=!0;break}return n}return!1}},e.fn.datetimepicker=function(t,n){return this.each(function(){var i=e(this),r=i.data("datetimepicker"),s="object"==typeof t&&t;r||i.data("datetimepicker",r=new a(this,e.extend({},e.fn.datetimepicker.defaults,s))),"string"==typeof t&&r[t](n)})},e.fn.datetimepicker.defaults={maskInput:!1,pickDate:!0,pickTime:!0,pick12HourFormat:!1,pickSeconds:!0,startDate:-1/0,endDate:1/0,collapse:!0},e.fn.datetimepicker.Constructor=a;var s=0,o=e.fn.datetimepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}},l={dd:{property:"UTCDate",getPattern:function(){return"(0?[1-9]|[1-2][0-9]|3[0-1])\\b"}},MM:{property:"UTCMonth",getPattern:function(){return"(0?[1-9]|1[0-2])\\b"}},yy:{property:"UTCYear",getPattern:function(){return"(\\d{2})\\b"}},yyyy:{property:"UTCFullYear",getPattern:function(){return"(\\d{4})\\b"}},hh:{property:"UTCHours",getPattern:function(){return"(0?[0-9]|1[0-9]|2[0-3])\\b"}},mm:{property:"UTCMinutes",getPattern:function(){return"(0?[0-9]|[1-5][0-9])\\b"}},ss:{property:"UTCSeconds",getPattern:function(){return"(0?[0-9]|[1-5][0-9])\\b"}},ms:{property:"UTCMilliseconds",getPattern:function(){return"([0-9]{1,3})\\b"}},HH:{property:"Hours12",getPattern:function(){return"(0?[1-9]|1[0-2])\\b"}},PP:{property:"Period12",getPattern:function(){return"(AM|PM|am|pm|Am|aM|Pm|pM)\\b"}}},c=[];for(var h in l)c.push(h);c[c.length-1]+="\\b",c.push(".");var u=new RegExp(c.join("\\b|"));c.pop();var d=new RegExp(c.join("\\b|"),"g"),p={modes:[{clsName:"days",navFnc:"UTCMonth",navStep:1},{clsName:"months",navFnc:"UTCFullYear",navStep:1},{clsName:"years",navFnc:"UTCFullYear",navStep:10}],isLeapYear:function(e){return 0===e%4&&0!==e%100||0===e%400},getDaysInMonth:function(e,t){return[31,p.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},headTemplate:'<thead><tr><th class="prev">&lsaquo;</th><th colspan="5" class="switch"></th><th class="next">&rsaquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};p.template='<div class="datepicker-days"><table class="table-condensed">'+p.headTemplate+"<tbody></tbody>"+"</table>"+"</div>"+'<div class="datepicker-months">'+'<table class="table-condensed">'+p.headTemplate+p.contTemplate+"</table>"+"</div>"+'<div class="datepicker-years">'+'<table class="table-condensed">'+p.headTemplate+p.contTemplate+"</table>"+"</div>";var f={hourTemplate:'<span data-action="showHours" data-time-component="hours" class="timepicker-hour"></span>',minuteTemplate:'<span data-action="showMinutes" data-time-component="minutes" class="timepicker-minute"></span>',secondTemplate:'<span data-action="showSeconds" data-time-component="seconds" class="timepicker-second"></span>'};f.getTemplate=function(e,t){return'<div class="timepicker-picker"><table class="table-condensed"'+(e?' data-hour-format="12"':"")+">"+"<tr>"+'<td><a href="#" class="btn" data-action="incrementHours"><i class="icon-chevron-up"></i></a></td>'+'<td class="separator"></td>'+'<td><a href="#" class="btn" data-action="incrementMinutes"><i class="icon-chevron-up"></i></a></td>'+(t?'<td class="separator"></td><td><a href="#" class="btn" data-action="incrementSeconds"><i class="icon-chevron-up"></i></a></td>':"")+(e?'<td class="separator"></td>':"")+"</tr>"+"<tr>"+"<td>"+f.hourTemplate+"</td> "+'<td class="separator">:</td>'+"<td>"+f.minuteTemplate+"</td> "+(t?'<td class="separator">:</td><td>'+f.secondTemplate+"</td>":"")+(e?'<td class="separator"></td><td><button type="button" class="btn btn-primary" data-action="togglePeriod"></button></td>':"")+"</tr>"+"<tr>"+'<td><a href="#" class="btn" data-action="decrementHours"><i class="icon-chevron-down"></i></a></td>'+'<td class="separator"></td>'+'<td><a href="#" class="btn" data-action="decrementMinutes"><i class="icon-chevron-down"></i></a></td>'+(t?'<td class="separator"></td><td><a href="#" class="btn" data-action="decrementSeconds"><i class="icon-chevron-down"></i></a></td>':"")+(e?'<td class="separator"></td>':"")+"</tr>"+"</table>"+"</div>"+'<div class="timepicker-hours" data-action="selectHour">'+'<table class="table-condensed">'+"</table>"+"</div>"+'<div class="timepicker-minutes" data-action="selectMinute">'+'<table class="table-condensed">'+"</table>"+"</div>"+(t?'<div class="timepicker-seconds" data-action="selectSecond"><table class="table-condensed"></table></div>':"")}}(window.jQuery),/*
 * jQuery MultiSelect UI Widget 1.13
 * Copyright (c) 2012 Eric Hynds
 *
 * http://www.erichynds.com/jquery/jquery-ui-multiselect-widget/
 *
 * Depends:
 *   - jQuery 1.4.2+
 *   - jQuery UI 1.8 widget factory
 *
 * Optional:
 *   - jQuery UI effects
 *   - jQuery UI position utility
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
*/
function(e){var t=0;e.widget("ech.multiselect",{options:{header:!0,height:175,minWidth:225,classes:"",checkAllText:"Check all",uncheckAllText:"Uncheck all",noneSelectedText:"Select options",selectedText:"# selected",selectedList:0,show:null,hide:null,autoOpen:!1,multiple:!0,position:{}},_create:function(){var t=this.element.hide(),n=this.options;this.speed=e.fx.speeds._default,this._isOpen=!1;var i=(this.button=e('<button type="button"><span class="ui-icon ui-icon-triangle-2-n-s"></span></button>')).addClass("ui-multiselect ui-widget ui-state-default ui-corner-all").addClass(n.classes).attr({title:t.attr("title"),"aria-haspopup":!0,tabIndex:t.attr("tabIndex")}).insertAfter(t),r=((this.buttonlabel=e("<span />")).html(n.noneSelectedText).appendTo(i),(this.menu=e("<div />")).addClass("ui-multiselect-menu ui-widget ui-widget-content ui-corner-all").addClass(n.classes).appendTo(document.body)),a=(this.header=e("<div />")).addClass("ui-widget-header ui-corner-all ui-multiselect-header ui-helper-clearfix").appendTo(r);(this.headerLinkContainer=e("<ul />")).addClass("ui-helper-reset").html(function(){return n.header===!0?'<li><a class="ui-multiselect-all" href="#"><span class="ui-icon ui-icon-check"></span><span>'+n.checkAllText+'</span></a></li><li><a class="ui-multiselect-none" href="#"><span class="ui-icon ui-icon-closethick"></span><span>'+n.uncheckAllText+"</span></a></li>":"string"==typeof n.header?"<li>"+n.header+"</li>":""}).append('<li class="ui-multiselect-close"><a href="#" class="ui-multiselect-close"><span class="ui-icon ui-icon-circle-close"></span></a></li>').appendTo(a),(this.checkboxContainer=e("<ul />")).addClass("ui-multiselect-checkboxes ui-helper-reset").appendTo(r),this._bindEvents(),this.refresh(!0),n.multiple||r.addClass("ui-multiselect-single")},_init:function(){this.options.header===!1&&this.header.hide(),this.options.multiple||this.headerLinkContainer.find(".ui-multiselect-all, .ui-multiselect-none").hide(),this.options.autoOpen&&this.open(),this.element.is(":disabled")&&this.disable()},refresh:function(n){var i=this.element,r=this.options,a=this.menu,s=this.checkboxContainer,o=[],l="",c=i.attr("id")||t++;i.find("option").each(function(t){var n,i=(e(this),this.parentNode),a=this.innerHTML,s=this.title,h=this.value,u="ui-multiselect-"+(this.id||c+"-option-"+t),d=this.disabled,p=this.selected,f=["ui-corner-all"],g=(d?"ui-multiselect-disabled ":" ")+this.className;"OPTGROUP"===i.tagName&&(n=i.getAttribute("label"),-1===e.inArray(n,o)&&(l+='<li class="ui-multiselect-optgroup-label '+i.className+'"><a href="#">'+n+"</a></li>",o.push(n))),d&&f.push("ui-state-disabled"),p&&!r.multiple&&f.push("ui-state-active"),l+='<li class="'+g+'">',l+='<label for="'+u+'" title="'+s+'" class="'+f.join(" ")+'">',l+='<input id="'+u+'" name="multiselect_'+c+'" type="'+(r.multiple?"checkbox":"radio")+'" value="'+h+'" title="'+a+'"',p&&(l+=' checked="checked"',l+=' aria-selected="true"'),d&&(l+=' disabled="disabled"',l+=' aria-disabled="true"'),l+=" /><span>"+a+"</span></label></li>"}),s.html(l),this.labels=a.find("label"),this.inputs=this.labels.children("input"),this._setButtonWidth(),this._setMenuWidth(),this.button[0].defaultValue=this.update(),n||this._trigger("refresh")},update:function(){var t,n=this.options,i=this.inputs,r=i.filter(":checked"),a=r.length;return t=0===a?n.noneSelectedText:e.isFunction(n.selectedText)?n.selectedText.call(this,a,i.length,r.get()):/\d/.test(n.selectedList)&&n.selectedList>0&&a<=n.selectedList?r.map(function(){return e(this).next().html()}).get().join(", "):n.selectedText.replace("#",a).replace("#",i.length),this.buttonlabel.html(t),t},_bindEvents:function(){function t(){return n[n._isOpen?"close":"open"](),!1}var n=this,i=this.button;i.find("span").bind("click.multiselect",t),i.bind({click:t,keypress:function(e){switch(e.which){case 27:case 38:case 37:n.close();break;case 39:case 40:n.open()}},mouseenter:function(){i.hasClass("ui-state-disabled")||e(this).addClass("ui-state-hover")},mouseleave:function(){e(this).removeClass("ui-state-hover")},focus:function(){i.hasClass("ui-state-disabled")||e(this).addClass("ui-state-focus")},blur:function(){e(this).removeClass("ui-state-focus")}}),this.header.delegate("a","click.multiselect",function(t){e(this).hasClass("ui-multiselect-close")?n.close():n[e(this).hasClass("ui-multiselect-all")?"checkAll":"uncheckAll"](),t.preventDefault()}),this.menu.delegate("li.ui-multiselect-optgroup-label a","click.multiselect",function(t){t.preventDefault();var i=e(this),r=i.parent().nextUntil("li.ui-multiselect-optgroup-label").find("input:visible:not(:disabled)"),a=r.get(),s=i.parent().text();n._trigger("beforeoptgrouptoggle",t,{inputs:a,label:s})!==!1&&(n._toggleChecked(r.filter(":checked").length!==r.length,r),n._trigger("optgrouptoggle",t,{inputs:a,label:s,checked:a[0].checked}))}).delegate("label","mouseenter.multiselect",function(){e(this).hasClass("ui-state-disabled")||(n.labels.removeClass("ui-state-hover"),e(this).addClass("ui-state-hover").find("input").focus())}).delegate("label","keydown.multiselect",function(t){switch(t.preventDefault(),t.which){case 9:case 27:n.close();break;case 38:case 40:case 37:case 39:n._traverse(t.which,this);break;case 13:e(this).find("input")[0].click()}}).delegate('input[type="checkbox"], input[type="radio"]',"click.multiselect",function(t){var i=e(this),r=this.value,a=this.checked,s=n.element.find("option");return this.disabled||n._trigger("click",t,{value:r,text:this.title,checked:a})===!1?(t.preventDefault(),void 0):(i.focus(),i.attr("aria-selected",a),s.each(function(){this.value===r?this.selected=a:n.options.multiple||(this.selected=!1)}),n.options.multiple||(n.labels.removeClass("ui-state-active"),i.closest("label").toggleClass("ui-state-active",a),n.close()),n.element.trigger("change"),setTimeout(e.proxy(n.update,n),10),void 0)}),e(document).bind("mousedown.multiselect",function(t){!n._isOpen||e.contains(n.menu[0],t.target)||e.contains(n.button[0],t.target)||t.target===n.button[0]||n.close()}),e(this.element[0].form).bind("reset.multiselect",function(){setTimeout(e.proxy(n.refresh,n),10)})},_setButtonWidth:function(){var e=this.element.outerWidth(),t=this.options;/\d/.test(t.minWidth)&&e<t.minWidth&&(e=t.minWidth),this.button.outerWidth(e)},_setMenuWidth:function(){var e=this.menu;e.outerWidth(this.button.outerWidth())},_traverse:function(t,n){var i=e(n),r=38===t||37===t,a=i.parent()[r?"prevAll":"nextAll"]("li:not(.ui-multiselect-disabled, .ui-multiselect-optgroup-label)")[r?"last":"first"]();if(a.length)a.find("label").trigger("mouseover");else{var s=this.menu.find("ul").last();this.menu.find("label")[r?"last":"first"]().trigger("mouseover"),s.scrollTop(r?s.height():0)}},_toggleState:function(e,t){return function(){this.disabled||(this[e]=t),t?this.setAttribute("aria-selected",!0):this.removeAttribute("aria-selected")}},_toggleChecked:function(t,n){var i=n&&n.length?n:this.inputs,r=this;i.each(this._toggleState("checked",t)),i.eq(0).focus(),this.update();var a=i.map(function(){return this.value}).get();this.element.find("option").each(function(){!this.disabled&&e.inArray(this.value,a)>-1&&r._toggleState("selected",t).call(this)}),i.length&&this.element.trigger("change")},_toggleDisabled:function(t){this.button.attr({disabled:t,"aria-disabled":t})[t?"addClass":"removeClass"]("ui-state-disabled");var n=this.menu.find("input"),i="ech-multiselect-disabled";n=t?n.filter(":enabled").data(i,!0):n.filter(function(){return e.data(this,i)===!0}).removeData(i),n.attr({disabled:t,"arial-disabled":t}).parent()[t?"addClass":"removeClass"]("ui-state-disabled"),this.element.attr({disabled:t,"aria-disabled":t})},open:function(){var t=this,n=this.button,i=this.menu,r=this.speed,a=this.options,s=[];if(this._trigger("beforeopen")!==!1&&!n.hasClass("ui-state-disabled")&&!this._isOpen){var o=i.find("ul").last(),l=a.show,c=n.offset();e.isArray(a.show)&&(l=a.show[0],r=a.show[1]||t.speed),l&&(s=[l,r]),o.scrollTop(0).height(a.height),e.ui.position&&!e.isEmptyObject(a.position)?(a.position.of=a.position.of||n,i.show().position(a.position).hide()):i.css({top:c.top+n.outerHeight(),left:c.left}),e.fn.show.apply(i,s),this.labels.eq(0).trigger("mouseover").trigger("mouseenter").find("input").trigger("focus"),n.addClass("ui-state-active"),this._isOpen=!0,this._trigger("open")}},close:function(){if(this._trigger("beforeclose")!==!1){var t=this.options,n=t.hide,i=this.speed,r=[];e.isArray(t.hide)&&(n=t.hide[0],i=t.hide[1]||this.speed),n&&(r=[n,i]),e.fn.hide.apply(this.menu,r),this.button.removeClass("ui-state-active").trigger("blur").trigger("mouseleave"),this._isOpen=!1,this._trigger("close")}},enable:function(){this._toggleDisabled(!1)},disable:function(){this._toggleDisabled(!0)},checkAll:function(){this._toggleChecked(!0),this._trigger("checkAll")},uncheckAll:function(){this._toggleChecked(!1),this._trigger("uncheckAll")},getChecked:function(){return this.menu.find("input").filter(":checked")},destroy:function(){return e.Widget.prototype.destroy.call(this),this.button.remove(),this.menu.remove(),this.element.show(),this},isOpen:function(){return this._isOpen},widget:function(){return this.menu},getButton:function(){return this.button},_setOption:function(t,n){var i=this.menu;switch(t){case"header":i.find("div.ui-multiselect-header")[n?"show":"hide"]();break;case"checkAllText":i.find("a.ui-multiselect-all span").eq(-1).text(n);break;case"uncheckAllText":i.find("a.ui-multiselect-none span").eq(-1).text(n);break;case"height":i.find("ul").last().height(parseInt(n,10));break;case"minWidth":this.options[t]=parseInt(n,10),this._setButtonWidth(),this._setMenuWidth();break;case"selectedText":case"selectedList":case"noneSelectedText":this.options[t]=n,this.update();break;case"classes":i.add(this.button).removeClass(this.options.classes).addClass(n);break;case"multiple":i.toggleClass("ui-multiselect-single",!n),this.options.multiple=n,this.element[0].multiple=n,this.refresh()}e.Widget.prototype._setOption.apply(this,arguments)}})}(jQuery),/*
 * jQuery MultiSelect UI Widget Filtering Plugin 1.4
 * Copyright (c) 2012 Eric Hynds
 *
 * http://www.erichynds.com/jquery/jquery-ui-multiselect-widget/
 *
 * Depends:
 *   - jQuery UI MultiSelect widget
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
*/
function(e){var t=/[\-\[\]{}()*+?.,\\\^$|#\s]/g;e.widget("ech.multiselectfilter",{options:{label:"Filter:",width:null,placeholder:"Enter keywords",autoReset:!1},_create:function(){var t=this,n=this.options,i=this.instance=e(this.element).data("multiselect"),r=(this.header=i.menu.find(".ui-multiselect-header").addClass("ui-multiselect-hasfilter"),this.wrapper=e('<div class="ui-multiselect-filter">'+(n.label.length?n.label:"")+'<input placeholder="'+n.placeholder+'" type="search"'+(/\d/.test(n.width)?'style="width:'+n.width+'px"':"")+" /></div>").prependTo(this.header));this.inputs=i.menu.find('input[type="checkbox"], input[type="radio"]'),this.input=r.find("input").bind({keydown:function(e){13===e.which&&e.preventDefault()},keyup:e.proxy(t._handler,t),click:e.proxy(t._handler,t)}),this.updateCache(),i._toggleChecked=function(n,i){var r=i&&i.length?i:this.labels.find("input"),a=this,s=t.instance._isOpen?":disabled, :hidden":":disabled";r=r.not(s).each(this._toggleState("checked",n)),this.update();var o=r.map(function(){return this.value}).get();this.element.find("option").filter(function(){!this.disabled&&e.inArray(this.value,o)>-1&&a._toggleState("selected",n).call(this)})};var a=e(document).bind("multiselectrefresh",function(){t.updateCache(),t._handler()});this.options.autoReset&&a.bind("multiselectclose",e.proxy(this._reset,this))},_handler:function(n){var i=e.trim(this.input[0].value.toLowerCase()),r=this.rows,a=this.inputs,s=this.cache;if(i){r.hide();var o=new RegExp(i.replace(t,"\\$&"),"gi");this._trigger("filter",n,e.map(s,function(e,t){return-1!==e.search(o)?(r.eq(t).show(),a.get(t)):null}))}else r.show();this.instance.menu.find(".ui-multiselect-optgroup-label").each(function(){var t=e(this),n=t.nextUntil(".ui-multiselect-optgroup-label").filter(function(){return"none"!==e.css(this,"display")}).length;t[n?"show":"hide"]()})},_reset:function(){this.input.val("").trigger("keyup")},updateCache:function(){this.rows=this.instance.menu.find(".ui-multiselect-checkboxes li:not(.ui-multiselect-optgroup-label)"),this.cache=this.element.children().map(function(){var t=e(this);return"optgroup"===this.tagName.toLowerCase()&&(t=t.children()),t.map(function(){return this.innerHTML.toLowerCase()}).get()}).get()},widget:function(){return this.wrapper},destroy:function(){e.Widget.prototype.destroy.call(this),this.input.val("").trigger("keyup"),this.wrapper.remove()}})}(jQuery),!function(){function e(e){return e&&(e.ownerDocument||e.document||e).documentElement}function t(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}function n(e,t){return t>e?-1:e>t?1:e>=t?0:0/0}function i(e){return null===e?0/0:+e}function r(e){return!isNaN(e)}function a(e){return{left:function(t,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=t.length);r>i;){var a=i+r>>>1;e(t[a],n)<0?i=a+1:r=a}return i},right:function(t,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=t.length);r>i;){var a=i+r>>>1;e(t[a],n)>0?r=a:i=a+1}return i}}}function s(e){return e.length}function o(e){for(var t=1;e*t%1;)t*=10;return t}function l(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function c(){this._=Object.create(null)}function h(e){return(e+="")===go||e[0]===mo?mo+e:e}function u(e){return(e+="")[0]===mo?e.slice(1):e}function d(e){return h(e)in this._}function p(e){return(e=h(e))in this._&&delete this._[e]}function f(){var e=[];for(var t in this._)e.push(u(t));return e}function g(){var e=0;for(var t in this._)++e;return e}function m(){for(var e in this._)return!1;return!0}function v(){this._=Object.create(null)}function b(e){return e}function y(e,t,n){return function(){var i=n.apply(t,arguments);return i===t?e:i}}function x(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,i=vo.length;i>n;++n){var r=vo[n]+t;if(r in e)return r}}function w(){}function _(){}function C(e){function t(){for(var t,i=n,r=-1,a=i.length;++r<a;)(t=i[r].on)&&t.apply(this,arguments);return e}var n=[],i=new c;return t.on=function(t,r){var a,s=i.get(t);return arguments.length<2?s&&s.on:(s&&(s.on=null,n=n.slice(0,a=n.indexOf(s)).concat(n.slice(a+1)),i.remove(t)),r&&n.push(i.set(t,{on:r})),e)},t}function T(){to.event.preventDefault()}function D(){for(var e,t=to.event;e=t.sourceEvent;)t=e;return t}function S(e){for(var t=new _,n=0,i=arguments.length;++n<i;)t[arguments[n]]=C(t);return t.of=function(n,i){return function(r){try{var a=r.sourceEvent=to.event;r.target=e,to.event=r,t[r.type].apply(n,i)}finally{to.event=a}}},t}function E(e){return yo(e,Co),e}function k(e){return"function"==typeof e?e:function(){return xo(e,this)}}function I(e){return"function"==typeof e?e:function(){return wo(e,this)}}function N(e,t){function n(){this.removeAttribute(e)}function i(){this.removeAttributeNS(e.space,e.local)}function r(){this.setAttribute(e,t)}function a(){this.setAttributeNS(e.space,e.local,t)}function s(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}function o(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=to.ns.qualify(e),null==t?e.local?i:n:"function"==typeof t?e.local?o:s:e.local?a:r}function A(e){return e.trim().replace(/\s+/g," ")}function R(e){return new RegExp("(?:^|\\s+)"+to.requote(e)+"(?:\\s+|$)","g")}function M(e){return(e+"").trim().split(/^|\s+/)}function P(e,t){function n(){for(var n=-1;++n<r;)e[n](this,t)}function i(){for(var n=-1,i=t.apply(this,arguments);++n<r;)e[n](this,i)}e=M(e).map(O);var r=e.length;return"function"==typeof t?i:n}function O(e){var t=R(e);return function(n,i){if(r=n.classList)return i?r.add(e):r.remove(e);var r=n.getAttribute("class")||"";i?(t.lastIndex=0,t.test(r)||n.setAttribute("class",A(r+" "+e))):n.setAttribute("class",A(r.replace(t," ")))}}function F(e,t,n){function i(){this.style.removeProperty(e)}function r(){this.style.setProperty(e,t,n)}function a(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,n)}return null==t?i:"function"==typeof t?a:r}function B(e,t){function n(){delete this[e]}function i(){this[e]=t}function r(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?n:"function"==typeof t?r:i}function j(e){function t(){var t=this.ownerDocument,n=this.namespaceURI;return n?t.createElementNS(n,e):t.createElement(e)}function n(){return this.ownerDocument.createElementNS(e.space,e.local)}return"function"==typeof e?e:(e=to.ns.qualify(e)).local?n:t}function L(){var e=this.parentNode;e&&e.removeChild(this)}function V(e){return{__data__:e}}function $(e){return function(){return _o(this,e)}}function H(e){return arguments.length||(e=n),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function G(e,t){for(var n=0,i=e.length;i>n;n++)for(var r,a=e[n],s=0,o=a.length;o>s;s++)(r=a[s])&&t(r,s,n);return e}function z(e){return yo(e,Do),e}function U(e){var t,n;return function(i,r,a){var s,o=e[a].update,l=o.length;for(a!=n&&(n=a,t=0),r>=t&&(t=r+1);!(s=o[t])&&++t<l;);return s}}function W(e,t,n){function i(){var t=this[s];t&&(this.removeEventListener(e,t,t.$),delete this[s])}function r(){var r=l(t,io(arguments));i.call(this),this.addEventListener(e,this[s]=r,r.$=n),r._=t}function a(){var t,n=new RegExp("^__on([^.]+)"+to.requote(e)+"$");for(var i in this)if(t=i.match(n)){var r=this[i];this.removeEventListener(t[1],r,r.$),delete this[i]}}var s="__on"+e,o=e.indexOf("."),l=q;o>0&&(e=e.slice(0,o));var c=So.get(e);return c&&(e=c,l=Y),o?t?r:i:t?w:a}function q(e,t){return function(n){var i=to.event;to.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{to.event=i}}}function Y(e,t){var n=q(e,t);return function(e){var t=this,i=e.relatedTarget;i&&(i===t||8&i.compareDocumentPosition(t))||n.call(t,e)}}function K(n){var i=".dragsuppress-"+ ++ko,r="click"+i,a=to.select(t(n)).on("touchmove"+i,T).on("dragstart"+i,T).on("selectstart"+i,T);if(null==Eo&&(Eo="onselectstart"in n?!1:x(n.style,"userSelect")),Eo){var s=e(n).style,o=s[Eo];s[Eo]="none"}return function(e){if(a.on(i,null),Eo&&(s[Eo]=o),e){var t=function(){a.on(r,null)};a.on(r,function(){T(),t()},!0),setTimeout(t,0)}}}function X(e,n){n.changedTouches&&(n=n.changedTouches[0]);var i=e.ownerSVGElement||e;if(i.createSVGPoint){var r=i.createSVGPoint();if(0>Io){var a=t(e);if(a.scrollX||a.scrollY){i=to.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var s=i[0][0].getScreenCTM();Io=!(s.f||s.e),i.remove()}}return Io?(r.x=n.pageX,r.y=n.pageY):(r.x=n.clientX,r.y=n.clientY),r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var o=e.getBoundingClientRect();return[n.clientX-o.left-e.clientLeft,n.clientY-o.top-e.clientTop]}function Q(){return to.event.changedTouches[0].identifier}function J(e){return e>0?1:0>e?-1:0}function Z(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function et(e){return e>1?0:-1>e?Ro:Math.acos(e)}function tt(e){return e>1?Oo:-1>e?-Oo:Math.asin(e)}function nt(e){return((e=Math.exp(e))-1/e)/2}function it(e){return((e=Math.exp(e))+1/e)/2}function rt(e){return((e=Math.exp(2*e))-1)/(e+1)}function at(e){return(e=Math.sin(e/2))*e}function st(){}function ot(e,t,n){return this instanceof ot?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof ot?new ot(e.h,e.s,e.l):wt(""+e,_t,ot):new ot(e,t,n)}function lt(e,t,n){function i(e){return e>360?e-=360:0>e&&(e+=360),60>e?a+(s-a)*e/60:180>e?s:240>e?a+(s-a)*(240-e)/60:a}function r(e){return Math.round(255*i(e))}var a,s;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:0>t?0:t>1?1:t,n=0>n?0:n>1?1:n,s=.5>=n?n*(1+t):n+t-n*t,a=2*n-s,new vt(r(e+120),r(e),r(e-120))}function ct(e,t,n){return this instanceof ct?(this.h=+e,this.c=+t,void(this.l=+n)):arguments.length<2?e instanceof ct?new ct(e.h,e.c,e.l):e instanceof ut?pt(e.l,e.a,e.b):pt((e=Ct((e=to.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new ct(e,t,n)}function ht(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new ut(n,Math.cos(e*=Fo)*t,Math.sin(e)*t)}function ut(e,t,n){return this instanceof ut?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof ut?new ut(e.l,e.a,e.b):e instanceof ct?ht(e.h,e.c,e.l):Ct((e=vt(e)).r,e.g,e.b):new ut(e,t,n)}function dt(e,t,n){var i=(e+16)/116,r=i+t/500,a=i-n/200;return r=ft(r)*qo,i=ft(i)*Yo,a=ft(a)*Ko,new vt(mt(3.2404542*r-1.5371385*i-.4985314*a),mt(-.969266*r+1.8760108*i+.041556*a),mt(.0556434*r-.2040259*i+1.0572252*a))}function pt(e,t,n){return e>0?new ct(Math.atan2(n,t)*Bo,Math.sqrt(t*t+n*n),e):new ct(0/0,0/0,e)}function ft(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function gt(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function mt(e){return Math.round(255*(.00304>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function vt(e,t,n){return this instanceof vt?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof vt?new vt(e.r,e.g,e.b):wt(""+e,vt,lt):new vt(e,t,n)}function bt(e){return new vt(e>>16,255&e>>8,255&e)}function yt(e){return bt(e)+""}function xt(e){return 16>e?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function wt(e,t,n){var i,r,a,s=0,o=0,l=0;if(i=/([a-z]+)\((.*)\)/i.exec(e))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return t(Dt(r[0]),Dt(r[1]),Dt(r[2]))}return(a=Jo.get(e.toLowerCase()))?t(a.r,a.g,a.b):(null==e||"#"!==e.charAt(0)||isNaN(a=parseInt(e.slice(1),16))||(4===e.length?(s=(3840&a)>>4,s=s>>4|s,o=240&a,o=o>>4|o,l=15&a,l=l<<4|l):7===e.length&&(s=(16711680&a)>>16,o=(65280&a)>>8,l=255&a)),t(s,o,l))}function _t(e,t,n){var i,r,a=Math.min(e/=255,t/=255,n/=255),s=Math.max(e,t,n),o=s-a,l=(s+a)/2;return o?(r=.5>l?o/(s+a):o/(2-s-a),i=e==s?(t-n)/o+(n>t?6:0):t==s?(n-e)/o+2:(e-t)/o+4,i*=60):(i=0/0,r=l>0&&1>l?0:i),new ot(i,r,l)}function Ct(e,t,n){e=Tt(e),t=Tt(t),n=Tt(n);var i=gt((.4124564*e+.3575761*t+.1804375*n)/qo),r=gt((.2126729*e+.7151522*t+.072175*n)/Yo),a=gt((.0193339*e+.119192*t+.9503041*n)/Ko);return ut(116*r-16,500*(i-r),200*(r-a))}function Tt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Dt(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function St(e){return"function"==typeof e?e:function(){return e}}function Et(e){return function(t,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),kt(t,n,e,i)}}function kt(e,t,n,i){function r(){var e,t=l.status;if(!t&&Nt(l)||t>=200&&300>t||304===t){try{e=n.call(a,l)}catch(i){return s.error.call(a,i),void 0}s.load.call(a,e)}else s.error.call(a,l)}var a={},s=to.dispatch("beforesend","progress","load","error"),o={},l=new XMLHttpRequest,c=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(e)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=r:l.onreadystatechange=function(){l.readyState>3&&r()},l.onprogress=function(e){var t=to.event;to.event=e;try{s.progress.call(a,l)}finally{to.event=t}},a.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?o[e]:(null==t?delete o[e]:o[e]=t+"",a)},a.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",a):t},a.responseType=function(e){return arguments.length?(c=e,a):c},a.response=function(e){return n=e,a},["get","post"].forEach(function(e){a[e]=function(){return a.send.apply(a,[e].concat(io(arguments)))}}),a.send=function(n,i,r){if(2===arguments.length&&"function"==typeof i&&(r=i,i=null),l.open(n,e,!0),null==t||"accept"in o||(o.accept=t+",*/*"),l.setRequestHeader)for(var h in o)l.setRequestHeader(h,o[h]);return null!=t&&l.overrideMimeType&&l.overrideMimeType(t),null!=c&&(l.responseType=c),null!=r&&a.on("error",r).on("load",function(e){r(null,e)}),s.beforesend.call(a,l),l.send(null==i?null:i),a},a.abort=function(){return l.abort(),a},to.rebind(a,s,"on"),null==i?a:a.get(It(i))}function It(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}function Nt(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function At(){var e=Rt(),t=Mt()-e;t>24?(isFinite(t)&&(clearTimeout(nl),nl=setTimeout(At,t)),tl=0):(tl=1,rl(At))}function Rt(){var e=Date.now();for(il=Zo;il;)e>=il.t&&(il.f=il.c(e-il.t)),il=il.n;return e}function Mt(){for(var e,t=Zo,n=1/0;t;)t.f?t=e?e.n=t.n:Zo=t.n:(t.t<n&&(n=t.t),t=(e=t).n);return el=e,n}function Pt(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function Ot(e,t){var n=Math.pow(10,3*fo(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function Ft(e){var t=e.decimal,n=e.thousands,i=e.grouping,r=e.currency,a=i&&n?function(e,t){for(var r=e.length,a=[],s=0,o=i[0],l=0;r>0&&o>0&&(l+o+1>t&&(o=Math.max(1,t-l)),a.push(e.substring(r-=o,r+o)),!((l+=o+1)>t));)o=i[s=(s+1)%i.length];return a.reverse().join(n)}:b;return function(e){var n=sl.exec(e),i=n[1]||" ",s=n[2]||">",o=n[3]||"-",l=n[4]||"",c=n[5],h=+n[6],u=n[7],d=n[8],p=n[9],f=1,g="",m="",v=!1,b=!0;switch(d&&(d=+d.substring(1)),(c||"0"===i&&"="===s)&&(c=i="0",s="="),p){case"n":u=!0,p="g";break;case"%":f=100,m="%",p="f";break;case"p":f=100,m="%",p="r";break;case"b":case"o":case"x":case"X":"#"===l&&(g="0"+p.toLowerCase());case"c":b=!1;case"d":v=!0,d=0;break;case"s":f=-1,p="r"}"$"===l&&(g=r[0],m=r[1]),"r"!=p||d||(p="g"),null!=d&&("g"==p?d=Math.max(1,Math.min(21,d)):("e"==p||"f"==p)&&(d=Math.max(0,Math.min(20,d)))),p=ol.get(p)||Bt;var y=c&&u;return function(e){var n=m;if(v&&e%1)return"";var r=0>e||0===e&&0>1/e?(e=-e,"-"):"-"===o?"":o;if(0>f){var l=to.formatPrefix(e,d);e=l.scale(e),n=l.symbol+m}else e*=f;e=p(e,d);var x,w,_=e.lastIndexOf(".");if(0>_){var C=b?e.lastIndexOf("e"):-1;0>C?(x=e,w=""):(x=e.substring(0,C),w=e.substring(C))}else x=e.substring(0,_),w=t+e.substring(_+1);!c&&u&&(x=a(x,1/0));var T=g.length+x.length+w.length+(y?0:r.length),D=h>T?new Array(T=h-T+1).join(i):"";return y&&(x=a(D+x,D.length?h-w.length:1/0)),r+=g,e=x+w,("<"===s?r+e+D:">"===s?D+r+e:"^"===s?D.substring(0,T>>=1)+r+e+D.substring(T):r+(y?e:D+e))+n}}}function Bt(e){return e+""}function jt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Lt(e,t,n){function i(t){var n=e(t),i=a(n,1);return i-t>t-n?n:i}function r(n){return t(n=e(new cl(n-1)),1),n}function a(e,n){return t(e=new cl(+e),n),e}function s(e,i,a){var s=r(e),o=[];if(a>1)for(;i>s;)n(s)%a||o.push(new Date(+s)),t(s,1);else for(;i>s;)o.push(new Date(+s)),t(s,1);return o}function o(e,t,n){try{cl=jt;var i=new jt;return i._=e,s(i,t,n)}finally{cl=Date}}e.floor=e,e.round=i,e.ceil=r,e.offset=a,e.range=s;var l=e.utc=Vt(e);return l.floor=l,l.round=Vt(i),l.ceil=Vt(r),l.offset=Vt(a),l.range=o,e}function Vt(e){return function(t,n){try{cl=jt;var i=new jt;return i._=t,e(i,n)._}finally{cl=Date}}}function $t(e){function t(e){function t(t){for(var n,r,a,s=[],o=-1,l=0;++o<i;)37===e.charCodeAt(o)&&(s.push(e.slice(l,o)),null!=(r=ul[n=e.charAt(++o)])&&(n=e.charAt(++o)),(a=k[n])&&(n=a(t,null==r?"e"===n?" ":"0":r)),s.push(n),l=o+1);return s.push(e.slice(l,o)),s.join("")}var i=e.length;return t.parse=function(t){var i={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=n(i,e,t,0);if(r!=t.length)return null;"p"in i&&(i.H=i.H%12+12*i.p);var a=null!=i.Z&&cl!==jt,s=new(a?jt:cl);return"j"in i?s.setFullYear(i.y,0,i.j):"w"in i&&("W"in i||"U"in i)?(s.setFullYear(i.y,0,1),s.setFullYear(i.y,0,"W"in i?(i.w+6)%7+7*i.W-(s.getDay()+5)%7:i.w+7*i.U-(s.getDay()+6)%7)):s.setFullYear(i.y,i.m,i.d),s.setHours(i.H+(0|i.Z/100),i.M+i.Z%100,i.S,i.L),a?s._:s},t.toString=function(){return e},t}function n(e,t,n,i){for(var r,a,s,o=0,l=t.length,c=n.length;l>o;){if(i>=c)return-1;if(r=t.charCodeAt(o++),37===r){if(s=t.charAt(o++),a=I[s in ul?t.charAt(o++):s],!a||(i=a(e,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function i(e,t,n){_.lastIndex=0;var i=_.exec(t.slice(n));return i?(e.w=C.get(i[0].toLowerCase()),n+i[0].length):-1}function r(e,t,n){x.lastIndex=0;var i=x.exec(t.slice(n));return i?(e.w=w.get(i[0].toLowerCase()),n+i[0].length):-1}function a(e,t,n){S.lastIndex=0;var i=S.exec(t.slice(n));return i?(e.m=E.get(i[0].toLowerCase()),n+i[0].length):-1}function s(e,t,n){T.lastIndex=0;var i=T.exec(t.slice(n));return i?(e.m=D.get(i[0].toLowerCase()),n+i[0].length):-1}function o(e,t,i){return n(e,k.c.toString(),t,i)}function l(e,t,i){return n(e,k.x.toString(),t,i)}function c(e,t,i){return n(e,k.X.toString(),t,i)}function h(e,t,n){var i=y.get(t.slice(n,n+=2).toLowerCase());return null==i?-1:(e.p=i,n)}var u=e.dateTime,d=e.date,p=e.time,f=e.periods,g=e.days,m=e.shortDays,v=e.months,b=e.shortMonths;t.utc=function(e){function n(e){try{cl=jt;var t=new cl;return t._=e,i(t)}finally{cl=Date}}var i=t(e);return n.parse=function(e){try{cl=jt;var t=i.parse(e);return t&&t._}finally{cl=Date}},n.toString=i.toString,n},t.multi=t.utc.multi=ln;var y=to.map(),x=Gt(g),w=zt(g),_=Gt(m),C=zt(m),T=Gt(v),D=zt(v),S=Gt(b),E=zt(b);f.forEach(function(e,t){y.set(e.toLowerCase(),t)});var k={a:function(e){return m[e.getDay()]},A:function(e){return g[e.getDay()]},b:function(e){return b[e.getMonth()]},B:function(e){return v[e.getMonth()]},c:t(u),d:function(e,t){return Ht(e.getDate(),t,2)},e:function(e,t){return Ht(e.getDate(),t,2)},H:function(e,t){return Ht(e.getHours(),t,2)},I:function(e,t){return Ht(e.getHours()%12||12,t,2)},j:function(e,t){return Ht(1+ll.dayOfYear(e),t,3)},L:function(e,t){return Ht(e.getMilliseconds(),t,3)},m:function(e,t){return Ht(e.getMonth()+1,t,2)},M:function(e,t){return Ht(e.getMinutes(),t,2)},p:function(e){return f[+(e.getHours()>=12)]},S:function(e,t){return Ht(e.getSeconds(),t,2)},U:function(e,t){return Ht(ll.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Ht(ll.mondayOfYear(e),t,2)},x:t(d),X:t(p),y:function(e,t){return Ht(e.getFullYear()%100,t,2)},Y:function(e,t){return Ht(e.getFullYear()%1e4,t,4)},Z:sn,"%":function(){return"%"}},I={a:i,A:r,b:a,B:s,c:o,d:Zt,e:Zt,H:tn,I:tn,j:en,L:an,m:Jt,M:nn,p:h,S:rn,U:Wt,w:Ut,W:qt,x:l,X:c,y:Kt,Y:Yt,Z:Xt,"%":on};return t}function Ht(e,t,n){var i=0>e?"-":"",r=(i?-e:e)+"",a=r.length;return i+(n>a?new Array(n-a+1).join(t)+r:r)}function Gt(e){return new RegExp("^(?:"+e.map(to.requote).join("|")+")","i")}function zt(e){for(var t=new c,n=-1,i=e.length;++n<i;)t.set(e[n].toLowerCase(),n);return t}function Ut(e,t,n){dl.lastIndex=0;var i=dl.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function Wt(e,t,n){dl.lastIndex=0;var i=dl.exec(t.slice(n));return i?(e.U=+i[0],n+i[0].length):-1}function qt(e,t,n){dl.lastIndex=0;var i=dl.exec(t.slice(n));return i?(e.W=+i[0],n+i[0].length):-1}function Yt(e,t,n){dl.lastIndex=0;var i=dl.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function Kt(e,t,n){dl.lastIndex=0;var i=dl.exec(t.slice(n,n+2));return i?(e.y=Qt(+i[0]),n+i[0].length):-1}function Xt(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function Qt(e){return e+(e>68?1900:2e3)}function Jt(e,t,n){dl.lastIndex=0;var i=dl.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function Zt(e,t,n){dl.lastIndex=0;var i=dl.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function en(e,t,n){dl.lastIndex=0;var i=dl.exec(t.slice(n,n+3));return i?(e.j=+i[0],n+i[0].length):-1}function tn(e,t,n){dl.lastIndex=0;var i=dl.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function nn(e,t,n){dl.lastIndex=0;var i=dl.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function rn(e,t,n){dl.lastIndex=0;var i=dl.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function an(e,t,n){dl.lastIndex=0;var i=dl.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function sn(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",i=0|fo(t)/60,r=fo(t)%60;return n+Ht(i,"0",2)+Ht(r,"0",2)}function on(e,t,n){pl.lastIndex=0;var i=pl.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function ln(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,i=e[n];!i[1](t);)i=e[++n];return i[0](t)}}function cn(){}function hn(e,t,n){var i=n.s=e+t,r=i-e,a=i-r;n.t=e-a+(t-r)}function un(e,t){e&&vl.hasOwnProperty(e.type)&&vl[e.type](e,t)}function dn(e,t,n){var i,r=-1,a=e.length-n;for(t.lineStart();++r<a;)i=e[r],t.point(i[0],i[1],i[2]);t.lineEnd()}function pn(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)dn(e[n],t,1);t.polygonEnd()}function fn(){function e(e,t){e*=Fo,t=t*Fo/2+Ro/4;var n=e-i,s=n>=0?1:-1,o=s*n,l=Math.cos(t),c=Math.sin(t),h=a*c,u=r*l+h*Math.cos(o),d=h*s*Math.sin(o);yl.add(Math.atan2(d,u)),i=e,r=l,a=c}var t,n,i,r,a;xl.point=function(s,o){xl.point=e,i=(t=s)*Fo,r=Math.cos(o=(n=o)*Fo/2+Ro/4),a=Math.sin(o)},xl.lineEnd=function(){e(t,n)}}function gn(e){var t=e[0],n=e[1],i=Math.cos(n);return[i*Math.cos(t),i*Math.sin(t),Math.sin(n)]}function mn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function vn(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function bn(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function yn(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function xn(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function wn(e){return[Math.atan2(e[1],e[0]),tt(e[2])]}function _n(e,t){return fo(e[0]-t[0])<No&&fo(e[1]-t[1])<No}function Cn(e,t){e*=Fo;var n=Math.cos(t*=Fo);Tn(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function Tn(e,t,n){++wl,Cl+=(e-Cl)/wl,Tl+=(t-Tl)/wl,Dl+=(n-Dl)/wl}function Dn(){function e(e,r){e*=Fo;var a=Math.cos(r*=Fo),s=a*Math.cos(e),o=a*Math.sin(e),l=Math.sin(r),c=Math.atan2(Math.sqrt((c=n*l-i*o)*c+(c=i*s-t*l)*c+(c=t*o-n*s)*c),t*s+n*o+i*l);_l+=c,Sl+=c*(t+(t=s)),El+=c*(n+(n=o)),kl+=c*(i+(i=l)),Tn(t,n,i)}var t,n,i;Rl.point=function(r,a){r*=Fo;var s=Math.cos(a*=Fo);t=s*Math.cos(r),n=s*Math.sin(r),i=Math.sin(a),Rl.point=e,Tn(t,n,i)}}function Sn(){Rl.point=Cn}function En(){function e(e,t){e*=Fo;var n=Math.cos(t*=Fo),s=n*Math.cos(e),o=n*Math.sin(e),l=Math.sin(t),c=r*l-a*o,h=a*s-i*l,u=i*o-r*s,d=Math.sqrt(c*c+h*h+u*u),p=i*s+r*o+a*l,f=d&&-et(p)/d,g=Math.atan2(d,p);Il+=f*c,Nl+=f*h,Al+=f*u,_l+=g,Sl+=g*(i+(i=s)),El+=g*(r+(r=o)),kl+=g*(a+(a=l)),Tn(i,r,a)}var t,n,i,r,a;Rl.point=function(s,o){t=s,n=o,Rl.point=e,s*=Fo;var l=Math.cos(o*=Fo);i=l*Math.cos(s),r=l*Math.sin(s),a=Math.sin(o),Tn(i,r,a)},Rl.lineEnd=function(){e(t,n),Rl.lineEnd=Sn,Rl.point=Cn}}function kn(e,t){function n(n,i){return n=e(n,i),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,i){return n=t.invert(n,i),n&&e.invert(n[0],n[1])}),n}function In(){return!0}function Nn(e,t,n,i,r){var a=[],s=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],i=e[t];if(_n(n,i)){r.lineStart();for(var o=0;t>o;++o)r.point((n=e[o])[0],n[1]);return r.lineEnd(),void 0}var l=new Rn(n,e,null,!0),c=new Rn(n,null,l,!1);l.o=c,a.push(l),s.push(c),l=new Rn(i,e,null,!1),c=new Rn(i,null,l,!0),l.o=c,a.push(l),s.push(c)}}),s.sort(t),An(a),An(s),a.length){for(var o=0,l=n,c=s.length;c>o;++o)s[o].e=l=!l;for(var h,u,d=a[0];;){for(var p=d,f=!0;p.v;)if((p=p.n)===d)return;h=p.z,r.lineStart();do{if(p.v=p.o.v=!0,p.e){if(f)for(var o=0,c=h.length;c>o;++o)r.point((u=h[o])[0],u[1]);else i(p.x,p.n.x,1,r);p=p.n}else{if(f){h=p.p.z;for(var o=h.length-1;o>=0;--o)r.point((u=h[o])[0],u[1])}else i(p.x,p.p.x,-1,r);p=p.p}p=p.o,h=p.z,f=!f}while(!p.v);r.lineEnd()}}}function An(e){if(t=e.length){for(var t,n,i=0,r=e[0];++i<t;)r.n=n=e[i],n.p=r,r=n;r.n=n=e[0],n.p=r}}function Rn(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Mn(e,t,n,i){return function(r,a){function s(t,n){var i=r(t,n);e(t=i[0],n=i[1])&&a.point(t,n)}function o(e,t){var n=r(e,t);m.point(n[0],n[1])}function l(){b.point=o,m.lineStart()}function c(){b.point=s,m.lineEnd()}function h(e,t){g.push([e,t]);var n=r(e,t);x.point(n[0],n[1])}function u(){x.lineStart(),g=[]}function d(){h(g[0][0],g[0][1]),x.lineEnd();var e,t=x.clean(),n=y.buffer(),i=n.length;if(g.pop(),f.push(g),g=null,i)if(1&t){e=n[0];var r,i=e.length-1,s=-1;if(i>0){for(w||(a.polygonStart(),w=!0),a.lineStart();++s<i;)a.point((r=e[s])[0],r[1]);a.lineEnd()}}else i>1&&2&t&&n.push(n.pop().concat(n.shift())),p.push(n.filter(Pn))}var p,f,g,m=t(a),v=r.invert(i[0],i[1]),b={point:s,lineStart:l,lineEnd:c,polygonStart:function(){b.point=h,b.lineStart=u,b.lineEnd=d,p=[],f=[]},polygonEnd:function(){b.point=s,b.lineStart=l,b.lineEnd=c,p=to.merge(p);var e=Vn(v,f);p.length?(w||(a.polygonStart(),w=!0),Nn(p,Fn,e,n,a)):e&&(w||(a.polygonStart(),w=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),w&&(a.polygonEnd(),w=!1),p=f=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}},y=On(),x=t(y),w=!1;return b}}function Pn(e){return e.length>1}function On(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:w,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Fn(e,t){return((e=e.x)[0]<0?e[1]-Oo-No:Oo-e[1])-((t=t.x)[0]<0?t[1]-Oo-No:Oo-t[1])}function Bn(e){var t,n=0/0,i=0/0,r=0/0;return{lineStart:function(){e.lineStart(),t=1},point:function(a,s){var o=a>0?Ro:-Ro,l=fo(a-n);fo(l-Ro)<No?(e.point(n,i=(i+s)/2>0?Oo:-Oo),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(o,i),e.point(a,i),t=0):r!==o&&l>=Ro&&(fo(n-r)<No&&(n-=r*No),fo(a-o)<No&&(a-=o*No),i=jn(n,i,a,s),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(o,i),t=0),e.point(n=a,i=s),r=o},lineEnd:function(){e.lineEnd(),n=i=0/0},clean:function(){return 2-t}}}function jn(e,t,n,i){var r,a,s=Math.sin(e-n);return fo(s)>No?Math.atan((Math.sin(t)*(a=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(t))*Math.sin(e))/(r*a*s)):(t+i)/2}function Ln(e,t,n,i){var r;if(null==e)r=n*Oo,i.point(-Ro,r),i.point(0,r),i.point(Ro,r),i.point(Ro,0),i.point(Ro,-r),i.point(0,-r),i.point(-Ro,-r),i.point(-Ro,0),i.point(-Ro,r);else if(fo(e[0]-t[0])>No){var a=e[0]<t[0]?Ro:-Ro;r=n*a/2,i.point(-a,r),i.point(0,r),i.point(a,r)}else i.point(t[0],t[1])}function Vn(e,t){var n=e[0],i=e[1],r=[Math.sin(n),-Math.cos(n),0],a=0,s=0;yl.reset();for(var o=0,l=t.length;l>o;++o){var c=t[o],h=c.length;if(h)for(var u=c[0],d=u[0],p=u[1]/2+Ro/4,f=Math.sin(p),g=Math.cos(p),m=1;;){m===h&&(m=0),e=c[m];var v=e[0],b=e[1]/2+Ro/4,y=Math.sin(b),x=Math.cos(b),w=v-d,_=w>=0?1:-1,C=_*w,T=C>Ro,D=f*y;if(yl.add(Math.atan2(D*_*Math.sin(C),g*x+D*Math.cos(C))),a+=T?w+_*Mo:w,T^d>=n^v>=n){var S=vn(gn(u),gn(e));xn(S);var E=vn(r,S);xn(E);var k=(T^w>=0?-1:1)*tt(E[2]);(i>k||i===k&&(S[0]||S[1]))&&(s+=T^w>=0?1:-1)}if(!m++)break;d=v,f=y,g=x,u=e}}return(-No>a||No>a&&0>yl)^1&s}function $n(e){function t(e,t){return Math.cos(e)*Math.cos(t)>a}function n(e){var n,a,l,c,h;return{lineStart:function(){c=l=!1,h=1},point:function(u,d){var p,f=[u,d],g=t(u,d),m=s?g?0:r(u,d):g?r(u+(0>u?Ro:-Ro),d):0;if(!n&&(c=l=g)&&e.lineStart(),g!==l&&(p=i(n,f),(_n(n,p)||_n(f,p))&&(f[0]+=No,f[1]+=No,g=t(f[0],f[1]))),g!==l)h=0,g?(e.lineStart(),p=i(f,n),e.point(p[0],p[1])):(p=i(n,f),e.point(p[0],p[1]),e.lineEnd()),n=p;else if(o&&n&&s^g){var v;m&a||!(v=i(f,n,!0))||(h=0,s?(e.lineStart(),e.point(v[0][0],v[0][1]),e.point(v[1][0],v[1][1]),e.lineEnd()):(e.point(v[1][0],v[1][1]),e.lineEnd(),e.lineStart(),e.point(v[0][0],v[0][1])))}!g||n&&_n(n,f)||e.point(f[0],f[1]),n=f,l=g,a=m},lineEnd:function(){l&&e.lineEnd(),n=null},clean:function(){return h|(c&&l)<<1}}}function i(e,t,n){var i=gn(e),r=gn(t),s=[1,0,0],o=vn(i,r),l=mn(o,o),c=o[0],h=l-c*c;if(!h)return!n&&e;var u=a*l/h,d=-a*c/h,p=vn(s,o),f=yn(s,u),g=yn(o,d);bn(f,g);var m=p,v=mn(f,m),b=mn(m,m),y=v*v-b*(mn(f,f)-1);if(!(0>y)){var x=Math.sqrt(y),w=yn(m,(-v-x)/b);if(bn(w,f),w=wn(w),!n)return w;var _,C=e[0],T=t[0],D=e[1],S=t[1];C>T&&(_=C,C=T,T=_);var E=T-C,k=fo(E-Ro)<No,I=k||No>E;if(!k&&D>S&&(_=D,D=S,S=_),I?k?D+S>0^w[1]<(fo(w[0]-C)<No?D:S):D<=w[1]&&w[1]<=S:E>Ro^(C<=w[0]&&w[0]<=T)){var N=yn(m,(-v+x)/b);return bn(N,f),[w,wn(N)]}}}function r(t,n){var i=s?e:Ro-e,r=0;return-i>t?r|=1:t>i&&(r|=2),-i>n?r|=4:n>i&&(r|=8),r}var a=Math.cos(e),s=a>0,o=fo(a)>No,l=fi(e,6*Fo);return Mn(t,n,l,s?[0,-e]:[-Ro,e-Ro])}function Hn(e,t,n,i){return function(r){var a,s=r.a,o=r.b,l=s.x,c=s.y,h=o.x,u=o.y,d=0,p=1,f=h-l,g=u-c;if(a=e-l,f||!(a>0)){if(a/=f,0>f){if(d>a)return;p>a&&(p=a)}else if(f>0){if(a>p)return;a>d&&(d=a)}if(a=n-l,f||!(0>a)){if(a/=f,0>f){if(a>p)return;a>d&&(d=a)}else if(f>0){if(d>a)return;p>a&&(p=a)}if(a=t-c,g||!(a>0)){if(a/=g,0>g){if(d>a)return;p>a&&(p=a)}else if(g>0){if(a>p)return;a>d&&(d=a)}if(a=i-c,g||!(0>a)){if(a/=g,0>g){if(a>p)return;a>d&&(d=a)}else if(g>0){if(d>a)return;p>a&&(p=a)}return d>0&&(r.a={x:l+d*f,y:c+d*g}),1>p&&(r.b={x:l+p*f,y:c+p*g}),r}}}}}}function Gn(e,t,n,i){function r(i,r){return fo(i[0]-e)<No?r>0?0:3:fo(i[0]-n)<No?r>0?2:1:fo(i[1]-t)<No?r>0?1:0:r>0?3:2}function a(e,t){return s(e.x,t.x)}function s(e,t){var n=r(e,1),i=r(t,1);return n!==i?n-i:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(o){function l(e){for(var t=0,n=m.length,i=e[1],r=0;n>r;++r)for(var a,s=1,o=m[r],l=o.length,c=o[0];l>s;++s)a=o[s],c[1]<=i?a[1]>i&&Z(c,a,e)>0&&++t:a[1]<=i&&Z(c,a,e)<0&&--t,c=a;return 0!==t}function c(a,o,l,c){var h=0,u=0;if(null==a||(h=r(a,l))!==(u=r(o,l))||s(a,o)<0^l>0){do c.point(0===h||3===h?e:n,h>1?i:t);while((h=(h+l+4)%4)!==u)}else c.point(o[0],o[1])}function h(r,a){return r>=e&&n>=r&&a>=t&&i>=a}function u(e,t){h(e,t)&&o.point(e,t)}function d(){I.point=f,m&&m.push(v=[]),T=!0,C=!1,w=_=0/0}function p(){g&&(f(b,y),x&&C&&E.rejoin(),g.push(E.buffer())),I.point=u,C&&o.lineEnd()}function f(e,t){e=Math.max(-Pl,Math.min(Pl,e)),t=Math.max(-Pl,Math.min(Pl,t));var n=h(e,t);if(m&&v.push([e,t]),T)b=e,y=t,x=n,T=!1,n&&(o.lineStart(),o.point(e,t));else if(n&&C)o.point(e,t);else{var i={a:{x:w,y:_},b:{x:e,y:t}};k(i)?(C||(o.lineStart(),o.point(i.a.x,i.a.y)),o.point(i.b.x,i.b.y),n||o.lineEnd(),D=!1):n&&(o.lineStart(),o.point(e,t),D=!1)}w=e,_=t,C=n}var g,m,v,b,y,x,w,_,C,T,D,S=o,E=On(),k=Hn(e,t,n,i),I={point:u,lineStart:d,lineEnd:p,polygonStart:function(){o=E,g=[],m=[],D=!0},polygonEnd:function(){o=S,g=to.merge(g);var t=l([e,i]),n=D&&t,r=g.length;(n||r)&&(o.polygonStart(),n&&(o.lineStart(),c(null,null,1,o),o.lineEnd()),r&&Nn(g,a,t,c,o),o.polygonEnd()),g=m=v=null}};return I}}function zn(e){var t=0,n=Ro/3,i=si(e),r=i(t,n);return r.parallels=function(e){return arguments.length?i(t=e[0]*Ro/180,n=e[1]*Ro/180):[180*(t/Ro),180*(n/Ro)]},r}function Un(e,t){function n(e,t){var n=Math.sqrt(a-2*r*Math.sin(t))/r;return[n*Math.sin(e*=r),s-n*Math.cos(e)]}var i=Math.sin(e),r=(i+Math.sin(t))/2,a=1+i*(2*r-i),s=Math.sqrt(a)/r;return n.invert=function(e,t){var n=s-t;return[Math.atan2(e,n)/r,tt((a-(e*e+n*n)*r*r)/(2*r))]},n}function Wn(){function e(e,t){Fl+=r*e-i*t,i=e,r=t}var t,n,i,r;$l.point=function(a,s){$l.point=e,t=i=a,n=r=s},$l.lineEnd=function(){e(t,n)}}function qn(e,t){Bl>e&&(Bl=e),e>Ll&&(Ll=e),jl>t&&(jl=t),t>Vl&&(Vl=t)}function Yn(){function e(e,t){s.push("M",e,",",t,a)}function t(e,t){s.push("M",e,",",t),o.point=n}function n(e,t){s.push("L",e,",",t)}function i(){o.point=e}function r(){s.push("Z")}var a=Kn(4.5),s=[],o={point:e,lineStart:function(){o.point=t},lineEnd:i,polygonStart:function(){o.lineEnd=r},polygonEnd:function(){o.lineEnd=i,o.point=e},pointRadius:function(e){return a=Kn(e),o
},result:function(){if(s.length){var e=s.join("");return s=[],e}}};return o}function Kn(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Xn(e,t){Cl+=e,Tl+=t,++Dl}function Qn(){function e(e,i){var r=e-t,a=i-n,s=Math.sqrt(r*r+a*a);Sl+=s*(t+e)/2,El+=s*(n+i)/2,kl+=s,Xn(t=e,n=i)}var t,n;Gl.point=function(i,r){Gl.point=e,Xn(t=i,n=r)}}function Jn(){Gl.point=Xn}function Zn(){function e(e,t){var n=e-i,a=t-r,s=Math.sqrt(n*n+a*a);Sl+=s*(i+e)/2,El+=s*(r+t)/2,kl+=s,s=r*e-i*t,Il+=s*(i+e),Nl+=s*(r+t),Al+=3*s,Xn(i=e,r=t)}var t,n,i,r;Gl.point=function(a,s){Gl.point=e,Xn(t=i=a,n=r=s)},Gl.lineEnd=function(){e(t,n)}}function ei(e){function t(t,n){e.moveTo(t+s,n),e.arc(t,n,s,0,Mo)}function n(t,n){e.moveTo(t,n),o.point=i}function i(t,n){e.lineTo(t,n)}function r(){o.point=t}function a(){e.closePath()}var s=4.5,o={point:t,lineStart:function(){o.point=n},lineEnd:r,polygonStart:function(){o.lineEnd=a},polygonEnd:function(){o.lineEnd=r,o.point=t},pointRadius:function(e){return s=e,o},result:w};return o}function ti(e){function t(e){return(o?i:n)(e)}function n(t){return ri(t,function(n,i){n=e(n,i),t.point(n[0],n[1])})}function i(t){function n(n,i){n=e(n,i),t.point(n[0],n[1])}function i(){y=0/0,T.point=a,t.lineStart()}function a(n,i){var a=gn([n,i]),s=e(n,i);r(y,x,b,w,_,C,y=s[0],x=s[1],b=n,w=a[0],_=a[1],C=a[2],o,t),t.point(y,x)}function s(){T.point=n,t.lineEnd()}function l(){i(),T.point=c,T.lineEnd=h}function c(e,t){a(u=e,d=t),p=y,f=x,g=w,m=_,v=C,T.point=a}function h(){r(y,x,b,w,_,C,p,f,u,g,m,v,o,t),T.lineEnd=s,s()}var u,d,p,f,g,m,v,b,y,x,w,_,C,T={point:n,lineStart:i,lineEnd:s,polygonStart:function(){t.polygonStart(),T.lineStart=l},polygonEnd:function(){t.polygonEnd(),T.lineStart=i}};return T}function r(t,n,i,o,l,c,h,u,d,p,f,g,m,v){var b=h-t,y=u-n,x=b*b+y*y;if(x>4*a&&m--){var w=o+p,_=l+f,C=c+g,T=Math.sqrt(w*w+_*_+C*C),D=Math.asin(C/=T),S=fo(fo(C)-1)<No||fo(i-d)<No?(i+d)/2:Math.atan2(_,w),E=e(S,D),k=E[0],I=E[1],N=k-t,A=I-n,R=y*N-b*A;(R*R/x>a||fo((b*N+y*A)/x-.5)>.3||s>o*p+l*f+c*g)&&(r(t,n,i,o,l,c,k,I,S,w/=T,_/=T,C,m,v),v.point(k,I),r(k,I,S,w,_,C,h,u,d,p,f,g,m,v))}}var a=.5,s=Math.cos(30*Fo),o=16;return t.precision=function(e){return arguments.length?(o=(a=e*e)>0&&16,t):Math.sqrt(a)},t}function ni(e){var t=ti(function(t,n){return e([t*Bo,n*Bo])});return function(e){return oi(t(e))}}function ii(e){this.stream=e}function ri(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function ai(e){return si(function(){return e})()}function si(e){function t(e){return e=o(e[0]*Fo,e[1]*Fo),[e[0]*d+l,c-e[1]*d]}function n(e){return e=o.invert((e[0]-l)/d,(c-e[1])/d),e&&[e[0]*Bo,e[1]*Bo]}function i(){o=kn(s=hi(v,y,x),a);var e=a(g,m);return l=p-e[0]*d,c=f+e[1]*d,r()}function r(){return h&&(h.valid=!1,h=null),t}var a,s,o,l,c,h,u=ti(function(e,t){return e=a(e,t),[e[0]*d+l,c-e[1]*d]}),d=150,p=480,f=250,g=0,m=0,v=0,y=0,x=0,w=Ml,_=b,C=null,T=null;return t.stream=function(e){return h&&(h.valid=!1),h=oi(w(s,u(_(e)))),h.valid=!0,h},t.clipAngle=function(e){return arguments.length?(w=null==e?(C=e,Ml):$n((C=+e)*Fo),r()):C},t.clipExtent=function(e){return arguments.length?(T=e,_=e?Gn(e[0][0],e[0][1],e[1][0],e[1][1]):b,r()):T},t.scale=function(e){return arguments.length?(d=+e,i()):d},t.translate=function(e){return arguments.length?(p=+e[0],f=+e[1],i()):[p,f]},t.center=function(e){return arguments.length?(g=e[0]%360*Fo,m=e[1]%360*Fo,i()):[g*Bo,m*Bo]},t.rotate=function(e){return arguments.length?(v=e[0]%360*Fo,y=e[1]%360*Fo,x=e.length>2?e[2]%360*Fo:0,i()):[v*Bo,y*Bo,x*Bo]},to.rebind(t,u,"precision"),function(){return a=e.apply(this,arguments),t.invert=a.invert&&n,i()}}function oi(e){return ri(e,function(t,n){e.point(t*Fo,n*Fo)})}function li(e,t){return[e,t]}function ci(e,t){return[e>Ro?e-Mo:-Ro>e?e+Mo:e,t]}function hi(e,t,n){return e?t||n?kn(di(e),pi(t,n)):di(e):t||n?pi(t,n):ci}function ui(e){return function(t,n){return t+=e,[t>Ro?t-Mo:-Ro>t?t+Mo:t,n]}}function di(e){var t=ui(e);return t.invert=ui(-e),t}function pi(e,t){function n(e,t){var n=Math.cos(t),o=Math.cos(e)*n,l=Math.sin(e)*n,c=Math.sin(t),h=c*i+o*r;return[Math.atan2(l*a-h*s,o*i-c*r),tt(h*a+l*s)]}var i=Math.cos(e),r=Math.sin(e),a=Math.cos(t),s=Math.sin(t);return n.invert=function(e,t){var n=Math.cos(t),o=Math.cos(e)*n,l=Math.sin(e)*n,c=Math.sin(t),h=c*a-l*s;return[Math.atan2(l*a+c*s,o*i+h*r),tt(h*i-o*r)]},n}function fi(e,t){var n=Math.cos(e),i=Math.sin(e);return function(r,a,s,o){var l=s*t;null!=r?(r=gi(n,r),a=gi(n,a),(s>0?a>r:r>a)&&(r+=s*Mo)):(r=e+s*Mo,a=e-.5*l);for(var c,h=r;s>0?h>a:a>h;h-=l)o.point((c=wn([n,-i*Math.cos(h),-i*Math.sin(h)]))[0],c[1])}}function gi(e,t){var n=gn(t);n[0]-=e,xn(n);var i=et(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-No)%(2*Math.PI)}function mi(e,t,n){var i=to.range(e,t-No,n).concat(t);return function(e){return i.map(function(t){return[e,t]})}}function vi(e,t,n){var i=to.range(e,t-No,n).concat(t);return function(e){return i.map(function(t){return[t,e]})}}function bi(e){return e.source}function yi(e){return e.target}function xi(e,t,n,i){var r=Math.cos(t),a=Math.sin(t),s=Math.cos(i),o=Math.sin(i),l=r*Math.cos(e),c=r*Math.sin(e),h=s*Math.cos(n),u=s*Math.sin(n),d=2*Math.asin(Math.sqrt(at(i-t)+r*s*at(n-e))),p=1/Math.sin(d),f=d?function(e){var t=Math.sin(e*=d)*p,n=Math.sin(d-e)*p,i=n*l+t*h,r=n*c+t*u,s=n*a+t*o;return[Math.atan2(r,i)*Bo,Math.atan2(s,Math.sqrt(i*i+r*r))*Bo]}:function(){return[e*Bo,t*Bo]};return f.distance=d,f}function wi(){function e(e,r){var a=Math.sin(r*=Fo),s=Math.cos(r),o=fo((e*=Fo)-t),l=Math.cos(o);zl+=Math.atan2(Math.sqrt((o=s*Math.sin(o))*o+(o=i*a-n*s*l)*o),n*a+i*s*l),t=e,n=a,i=s}var t,n,i;Ul.point=function(r,a){t=r*Fo,n=Math.sin(a*=Fo),i=Math.cos(a),Ul.point=e},Ul.lineEnd=function(){Ul.point=Ul.lineEnd=w}}function _i(e,t){function n(t,n){var i=Math.cos(t),r=Math.cos(n),a=e(i*r);return[a*r*Math.sin(t),a*Math.sin(n)]}return n.invert=function(e,n){var i=Math.sqrt(e*e+n*n),r=t(i),a=Math.sin(r),s=Math.cos(r);return[Math.atan2(e*a,i*s),Math.asin(i&&n*a/i)]},n}function Ci(e,t){function n(e,t){s>0?-Oo+No>t&&(t=-Oo+No):t>Oo-No&&(t=Oo-No);var n=s/Math.pow(r(t),a);return[n*Math.sin(a*e),s-n*Math.cos(a*e)]}var i=Math.cos(e),r=function(e){return Math.tan(Ro/4+e/2)},a=e===t?Math.sin(e):Math.log(i/Math.cos(t))/Math.log(r(t)/r(e)),s=i*Math.pow(r(e),a)/a;return a?(n.invert=function(e,t){var n=s-t,i=J(a)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/a,2*Math.atan(Math.pow(s/i,1/a))-Oo]},n):Di}function Ti(e,t){function n(e,t){var n=a-t;return[n*Math.sin(r*e),a-n*Math.cos(r*e)]}var i=Math.cos(e),r=e===t?Math.sin(e):(i-Math.cos(t))/(t-e),a=i/r+e;return fo(r)<No?li:(n.invert=function(e,t){var n=a-t;return[Math.atan2(e,n)/r,a-J(r)*Math.sqrt(e*e+n*n)]},n)}function Di(e,t){return[e,Math.log(Math.tan(Ro/4+t/2))]}function Si(e){var t,n=ai(e),i=n.scale,r=n.translate,a=n.clipExtent;return n.scale=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var s=a.apply(n,arguments);if(s===n){if(t=null==e){var o=Ro*i(),l=r();a([[l[0]-o,l[1]-o],[l[0]+o,l[1]+o]])}}else t&&(s=null);return s},n.clipExtent(null)}function Ei(e,t){return[Math.log(Math.tan(Ro/4+t/2)),-e]}function ki(e){return e[0]}function Ii(e){return e[1]}function Ni(e){for(var t=e.length,n=[0,1],i=2,r=2;t>r;r++){for(;i>1&&Z(e[n[i-2]],e[n[i-1]],e[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function Ai(e,t){return e[0]-t[0]||e[1]-t[1]}function Ri(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function Mi(e,t,n,i){var r=e[0],a=n[0],s=t[0]-r,o=i[0]-a,l=e[1],c=n[1],h=t[1]-l,u=i[1]-c,d=(o*(l-c)-u*(r-a))/(u*s-o*h);return[r+d*s,l+d*h]}function Pi(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function Oi(){nr(this),this.edge=this.site=this.circle=null}function Fi(e){var t=ic.pop()||new Oi;return t.site=e,t}function Bi(e){qi(e),ec.remove(e),ic.push(e),nr(e)}function ji(e){var t=e.circle,n=t.x,i=t.cy,r={x:n,y:i},a=e.P,s=e.N,o=[e];Bi(e);for(var l=a;l.circle&&fo(n-l.circle.x)<No&&fo(i-l.circle.cy)<No;)a=l.P,o.unshift(l),Bi(l),l=a;o.unshift(l),qi(l);for(var c=s;c.circle&&fo(n-c.circle.x)<No&&fo(i-c.circle.cy)<No;)s=c.N,o.push(c),Bi(c),c=s;o.push(c),qi(c);var h,u=o.length;for(h=1;u>h;++h)c=o[h],l=o[h-1],Zi(c.edge,l.site,c.site,r);l=o[0],c=o[u-1],c.edge=Qi(l.site,c.site,null,r),Wi(l),Wi(c)}function Li(e){for(var t,n,i,r,a=e.x,s=e.y,o=ec._;o;)if(i=Vi(o,s)-a,i>No)o=o.L;else{if(r=a-$i(o,s),!(r>No)){i>-No?(t=o.P,n=o):r>-No?(t=o,n=o.N):t=n=o;break}if(!o.R){t=o;break}o=o.R}var l=Fi(e);if(ec.insert(t,l),t||n){if(t===n)return qi(t),n=Fi(t.site),ec.insert(l,n),l.edge=n.edge=Qi(t.site,l.site),Wi(t),Wi(n),void 0;if(!n)return l.edge=Qi(t.site,l.site),void 0;qi(t),qi(n);var c=t.site,h=c.x,u=c.y,d=e.x-h,p=e.y-u,f=n.site,g=f.x-h,m=f.y-u,v=2*(d*m-p*g),b=d*d+p*p,y=g*g+m*m,x={x:(m*b-p*y)/v+h,y:(d*y-g*b)/v+u};Zi(n.edge,c,f,x),l.edge=Qi(c,e,null,x),n.edge=Qi(e,f,null,x),Wi(t),Wi(n)}}function Vi(e,t){var n=e.site,i=n.x,r=n.y,a=r-t;if(!a)return i;var s=e.P;if(!s)return-1/0;n=s.site;var o=n.x,l=n.y,c=l-t;if(!c)return o;var h=o-i,u=1/a-1/c,d=h/c;return u?(-d+Math.sqrt(d*d-2*u*(h*h/(-2*c)-l+c/2+r-a/2)))/u+i:(i+o)/2}function $i(e,t){var n=e.N;if(n)return Vi(n,t);var i=e.site;return i.y===t?i.x:1/0}function Hi(e){this.site=e,this.edges=[]}function Gi(e){for(var t,n,i,r,a,s,o,l,c,h,u=e[0][0],d=e[1][0],p=e[0][1],f=e[1][1],g=Zl,m=g.length;m--;)if(a=g[m],a&&a.prepare())for(o=a.edges,l=o.length,s=0;l>s;)h=o[s].end(),i=h.x,r=h.y,c=o[++s%l].start(),t=c.x,n=c.y,(fo(i-t)>No||fo(r-n)>No)&&(o.splice(s,0,new er(Ji(a.site,h,fo(i-u)<No&&f-r>No?{x:u,y:fo(t-u)<No?n:f}:fo(r-f)<No&&d-i>No?{x:fo(n-f)<No?t:d,y:f}:fo(i-d)<No&&r-p>No?{x:d,y:fo(t-d)<No?n:p}:fo(r-p)<No&&i-u>No?{x:fo(n-p)<No?t:u,y:p}:null),a.site,null)),++l)}function zi(e,t){return t.angle-e.angle}function Ui(){nr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Wi(e){var t=e.P,n=e.N;if(t&&n){var i=t.site,r=e.site,a=n.site;if(i!==a){var s=r.x,o=r.y,l=i.x-s,c=i.y-o,h=a.x-s,u=a.y-o,d=2*(l*u-c*h);if(!(d>=-Ao)){var p=l*l+c*c,f=h*h+u*u,g=(u*p-c*f)/d,m=(l*f-h*p)/d,u=m+o,v=rc.pop()||new Ui;v.arc=e,v.site=r,v.x=g+s,v.y=u+Math.sqrt(g*g+m*m),v.cy=u,e.circle=v;for(var b=null,y=nc._;y;)if(v.y<y.y||v.y===y.y&&v.x<=y.x){if(!y.L){b=y.P;break}y=y.L}else{if(!y.R){b=y;break}y=y.R}nc.insert(b,v),b||(tc=v)}}}}function qi(e){var t=e.circle;t&&(t.P||(tc=t.N),nc.remove(t),rc.push(t),nr(t),e.circle=null)}function Yi(e){for(var t,n=Jl,i=Hn(e[0][0],e[0][1],e[1][0],e[1][1]),r=n.length;r--;)t=n[r],(!Ki(t,e)||!i(t)||fo(t.a.x-t.b.x)<No&&fo(t.a.y-t.b.y)<No)&&(t.a=t.b=null,n.splice(r,1))}function Ki(e,t){var n=e.b;if(n)return!0;var i,r,a=e.a,s=t[0][0],o=t[1][0],l=t[0][1],c=t[1][1],h=e.l,u=e.r,d=h.x,p=h.y,f=u.x,g=u.y,m=(d+f)/2,v=(p+g)/2;if(g===p){if(s>m||m>=o)return;if(d>f){if(a){if(a.y>=c)return}else a={x:m,y:l};n={x:m,y:c}}else{if(a){if(a.y<l)return}else a={x:m,y:c};n={x:m,y:l}}}else if(i=(d-f)/(g-p),r=v-i*m,-1>i||i>1)if(d>f){if(a){if(a.y>=c)return}else a={x:(l-r)/i,y:l};n={x:(c-r)/i,y:c}}else{if(a){if(a.y<l)return}else a={x:(c-r)/i,y:c};n={x:(l-r)/i,y:l}}else if(g>p){if(a){if(a.x>=o)return}else a={x:s,y:i*s+r};n={x:o,y:i*o+r}}else{if(a){if(a.x<s)return}else a={x:o,y:i*o+r};n={x:s,y:i*s+r}}return e.a=a,e.b=n,!0}function Xi(e,t){this.l=e,this.r=t,this.a=this.b=null}function Qi(e,t,n,i){var r=new Xi(e,t);return Jl.push(r),n&&Zi(r,e,t,n),i&&Zi(r,t,e,i),Zl[e.i].edges.push(new er(r,e,t)),Zl[t.i].edges.push(new er(r,t,e)),r}function Ji(e,t,n){var i=new Xi(e,null);return i.a=t,i.b=n,Jl.push(i),i}function Zi(e,t,n,i){e.a||e.b?e.l===n?e.b=i:e.a=i:(e.a=i,e.l=t,e.r=n)}function er(e,t,n){var i=e.a,r=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function tr(){this._=null}function nr(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function ir(e,t){var n=t,i=t.R,r=n.U;r?r.L===n?r.L=i:r.R=i:e._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function rr(e,t){var n=t,i=t.L,r=n.U;r?r.L===n?r.L=i:r.R=i:e._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function ar(e){for(;e.L;)e=e.L;return e}function sr(e,t){var n,i,r,a=e.sort(or).pop();for(Jl=[],Zl=new Array(e.length),ec=new tr,nc=new tr;;)if(r=tc,a&&(!r||a.y<r.y||a.y===r.y&&a.x<r.x))(a.x!==n||a.y!==i)&&(Zl[a.i]=new Hi(a),Li(a),n=a.x,i=a.y),a=e.pop();else{if(!r)break;ji(r.arc)}t&&(Yi(t),Gi(t));var s={cells:Zl,edges:Jl};return ec=nc=Jl=Zl=null,s}function or(e,t){return t.y-e.y||t.x-e.x}function lr(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function cr(e){return e.x}function hr(e){return e.y}function ur(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function dr(e,t,n,i,r,a){if(!e(t,n,i,r,a)){var s=.5*(n+r),o=.5*(i+a),l=t.nodes;l[0]&&dr(e,l[0],n,i,s,o),l[1]&&dr(e,l[1],s,i,r,o),l[2]&&dr(e,l[2],n,o,s,a),l[3]&&dr(e,l[3],s,o,r,a)}}function pr(e,t,n,i,r,a,s){var o,l=1/0;return function c(e,h,u,d,p){if(!(h>a||u>s||i>d||r>p)){if(f=e.point){var f,g=t-e.x,m=n-e.y,v=g*g+m*m;if(l>v){var b=Math.sqrt(l=v);i=t-b,r=n-b,a=t+b,s=n+b,o=f}}for(var y=e.nodes,x=.5*(h+d),w=.5*(u+p),_=t>=x,C=n>=w,T=C<<1|_,D=T+4;D>T;++T)if(e=y[3&T])switch(3&T){case 0:c(e,h,u,x,w);break;case 1:c(e,x,u,d,w);break;case 2:c(e,h,w,x,p);break;case 3:c(e,x,w,d,p)}}}(e,i,r,a,s),o}function fr(e,t){e=to.rgb(e),t=to.rgb(t);var n=e.r,i=e.g,r=e.b,a=t.r-n,s=t.g-i,o=t.b-r;return function(e){return"#"+xt(Math.round(n+a*e))+xt(Math.round(i+s*e))+xt(Math.round(r+o*e))}}function gr(e,t){var n,i={},r={};for(n in e)n in t?i[n]=br(e[n],t[n]):r[n]=e[n];for(n in t)n in e||(r[n]=t[n]);return function(e){for(n in i)r[n]=i[n](e);return r}}function mr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function vr(e,t){var n,i,r,a=sc.lastIndex=oc.lastIndex=0,s=-1,o=[],l=[];for(e+="",t+="";(n=sc.exec(e))&&(i=oc.exec(t));)(r=i.index)>a&&(r=t.slice(a,r),o[s]?o[s]+=r:o[++s]=r),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:mr(n,i)})),a=oc.lastIndex;return a<t.length&&(r=t.slice(a),o[s]?o[s]+=r:o[++s]=r),o.length<2?l[0]?(t=l[0].x,function(e){return t(e)+""}):function(){return t}:(t=l.length,function(e){for(var n,i=0;t>i;++i)o[(n=l[i]).i]=n.x(e);return o.join("")})}function br(e,t){for(var n,i=to.interpolators.length;--i>=0&&!(n=to.interpolators[i](e,t)););return n}function yr(e,t){var n,i=[],r=[],a=e.length,s=t.length,o=Math.min(e.length,t.length);for(n=0;o>n;++n)i.push(br(e[n],t[n]));for(;a>n;++n)r[n]=e[n];for(;s>n;++n)r[n]=t[n];return function(e){for(n=0;o>n;++n)r[n]=i[n](e);return r}}function xr(e){return function(t){return 0>=t?0:t>=1?1:e(t)}}function wr(e){return function(t){return 1-e(1-t)}}function _r(e){return function(t){return.5*(.5>t?e(2*t):2-e(2-2*t))}}function Cr(e){return e*e}function Tr(e){return e*e*e}function Dr(e){if(0>=e)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(.5>e?n:3*(e-t)+n-.75)}function Sr(e){return function(t){return Math.pow(t,e)}}function Er(e){return 1-Math.cos(e*Oo)}function kr(e){return Math.pow(2,10*(e-1))}function Ir(e){return 1-Math.sqrt(1-e*e)}function Nr(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/Mo*Math.asin(1/e):(e=1,n=t/4),function(i){return 1+e*Math.pow(2,-10*i)*Math.sin((i-n)*Mo/t)}}function Ar(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Rr(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Mr(e,t){e=to.hcl(e),t=to.hcl(t);var n=e.h,i=e.c,r=e.l,a=t.h-n,s=t.c-i,o=t.l-r;return isNaN(s)&&(s=0,i=isNaN(i)?t.c:i),isNaN(a)?(a=0,n=isNaN(n)?t.h:n):a>180?a-=360:-180>a&&(a+=360),function(e){return ht(n+a*e,i+s*e,r+o*e)+""}}function Pr(e,t){e=to.hsl(e),t=to.hsl(t);var n=e.h,i=e.s,r=e.l,a=t.h-n,s=t.s-i,o=t.l-r;return isNaN(s)&&(s=0,i=isNaN(i)?t.s:i),isNaN(a)?(a=0,n=isNaN(n)?t.h:n):a>180?a-=360:-180>a&&(a+=360),function(e){return lt(n+a*e,i+s*e,r+o*e)+""}}function Or(e,t){e=to.lab(e),t=to.lab(t);var n=e.l,i=e.a,r=e.b,a=t.l-n,s=t.a-i,o=t.b-r;return function(e){return dt(n+a*e,i+s*e,r+o*e)+""}}function Fr(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function Br(e){var t=[e.a,e.b],n=[e.c,e.d],i=Lr(t),r=jr(t,n),a=Lr(Vr(n,t,-r))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*Bo,this.translate=[e.e,e.f],this.scale=[i,a],this.skew=a?Math.atan2(r,a)*Bo:0}function jr(e,t){return e[0]*t[0]+e[1]*t[1]}function Lr(e){var t=Math.sqrt(jr(e,e));return t&&(e[0]/=t,e[1]/=t),t}function Vr(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function $r(e,t){var n,i=[],r=[],a=to.transform(e),s=to.transform(t),o=a.translate,l=s.translate,c=a.rotate,h=s.rotate,u=a.skew,d=s.skew,p=a.scale,f=s.scale;return o[0]!=l[0]||o[1]!=l[1]?(i.push("translate(",null,",",null,")"),r.push({i:1,x:mr(o[0],l[0])},{i:3,x:mr(o[1],l[1])})):l[0]||l[1]?i.push("translate("+l+")"):i.push(""),c!=h?(c-h>180?h+=360:h-c>180&&(c+=360),r.push({i:i.push(i.pop()+"rotate(",null,")")-2,x:mr(c,h)})):h&&i.push(i.pop()+"rotate("+h+")"),u!=d?r.push({i:i.push(i.pop()+"skewX(",null,")")-2,x:mr(u,d)}):d&&i.push(i.pop()+"skewX("+d+")"),p[0]!=f[0]||p[1]!=f[1]?(n=i.push(i.pop()+"scale(",null,",",null,")"),r.push({i:n-4,x:mr(p[0],f[0])},{i:n-2,x:mr(p[1],f[1])})):(1!=f[0]||1!=f[1])&&i.push(i.pop()+"scale("+f+")"),n=r.length,function(e){for(var t,a=-1;++a<n;)i[(t=r[a]).i]=t.x(e);return i.join("")}}function Hr(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function Gr(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function zr(e){for(var t=e.source,n=e.target,i=Wr(t,n),r=[t];t!==i;)t=t.parent,r.push(t);for(var a=r.length;n!==i;)r.splice(a,0,n),n=n.parent;return r}function Ur(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function Wr(e,t){if(e===t)return e;for(var n=Ur(e),i=Ur(t),r=n.pop(),a=i.pop(),s=null;r===a;)s=r,r=n.pop(),a=i.pop();return s}function qr(e){e.fixed|=2}function Yr(e){e.fixed&=-7}function Kr(e){e.fixed|=4,e.px=e.x,e.py=e.y}function Xr(e){e.fixed&=-5}function Qr(e,t,n){var i=0,r=0;if(e.charge=0,!e.leaf)for(var a,s=e.nodes,o=s.length,l=-1;++l<o;)a=s[l],null!=a&&(Qr(a,t,n),e.charge+=a.charge,i+=a.charge*a.cx,r+=a.charge*a.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var c=t*n[e.point.index];e.charge+=e.pointCharge=c,i+=c*e.point.x,r+=c*e.point.y}e.cx=i/e.charge,e.cy=r/e.charge}function Jr(e,t){return to.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=ra,e}function Zr(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(r=e.children)&&(i=r.length))for(var i,r;--i>=0;)n.push(r[i])}function ea(e,t){for(var n=[e],i=[];null!=(e=n.pop());)if(i.push(e),(a=e.children)&&(r=a.length))for(var r,a,s=-1;++s<r;)n.push(a[s]);for(;null!=(e=i.pop());)t(e)}function ta(e){return e.children}function na(e){return e.value}function ia(e,t){return t.value-e.value}function ra(e){return to.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function aa(e){return e.x}function sa(e){return e.y}function oa(e,t,n){e.y0=t,e.y=n}function la(e){return to.range(e.length)}function ca(e){for(var t=-1,n=e[0].length,i=[];++t<n;)i[t]=0;return i}function ha(e){for(var t,n=1,i=0,r=e[0][1],a=e.length;a>n;++n)(t=e[n][1])>r&&(i=n,r=t);return i}function ua(e){return e.reduce(da,0)}function da(e,t){return e+t[1]}function pa(e,t){return fa(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function fa(e,t){for(var n=-1,i=+e[0],r=(e[1]-i)/t,a=[];++n<=t;)a[n]=r*n+i;return a}function ga(e){return[to.min(e),to.max(e)]}function ma(e,t){return e.value-t.value}function va(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function ba(e,t){e._pack_next=t,t._pack_prev=e}function ya(e,t){var n=t.x-e.x,i=t.y-e.y,r=e.r+t.r;return.999*r*r>n*n+i*i}function xa(e){function t(e){h=Math.min(e.x-e.r,h),u=Math.max(e.x+e.r,u),d=Math.min(e.y-e.r,d),p=Math.max(e.y+e.r,p)}if((n=e.children)&&(c=n.length)){var n,i,r,a,s,o,l,c,h=1/0,u=-1/0,d=1/0,p=-1/0;if(n.forEach(wa),i=n[0],i.x=-i.r,i.y=0,t(i),c>1&&(r=n[1],r.x=r.r,r.y=0,t(r),c>2))for(a=n[2],Ta(i,r,a),t(a),va(i,a),i._pack_prev=a,va(a,r),r=i._pack_next,s=3;c>s;s++){Ta(i,r,a=n[s]);var f=0,g=1,m=1;for(o=r._pack_next;o!==r;o=o._pack_next,g++)if(ya(o,a)){f=1;break}if(1==f)for(l=i._pack_prev;l!==o._pack_prev&&!ya(l,a);l=l._pack_prev,m++);f?(m>g||g==m&&r.r<i.r?ba(i,r=o):ba(i=l,r),s--):(va(i,a),r=a,t(a))}var v=(h+u)/2,b=(d+p)/2,y=0;for(s=0;c>s;s++)a=n[s],a.x-=v,a.y-=b,y=Math.max(y,a.r+Math.sqrt(a.x*a.x+a.y*a.y));e.r=y,n.forEach(_a)}}function wa(e){e._pack_next=e._pack_prev=e}function _a(e){delete e._pack_next,delete e._pack_prev}function Ca(e,t,n,i){var r=e.children;if(e.x=t+=i*e.x,e.y=n+=i*e.y,e.r*=i,r)for(var a=-1,s=r.length;++a<s;)Ca(r[a],t,n,i)}function Ta(e,t,n){var i=e.r+n.r,r=t.x-e.x,a=t.y-e.y;if(i&&(r||a)){var s=t.r+n.r,o=r*r+a*a;s*=s,i*=i;var l=.5+(i-s)/(2*o),c=Math.sqrt(Math.max(0,2*s*(i+o)-(i-=o)*i-s*s))/(2*o);n.x=e.x+l*r+c*a,n.y=e.y+l*a-c*r}else n.x=e.x+i,n.y=e.y}function Da(e,t){return e.parent==t.parent?1:2}function Sa(e){var t=e.children;return t.length?t[0]:e.t}function Ea(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function ka(e,t,n){var i=n/(t.i-e.i);t.c-=i,t.s+=n,e.c+=i,t.z+=n,t.m+=n}function Ia(e){for(var t,n=0,i=0,r=e.children,a=r.length;--a>=0;)t=r[a],t.z+=n,t.m+=n,n+=t.s+(i+=t.c)}function Na(e,t,n){return e.a.parent===t.parent?e.a:n}function Aa(e){return 1+to.max(e,function(e){return e.y})}function Ra(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function Ma(e){var t=e.children;return t&&t.length?Ma(t[0]):e}function Pa(e){var t,n=e.children;return n&&(t=n.length)?Pa(n[t-1]):e}function Oa(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Fa(e,t){var n=e.x+t[3],i=e.y+t[0],r=e.dx-t[1]-t[3],a=e.dy-t[0]-t[2];return 0>r&&(n+=r/2,r=0),0>a&&(i+=a/2,a=0),{x:n,y:i,dx:r,dy:a}}function Ba(e){var t=e[0],n=e[e.length-1];return n>t?[t,n]:[n,t]}function ja(e){return e.rangeExtent?e.rangeExtent():Ba(e.range())}function La(e,t,n,i){var r=n(e[0],e[1]),a=i(t[0],t[1]);return function(e){return a(r(e))}}function Va(e,t){var n,i=0,r=e.length-1,a=e[i],s=e[r];return a>s&&(n=i,i=r,r=n,n=a,a=s,s=n),e[i]=t.floor(a),e[r]=t.ceil(s),e}function $a(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:bc}function Ha(e,t,n,i){var r=[],a=[],s=0,o=Math.min(e.length,t.length)-1;for(e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<=o;)r.push(n(e[s-1],e[s])),a.push(i(t[s-1],t[s]));return function(t){var n=to.bisect(e,t,1,o)-1;return a[n](r[n](t))}}function Ga(e,t,n,i){function r(){var r=Math.min(e.length,t.length)>2?Ha:La,l=i?Gr:Hr;return s=r(e,t,l,n),o=r(t,e,l,br),a}function a(e){return s(e)}var s,o;return a.invert=function(e){return o(e)},a.domain=function(t){return arguments.length?(e=t.map(Number),r()):e},a.range=function(e){return arguments.length?(t=e,r()):t},a.rangeRound=function(e){return a.range(e).interpolate(Fr)},a.clamp=function(e){return arguments.length?(i=e,r()):i},a.interpolate=function(e){return arguments.length?(n=e,r()):n},a.ticks=function(t){return qa(e,t)},a.tickFormat=function(t,n){return Ya(e,t,n)},a.nice=function(t){return Ua(e,t),r()},a.copy=function(){return Ga(e,t,n,i)},r()}function za(e,t){return to.rebind(e,t,"range","rangeRound","interpolate","clamp")}function Ua(e,t){return Va(e,$a(Wa(e,t)[2]))}function Wa(e,t){null==t&&(t=10);var n=Ba(e),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/t)/Math.LN10)),a=t/i*r;return.15>=a?r*=10:.35>=a?r*=5:.75>=a&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function qa(e,t){return to.range.apply(to,Wa(e,t))}function Ya(e,t,n){var i=Wa(e,t);if(n){var r=sl.exec(n);if(r.shift(),"s"===r[8]){var a=to.formatPrefix(Math.max(fo(i[0]),fo(i[1])));return r[7]||(r[7]="."+Ka(a.scale(i[2]))),r[8]="f",n=to.format(r.join("")),function(e){return n(a.scale(e))+a.symbol}}r[7]||(r[7]="."+Xa(r[8],i)),n=r.join("")}else n=",."+Ka(i[2])+"f";return to.format(n)}function Ka(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function Xa(e,t){var n=Ka(t[2]);return e in yc?Math.abs(n-Ka(Math.max(fo(t[0]),fo(t[1]))))+ +("e"!==e):n-2*("%"===e)}function Qa(e,t,n,i){function r(e){return(n?Math.log(0>e?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function a(e){return n?Math.pow(t,e):-Math.pow(t,-e)}function s(t){return e(r(t))}return s.invert=function(t){return a(e.invert(t))},s.domain=function(t){return arguments.length?(n=t[0]>=0,e.domain((i=t.map(Number)).map(r)),s):i},s.base=function(n){return arguments.length?(t=+n,e.domain(i.map(r)),s):t},s.nice=function(){var t=Va(i.map(r),n?Math:wc);return e.domain(t),i=t.map(a),s},s.ticks=function(){var e=Ba(i),s=[],o=e[0],l=e[1],c=Math.floor(r(o)),h=Math.ceil(r(l)),u=t%1?2:t;if(isFinite(h-c)){if(n){for(;h>c;c++)for(var d=1;u>d;d++)s.push(a(c)*d);s.push(a(c))}else for(s.push(a(c));c++<h;)for(var d=u-1;d>0;d--)s.push(a(c)*d);for(c=0;s[c]<o;c++);for(h=s.length;s[h-1]>l;h--);s=s.slice(c,h)}return s},s.tickFormat=function(e,t){if(!arguments.length)return xc;arguments.length<2?t=xc:"function"!=typeof t&&(t=to.format(t));var i,o=Math.max(.1,e/s.ticks().length),l=n?(i=1e-12,Math.ceil):(i=-1e-12,Math.floor);return function(e){return e/a(l(r(e)+i))<=o?t(e):""}},s.copy=function(){return Qa(e.copy(),t,n,i)},za(s,e)}function Ja(e,t,n){function i(t){return e(r(t))}var r=Za(t),a=Za(1/t);return i.invert=function(t){return a(e.invert(t))},i.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(r)),i):n},i.ticks=function(e){return qa(n,e)},i.tickFormat=function(e,t){return Ya(n,e,t)},i.nice=function(e){return i.domain(Ua(n,e))},i.exponent=function(s){return arguments.length?(r=Za(t=s),a=Za(1/t),e.domain(n.map(r)),i):t},i.copy=function(){return Ja(e.copy(),t,n)},za(i,e)}function Za(e){return function(t){return 0>t?-Math.pow(-t,e):Math.pow(t,e)}}function es(e,t){function n(n){return a[((r.get(n)||("range"===t.t?r.set(n,e.push(n)):0/0))-1)%a.length]}function i(t,n){return to.range(e.length).map(function(e){return t+n*e})}var r,a,s;return n.domain=function(i){if(!arguments.length)return e;e=[],r=new c;for(var a,s=-1,o=i.length;++s<o;)r.has(a=i[s])||r.set(a,e.push(a));return n[t.t].apply(n,t.a)},n.range=function(e){return arguments.length?(a=e,s=0,t={t:"range",a:arguments},n):a},n.rangePoints=function(r,o){arguments.length<2&&(o=0);var l=r[0],c=r[1],h=e.length<2?(l=(l+c)/2,0):(c-l)/(e.length-1+o);return a=i(l+h*o/2,h),s=0,t={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(r,o){arguments.length<2&&(o=0);var l=r[0],c=r[1],h=e.length<2?(l=c=Math.round((l+c)/2),0):0|(c-l)/(e.length-1+o);return a=i(l+Math.round(h*o/2+(c-l-(e.length-1+o)*h)/2),h),s=0,t={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(r,o,l){arguments.length<2&&(o=0),arguments.length<3&&(l=o);var c=r[1]<r[0],h=r[c-0],u=r[1-c],d=(u-h)/(e.length-o+2*l);return a=i(h+d*l,d),c&&a.reverse(),s=d*(1-o),t={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(r,o,l){arguments.length<2&&(o=0),arguments.length<3&&(l=o);var c=r[1]<r[0],h=r[c-0],u=r[1-c],d=Math.floor((u-h)/(e.length-o+2*l));return a=i(h+Math.round((u-h-(e.length-o)*d)/2),d),c&&a.reverse(),s=Math.round(d*(1-o)),t={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return s},n.rangeExtent=function(){return Ba(t.a[0])},n.copy=function(){return es(e,t)},n.domain(e)}function ts(e,t){function a(){var n=0,i=t.length;for(o=[];++n<i;)o[n-1]=to.quantile(e,n/i);return s}function s(e){return isNaN(e=+e)?void 0:t[to.bisect(o,e)]}var o;return s.domain=function(t){return arguments.length?(e=t.map(i).filter(r).sort(n),a()):e},s.range=function(e){return arguments.length?(t=e,a()):t},s.quantiles=function(){return o},s.invertExtent=function(n){return n=t.indexOf(n),0>n?[0/0,0/0]:[n>0?o[n-1]:e[0],n<o.length?o[n]:e[e.length-1]]},s.copy=function(){return ts(e,t)},a()}function ns(e,t,n){function i(t){return n[Math.max(0,Math.min(s,Math.floor(a*(t-e))))]}function r(){return a=n.length/(t-e),s=n.length-1,i}var a,s;return i.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],r()):[e,t]},i.range=function(e){return arguments.length?(n=e,r()):n},i.invertExtent=function(t){return t=n.indexOf(t),t=0>t?0/0:t/a+e,[t,t+1/a]},i.copy=function(){return ns(e,t,n)},r()}function is(e,t){function n(n){return n>=n?t[to.bisect(e,n)]:void 0}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},n.copy=function(){return is(e,t)},n}function rs(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return qa(e,t)},t.tickFormat=function(t,n){return Ya(e,t,n)},t.copy=function(){return rs(e)},t}function as(){return 0}function ss(e){return e.innerRadius}function os(e){return e.outerRadius}function ls(e){return e.startAngle}function cs(e){return e.endAngle}function hs(e){return e&&e.padAngle}function us(e,t,n,i){return(e-n)*t-(t-i)*e>0?0:1}function ds(e,t,n,i,r){var a=e[0]-t[0],s=e[1]-t[1],o=(r?i:-i)/Math.sqrt(a*a+s*s),l=o*s,c=-o*a,h=e[0]+l,u=e[1]+c,d=t[0]+l,p=t[1]+c,f=(h+d)/2,g=(u+p)/2,m=d-h,v=p-u,b=m*m+v*v,y=n-i,x=h*p-d*u,w=(0>v?-1:1)*Math.sqrt(y*y*b-x*x),_=(x*v-m*w)/b,C=(-x*m-v*w)/b,T=(x*v+m*w)/b,D=(-x*m+v*w)/b,S=_-f,E=C-g,k=T-f,I=D-g;return S*S+E*E>k*k+I*I&&(_=T,C=D),[[_-l,C-c],[_*n/y,C*n/y]]}function ps(e){function t(t){function s(){c.push("M",a(e(h),o))}for(var l,c=[],h=[],u=-1,d=t.length,p=St(n),f=St(i);++u<d;)r.call(this,l=t[u],u)?h.push([+p.call(this,l,u),+f.call(this,l,u)]):h.length&&(s(),h=[]);return h.length&&s(),c.length?c.join(""):null}var n=ki,i=Ii,r=In,a=fs,s=a.key,o=.7;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(i=e,t):i},t.defined=function(e){return arguments.length?(r=e,t):r},t.interpolate=function(e){return arguments.length?(s="function"==typeof e?a=e:(a=Ec.get(e)||fs).key,t):s},t.tension=function(e){return arguments.length?(o=e,t):o},t}function fs(e){return e.join("L")}function gs(e){return fs(e)+"Z"}function ms(e){for(var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];++t<n;)r.push("H",(i[0]+(i=e[t])[0])/2,"V",i[1]);return n>1&&r.push("H",i[0]),r.join("")}function vs(e){for(var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];++t<n;)r.push("V",(i=e[t])[1],"H",i[0]);return r.join("")}function bs(e){for(var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];++t<n;)r.push("H",(i=e[t])[0],"V",i[1]);return r.join("")}function ys(e,t){return e.length<4?fs(e):e[1]+_s(e.slice(1,-1),Cs(e,t))}function xs(e,t){return e.length<3?fs(e):e[0]+_s((e.push(e[0]),e),Cs([e[e.length-2]].concat(e,[e[1]]),t))}function ws(e,t){return e.length<3?fs(e):e[0]+_s(e,Cs(e,t))}function _s(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return fs(e);var n=e.length!=t.length,i="",r=e[0],a=e[1],s=t[0],o=s,l=1;if(n&&(i+="Q"+(a[0]-2*s[0]/3)+","+(a[1]-2*s[1]/3)+","+a[0]+","+a[1],r=e[1],l=2),t.length>1){o=t[1],a=e[l],l++,i+="C"+(r[0]+s[0])+","+(r[1]+s[1])+","+(a[0]-o[0])+","+(a[1]-o[1])+","+a[0]+","+a[1];for(var c=2;c<t.length;c++,l++)a=e[l],o=t[c],i+="S"+(a[0]-o[0])+","+(a[1]-o[1])+","+a[0]+","+a[1]}if(n){var h=e[l];i+="Q"+(a[0]+2*o[0]/3)+","+(a[1]+2*o[1]/3)+","+h[0]+","+h[1]}return i}function Cs(e,t){for(var n,i=[],r=(1-t)/2,a=e[0],s=e[1],o=1,l=e.length;++o<l;)n=a,a=s,s=e[o],i.push([r*(s[0]-n[0]),r*(s[1]-n[1])]);return i}function Ts(e){if(e.length<3)return fs(e);var t=1,n=e.length,i=e[0],r=i[0],a=i[1],s=[r,r,r,(i=e[1])[0]],o=[a,a,a,i[1]],l=[r,",",a,"L",ks(Nc,s),",",ks(Nc,o)];for(e.push(e[n-1]);++t<=n;)i=e[t],s.shift(),s.push(i[0]),o.shift(),o.push(i[1]),Is(l,s,o);return e.pop(),l.push("L",i),l.join("")}function Ds(e){if(e.length<4)return fs(e);for(var t,n=[],i=-1,r=e.length,a=[0],s=[0];++i<3;)t=e[i],a.push(t[0]),s.push(t[1]);for(n.push(ks(Nc,a)+","+ks(Nc,s)),--i;++i<r;)t=e[i],a.shift(),a.push(t[0]),s.shift(),s.push(t[1]),Is(n,a,s);return n.join("")}function Ss(e){for(var t,n,i=-1,r=e.length,a=r+4,s=[],o=[];++i<4;)n=e[i%r],s.push(n[0]),o.push(n[1]);for(t=[ks(Nc,s),",",ks(Nc,o)],--i;++i<a;)n=e[i%r],s.shift(),s.push(n[0]),o.shift(),o.push(n[1]),Is(t,s,o);return t.join("")}function Es(e,t){var n=e.length-1;if(n)for(var i,r,a=e[0][0],s=e[0][1],o=e[n][0]-a,l=e[n][1]-s,c=-1;++c<=n;)i=e[c],r=c/n,i[0]=t*i[0]+(1-t)*(a+r*o),i[1]=t*i[1]+(1-t)*(s+r*l);return Ts(e)}function ks(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Is(e,t,n){e.push("C",ks(kc,t),",",ks(kc,n),",",ks(Ic,t),",",ks(Ic,n),",",ks(Nc,t),",",ks(Nc,n))}function Ns(e,t){return(t[1]-e[1])/(t[0]-e[0])}function As(e){for(var t=0,n=e.length-1,i=[],r=e[0],a=e[1],s=i[0]=Ns(r,a);++t<n;)i[t]=(s+(s=Ns(r=a,a=e[t+1])))/2;return i[t]=s,i}function Rs(e){for(var t,n,i,r,a=[],s=As(e),o=-1,l=e.length-1;++o<l;)t=Ns(e[o],e[o+1]),fo(t)<No?s[o]=s[o+1]=0:(n=s[o]/t,i=s[o+1]/t,r=n*n+i*i,r>9&&(r=3*t/Math.sqrt(r),s[o]=r*n,s[o+1]=r*i));
for(o=-1;++o<=l;)r=(e[Math.min(l,o+1)][0]-e[Math.max(0,o-1)][0])/(6*(1+s[o]*s[o])),a.push([r||0,s[o]*r||0]);return a}function Ms(e){return e.length<3?fs(e):e[0]+_s(e,Rs(e))}function Ps(e){for(var t,n,i,r=-1,a=e.length;++r<a;)t=e[r],n=t[0],i=t[1]-Oo,t[0]=n*Math.cos(i),t[1]=n*Math.sin(i);return e}function Os(e){function t(t){function l(){g.push("M",o(e(v),u),h,c(e(m.reverse()),u),"Z")}for(var d,p,f,g=[],m=[],v=[],b=-1,y=t.length,x=St(n),w=St(r),_=n===i?function(){return p}:St(i),C=r===a?function(){return f}:St(a);++b<y;)s.call(this,d=t[b],b)?(m.push([p=+x.call(this,d,b),f=+w.call(this,d,b)]),v.push([+_.call(this,d,b),+C.call(this,d,b)])):m.length&&(l(),m=[],v=[]);return m.length&&l(),g.length?g.join(""):null}var n=ki,i=ki,r=0,a=Ii,s=In,o=fs,l=o.key,c=o,h="L",u=.7;return t.x=function(e){return arguments.length?(n=i=e,t):i},t.x0=function(e){return arguments.length?(n=e,t):n},t.x1=function(e){return arguments.length?(i=e,t):i},t.y=function(e){return arguments.length?(r=a=e,t):a},t.y0=function(e){return arguments.length?(r=e,t):r},t.y1=function(e){return arguments.length?(a=e,t):a},t.defined=function(e){return arguments.length?(s=e,t):s},t.interpolate=function(e){return arguments.length?(l="function"==typeof e?o=e:(o=Ec.get(e)||fs).key,c=o.reverse||o,h=o.closed?"M":"L",t):l},t.tension=function(e){return arguments.length?(u=e,t):u},t}function Fs(e){return e.radius}function Bs(e){return[e.x,e.y]}function js(e){return function(){var t=e.apply(this,arguments),n=t[0],i=t[1]-Oo;return[n*Math.cos(i),n*Math.sin(i)]}}function Ls(){return 64}function Vs(){return"circle"}function $s(e){var t=Math.sqrt(e/Ro);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Hs(e){return function(){var t,n;(t=this[e])&&(n=t[t.active])&&(--t.count?delete t[t.active]:delete this[e],t.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function Gs(e,t,n){return yo(e,Bc),e.namespace=t,e.id=n,e}function zs(e,t,n,i){var r=e.id,a=e.namespace;return G(e,"function"==typeof n?function(e,s,o){e[a][r].tween.set(t,i(n.call(e,e.__data__,s,o)))}:(n=i(n),function(e){e[a][r].tween.set(t,n)}))}function Us(e){return null==e&&(e=""),function(){this.textContent=e}}function Ws(e){return null==e?"__transition__":"__transition_"+e+"__"}function qs(e,t,n,i,r){var a=e[n]||(e[n]={active:0,count:0}),s=a[i];if(!s){var o=r.time;s=a[i]={tween:new c,time:o,delay:r.delay,duration:r.duration,ease:r.ease,index:t},r=null,++a.count,to.timer(function(r){function l(n){if(a.active>i)return h();var r=a[a.active];r&&(--a.count,delete a[a.active],r.event&&r.event.interrupt.call(e,e.__data__,r.index)),a.active=i,s.event&&s.event.start.call(e,e.__data__,t),s.tween.forEach(function(n,i){(i=i.call(e,e.__data__,t))&&g.push(i)}),d=s.ease,u=s.duration,to.timer(function(){return f.c=c(n||1)?In:c,1},0,o)}function c(n){if(a.active!==i)return 1;for(var r=n/u,o=d(r),l=g.length;l>0;)g[--l].call(e,o);return r>=1?(s.event&&s.event.end.call(e,e.__data__,t),h()):void 0}function h(){return--a.count?delete a[i]:delete e[n],1}var u,d,p=s.delay,f=il,g=[];return f.t=p+o,r>=p?l(r-p):(f.c=l,void 0)},0,o)}}function Ys(e,t,n){e.attr("transform",function(e){var i=t(e);return"translate("+(isFinite(i)?i:n(e))+",0)"})}function Ks(e,t,n){e.attr("transform",function(e){var i=t(e);return"translate(0,"+(isFinite(i)?i:n(e))+")"})}function Xs(e){return e.toISOString()}function Qs(e,t,n){function i(t){return e(t)}function r(e,n){var i=e[1]-e[0],r=i/n,a=to.bisect(Wc,r);return a==Wc.length?[t.year,Wa(e.map(function(e){return e/31536e6}),n)[2]]:a?t[r/Wc[a-1]<Wc[a]/r?a-1:a]:[Kc,Wa(e,n)[2]]}return i.invert=function(t){return Js(e.invert(t))},i.domain=function(t){return arguments.length?(e.domain(t),i):e.domain().map(Js)},i.nice=function(e,t){function n(n){return!isNaN(n)&&!e.range(n,Js(+n+1),t).length}var a=i.domain(),s=Ba(a),o=null==e?r(s,10):"number"==typeof e&&r(s,e);return o&&(e=o[0],t=o[1]),i.domain(Va(a,t>1?{floor:function(t){for(;n(t=e.floor(t));)t=Js(t-1);return t},ceil:function(t){for(;n(t=e.ceil(t));)t=Js(+t+1);return t}}:e))},i.ticks=function(e,t){var n=Ba(i.domain()),a=null==e?r(n,10):"number"==typeof e?r(n,e):!e.range&&[{range:e},t];return a&&(e=a[0],t=a[1]),e.range(n[0],Js(+n[1]+1),1>t?1:t)},i.tickFormat=function(){return n},i.copy=function(){return Qs(e.copy(),t,n)},za(i,e)}function Js(e){return new Date(e)}function Zs(e){return JSON.parse(e.responseText)}function eo(e){var t=ro.createRange();return t.selectNode(ro.body),t.createContextualFragment(e.responseText)}var to={version:"3.5.5"},no=[].slice,io=function(e){return no.call(e)},ro=this.document;if(ro)try{io(ro.documentElement.childNodes)[0].nodeType}catch(ao){io=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),ro)try{ro.createElement("DIV").style.setProperty("opacity",0,"")}catch(so){var oo=this.Element.prototype,lo=oo.setAttribute,co=oo.setAttributeNS,ho=this.CSSStyleDeclaration.prototype,uo=ho.setProperty;oo.setAttribute=function(e,t){lo.call(this,e,t+"")},oo.setAttributeNS=function(e,t,n){co.call(this,e,t,n+"")},ho.setProperty=function(e,t,n){uo.call(this,e,t+"",n)}}to.ascending=n,to.descending=function(e,t){return e>t?-1:t>e?1:t>=e?0:0/0},to.min=function(e,t){var n,i,r=-1,a=e.length;if(1===arguments.length){for(;++r<a;)if(null!=(i=e[r])&&i>=i){n=i;break}for(;++r<a;)null!=(i=e[r])&&n>i&&(n=i)}else{for(;++r<a;)if(null!=(i=t.call(e,e[r],r))&&i>=i){n=i;break}for(;++r<a;)null!=(i=t.call(e,e[r],r))&&n>i&&(n=i)}return n},to.max=function(e,t){var n,i,r=-1,a=e.length;if(1===arguments.length){for(;++r<a;)if(null!=(i=e[r])&&i>=i){n=i;break}for(;++r<a;)null!=(i=e[r])&&i>n&&(n=i)}else{for(;++r<a;)if(null!=(i=t.call(e,e[r],r))&&i>=i){n=i;break}for(;++r<a;)null!=(i=t.call(e,e[r],r))&&i>n&&(n=i)}return n},to.extent=function(e,t){var n,i,r,a=-1,s=e.length;if(1===arguments.length){for(;++a<s;)if(null!=(i=e[a])&&i>=i){n=r=i;break}for(;++a<s;)null!=(i=e[a])&&(n>i&&(n=i),i>r&&(r=i))}else{for(;++a<s;)if(null!=(i=t.call(e,e[a],a))&&i>=i){n=r=i;break}for(;++a<s;)null!=(i=t.call(e,e[a],a))&&(n>i&&(n=i),i>r&&(r=i))}return[n,r]},to.sum=function(e,t){var n,i=0,a=e.length,s=-1;if(1===arguments.length)for(;++s<a;)r(n=+e[s])&&(i+=n);else for(;++s<a;)r(n=+t.call(e,e[s],s))&&(i+=n);return i},to.mean=function(e,t){var n,a=0,s=e.length,o=-1,l=s;if(1===arguments.length)for(;++o<s;)r(n=i(e[o]))?a+=n:--l;else for(;++o<s;)r(n=i(t.call(e,e[o],o)))?a+=n:--l;return l?a/l:void 0},to.quantile=function(e,t){var n=(e.length-1)*t+1,i=Math.floor(n),r=+e[i-1],a=n-i;return a?r+a*(e[i]-r):r},to.median=function(e,t){var a,s=[],o=e.length,l=-1;if(1===arguments.length)for(;++l<o;)r(a=i(e[l]))&&s.push(a);else for(;++l<o;)r(a=i(t.call(e,e[l],l)))&&s.push(a);return s.length?to.quantile(s.sort(n),.5):void 0},to.variance=function(e,t){var n,a,s=e.length,o=0,l=0,c=-1,h=0;if(1===arguments.length)for(;++c<s;)r(n=i(e[c]))&&(a=n-o,o+=a/++h,l+=a*(n-o));else for(;++c<s;)r(n=i(t.call(e,e[c],c)))&&(a=n-o,o+=a/++h,l+=a*(n-o));return h>1?l/(h-1):void 0},to.deviation=function(){var e=to.variance.apply(this,arguments);return e?Math.sqrt(e):e};var po=a(n);to.bisectLeft=po.left,to.bisect=to.bisectRight=po.right,to.bisector=function(e){return a(1===e.length?function(t,i){return n(e(t),i)}:e)},to.shuffle=function(e,t,n){(a=arguments.length)<3&&(n=e.length,2>a&&(t=0));for(var i,r,a=n-t;a;)r=0|Math.random()*a--,i=e[a+t],e[a+t]=e[r+t],e[r+t]=i;return e},to.permute=function(e,t){for(var n=t.length,i=new Array(n);n--;)i[n]=e[t[n]];return i},to.pairs=function(e){for(var t,n=0,i=e.length-1,r=e[0],a=new Array(0>i?0:i);i>n;)a[n]=[t=r,r=e[++n]];return a},to.zip=function(){if(!(i=arguments.length))return[];for(var e=-1,t=to.min(arguments,s),n=new Array(t);++e<t;)for(var i,r=-1,a=n[e]=new Array(i);++r<i;)a[r]=arguments[r][e];return n},to.transpose=function(e){return to.zip.apply(to,e)},to.keys=function(e){var t=[];for(var n in e)t.push(n);return t},to.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},to.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},to.merge=function(e){for(var t,n,i,r=e.length,a=-1,s=0;++a<r;)s+=e[a].length;for(n=new Array(s);--r>=0;)for(i=e[r],t=i.length;--t>=0;)n[--s]=i[t];return n};var fo=Math.abs;to.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),1/0===(t-e)/n)throw new Error("infinite range");var i,r=[],a=o(fo(n)),s=-1;if(e*=a,t*=a,n*=a,0>n)for(;(i=e+n*++s)>t;)r.push(i/a);else for(;(i=e+n*++s)<t;)r.push(i/a);return r},to.map=function(e,t){var n=new c;if(e instanceof c)e.forEach(function(e,t){n.set(e,t)});else if(Array.isArray(e)){var i,r=-1,a=e.length;if(1===arguments.length)for(;++r<a;)n.set(r,e[r]);else for(;++r<a;)n.set(t.call(e,i=e[r],r),i)}else for(var s in e)n.set(s,e[s]);return n};var go="__proto__",mo="\0";l(c,{has:d,get:function(e){return this._[h(e)]},set:function(e,t){return this._[h(e)]=t},remove:p,keys:f,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:u(t),value:this._[t]});return e},size:g,empty:m,forEach:function(e){for(var t in this._)e.call(this,u(t),this._[t])}}),to.nest=function(){function e(t,s,o){if(o>=a.length)return i?i.call(r,s):n?s.sort(n):s;for(var l,h,u,d,p=-1,f=s.length,g=a[o++],m=new c;++p<f;)(d=m.get(l=g(h=s[p])))?d.push(h):m.set(l,[h]);return t?(h=t(),u=function(n,i){h.set(n,e(t,i,o))}):(h={},u=function(n,i){h[n]=e(t,i,o)}),m.forEach(u),h}function t(e,n){if(n>=a.length)return e;var i=[],r=s[n++];return e.forEach(function(e,r){i.push({key:e,values:t(r,n)})}),r?i.sort(function(e,t){return r(e.key,t.key)}):i}var n,i,r={},a=[],s=[];return r.map=function(t,n){return e(n,t,0)},r.entries=function(n){return t(e(to.map,n,0),0)},r.key=function(e){return a.push(e),r},r.sortKeys=function(e){return s[a.length-1]=e,r},r.sortValues=function(e){return n=e,r},r.rollup=function(e){return i=e,r},r},to.set=function(e){var t=new v;if(e)for(var n=0,i=e.length;i>n;++n)t.add(e[n]);return t},l(v,{has:d,add:function(e){return this._[h(e+="")]=!0,e},remove:p,values:f,size:g,empty:m,forEach:function(e){for(var t in this._)e.call(this,u(t))}}),to.behavior={},to.rebind=function(e,t){for(var n,i=1,r=arguments.length;++i<r;)e[n=arguments[i]]=y(e,t,t[n]);return e};var vo=["webkit","ms","moz","Moz","o","O"];to.dispatch=function(){for(var e=new _,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=C(e);return e},_.prototype.on=function(e,t){var n=e.indexOf("."),i="";if(n>=0&&(i=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(i):this[e].on(i,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(i,null);return this}},to.event=null,to.requote=function(e){return e.replace(bo,"\\$&")};var bo=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,yo={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},xo=function(e,t){return t.querySelector(e)},wo=function(e,t){return t.querySelectorAll(e)},_o=function(e,t){var n=e.matches||e[x(e,"matchesSelector")];return _o=function(e,t){return n.call(e,t)},_o(e,t)};"function"==typeof Sizzle&&(xo=function(e,t){return Sizzle(e,t)[0]||null},wo=Sizzle,_o=Sizzle.matchesSelector),to.selection=function(){return to.select(ro.documentElement)};var Co=to.selection.prototype=[];Co.select=function(e){var t,n,i,r,a=[];e=k(e);for(var s=-1,o=this.length;++s<o;){a.push(t=[]),t.parentNode=(i=this[s]).parentNode;for(var l=-1,c=i.length;++l<c;)(r=i[l])?(t.push(n=e.call(r,r.__data__,l,s)),n&&"__data__"in r&&(n.__data__=r.__data__)):t.push(null)}return E(a)},Co.selectAll=function(e){var t,n,i=[];e=I(e);for(var r=-1,a=this.length;++r<a;)for(var s=this[r],o=-1,l=s.length;++o<l;)(n=s[o])&&(i.push(t=io(e.call(n,n.__data__,o,r))),t.parentNode=n);return E(i)};var To={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};to.ns={prefix:To,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&(n=e.slice(0,t),e=e.slice(t+1)),To.hasOwnProperty(n)?{space:To[n],local:e}:e}},Co.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return e=to.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(N(t,e[t]));return this}return this.each(N(e,t))},Co.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),i=(e=M(e)).length,r=-1;if(t=n.classList){for(;++r<i;)if(!t.contains(e[r]))return!1}else for(t=n.getAttribute("class");++r<i;)if(!R(e[r]).test(t))return!1;return!0}for(t in e)this.each(P(t,e[t]));return this}return this.each(P(e,t))},Co.style=function(e,n,i){var r=arguments.length;if(3>r){if("string"!=typeof e){2>r&&(n="");for(i in e)this.each(F(i,e[i],n));return this}if(2>r){var a=this.node();return t(a).getComputedStyle(a,null).getPropertyValue(e)}i=""}return this.each(F(e,n,i))},Co.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(B(t,e[t]));return this}return this.each(B(e,t))},Co.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},Co.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},Co.append=function(e){return e=j(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},Co.insert=function(e,t){return e=j(e),t=k(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},Co.remove=function(){return this.each(L)},Co.data=function(e,t){function n(e,n){var i,r,a,s=e.length,u=n.length,d=Math.min(s,u),p=new Array(u),f=new Array(u),g=new Array(s);if(t){var m,v=new c,b=new Array(s);for(i=-1;++i<s;)v.has(m=t.call(r=e[i],r.__data__,i))?g[i]=r:v.set(m,r),b[i]=m;for(i=-1;++i<u;)(r=v.get(m=t.call(n,a=n[i],i)))?r!==!0&&(p[i]=r,r.__data__=a):f[i]=V(a),v.set(m,!0);for(i=-1;++i<s;)v.get(b[i])!==!0&&(g[i]=e[i])}else{for(i=-1;++i<d;)r=e[i],a=n[i],r?(r.__data__=a,p[i]=r):f[i]=V(a);for(;u>i;++i)f[i]=V(n[i]);for(;s>i;++i)g[i]=e[i]}f.update=p,f.parentNode=p.parentNode=g.parentNode=e.parentNode,o.push(f),l.push(p),h.push(g)}var i,r,a=-1,s=this.length;if(!arguments.length){for(e=new Array(s=(i=this[0]).length);++a<s;)(r=i[a])&&(e[a]=r.__data__);return e}var o=z([]),l=E([]),h=E([]);if("function"==typeof e)for(;++a<s;)n(i=this[a],e.call(i,i.parentNode.__data__,a));else for(;++a<s;)n(i=this[a],e);return l.enter=function(){return o},l.exit=function(){return h},l},Co.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},Co.filter=function(e){var t,n,i,r=[];"function"!=typeof e&&(e=$(e));for(var a=0,s=this.length;s>a;a++){r.push(t=[]),t.parentNode=(n=this[a]).parentNode;for(var o=0,l=n.length;l>o;o++)(i=n[o])&&e.call(i,i.__data__,o,a)&&t.push(i)}return E(r)},Co.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,i=this[e],r=i.length-1,a=i[r];--r>=0;)(n=i[r])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},Co.sort=function(e){e=H.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},Co.each=function(e){return G(this,function(t,n,i){e.call(t,t.__data__,n,i)})},Co.call=function(e){var t=io(arguments);return e.apply(t[0]=this,t),this},Co.empty=function(){return!this.node()},Co.node=function(){for(var e=0,t=this.length;t>e;e++)for(var n=this[e],i=0,r=n.length;r>i;i++){var a=n[i];if(a)return a}return null},Co.size=function(){var e=0;return G(this,function(){++e}),e};var Do=[];to.selection.enter=z,to.selection.enter.prototype=Do,Do.append=Co.append,Do.empty=Co.empty,Do.node=Co.node,Do.call=Co.call,Do.size=Co.size,Do.select=function(e){for(var t,n,i,r,a,s=[],o=-1,l=this.length;++o<l;){i=(r=this[o]).update,s.push(t=[]),t.parentNode=r.parentNode;for(var c=-1,h=r.length;++c<h;)(a=r[c])?(t.push(i[c]=n=e.call(r.parentNode,a.__data__,c,o)),n.__data__=a.__data__):t.push(null)}return E(s)},Do.insert=function(e,t){return arguments.length<2&&(t=U(this)),Co.insert.call(this,e,t)},to.select=function(t){var n;return"string"==typeof t?(n=[xo(t,ro)],n.parentNode=ro.documentElement):(n=[t],n.parentNode=e(t)),E([n])},to.selectAll=function(e){var t;return"string"==typeof e?(t=io(wo(e,ro)),t.parentNode=ro.documentElement):(t=e,t.parentNode=null),E([t])},Co.on=function(e,t,n){var i=arguments.length;if(3>i){if("string"!=typeof e){2>i&&(t=!1);for(n in e)this.each(W(n,e[n],t));return this}if(2>i)return(i=this.node()["__on"+e])&&i._;n=!1}return this.each(W(e,t,n))};var So=to.map({mouseenter:"mouseover",mouseleave:"mouseout"});ro&&So.forEach(function(e){"on"+e in ro&&So.remove(e)});var Eo,ko=0;to.mouse=function(e){return X(e,D())};var Io=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;to.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=D().changedTouches),t)for(var i,r=0,a=t.length;a>r;++r)if((i=t[r]).identifier===n)return X(e,i)},to.behavior.drag=function(){function e(){this.on("mousedown.drag",a).on("touchstart.drag",s)}function n(e,t,n,a,s){return function(){function o(){var e,n,i=t(d,g);i&&(e=i[0]-y[0],n=i[1]-y[1],f|=e|n,y=i,p({type:"drag",x:i[0]+c[0],y:i[1]+c[1],dx:e,dy:n}))}function l(){t(d,g)&&(v.on(a+m,null).on(s+m,null),b(f&&to.event.target===u),p({type:"dragend"}))}var c,h=this,u=to.event.target,d=h.parentNode,p=i.of(h,arguments),f=0,g=e(),m=".drag"+(null==g?"":"-"+g),v=to.select(n(u)).on(a+m,o).on(s+m,l),b=K(u),y=t(d,g);r?(c=r.apply(h,arguments),c=[c.x-y[0],c.y-y[1]]):c=[0,0],p({type:"dragstart"})}}var i=S(e,"drag","dragstart","dragend"),r=null,a=n(w,to.mouse,t,"mousemove","mouseup"),s=n(Q,to.touch,b,"touchmove","touchend");return e.origin=function(t){return arguments.length?(r=t,e):r},to.rebind(e,i,"on")},to.touches=function(e,t){return arguments.length<2&&(t=D().touches),t?io(t).map(function(t){var n=X(e,t);return n.identifier=t.identifier,n}):[]};var No=1e-6,Ao=No*No,Ro=Math.PI,Mo=2*Ro,Po=Mo-No,Oo=Ro/2,Fo=Ro/180,Bo=180/Ro,jo=Math.SQRT2,Lo=2,Vo=4;to.interpolateZoom=function(e,t){function n(e){var t=e*b;if(v){var n=it(g),s=a/(Lo*d)*(n*rt(jo*t+g)-nt(g));return[i+s*c,r+s*h,a*n/it(jo*t+g)]}return[i+e*c,r+e*h,a*Math.exp(jo*t)]}var i=e[0],r=e[1],a=e[2],s=t[0],o=t[1],l=t[2],c=s-i,h=o-r,u=c*c+h*h,d=Math.sqrt(u),p=(l*l-a*a+Vo*u)/(2*a*Lo*d),f=(l*l-a*a-Vo*u)/(2*l*Lo*d),g=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(f*f+1)-f),v=m-g,b=(v||Math.log(l/a))/jo;return n.duration=1e3*b,n},to.behavior.zoom=function(){function e(e){e.on(A,u).on(Ho+".zoom",p).on("dblclick.zoom",f).on(P,d)}function n(e){return[(e[0]-D.x)/D.k,(e[1]-D.y)/D.k]}function i(e){return[e[0]*D.k+D.x,e[1]*D.k+D.y]}function r(e){D.k=Math.max(k[0],Math.min(k[1],e))}function a(e,t){t=i(t),D.x+=e[0]-t[0],D.y+=e[1]-t[1]}function s(t,n,i,s){t.__chart__={x:D.x,y:D.y,k:D.k},r(Math.pow(2,s)),a(m=n,i),t=to.select(t),I>0&&(t=t.transition().duration(I)),t.call(e.event)}function o(){w&&w.domain(x.range().map(function(e){return(e-D.x)/D.k}).map(x.invert)),C&&C.domain(_.range().map(function(e){return(e-D.y)/D.k}).map(_.invert))}function l(e){N++||e({type:"zoomstart"})}function c(e){o(),e({type:"zoom",scale:D.k,translate:[D.x,D.y]})}function h(e){--N||e({type:"zoomend"}),m=null}function u(){function e(){u=1,a(to.mouse(r),p),c(o)}function i(){d.on(R,null).on(M,null),f(u&&to.event.target===s),h(o)}var r=this,s=to.event.target,o=O.of(r,arguments),u=0,d=to.select(t(r)).on(R,e).on(M,i),p=n(to.mouse(r)),f=K(r);Fc.call(r),l(o)}function d(){function e(){var e=to.touches(f);return p=D.k,e.forEach(function(e){e.identifier in m&&(m[e.identifier]=n(e))}),e}function t(){var t=to.event.target;to.select(t).on(x,i).on(w,o),_.push(t);for(var n=to.event.changedTouches,r=0,a=n.length;a>r;++r)m[n[r].identifier]=null;var l=e(),c=Date.now();if(1===l.length){if(500>c-y){var h=l[0];s(f,h,m[h.identifier],Math.floor(Math.log(D.k)/Math.LN2)+1),T()}y=c}else if(l.length>1){var h=l[0],u=l[1],d=h[0]-u[0],p=h[1]-u[1];v=d*d+p*p}}function i(){var e,t,n,i,s=to.touches(f);Fc.call(f);for(var o=0,l=s.length;l>o;++o,i=null)if(n=s[o],i=m[n.identifier]){if(t)break;e=n,t=i}if(i){var h=(h=n[0]-e[0])*h+(h=n[1]-e[1])*h,u=v&&Math.sqrt(h/v);e=[(e[0]+n[0])/2,(e[1]+n[1])/2],t=[(t[0]+i[0])/2,(t[1]+i[1])/2],r(u*p)}y=null,a(e,t),c(g)}function o(){if(to.event.touches.length){for(var t=to.event.changedTouches,n=0,i=t.length;i>n;++n)delete m[t[n].identifier];for(var r in m)return void e()}to.selectAll(_).on(b,null),C.on(A,u).on(P,d),S(),h(g)}var p,f=this,g=O.of(f,arguments),m={},v=0,b=".zoom-"+to.event.changedTouches[0].identifier,x="touchmove"+b,w="touchend"+b,_=[],C=to.select(f),S=K(f);t(),l(g),C.on(A,null).on(P,t)}function p(){var e=O.of(this,arguments);b?clearTimeout(b):(g=n(m=v||to.mouse(this)),Fc.call(this),l(e)),b=setTimeout(function(){b=null,h(e)},50),T(),r(Math.pow(2,.002*$o())*D.k),a(m,g),c(e)}function f(){var e=to.mouse(this),t=Math.log(D.k)/Math.LN2;s(this,e,n(e),to.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}var g,m,v,b,y,x,w,_,C,D={x:0,y:0,k:1},E=[960,500],k=Go,I=250,N=0,A="mousedown.zoom",R="mousemove.zoom",M="mouseup.zoom",P="touchstart.zoom",O=S(e,"zoomstart","zoom","zoomend");return Ho||(Ho="onwheel"in ro?($o=function(){return-to.event.deltaY*(to.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ro?($o=function(){return to.event.wheelDelta},"mousewheel"):($o=function(){return-to.event.detail},"MozMousePixelScroll")),e.event=function(e){e.each(function(){var e=O.of(this,arguments),t=D;Pc?to.select(this).transition().each("start.zoom",function(){D=this.__chart__||{x:0,y:0,k:1},l(e)}).tween("zoom:zoom",function(){var n=E[0],i=E[1],r=m?m[0]:n/2,a=m?m[1]:i/2,s=to.interpolateZoom([(r-D.x)/D.k,(a-D.y)/D.k,n/D.k],[(r-t.x)/t.k,(a-t.y)/t.k,n/t.k]);return function(t){var i=s(t),o=n/i[2];this.__chart__=D={x:r-i[0]*o,y:a-i[1]*o,k:o},c(e)}}).each("interrupt.zoom",function(){h(e)}).each("end.zoom",function(){h(e)}):(this.__chart__=D,l(e),c(e),h(e))})},e.translate=function(t){return arguments.length?(D={x:+t[0],y:+t[1],k:D.k},o(),e):[D.x,D.y]},e.scale=function(t){return arguments.length?(D={x:D.x,y:D.y,k:+t},o(),e):D.k},e.scaleExtent=function(t){return arguments.length?(k=null==t?Go:[+t[0],+t[1]],e):k},e.center=function(t){return arguments.length?(v=t&&[+t[0],+t[1]],e):v},e.size=function(t){return arguments.length?(E=t&&[+t[0],+t[1]],e):E},e.duration=function(t){return arguments.length?(I=+t,e):I},e.x=function(t){return arguments.length?(w=t,x=t.copy(),D={x:0,y:0,k:1},e):w},e.y=function(t){return arguments.length?(C=t,_=t.copy(),D={x:0,y:0,k:1},e):C},to.rebind(e,O,"on")};var $o,Ho,Go=[0,1/0];to.color=st,st.prototype.toString=function(){return this.rgb()+""},to.hsl=ot;var zo=ot.prototype=new st;zo.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new ot(this.h,this.s,this.l/e)},zo.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new ot(this.h,this.s,e*this.l)},zo.rgb=function(){return lt(this.h,this.s,this.l)},to.hcl=ct;var Uo=ct.prototype=new st;Uo.brighter=function(e){return new ct(this.h,this.c,Math.min(100,this.l+Wo*(arguments.length?e:1)))},Uo.darker=function(e){return new ct(this.h,this.c,Math.max(0,this.l-Wo*(arguments.length?e:1)))},Uo.rgb=function(){return ht(this.h,this.c,this.l).rgb()},to.lab=ut;var Wo=18,qo=.95047,Yo=1,Ko=1.08883,Xo=ut.prototype=new st;Xo.brighter=function(e){return new ut(Math.min(100,this.l+Wo*(arguments.length?e:1)),this.a,this.b)},Xo.darker=function(e){return new ut(Math.max(0,this.l-Wo*(arguments.length?e:1)),this.a,this.b)},Xo.rgb=function(){return dt(this.l,this.a,this.b)},to.rgb=vt;var Qo=vt.prototype=new st;Qo.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,i=this.b,r=30;return t||n||i?(t&&r>t&&(t=r),n&&r>n&&(n=r),i&&r>i&&(i=r),new vt(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,i/e))):new vt(r,r,r)},Qo.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new vt(e*this.r,e*this.g,e*this.b)},Qo.hsl=function(){return _t(this.r,this.g,this.b)},Qo.toString=function(){return"#"+xt(this.r)+xt(this.g)+xt(this.b)};var Jo=to.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Jo.forEach(function(e,t){Jo.set(e,bt(t))}),to.functor=St,to.xhr=Et(b),to.dsv=function(e,t){function n(e,n,a){arguments.length<3&&(a=n,n=null);var s=kt(e,t,null==n?i:r(n),a);return s.row=function(e){return arguments.length?s.response(null==(n=e)?i:r(e)):n},s}function i(e){return n.parse(e.responseText)}function r(e){return function(t){return n.parse(t.responseText,e)}}function a(t){return t.map(s).join(e)}function s(e){return o.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var o=new RegExp('["'+e+"\n]"),l=e.charCodeAt(0);return n.parse=function(e,t){var i;return n.parseRows(e,function(e,n){if(i)return i(e,n-1);var r=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");i=t?function(e,n){return t(r(e),n)}:r})},n.parseRows=function(e,t){function n(){if(h>=c)return s;if(r)return r=!1,a;var t=h;if(34===e.charCodeAt(t)){for(var n=t;n++<c;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}h=n+2;var i=e.charCodeAt(n+1);return 13===i?(r=!0,10===e.charCodeAt(n+2)&&++h):10===i&&(r=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;c>h;){var i=e.charCodeAt(h++),o=1;if(10===i)r=!0;else if(13===i)r=!0,10===e.charCodeAt(h)&&(++h,++o);else if(i!==l)continue;return e.slice(t,h-o)}return e.slice(t)}for(var i,r,a={},s={},o=[],c=e.length,h=0,u=0;(i=n())!==s;){for(var d=[];i!==a&&i!==s;)d.push(i),i=n();t&&null==(d=t(d,u++))||o.push(d)}return o},n.format=function(t){if(Array.isArray(t[0]))return n.formatRows(t);var i=new v,r=[];return t.forEach(function(e){for(var t in e)i.has(t)||r.push(i.add(t))}),[r.map(s).join(e)].concat(t.map(function(t){return r.map(function(e){return s(t[e])}).join(e)})).join("\n")},n.formatRows=function(e){return e.map(a).join("\n")},n},to.csv=to.dsv(",","text/csv"),to.tsv=to.dsv("	","text/tab-separated-values");var Zo,el,tl,nl,il,rl=this[x(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};to.timer=function(e,t,n){var i=arguments.length;2>i&&(t=0),3>i&&(n=Date.now());var r=n+t,a={c:e,t:r,f:!1,n:null};el?el.n=a:Zo=a,el=a,tl||(nl=clearTimeout(nl),tl=1,rl(At))},to.timer.flush=function(){Rt(),Mt()},to.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var al=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Ot);to.formatPrefix=function(e,t){var n=0;return e&&(0>e&&(e*=-1),t&&(e=to.round(e,Pt(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),al[8+n/3]};var sl=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ol=to.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=to.round(e,Pt(e,t))).toFixed(Math.max(0,Math.min(20,Pt(e*(1+1e-15),t))))}}),ll=to.time={},cl=Date;jt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){hl.setUTCDate.apply(this._,arguments)},setDay:function(){hl.setUTCDay.apply(this._,arguments)},setFullYear:function(){hl.setUTCFullYear.apply(this._,arguments)},setHours:function(){hl.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){hl.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){hl.setUTCMinutes.apply(this._,arguments)},setMonth:function(){hl.setUTCMonth.apply(this._,arguments)},setSeconds:function(){hl.setUTCSeconds.apply(this._,arguments)},setTime:function(){hl.setTime.apply(this._,arguments)}};var hl=Date.prototype;ll.year=Lt(function(e){return e=ll.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),ll.years=ll.year.range,ll.years.utc=ll.year.utc.range,ll.day=Lt(function(e){var t=new cl(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),ll.days=ll.day.range,ll.days.utc=ll.day.utc.range,ll.dayOfYear=function(e){var t=ll.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=ll[e]=Lt(function(e){return(e=ll.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=ll.year(e).getDay();return Math.floor((ll.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});ll[e+"s"]=n.range,ll[e+"s"].utc=n.utc.range,ll[e+"OfYear"]=function(e){var n=ll.year(e).getDay();return Math.floor((ll.dayOfYear(e)+(n+t)%7)/7)}}),ll.week=ll.sunday,ll.weeks=ll.sunday.range,ll.weeks.utc=ll.sunday.utc.range,ll.weekOfYear=ll.sundayOfYear;var ul={"-":"",_:" ",0:"0"},dl=/^\s*\d+/,pl=/^%/;to.locale=function(e){return{numberFormat:Ft(e),timeFormat:$t(e)}};var fl=to.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});
to.format=fl.numberFormat,to.geo={},cn.prototype={s:0,t:0,add:function(e){hn(e,this.t,gl),hn(gl.s,this.s,this),this.s?this.t+=gl.t:this.s=gl.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var gl=new cn;to.geo.stream=function(e,t){e&&ml.hasOwnProperty(e.type)?ml[e.type](e,t):un(e,t)};var ml={Feature:function(e,t){un(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)un(n[i].geometry,t)}},vl={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){dn(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)dn(n[i],t,0)},Polygon:function(e,t){pn(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)pn(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)un(n[i],t)}};to.geo.area=function(e){return bl=0,to.geo.stream(e,xl),bl};var bl,yl=new cn,xl={sphere:function(){bl+=4*Ro},point:w,lineStart:w,lineEnd:w,polygonStart:function(){yl.reset(),xl.lineStart=fn},polygonEnd:function(){var e=2*yl;bl+=0>e?4*Ro+e:e,xl.lineStart=xl.lineEnd=xl.point=w}};to.geo.bounds=function(){function e(e,t){y.push(x=[h=e,d=e]),u>t&&(u=t),t>p&&(p=t)}function t(t,n){var i=gn([t*Fo,n*Fo]);if(v){var r=vn(v,i),a=[r[1],-r[0],0],s=vn(a,r);xn(s),s=wn(s);var l=t-f,c=l>0?1:-1,g=s[0]*Bo*c,m=fo(l)>180;if(m^(g>c*f&&c*t>g)){var b=s[1]*Bo;b>p&&(p=b)}else if(g=(g+360)%360-180,m^(g>c*f&&c*t>g)){var b=-s[1]*Bo;u>b&&(u=b)}else u>n&&(u=n),n>p&&(p=n);m?f>t?o(h,t)>o(h,d)&&(d=t):o(t,d)>o(h,d)&&(h=t):d>=h?(h>t&&(h=t),t>d&&(d=t)):t>f?o(h,t)>o(h,d)&&(d=t):o(t,d)>o(h,d)&&(h=t)}else e(t,n);v=i,f=t}function n(){w.point=t}function i(){x[0]=h,x[1]=d,w.point=e,v=null}function r(e,n){if(v){var i=e-f;b+=fo(i)>180?i+(i>0?360:-360):i}else g=e,m=n;xl.point(e,n),t(e,n)}function a(){xl.lineStart()}function s(){r(g,m),xl.lineEnd(),fo(b)>No&&(h=-(d=180)),x[0]=h,x[1]=d,v=null}function o(e,t){return(t-=e)<0?t+360:t}function l(e,t){return e[0]-t[0]}function c(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var h,u,d,p,f,g,m,v,b,y,x,w={point:e,lineStart:n,lineEnd:i,polygonStart:function(){w.point=r,w.lineStart=a,w.lineEnd=s,b=0,xl.polygonStart()},polygonEnd:function(){xl.polygonEnd(),w.point=e,w.lineStart=n,w.lineEnd=i,0>yl?(h=-(d=180),u=-(p=90)):b>No?p=90:-No>b&&(u=-90),x[0]=h,x[1]=d}};return function(e){p=d=-(h=u=1/0),y=[],to.geo.stream(e,w);var t=y.length;if(t){y.sort(l);for(var n,i=1,r=y[0],a=[r];t>i;++i)n=y[i],c(n[0],r)||c(n[1],r)?(o(r[0],n[1])>o(r[0],r[1])&&(r[1]=n[1]),o(n[0],r[1])>o(r[0],r[1])&&(r[0]=n[0])):a.push(r=n);for(var s,n,f=-1/0,t=a.length-1,i=0,r=a[t];t>=i;r=n,++i)n=a[i],(s=o(r[1],n[0]))>f&&(f=s,h=n[0],d=r[1])}return y=x=null,1/0===h||1/0===u?[[0/0,0/0],[0/0,0/0]]:[[h,u],[d,p]]}}(),to.geo.centroid=function(e){wl=_l=Cl=Tl=Dl=Sl=El=kl=Il=Nl=Al=0,to.geo.stream(e,Rl);var t=Il,n=Nl,i=Al,r=t*t+n*n+i*i;return Ao>r&&(t=Sl,n=El,i=kl,No>_l&&(t=Cl,n=Tl,i=Dl),r=t*t+n*n+i*i,Ao>r)?[0/0,0/0]:[Math.atan2(n,t)*Bo,tt(i/Math.sqrt(r))*Bo]};var wl,_l,Cl,Tl,Dl,Sl,El,kl,Il,Nl,Al,Rl={sphere:w,point:Cn,lineStart:Dn,lineEnd:Sn,polygonStart:function(){Rl.lineStart=En},polygonEnd:function(){Rl.lineStart=Dn}},Ml=Mn(In,Bn,Ln,[-Ro,-Ro/2]),Pl=1e9;to.geo.clipExtent=function(){var e,t,n,i,r,a,s={stream:function(e){return r&&(r.valid=!1),r=a(e),r.valid=!0,r},extent:function(o){return arguments.length?(a=Gn(e=+o[0][0],t=+o[0][1],n=+o[1][0],i=+o[1][1]),r&&(r.valid=!1,r=null),s):[[e,t],[n,i]]}};return s.extent([[0,0],[960,500]])},(to.geo.conicEqualArea=function(){return zn(Un)}).raw=Un,to.geo.albers=function(){return to.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},to.geo.albersUsa=function(){function e(e){var a=e[0],s=e[1];return t=null,n(a,s),t||(i(a,s),t)||r(a,s),t}var t,n,i,r,a=to.geo.albers(),s=to.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o=to.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(e,n){t=[e,n]}};return e.invert=function(e){var t=a.scale(),n=a.translate(),i=(e[0]-n[0])/t,r=(e[1]-n[1])/t;return(r>=.12&&.234>r&&i>=-.425&&-.214>i?s:r>=.166&&.234>r&&i>=-.214&&-.115>i?o:a).invert(e)},e.stream=function(e){var t=a.stream(e),n=s.stream(e),i=o.stream(e);return{point:function(e,r){t.point(e,r),n.point(e,r),i.point(e,r)},sphere:function(){t.sphere(),n.sphere(),i.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},e.precision=function(t){return arguments.length?(a.precision(t),s.precision(t),o.precision(t),e):a.precision()},e.scale=function(t){return arguments.length?(a.scale(t),s.scale(.35*t),o.scale(t),e.translate(a.translate())):a.scale()},e.translate=function(t){if(!arguments.length)return a.translate();var c=a.scale(),h=+t[0],u=+t[1];return n=a.translate(t).clipExtent([[h-.455*c,u-.238*c],[h+.455*c,u+.238*c]]).stream(l).point,i=s.translate([h-.307*c,u+.201*c]).clipExtent([[h-.425*c+No,u+.12*c+No],[h-.214*c-No,u+.234*c-No]]).stream(l).point,r=o.translate([h-.205*c,u+.212*c]).clipExtent([[h-.214*c+No,u+.166*c+No],[h-.115*c-No,u+.234*c-No]]).stream(l).point,e},e.scale(1070)};var Ol,Fl,Bl,jl,Ll,Vl,$l={point:w,lineStart:w,lineEnd:w,polygonStart:function(){Fl=0,$l.lineStart=Wn},polygonEnd:function(){$l.lineStart=$l.lineEnd=$l.point=w,Ol+=fo(Fl/2)}},Hl={point:qn,lineStart:w,lineEnd:w,polygonStart:w,polygonEnd:w},Gl={point:Xn,lineStart:Qn,lineEnd:Jn,polygonStart:function(){Gl.lineStart=Zn},polygonEnd:function(){Gl.point=Xn,Gl.lineStart=Qn,Gl.lineEnd=Jn}};to.geo.path=function(){function e(e){return e&&("function"==typeof o&&a.pointRadius(+o.apply(this,arguments)),s&&s.valid||(s=r(a)),to.geo.stream(e,s)),a.result()}function t(){return s=null,e}var n,i,r,a,s,o=4.5;return e.area=function(e){return Ol=0,to.geo.stream(e,r($l)),Ol},e.centroid=function(e){return Cl=Tl=Dl=Sl=El=kl=Il=Nl=Al=0,to.geo.stream(e,r(Gl)),Al?[Il/Al,Nl/Al]:kl?[Sl/kl,El/kl]:Dl?[Cl/Dl,Tl/Dl]:[0/0,0/0]},e.bounds=function(e){return Ll=Vl=-(Bl=jl=1/0),to.geo.stream(e,r(Hl)),[[Bl,jl],[Ll,Vl]]},e.projection=function(e){return arguments.length?(r=(n=e)?e.stream||ni(e):b,t()):n},e.context=function(e){return arguments.length?(a=null==(i=e)?new Yn:new ei(e),"function"!=typeof o&&a.pointRadius(o),t()):i},e.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(a.pointRadius(+t),+t),e):o},e.projection(to.geo.albersUsa()).context(null)},to.geo.transform=function(e){return{stream:function(t){var n=new ii(t);for(var i in e)n[i]=e[i];return n}}},ii.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},to.geo.projection=ai,to.geo.projectionMutator=si,(to.geo.equirectangular=function(){return ai(li)}).raw=li.invert=li,to.geo.rotation=function(e){function t(t){return t=e(t[0]*Fo,t[1]*Fo),t[0]*=Bo,t[1]*=Bo,t}return e=hi(e[0]%360*Fo,e[1]*Fo,e.length>2?e[2]*Fo:0),t.invert=function(t){return t=e.invert(t[0]*Fo,t[1]*Fo),t[0]*=Bo,t[1]*=Bo,t},t},ci.invert=li,to.geo.circle=function(){function e(){var e="function"==typeof i?i.apply(this,arguments):i,t=hi(-e[0]*Fo,-e[1]*Fo,0).invert,r=[];return n(null,null,1,{point:function(e,n){r.push(e=t(e,n)),e[0]*=Bo,e[1]*=Bo}}),{type:"Polygon",coordinates:[r]}}var t,n,i=[0,0],r=6;return e.origin=function(t){return arguments.length?(i=t,e):i},e.angle=function(i){return arguments.length?(n=fi((t=+i)*Fo,r*Fo),e):t},e.precision=function(i){return arguments.length?(n=fi(t*Fo,(r=+i)*Fo),e):r},e.angle(90)},to.geo.distance=function(e,t){var n,i=(t[0]-e[0])*Fo,r=e[1]*Fo,a=t[1]*Fo,s=Math.sin(i),o=Math.cos(i),l=Math.sin(r),c=Math.cos(r),h=Math.sin(a),u=Math.cos(a);return Math.atan2(Math.sqrt((n=u*s)*n+(n=c*h-l*u*o)*n),l*h+c*u*o)},to.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return to.range(Math.ceil(a/m)*m,r,m).map(d).concat(to.range(Math.ceil(c/v)*v,l,v).map(p)).concat(to.range(Math.ceil(i/f)*f,n,f).filter(function(e){return fo(e%m)>No}).map(h)).concat(to.range(Math.ceil(o/g)*g,s,g).filter(function(e){return fo(e%v)>No}).map(u))}var n,i,r,a,s,o,l,c,h,u,d,p,f=10,g=f,m=90,v=360,b=2.5;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[d(a).concat(p(l).slice(1),d(r).reverse().slice(1),p(c).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(a=+t[0][0],r=+t[1][0],c=+t[0][1],l=+t[1][1],a>r&&(t=a,a=r,r=t),c>l&&(t=c,c=l,l=t),e.precision(b)):[[a,c],[r,l]]},e.minorExtent=function(t){return arguments.length?(i=+t[0][0],n=+t[1][0],o=+t[0][1],s=+t[1][1],i>n&&(t=i,i=n,n=t),o>s&&(t=o,o=s,s=t),e.precision(b)):[[i,o],[n,s]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(m=+t[0],v=+t[1],e):[m,v]},e.minorStep=function(t){return arguments.length?(f=+t[0],g=+t[1],e):[f,g]},e.precision=function(t){return arguments.length?(b=+t,h=mi(o,s,90),u=vi(i,n,b),d=mi(c,l,90),p=vi(a,r,b),e):b},e.majorExtent([[-180,-90+No],[180,90-No]]).minorExtent([[-180,-80-No],[180,80+No]])},to.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[t||i.apply(this,arguments),n||r.apply(this,arguments)]}}var t,n,i=bi,r=yi;return e.distance=function(){return to.geo.distance(t||i.apply(this,arguments),n||r.apply(this,arguments))},e.source=function(n){return arguments.length?(i=n,t="function"==typeof n?null:n,e):i},e.target=function(t){return arguments.length?(r=t,n="function"==typeof t?null:t,e):r},e.precision=function(){return arguments.length?e:0},e},to.geo.interpolate=function(e,t){return xi(e[0]*Fo,e[1]*Fo,t[0]*Fo,t[1]*Fo)},to.geo.length=function(e){return zl=0,to.geo.stream(e,Ul),zl};var zl,Ul={sphere:w,point:w,lineStart:wi,lineEnd:w,polygonStart:w,polygonEnd:w},Wl=_i(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(to.geo.azimuthalEqualArea=function(){return ai(Wl)}).raw=Wl;var ql=_i(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},b);(to.geo.azimuthalEquidistant=function(){return ai(ql)}).raw=ql,(to.geo.conicConformal=function(){return zn(Ci)}).raw=Ci,(to.geo.conicEquidistant=function(){return zn(Ti)}).raw=Ti;var Yl=_i(function(e){return 1/e},Math.atan);(to.geo.gnomonic=function(){return ai(Yl)}).raw=Yl,Di.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Oo]},(to.geo.mercator=function(){return Si(Di)}).raw=Di;var Kl=_i(function(){return 1},Math.asin);(to.geo.orthographic=function(){return ai(Kl)}).raw=Kl;var Xl=_i(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(to.geo.stereographic=function(){return ai(Xl)}).raw=Xl,Ei.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Oo]},(to.geo.transverseMercator=function(){var e=Si(Ei),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90])}).raw=Ei,to.geom={},to.geom.hull=function(e){function t(e){if(e.length<3)return[];var t,r=St(n),a=St(i),s=e.length,o=[],l=[];for(t=0;s>t;t++)o.push([+r.call(this,e[t],t),+a.call(this,e[t],t),t]);for(o.sort(Ai),t=0;s>t;t++)l.push([o[t][0],-o[t][1]]);var c=Ni(o),h=Ni(l),u=h[0]===c[0],d=h[h.length-1]===c[c.length-1],p=[];for(t=c.length-1;t>=0;--t)p.push(e[o[c[t]][2]]);for(t=+u;t<h.length-d;++t)p.push(e[o[h[t]][2]]);return p}var n=ki,i=Ii;return arguments.length?t(e):(t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(i=e,t):i},t)},to.geom.polygon=function(e){return yo(e,Ql),e};var Ql=to.geom.polygon.prototype=[];Ql.area=function(){for(var e,t=-1,n=this.length,i=this[n-1],r=0;++t<n;)e=i,i=this[t],r+=e[1]*i[0]-e[0]*i[1];return.5*r},Ql.centroid=function(e){var t,n,i=-1,r=this.length,a=0,s=0,o=this[r-1];for(arguments.length||(e=-1/(6*this.area()));++i<r;)t=o,o=this[i],n=t[0]*o[1]-o[0]*t[1],a+=(t[0]+o[0])*n,s+=(t[1]+o[1])*n;return[a*e,s*e]},Ql.clip=function(e){for(var t,n,i,r,a,s,o=Pi(e),l=-1,c=this.length-Pi(this),h=this[c-1];++l<c;){for(t=e.slice(),e.length=0,r=this[l],a=t[(i=t.length-o)-1],n=-1;++n<i;)s=t[n],Ri(s,h,r)?(Ri(a,h,r)||e.push(Mi(a,s,h,r)),e.push(s)):Ri(a,h,r)&&e.push(Mi(a,s,h,r)),a=s;o&&e.push(e[0]),h=r}return e};var Jl,Zl,ec,tc,nc,ic=[],rc=[];Hi.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)e=t[n].edge,e.b&&e.a||t.splice(n,1);return t.sort(zi),t.length},er.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},tr.prototype={insert:function(e,t){var n,i,r;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=ar(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)i=n.U,n===i.L?(r=i.R,r&&r.C?(n.C=r.C=!1,i.C=!0,e=i):(e===n.R&&(ir(this,n),e=n,n=e.U),n.C=!1,i.C=!0,rr(this,i))):(r=i.L,r&&r.C?(n.C=r.C=!1,i.C=!0,e=i):(e===n.L&&(rr(this,n),e=n,n=e.U),n.C=!1,i.C=!0,ir(this,i))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,i,r=e.U,a=e.L,s=e.R;if(n=a?s?ar(s):a:s,r?r.L===e?r.L=n:r.R=n:this._=n,a&&s?(i=n.C,n.C=e.C,n.L=a,a.U=n,n!==s?(r=n.U,n.U=e.U,e=n.R,r.L=e,n.R=s,s.U=n):(n.U=r,r=n,e=n.R)):(i=e.C,e=n),e&&(e.U=r),!i){if(e&&e.C)return e.C=!1,void 0;do{if(e===this._)break;if(e===r.L){if(t=r.R,t.C&&(t.C=!1,r.C=!0,ir(this,r),t=r.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,rr(this,t),t=r.R),t.C=r.C,r.C=t.R.C=!1,ir(this,r),e=this._;break}}else if(t=r.L,t.C&&(t.C=!1,r.C=!0,rr(this,r),t=r.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,ir(this,t),t=r.L),t.C=r.C,r.C=t.L.C=!1,rr(this,r),e=this._;break}t.C=!0,e=r,r=r.U}while(!e.C);e&&(e.C=!1)}}},to.geom.voronoi=function(e){function t(e){var t=new Array(e.length),i=o[0][0],r=o[0][1],a=o[1][0],s=o[1][1];return sr(n(e),o).cells.forEach(function(n,o){var l=n.edges,c=n.site,h=t[o]=l.length?l.map(function(e){var t=e.start();return[t.x,t.y]}):c.x>=i&&c.x<=a&&c.y>=r&&c.y<=s?[[i,s],[a,s],[a,r],[i,r]]:[];h.point=e[o]}),t}function n(e){return e.map(function(e,t){return{x:Math.round(a(e,t)/No)*No,y:Math.round(s(e,t)/No)*No,i:t}})}var i=ki,r=Ii,a=i,s=r,o=ac;return e?t(e):(t.links=function(e){return sr(n(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},t.triangles=function(e){var t=[];return sr(n(e)).cells.forEach(function(n,i){for(var r,a,s=n.site,o=n.edges.sort(zi),l=-1,c=o.length,h=o[c-1].edge,u=h.l===s?h.r:h.l;++l<c;)r=h,a=u,h=o[l].edge,u=h.l===s?h.r:h.l,i<a.i&&i<u.i&&lr(s,a,u)<0&&t.push([e[i],e[a.i],e[u.i]])}),t},t.x=function(e){return arguments.length?(a=St(i=e),t):i},t.y=function(e){return arguments.length?(s=St(r=e),t):r},t.clipExtent=function(e){return arguments.length?(o=null==e?ac:e,t):o===ac?null:o},t.size=function(e){return arguments.length?t.clipExtent(e&&[[0,0],e]):o===ac?null:o&&o[1]},t)};var ac=[[-1e6,-1e6],[1e6,1e6]];to.geom.delaunay=function(e){return to.geom.voronoi().triangles(e)},to.geom.quadtree=function(e,t,n,i,r){function a(e){function a(e,t,n,i,r,a,s,o){if(!isNaN(n)&&!isNaN(i))if(e.leaf){var l=e.x,h=e.y;if(null!=l)if(fo(l-n)+fo(h-i)<.01)c(e,t,n,i,r,a,s,o);else{var u=e.point;e.x=e.y=e.point=null,c(e,u,l,h,r,a,s,o),c(e,t,n,i,r,a,s,o)}else e.x=n,e.y=i,e.point=t}else c(e,t,n,i,r,a,s,o)}function c(e,t,n,i,r,s,o,l){var c=.5*(r+o),h=.5*(s+l),u=n>=c,d=i>=h,p=d<<1|u;e.leaf=!1,e=e.nodes[p]||(e.nodes[p]=ur()),u?r=c:o=c,d?s=h:l=h,a(e,t,n,i,r,s,o,l)}var h,u,d,p,f,g,m,v,b,y=St(o),x=St(l);if(null!=t)g=t,m=n,v=i,b=r;else if(v=b=-(g=m=1/0),u=[],d=[],f=e.length,s)for(p=0;f>p;++p)h=e[p],h.x<g&&(g=h.x),h.y<m&&(m=h.y),h.x>v&&(v=h.x),h.y>b&&(b=h.y),u.push(h.x),d.push(h.y);else for(p=0;f>p;++p){var w=+y(h=e[p],p),_=+x(h,p);g>w&&(g=w),m>_&&(m=_),w>v&&(v=w),_>b&&(b=_),u.push(w),d.push(_)}var C=v-g,T=b-m;C>T?b=m+C:v=g+T;var D=ur();if(D.add=function(e){a(D,e,+y(e,++p),+x(e,p),g,m,v,b)},D.visit=function(e){dr(e,D,g,m,v,b)},D.find=function(e){return pr(D,e[0],e[1],g,m,v,b)},p=-1,null==t){for(;++p<f;)a(D,e[p],u[p],d[p],g,m,v,b);--p}else e.forEach(D.add);return u=d=e=h=null,D}var s,o=ki,l=Ii;return(s=arguments.length)?(o=cr,l=hr,3===s&&(r=n,i=t,n=t=0),a(e)):(a.x=function(e){return arguments.length?(o=e,a):o},a.y=function(e){return arguments.length?(l=e,a):l},a.extent=function(e){return arguments.length?(null==e?t=n=i=r=null:(t=+e[0][0],n=+e[0][1],i=+e[1][0],r=+e[1][1]),a):null==t?null:[[t,n],[i,r]]},a.size=function(e){return arguments.length?(null==e?t=n=i=r=null:(t=n=0,i=+e[0],r=+e[1]),a):null==t?null:[i-t,r-n]},a)},to.interpolateRgb=fr,to.interpolateObject=gr,to.interpolateNumber=mr,to.interpolateString=vr;var sc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,oc=new RegExp(sc.source,"g");to.interpolate=br,to.interpolators=[function(e,t){var n=typeof t;return("string"===n?Jo.has(t)||/^(#|rgb\(|hsl\()/.test(t)?fr:vr:t instanceof st?fr:Array.isArray(t)?yr:"object"===n&&isNaN(t)?gr:mr)(e,t)}],to.interpolateArray=yr;var lc=function(){return b},cc=to.map({linear:lc,poly:Sr,quad:function(){return Cr},cubic:function(){return Tr},sin:function(){return Er},exp:function(){return kr},circle:function(){return Ir},elastic:Nr,back:Ar,bounce:function(){return Rr}}),hc=to.map({"in":b,out:wr,"in-out":_r,"out-in":function(e){return _r(wr(e))}});to.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.slice(0,t):e,i=t>=0?e.slice(t+1):"in";return n=cc.get(n)||lc,i=hc.get(i)||b,xr(i(n.apply(null,no.call(arguments,1))))},to.interpolateHcl=Mr,to.interpolateHsl=Pr,to.interpolateLab=Or,to.interpolateRound=Fr,to.transform=function(e){var t=ro.createElementNS(to.ns.prefix.svg,"g");return(to.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new Br(n?n.matrix:uc)})(e)},Br.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var uc={a:1,b:0,c:0,d:1,e:0,f:0};to.interpolateTransform=$r,to.layout={},to.layout.bundle=function(){return function(e){for(var t=[],n=-1,i=e.length;++n<i;)t.push(zr(e[n]));return t}},to.layout.chord=function(){function e(){var e,c,u,d,p,f={},g=[],m=to.range(a),v=[];for(n=[],i=[],e=0,d=-1;++d<a;){for(c=0,p=-1;++p<a;)c+=r[d][p];g.push(c),v.push(to.range(a)),e+=c}for(s&&m.sort(function(e,t){return s(g[e],g[t])}),o&&v.forEach(function(e,t){e.sort(function(e,n){return o(r[t][e],r[t][n])})}),e=(Mo-h*a)/e,c=0,d=-1;++d<a;){for(u=c,p=-1;++p<a;){var b=m[d],y=v[b][p],x=r[b][y],w=c,_=c+=x*e;f[b+"-"+y]={index:b,subindex:y,startAngle:w,endAngle:_,value:x}}i[b]={index:b,startAngle:u,endAngle:c,value:(c-u)/e},c+=h}for(d=-1;++d<a;)for(p=d-1;++p<a;){var C=f[d+"-"+p],T=f[p+"-"+d];(C.value||T.value)&&n.push(C.value<T.value?{source:T,target:C}:{source:C,target:T})}l&&t()}function t(){n.sort(function(e,t){return l((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var n,i,r,a,s,o,l,c={},h=0;return c.matrix=function(e){return arguments.length?(a=(r=e)&&r.length,n=i=null,c):r},c.padding=function(e){return arguments.length?(h=e,n=i=null,c):h},c.sortGroups=function(e){return arguments.length?(s=e,n=i=null,c):s},c.sortSubgroups=function(e){return arguments.length?(o=e,n=null,c):o},c.sortChords=function(e){return arguments.length?(l=e,n&&t(),c):l},c.chords=function(){return n||e(),n},c.groups=function(){return i||e(),i},c},to.layout.force=function(){function e(e){return function(t,n,i,r){if(t.point!==e){var a=t.cx-e.x,s=t.cy-e.y,o=r-n,l=a*a+s*s;if(l>o*o/m){if(f>l){var c=t.charge/l;e.px-=a*c,e.py-=s*c}return!0}if(t.point&&l&&f>l){var c=t.pointCharge/l;e.px-=a*c,e.py-=s*c}}return!t.charge}}function t(e){e.px=to.event.x,e.py=to.event.y,o.resume()}var n,i,r,a,s,o={},l=to.dispatch("start","tick","end"),c=[1,1],h=.9,u=dc,d=pc,p=-30,f=fc,g=.1,m=.64,v=[],y=[];return o.tick=function(){if((i*=.99)<.005)return l.end({type:"end",alpha:i=0}),!0;var t,n,o,u,d,f,m,b,x,w=v.length,_=y.length;for(n=0;_>n;++n)o=y[n],u=o.source,d=o.target,b=d.x-u.x,x=d.y-u.y,(f=b*b+x*x)&&(f=i*a[n]*((f=Math.sqrt(f))-r[n])/f,b*=f,x*=f,d.x-=b*(m=u.weight/(d.weight+u.weight)),d.y-=x*m,u.x+=b*(m=1-m),u.y+=x*m);if((m=i*g)&&(b=c[0]/2,x=c[1]/2,n=-1,m))for(;++n<w;)o=v[n],o.x+=(b-o.x)*m,o.y+=(x-o.y)*m;if(p)for(Qr(t=to.geom.quadtree(v),i,s),n=-1;++n<w;)(o=v[n]).fixed||t.visit(e(o));for(n=-1;++n<w;)o=v[n],o.fixed?(o.x=o.px,o.y=o.py):(o.x-=(o.px-(o.px=o.x))*h,o.y-=(o.py-(o.py=o.y))*h);l.tick({type:"tick",alpha:i})},o.nodes=function(e){return arguments.length?(v=e,o):v},o.links=function(e){return arguments.length?(y=e,o):y},o.size=function(e){return arguments.length?(c=e,o):c},o.linkDistance=function(e){return arguments.length?(u="function"==typeof e?e:+e,o):u},o.distance=o.linkDistance,o.linkStrength=function(e){return arguments.length?(d="function"==typeof e?e:+e,o):d},o.friction=function(e){return arguments.length?(h=+e,o):h},o.charge=function(e){return arguments.length?(p="function"==typeof e?e:+e,o):p},o.chargeDistance=function(e){return arguments.length?(f=e*e,o):Math.sqrt(f)},o.gravity=function(e){return arguments.length?(g=+e,o):g},o.theta=function(e){return arguments.length?(m=e*e,o):Math.sqrt(m)},o.alpha=function(e){return arguments.length?(e=+e,i?i=e>0?e:0:e>0&&(l.start({type:"start",alpha:i=e}),to.timer(o.tick)),o):i},o.start=function(){function e(e,i){if(!n){for(n=new Array(l),o=0;l>o;++o)n[o]=[];for(o=0;h>o;++o){var r=y[o];n[r.source.index].push(r.target),n[r.target.index].push(r.source)}}for(var a,s=n[t],o=-1,c=s.length;++o<c;)if(!isNaN(a=s[o][e]))return a;return Math.random()*i}var t,n,i,l=v.length,h=y.length,f=c[0],g=c[1];for(t=0;l>t;++t)(i=v[t]).index=t,i.weight=0;for(t=0;h>t;++t)i=y[t],"number"==typeof i.source&&(i.source=v[i.source]),"number"==typeof i.target&&(i.target=v[i.target]),++i.source.weight,++i.target.weight;for(t=0;l>t;++t)i=v[t],isNaN(i.x)&&(i.x=e("x",f)),isNaN(i.y)&&(i.y=e("y",g)),isNaN(i.px)&&(i.px=i.x),isNaN(i.py)&&(i.py=i.y);if(r=[],"function"==typeof u)for(t=0;h>t;++t)r[t]=+u.call(this,y[t],t);else for(t=0;h>t;++t)r[t]=u;if(a=[],"function"==typeof d)for(t=0;h>t;++t)a[t]=+d.call(this,y[t],t);else for(t=0;h>t;++t)a[t]=d;if(s=[],"function"==typeof p)for(t=0;l>t;++t)s[t]=+p.call(this,v[t],t);else for(t=0;l>t;++t)s[t]=p;return o.resume()},o.resume=function(){return o.alpha(.1)},o.stop=function(){return o.alpha(0)},o.drag=function(){return n||(n=to.behavior.drag().origin(b).on("dragstart.force",qr).on("drag.force",t).on("dragend.force",Yr)),arguments.length?(this.on("mouseover.force",Kr).on("mouseout.force",Xr).call(n),void 0):n},to.rebind(o,l,"on")};var dc=20,pc=1,fc=1/0;to.layout.hierarchy=function(){function e(r){var a,s=[r],o=[];for(r.depth=0;null!=(a=s.pop());)if(o.push(a),(c=n.call(e,a,a.depth))&&(l=c.length)){for(var l,c,h;--l>=0;)s.push(h=c[l]),h.parent=a,h.depth=a.depth+1;i&&(a.value=0),a.children=c}else i&&(a.value=+i.call(e,a,a.depth)||0),delete a.children;return ea(r,function(e){var n,r;t&&(n=e.children)&&n.sort(t),i&&(r=e.parent)&&(r.value+=e.value)}),o}var t=ia,n=ta,i=na;return e.sort=function(n){return arguments.length?(t=n,e):t},e.children=function(t){return arguments.length?(n=t,e):n},e.value=function(t){return arguments.length?(i=t,e):i},e.revalue=function(t){return i&&(Zr(t,function(e){e.children&&(e.value=0)}),ea(t,function(t){var n;t.children||(t.value=+i.call(e,t,t.depth)||0),(n=t.parent)&&(n.value+=t.value)})),t},e},to.layout.partition=function(){function e(t,n,i,r){var a=t.children;if(t.x=n,t.y=t.depth*r,t.dx=i,t.dy=r,a&&(s=a.length)){var s,o,l,c=-1;for(i=t.value?i/t.value:0;++c<s;)e(o=a[c],n,l=o.value*i,r),n+=l}}function t(e){var n=e.children,i=0;if(n&&(r=n.length))for(var r,a=-1;++a<r;)i=Math.max(i,t(n[a]));return 1+i}function n(n,a){var s=i.call(this,n,a);return e(s[0],0,r[0],r[1]/t(s[0])),s}var i=to.layout.hierarchy(),r=[1,1];return n.size=function(e){return arguments.length?(r=e,n):r},Jr(n,i)},to.layout.pie=function(){function e(s){var o,l=s.length,c=s.map(function(n,i){return+t.call(e,n,i)}),h=+("function"==typeof i?i.apply(this,arguments):i),u=("function"==typeof r?r.apply(this,arguments):r)-h,d=Math.min(Math.abs(u)/l,+("function"==typeof a?a.apply(this,arguments):a)),p=d*(0>u?-1:1),f=(u-l*p)/to.sum(c),g=to.range(l),m=[];return null!=n&&g.sort(n===gc?function(e,t){return c[t]-c[e]}:function(e,t){return n(s[e],s[t])}),g.forEach(function(e){m[e]={data:s[e],value:o=c[e],startAngle:h,endAngle:h+=o*f+p,padAngle:d}}),m}var t=Number,n=gc,i=0,r=Mo,a=0;return e.value=function(n){return arguments.length?(t=n,e):t},e.sort=function(t){return arguments.length?(n=t,e):n},e.startAngle=function(t){return arguments.length?(i=t,e):i},e.endAngle=function(t){return arguments.length?(r=t,e):r},e.padAngle=function(t){return arguments.length?(a=t,e):a},e};var gc={};to.layout.stack=function(){function e(o,l){if(!(d=o.length))return o;var c=o.map(function(n,i){return t.call(e,n,i)}),h=c.map(function(t){return t.map(function(t,n){return[a.call(e,t,n),s.call(e,t,n)]})}),u=n.call(e,h,l);c=to.permute(c,u),h=to.permute(h,u);var d,p,f,g,m=i.call(e,h,l),v=c[0].length;for(f=0;v>f;++f)for(r.call(e,c[0][f],g=m[f],h[0][f][1]),p=1;d>p;++p)r.call(e,c[p][f],g+=h[p-1][f][1],h[p][f][1]);return o}var t=b,n=la,i=ca,r=oa,a=aa,s=sa;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(n="function"==typeof t?t:mc.get(t)||la,e):n},e.offset=function(t){return arguments.length?(i="function"==typeof t?t:vc.get(t)||ca,e):i},e.x=function(t){return arguments.length?(a=t,e):a},e.y=function(t){return arguments.length?(s=t,e):s},e.out=function(t){return arguments.length?(r=t,e):r},e};var mc=to.map({"inside-out":function(e){var t,n,i=e.length,r=e.map(ha),a=e.map(ua),s=to.range(i).sort(function(e,t){return r[e]-r[t]}),o=0,l=0,c=[],h=[];for(t=0;i>t;++t)n=s[t],l>o?(o+=a[n],c.push(n)):(l+=a[n],h.push(n));return h.reverse().concat(c)},reverse:function(e){return to.range(e.length).reverse()},"default":la}),vc=to.map({silhouette:function(e){var t,n,i,r=e.length,a=e[0].length,s=[],o=0,l=[];for(n=0;a>n;++n){for(t=0,i=0;r>t;t++)i+=e[t][n][1];i>o&&(o=i),s.push(i)}for(n=0;a>n;++n)l[n]=(o-s[n])/2;return l},wiggle:function(e){var t,n,i,r,a,s,o,l,c,h=e.length,u=e[0],d=u.length,p=[];for(p[0]=l=c=0,n=1;d>n;++n){for(t=0,r=0;h>t;++t)r+=e[t][n][1];for(t=0,a=0,o=u[n][0]-u[n-1][0];h>t;++t){for(i=0,s=(e[t][n][1]-e[t][n-1][1])/(2*o);t>i;++i)s+=(e[i][n][1]-e[i][n-1][1])/o;a+=s*e[t][n][1]}p[n]=l-=r?a/r*o:0,c>l&&(c=l)}for(n=0;d>n;++n)p[n]-=c;return p},expand:function(e){var t,n,i,r=e.length,a=e[0].length,s=1/r,o=[];for(n=0;a>n;++n){for(t=0,i=0;r>t;t++)i+=e[t][n][1];if(i)for(t=0;r>t;t++)e[t][n][1]/=i;else for(t=0;r>t;t++)e[t][n][1]=s}for(n=0;a>n;++n)o[n]=0;return o},zero:ca});to.layout.histogram=function(){function e(e,a){for(var s,o,l=[],c=e.map(n,this),h=i.call(this,c,a),u=r.call(this,h,c,a),a=-1,d=c.length,p=u.length-1,f=t?1:1/d;++a<p;)s=l[a]=[],s.dx=u[a+1]-(s.x=u[a]),s.y=0;if(p>0)for(a=-1;++a<d;)o=c[a],o>=h[0]&&o<=h[1]&&(s=l[to.bisect(u,o,1,p)-1],s.y+=f,s.push(e[a]));return l}var t=!0,n=Number,i=ga,r=pa;return e.value=function(t){return arguments.length?(n=t,e):n},e.range=function(t){return arguments.length?(i=St(t),e):i},e.bins=function(t){return arguments.length?(r="number"==typeof t?function(e){return fa(e,t)}:St(t),e):r},e.frequency=function(n){return arguments.length?(t=!!n,e):t},e},to.layout.pack=function(){function e(e,a){var s=n.call(this,e,a),o=s[0],l=r[0],c=r[1],h=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(o.x=o.y=0,ea(o,function(e){e.r=+h(e.value)}),ea(o,xa),i){var u=i*(t?1:Math.max(2*o.r/l,2*o.r/c))/2;ea(o,function(e){e.r+=u}),ea(o,xa),ea(o,function(e){e.r-=u})}return Ca(o,l/2,c/2,t?1:1/Math.max(2*o.r/l,2*o.r/c)),s}var t,n=to.layout.hierarchy().sort(ma),i=0,r=[1,1];return e.size=function(t){return arguments.length?(r=t,e):r},e.radius=function(n){return arguments.length?(t=null==n||"function"==typeof n?n:+n,e):t},e.padding=function(t){return arguments.length?(i=+t,e):i},Jr(e,n)},to.layout.tree=function(){function e(e,r){var h=s.call(this,e,r),u=h[0],d=t(u);if(ea(d,n),d.parent.m=-d.z,Zr(d,i),c)Zr(u,a);else{var p=u,f=u,g=u;Zr(u,function(e){e.x<p.x&&(p=e),e.x>f.x&&(f=e),e.depth>g.depth&&(g=e)});var m=o(p,f)/2-p.x,v=l[0]/(f.x+o(f,p)/2+m),b=l[1]/(g.depth||1);Zr(u,function(e){e.x=(e.x+m)*v,e.y=e.depth*b})}return h}function t(e){for(var t,n={A:null,children:[e]},i=[n];null!=(t=i.pop());)for(var r,a=t.children,s=0,o=a.length;o>s;++s)i.push((a[s]=r={_:a[s],parent:t,children:(r=a[s].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:s}).a=r);return n.children[0]}function n(e){var t=e.children,n=e.parent.children,i=e.i?n[e.i-1]:null;if(t.length){Ia(e);var a=(t[0].z+t[t.length-1].z)/2;i?(e.z=i.z+o(e._,i._),e.m=e.z-a):e.z=a}else i&&(e.z=i.z+o(e._,i._));e.parent.A=r(e,i,e.parent.A||n[0])}function i(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function r(e,t,n){if(t){for(var i,r=e,a=e,s=t,l=r.parent.children[0],c=r.m,h=a.m,u=s.m,d=l.m;s=Ea(s),r=Sa(r),s&&r;)l=Sa(l),a=Ea(a),a.a=e,i=s.z+u-r.z-c+o(s._,r._),i>0&&(ka(Na(s,e,n),e,i),c+=i,h+=i),u+=s.m,c+=r.m,d+=l.m,h+=a.m;s&&!Ea(a)&&(a.t=s,a.m+=u-h),r&&!Sa(l)&&(l.t=r,l.m+=c-d,n=e)}return n}function a(e){e.x*=l[0],e.y=e.depth*l[1]}var s=to.layout.hierarchy().sort(null).value(null),o=Da,l=[1,1],c=null;return e.separation=function(t){return arguments.length?(o=t,e):o},e.size=function(t){return arguments.length?(c=null==(l=t)?a:null,e):c?null:l},e.nodeSize=function(t){return arguments.length?(c=null==(l=t)?null:a,e):c?l:null},Jr(e,s)},to.layout.cluster=function(){function e(e,a){var s,o=t.call(this,e,a),l=o[0],c=0;ea(l,function(e){var t=e.children;t&&t.length?(e.x=Ra(t),e.y=Aa(t)):(e.x=s?c+=n(e,s):0,e.y=0,s=e)});var h=Ma(l),u=Pa(l),d=h.x-n(h,u)/2,p=u.x+n(u,h)/2;return ea(l,r?function(e){e.x=(e.x-l.x)*i[0],e.y=(l.y-e.y)*i[1]}:function(e){e.x=(e.x-d)/(p-d)*i[0],e.y=(1-(l.y?e.y/l.y:1))*i[1]}),o}var t=to.layout.hierarchy().sort(null).value(null),n=Da,i=[1,1],r=!1;return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(r=null==(i=t),e):r?null:i},e.nodeSize=function(t){return arguments.length?(r=null!=(i=t),e):r?i:null},Jr(e,t)},to.layout.treemap=function(){function e(e,t){for(var n,i,r=-1,a=e.length;++r<a;)i=(n=e[r]).value*(0>t?0:t),n.area=isNaN(i)||0>=i?0:i}function t(n){var a=n.children;if(a&&a.length){var s,o,l,c=u(n),h=[],d=a.slice(),f=1/0,g="slice"===p?c.dx:"dice"===p?c.dy:"slice-dice"===p?1&n.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(e(d,c.dx*c.dy/n.value),h.area=0;(l=d.length)>0;)h.push(s=d[l-1]),h.area+=s.area,"squarify"!==p||(o=i(h,g))<=f?(d.pop(),f=o):(h.area-=h.pop().area,r(h,g,c,!1),g=Math.min(c.dx,c.dy),h.length=h.area=0,f=1/0);h.length&&(r(h,g,c,!0),h.length=h.area=0),a.forEach(t)}}function n(t){var i=t.children;if(i&&i.length){var a,s=u(t),o=i.slice(),l=[];for(e(o,s.dx*s.dy/t.value),l.area=0;a=o.pop();)l.push(a),l.area+=a.area,null!=a.z&&(r(l,a.z?s.dx:s.dy,s,!o.length),l.length=l.area=0);i.forEach(n)}}function i(e,t){for(var n,i=e.area,r=0,a=1/0,s=-1,o=e.length;++s<o;)(n=e[s].area)&&(a>n&&(a=n),n>r&&(r=n));return i*=i,t*=t,i?Math.max(t*r*f/i,i/(t*a*f)):1/0}function r(e,t,n,i){var r,a=-1,s=e.length,o=n.x,c=n.y,h=t?l(e.area/t):0;if(t==n.dx){for((i||h>n.dy)&&(h=n.dy);++a<s;)r=e[a],r.x=o,r.y=c,r.dy=h,o+=r.dx=Math.min(n.x+n.dx-o,h?l(r.area/h):0);r.z=!0,r.dx+=n.x+n.dx-o,n.y+=h,n.dy-=h}else{for((i||h>n.dx)&&(h=n.dx);++a<s;)r=e[a],r.x=o,r.y=c,r.dx=h,c+=r.dy=Math.min(n.y+n.dy-c,h?l(r.area/h):0);r.z=!1,r.dy+=n.y+n.dy-c,n.x+=h,n.dx-=h}}function a(i){var r=s||o(i),a=r[0];return a.x=0,a.y=0,a.dx=c[0],a.dy=c[1],s&&o.revalue(a),e([a],a.dx*a.dy/a.value),(s?n:t)(a),d&&(s=r),r}var s,o=to.layout.hierarchy(),l=Math.round,c=[1,1],h=null,u=Oa,d=!1,p="squarify",f=.5*(1+Math.sqrt(5));return a.size=function(e){return arguments.length?(c=e,a):c},a.padding=function(e){function t(t){var n=e.call(a,t,t.depth);return null==n?Oa(t):Fa(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return Fa(t,e)}if(!arguments.length)return h;var i;return u=null==(h=e)?Oa:"function"==(i=typeof e)?t:"number"===i?(e=[e,e,e,e],n):n,a},a.round=function(e){return arguments.length?(l=e?Math.round:Number,a):l!=Number},a.sticky=function(e){return arguments.length?(d=e,s=null,a):d},a.ratio=function(e){return arguments.length?(f=e,a):f},a.mode=function(e){return arguments.length?(p=e+"",a):p
},Jr(a,o)},to.random={normal:function(e,t){var n=arguments.length;return 2>n&&(t=1),1>n&&(e=0),function(){var n,i,r;do n=2*Math.random()-1,i=2*Math.random()-1,r=n*n+i*i;while(!r||r>1);return e+t*n*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var e=to.random.normal.apply(to,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=to.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;e>n;n++)t+=Math.random();return t}}},to.scale={};var bc={floor:b,ceil:b};to.scale.linear=function(){return Ga([0,1],[0,1],br,!1)};var yc={s:1,g:1,p:1,r:1,e:1};to.scale.log=function(){return Qa(to.scale.linear().domain([0,1]),10,!0,[1,10])};var xc=to.format(".0e"),wc={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};to.scale.pow=function(){return Ja(to.scale.linear(),1,[0,1])},to.scale.sqrt=function(){return to.scale.pow().exponent(.5)},to.scale.ordinal=function(){return es([],{t:"range",a:[[]]})},to.scale.category10=function(){return to.scale.ordinal().range(_c)},to.scale.category20=function(){return to.scale.ordinal().range(Cc)},to.scale.category20b=function(){return to.scale.ordinal().range(Tc)},to.scale.category20c=function(){return to.scale.ordinal().range(Dc)};var _c=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(yt),Cc=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(yt),Tc=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(yt),Dc=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(yt);to.scale.quantile=function(){return ts([],[])},to.scale.quantize=function(){return ns(0,1,[0,1])},to.scale.threshold=function(){return is([.5],[0,1])},to.scale.identity=function(){return rs([0,1])},to.svg={},to.svg.arc=function(){function e(){var e=Math.max(0,+n.apply(this,arguments)),c=Math.max(0,+i.apply(this,arguments)),h=s.apply(this,arguments)-Oo,u=o.apply(this,arguments)-Oo,d=Math.abs(u-h),p=h>u?0:1;if(e>c&&(f=c,c=e,e=f),d>=Po)return t(c,p)+(e?t(e,1-p):"")+"Z";var f,g,m,v,b,y,x,w,_,C,T,D,S=0,E=0,k=[];if((v=(+l.apply(this,arguments)||0)/2)&&(m=a===Sc?Math.sqrt(e*e+c*c):+a.apply(this,arguments),p||(E*=-1),c&&(E=tt(m/c*Math.sin(v))),e&&(S=tt(m/e*Math.sin(v)))),c){b=c*Math.cos(h+E),y=c*Math.sin(h+E),x=c*Math.cos(u-E),w=c*Math.sin(u-E);var I=Math.abs(u-h-2*E)<=Ro?0:1;if(E&&us(b,y,x,w)===p^I){var N=(h+u)/2;b=c*Math.cos(N),y=c*Math.sin(N),x=w=null}}else b=y=0;if(e){_=e*Math.cos(u-S),C=e*Math.sin(u-S),T=e*Math.cos(h+S),D=e*Math.sin(h+S);var A=Math.abs(h-u+2*S)<=Ro?0:1;if(S&&us(_,C,T,D)===1-p^A){var R=(h+u)/2;_=e*Math.cos(R),C=e*Math.sin(R),T=D=null}}else _=C=0;if((f=Math.min(Math.abs(c-e)/2,+r.apply(this,arguments)))>.001){g=c>e^p?0:1;var M=null==T?[_,C]:null==x?[b,y]:Mi([b,y],[T,D],[x,w],[_,C]),P=b-M[0],O=y-M[1],F=x-M[0],B=w-M[1],j=1/Math.sin(Math.acos((P*F+O*B)/(Math.sqrt(P*P+O*O)*Math.sqrt(F*F+B*B)))/2),L=Math.sqrt(M[0]*M[0]+M[1]*M[1]);if(null!=x){var V=Math.min(f,(c-L)/(j+1)),$=ds(null==T?[_,C]:[T,D],[b,y],c,V,p),H=ds([x,w],[_,C],c,V,p);f===V?k.push("M",$[0],"A",V,",",V," 0 0,",g," ",$[1],"A",c,",",c," 0 ",1-p^us($[1][0],$[1][1],H[1][0],H[1][1]),",",p," ",H[1],"A",V,",",V," 0 0,",g," ",H[0]):k.push("M",$[0],"A",V,",",V," 0 1,",g," ",H[0])}else k.push("M",b,",",y);if(null!=T){var G=Math.min(f,(e-L)/(j-1)),z=ds([b,y],[T,D],e,-G,p),U=ds([_,C],null==x?[b,y]:[x,w],e,-G,p);f===G?k.push("L",U[0],"A",G,",",G," 0 0,",g," ",U[1],"A",e,",",e," 0 ",p^us(U[1][0],U[1][1],z[1][0],z[1][1]),",",1-p," ",z[1],"A",G,",",G," 0 0,",g," ",z[0]):k.push("L",U[0],"A",G,",",G," 0 0,",g," ",z[0])}else k.push("L",_,",",C)}else k.push("M",b,",",y),null!=x&&k.push("A",c,",",c," 0 ",I,",",p," ",x,",",w),k.push("L",_,",",C),null!=T&&k.push("A",e,",",e," 0 ",A,",",1-p," ",T,",",D);return k.push("Z"),k.join("")}function t(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}var n=ss,i=os,r=as,a=Sc,s=ls,o=cs,l=hs;return e.innerRadius=function(t){return arguments.length?(n=St(t),e):n},e.outerRadius=function(t){return arguments.length?(i=St(t),e):i},e.cornerRadius=function(t){return arguments.length?(r=St(t),e):r},e.padRadius=function(t){return arguments.length?(a=t==Sc?Sc:St(t),e):a},e.startAngle=function(t){return arguments.length?(s=St(t),e):s},e.endAngle=function(t){return arguments.length?(o=St(t),e):o},e.padAngle=function(t){return arguments.length?(l=St(t),e):l},e.centroid=function(){var e=(+n.apply(this,arguments)+ +i.apply(this,arguments))/2,t=(+s.apply(this,arguments)+ +o.apply(this,arguments))/2-Oo;return[Math.cos(t)*e,Math.sin(t)*e]},e};var Sc="auto";to.svg.line=function(){return ps(b)};var Ec=to.map({linear:fs,"linear-closed":gs,step:ms,"step-before":vs,"step-after":bs,basis:Ts,"basis-open":Ds,"basis-closed":Ss,bundle:Es,cardinal:ws,"cardinal-open":ys,"cardinal-closed":xs,monotone:Ms});Ec.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var kc=[0,2/3,1/3,0],Ic=[0,1/3,2/3,0],Nc=[0,1/6,2/3,1/6];to.svg.line.radial=function(){var e=ps(Ps);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},vs.reverse=bs,bs.reverse=vs,to.svg.area=function(){return Os(b)},to.svg.area.radial=function(){var e=Os(Ps);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},to.svg.chord=function(){function e(e,o){var l=t(this,a,e,o),c=t(this,s,e,o);return"M"+l.p0+i(l.r,l.p1,l.a1-l.a0)+(n(l,c)?r(l.r,l.p1,l.r,l.p0):r(l.r,l.p1,c.r,c.p0)+i(c.r,c.p1,c.a1-c.a0)+r(c.r,c.p1,l.r,l.p0))+"Z"}function t(e,t,n,i){var r=t.call(e,n,i),a=o.call(e,r,i),s=l.call(e,r,i)-Oo,h=c.call(e,r,i)-Oo;return{r:a,a0:s,a1:h,p0:[a*Math.cos(s),a*Math.sin(s)],p1:[a*Math.cos(h),a*Math.sin(h)]}}function n(e,t){return e.a0==t.a0&&e.a1==t.a1}function i(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Ro)+",1 "+t}function r(e,t,n,i){return"Q 0,0 "+i}var a=bi,s=yi,o=Fs,l=ls,c=cs;return e.radius=function(t){return arguments.length?(o=St(t),e):o},e.source=function(t){return arguments.length?(a=St(t),e):a},e.target=function(t){return arguments.length?(s=St(t),e):s},e.startAngle=function(t){return arguments.length?(l=St(t),e):l},e.endAngle=function(t){return arguments.length?(c=St(t),e):c},e},to.svg.diagonal=function(){function e(e,r){var a=t.call(this,e,r),s=n.call(this,e,r),o=(a.y+s.y)/2,l=[a,{x:a.x,y:o},{x:s.x,y:o},s];return l=l.map(i),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var t=bi,n=yi,i=Bs;return e.source=function(n){return arguments.length?(t=St(n),e):t},e.target=function(t){return arguments.length?(n=St(t),e):n},e.projection=function(t){return arguments.length?(i=t,e):i},e},to.svg.diagonal.radial=function(){var e=to.svg.diagonal(),t=Bs,n=e.projection;return e.projection=function(e){return arguments.length?n(js(t=e)):t},e},to.svg.symbol=function(){function e(e,i){return(Ac.get(t.call(this,e,i))||$s)(n.call(this,e,i))}var t=Vs,n=Ls;return e.type=function(n){return arguments.length?(t=St(n),e):t},e.size=function(t){return arguments.length?(n=St(t),e):n},e};var Ac=to.map({circle:$s,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Mc)),n=t*Mc;return"M0,"+-t+"L"+n+",0"+" 0,"+t+" "+-n+",0"+"Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Rc),n=t*Rc/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Rc),n=t*Rc/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});to.svg.symbolTypes=Ac.keys();var Rc=Math.sqrt(3),Mc=Math.tan(30*Fo);Co.transition=function(e){for(var t,n,i=Pc||++jc,r=Ws(e),a=[],s=Oc||{time:Date.now(),ease:Dr,delay:0,duration:250},o=-1,l=this.length;++o<l;){a.push(t=[]);for(var c=this[o],h=-1,u=c.length;++h<u;)(n=c[h])&&qs(n,h,r,i,s),t.push(n)}return Gs(a,r,i)},Co.interrupt=function(e){return this.each(null==e?Fc:Hs(Ws(e)))};var Pc,Oc,Fc=Hs(Ws()),Bc=[],jc=0;Bc.call=Co.call,Bc.empty=Co.empty,Bc.node=Co.node,Bc.size=Co.size,to.transition=function(e,t){return e&&e.transition?Pc?e.transition(t):e:to.selection().transition(e)},to.transition.prototype=Bc,Bc.select=function(e){var t,n,i,r=this.id,a=this.namespace,s=[];e=k(e);for(var o=-1,l=this.length;++o<l;){s.push(t=[]);for(var c=this[o],h=-1,u=c.length;++h<u;)(i=c[h])&&(n=e.call(i,i.__data__,h,o))?("__data__"in i&&(n.__data__=i.__data__),qs(n,h,a,r,i[a][r]),t.push(n)):t.push(null)}return Gs(s,a,r)},Bc.selectAll=function(e){var t,n,i,r,a,s=this.id,o=this.namespace,l=[];e=I(e);for(var c=-1,h=this.length;++c<h;)for(var u=this[c],d=-1,p=u.length;++d<p;)if(i=u[d]){a=i[o][s],n=e.call(i,i.__data__,d,c),l.push(t=[]);for(var f=-1,g=n.length;++f<g;)(r=n[f])&&qs(r,f,o,s,a),t.push(r)}return Gs(l,o,s)},Bc.filter=function(e){var t,n,i,r=[];"function"!=typeof e&&(e=$(e));for(var a=0,s=this.length;s>a;a++){r.push(t=[]);for(var n=this[a],o=0,l=n.length;l>o;o++)(i=n[o])&&e.call(i,i.__data__,o,a)&&t.push(i)}return Gs(r,this.namespace,this.id)},Bc.tween=function(e,t){var n=this.id,i=this.namespace;return arguments.length<2?this.node()[i][n].tween.get(e):G(this,null==t?function(t){t[i][n].tween.remove(e)}:function(r){r[i][n].tween.set(e,t)})},Bc.attr=function(e,t){function n(){this.removeAttribute(o)}function i(){this.removeAttributeNS(o.space,o.local)}function r(e){return null==e?n:(e+="",function(){var t,n=this.getAttribute(o);return n!==e&&(t=s(n,e),function(e){this.setAttribute(o,t(e))})})}function a(e){return null==e?i:(e+="",function(){var t,n=this.getAttributeNS(o.space,o.local);return n!==e&&(t=s(n,e),function(e){this.setAttributeNS(o.space,o.local,t(e))})})}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var s="transform"==e?$r:br,o=to.ns.qualify(e);return zs(this,"attr."+e,t,o.local?a:r)},Bc.attrTween=function(e,t){function n(e,n){var i=t.call(this,e,n,this.getAttribute(r));return i&&function(e){this.setAttribute(r,i(e))}}function i(e,n){var i=t.call(this,e,n,this.getAttributeNS(r.space,r.local));return i&&function(e){this.setAttributeNS(r.space,r.local,i(e))}}var r=to.ns.qualify(e);return this.tween("attr."+e,r.local?i:n)},Bc.style=function(e,n,i){function r(){this.style.removeProperty(e)}function a(n){return null==n?r:(n+="",function(){var r,a=t(this).getComputedStyle(this,null).getPropertyValue(e);return a!==n&&(r=br(a,n),function(t){this.style.setProperty(e,r(t),i)})})}var s=arguments.length;if(3>s){if("string"!=typeof e){2>s&&(n="");for(i in e)this.style(i,e[i],n);return this}i=""}return zs(this,"style."+e,n,a)},Bc.styleTween=function(e,n,i){function r(r,a){var s=n.call(this,r,a,t(this).getComputedStyle(this,null).getPropertyValue(e));return s&&function(t){this.style.setProperty(e,s(t),i)}}return arguments.length<3&&(i=""),this.tween("style."+e,r)},Bc.text=function(e){return zs(this,"text",e,Us)},Bc.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Bc.ease=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].ease:("function"!=typeof e&&(e=to.ease.apply(to,arguments)),G(this,function(i){i[n][t].ease=e}))},Bc.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:G(this,"function"==typeof e?function(i,r,a){i[n][t].delay=+e.call(i,i.__data__,r,a)}:(e=+e,function(i){i[n][t].delay=e}))},Bc.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:G(this,"function"==typeof e?function(i,r,a){i[n][t].duration=Math.max(1,e.call(i,i.__data__,r,a))}:(e=Math.max(1,e),function(i){i[n][t].duration=e}))},Bc.each=function(e,t){var n=this.id,i=this.namespace;if(arguments.length<2){var r=Oc,a=Pc;try{Pc=n,G(this,function(t,r,a){Oc=t[i][n],e.call(t,t.__data__,r,a)})}finally{Oc=r,Pc=a}}else G(this,function(r){var a=r[i][n];(a.event||(a.event=to.dispatch("start","end","interrupt"))).on(e,t)});return this},Bc.transition=function(){for(var e,t,n,i,r=this.id,a=++jc,s=this.namespace,o=[],l=0,c=this.length;c>l;l++){o.push(e=[]);for(var t=this[l],h=0,u=t.length;u>h;h++)(n=t[h])&&(i=n[s][r],qs(n,h,s,a,{time:i.time,ease:i.ease,delay:i.delay+i.duration,duration:i.duration})),e.push(n)}return Gs(o,s,a)},to.svg.axis=function(){function e(e){e.each(function(){var e,c=to.select(this),h=this.__chart__||n,u=this.__chart__=n.copy(),d=null==l?u.ticks?u.ticks.apply(u,o):u.domain():l,p=null==t?u.tickFormat?u.tickFormat.apply(u,o):b:t,f=c.selectAll(".tick").data(d,u),g=f.enter().insert("g",".domain").attr("class","tick").style("opacity",No),m=to.transition(f.exit()).style("opacity",No).remove(),v=to.transition(f.order()).style("opacity",1),y=Math.max(r,0)+s,x=ja(u),w=c.selectAll(".domain").data([0]),_=(w.enter().append("path").attr("class","domain"),to.transition(w));g.append("line"),g.append("text");var C,T,D,S,E=g.select("line"),k=v.select("line"),I=f.select("text").text(p),N=g.select("text"),A=v.select("text"),R="top"===i||"left"===i?-1:1;if("bottom"===i||"top"===i?(e=Ys,C="x",D="y",T="x2",S="y2",I.attr("dy",0>R?"0em":".71em").style("text-anchor","middle"),_.attr("d","M"+x[0]+","+R*a+"V0H"+x[1]+"V"+R*a)):(e=Ks,C="y",D="x",T="y2",S="x2",I.attr("dy",".32em").style("text-anchor",0>R?"end":"start"),_.attr("d","M"+R*a+","+x[0]+"H0V"+x[1]+"H"+R*a)),E.attr(S,R*r),N.attr(D,R*y),k.attr(T,0).attr(S,R*r),A.attr(C,0).attr(D,R*y),u.rangeBand){var M=u,P=M.rangeBand()/2;h=u=function(e){return M(e)+P}}else h.rangeBand?h=u:m.call(e,u,h);g.call(e,h,u),v.call(e,u,u)})}var t,n=to.scale.linear(),i=Lc,r=6,a=6,s=3,o=[10],l=null;return e.scale=function(t){return arguments.length?(n=t,e):n},e.orient=function(t){return arguments.length?(i=t in Vc?t+"":Lc,e):i},e.ticks=function(){return arguments.length?(o=arguments,e):o},e.tickValues=function(t){return arguments.length?(l=t,e):l},e.tickFormat=function(n){return arguments.length?(t=n,e):t},e.tickSize=function(t){var n=arguments.length;return n?(r=+t,a=+arguments[n-1],e):r},e.innerTickSize=function(t){return arguments.length?(r=+t,e):r},e.outerTickSize=function(t){return arguments.length?(a=+t,e):a},e.tickPadding=function(t){return arguments.length?(s=+t,e):s},e.tickSubdivide=function(){return arguments.length&&e},e};var Lc="bottom",Vc={top:1,right:1,bottom:1,left:1};to.svg.brush=function(){function e(t){t.each(function(){var t=to.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",a).on("touchstart.brush",a),s=t.selectAll(".background").data([0]);s.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var o=t.selectAll(".resize").data(g,b);o.exit().remove(),o.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return $c[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),o.style("display",e.empty()?"none":null);var l,u=to.transition(t),d=to.transition(s);c&&(l=ja(c),d.attr("x",l[0]).attr("width",l[1]-l[0]),i(u)),h&&(l=ja(h),d.attr("y",l[0]).attr("height",l[1]-l[0]),r(u)),n(u)})}function n(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+u[+/e$/.test(e)]+","+d[+/^s/.test(e)]+")"})}function i(e){e.select(".extent").attr("x",u[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",u[1]-u[0])}function r(e){e.select(".extent").attr("y",d[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",d[1]-d[0])}function a(){function a(){32==to.event.keyCode&&(I||(y=null,A[0]-=u[1],A[1]-=d[1],I=2),T())}function g(){32==to.event.keyCode&&2==I&&(A[0]+=u[1],A[1]+=d[1],I=0,T())}function m(){var e=to.mouse(w),t=!1;x&&(e[0]+=x[0],e[1]+=x[1]),I||(to.event.altKey?(y||(y=[(u[0]+u[1])/2,(d[0]+d[1])/2]),A[0]=u[+(e[0]<y[0])],A[1]=d[+(e[1]<y[1])]):y=null),E&&v(e,c,0)&&(i(D),t=!0),k&&v(e,h,1)&&(r(D),t=!0),t&&(n(D),C({type:"brush",mode:I?"move":"resize"}))}function v(e,t,n){var i,r,a=ja(t),l=a[0],c=a[1],h=A[n],g=n?d:u,m=g[1]-g[0];return I&&(l-=h,c-=m+h),i=(n?f:p)?Math.max(l,Math.min(c,e[n])):e[n],I?r=(i+=h)+m:(y&&(h=Math.max(l,Math.min(c,2*y[n]-i))),i>h?(r=i,i=h):r=h),g[0]!=i||g[1]!=r?(n?o=null:s=null,g[0]=i,g[1]=r,!0):void 0}function b(){m(),D.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),to.select("body").style("cursor",null),R.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),N(),C({type:"brushend"})}var y,x,w=this,_=to.select(to.event.target),C=l.of(w,arguments),D=to.select(w),S=_.datum(),E=!/^(n|s)$/.test(S)&&c,k=!/^(e|w)$/.test(S)&&h,I=_.classed("extent"),N=K(w),A=to.mouse(w),R=to.select(t(w)).on("keydown.brush",a).on("keyup.brush",g);if(to.event.changedTouches?R.on("touchmove.brush",m).on("touchend.brush",b):R.on("mousemove.brush",m).on("mouseup.brush",b),D.interrupt().selectAll("*").interrupt(),I)A[0]=u[0]-A[0],A[1]=d[0]-A[1];else if(S){var M=+/w$/.test(S),P=+/^n/.test(S);x=[u[1-M]-A[0],d[1-P]-A[1]],A[0]=u[M],A[1]=d[P]}else to.event.altKey&&(y=A.slice());D.style("pointer-events","none").selectAll(".resize").style("display",null),to.select("body").style("cursor",_.style("cursor")),C({type:"brushstart"}),m()}var s,o,l=S(e,"brushstart","brush","brushend"),c=null,h=null,u=[0,0],d=[0,0],p=!0,f=!0,g=Hc[0];return e.event=function(e){e.each(function(){var e=l.of(this,arguments),t={x:u,y:d,i:s,j:o},n=this.__chart__||t;this.__chart__=t,Pc?to.select(this).transition().each("start.brush",function(){s=n.i,o=n.j,u=n.x,d=n.y,e({type:"brushstart"})}).tween("brush:brush",function(){var n=yr(u,t.x),i=yr(d,t.y);return s=o=null,function(r){u=t.x=n(r),d=t.y=i(r),e({type:"brush",mode:"resize"})}}).each("end.brush",function(){s=t.i,o=t.j,e({type:"brush",mode:"resize"}),e({type:"brushend"})}):(e({type:"brushstart"}),e({type:"brush",mode:"resize"}),e({type:"brushend"}))})},e.x=function(t){return arguments.length?(c=t,g=Hc[!c<<1|!h],e):c},e.y=function(t){return arguments.length?(h=t,g=Hc[!c<<1|!h],e):h},e.clamp=function(t){return arguments.length?(c&&h?(p=!!t[0],f=!!t[1]):c?p=!!t:h&&(f=!!t),e):c&&h?[p,f]:c?p:h?f:null},e.extent=function(t){var n,i,r,a,l;return arguments.length?(c&&(n=t[0],i=t[1],h&&(n=n[0],i=i[0]),s=[n,i],c.invert&&(n=c(n),i=c(i)),n>i&&(l=n,n=i,i=l),(n!=u[0]||i!=u[1])&&(u=[n,i])),h&&(r=t[0],a=t[1],c&&(r=r[1],a=a[1]),o=[r,a],h.invert&&(r=h(r),a=h(a)),r>a&&(l=r,r=a,a=l),(r!=d[0]||a!=d[1])&&(d=[r,a])),e):(c&&(s?(n=s[0],i=s[1]):(n=u[0],i=u[1],c.invert&&(n=c.invert(n),i=c.invert(i)),n>i&&(l=n,n=i,i=l))),h&&(o?(r=o[0],a=o[1]):(r=d[0],a=d[1],h.invert&&(r=h.invert(r),a=h.invert(a)),r>a&&(l=r,r=a,a=l))),c&&h?[[n,r],[i,a]]:c?[n,i]:h&&[r,a])},e.clear=function(){return e.empty()||(u=[0,0],d=[0,0],s=o=null),e},e.empty=function(){return!!c&&u[0]==u[1]||!!h&&d[0]==d[1]},to.rebind(e,l,"on")};var $c={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Hc=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Gc=ll.format=fl.timeFormat,zc=Gc.utc,Uc=zc("%Y-%m-%dT%H:%M:%S.%LZ");Gc.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Xs:Uc,Xs.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},Xs.toString=Uc.toString,ll.second=Lt(function(e){return new cl(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),ll.seconds=ll.second.range,ll.seconds.utc=ll.second.utc.range,ll.minute=Lt(function(e){return new cl(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),ll.minutes=ll.minute.range,ll.minutes.utc=ll.minute.utc.range,ll.hour=Lt(function(e){var t=e.getTimezoneOffset()/60;return new cl(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),ll.hours=ll.hour.range,ll.hours.utc=ll.hour.utc.range,ll.month=Lt(function(e){return e=ll.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),ll.months=ll.month.range,ll.months.utc=ll.month.utc.range;var Wc=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],qc=[[ll.second,1],[ll.second,5],[ll.second,15],[ll.second,30],[ll.minute,1],[ll.minute,5],[ll.minute,15],[ll.minute,30],[ll.hour,1],[ll.hour,3],[ll.hour,6],[ll.hour,12],[ll.day,1],[ll.day,2],[ll.week,1],[ll.month,1],[ll.month,3],[ll.year,1]],Yc=Gc.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",In]]),Kc={range:function(e,t,n){return to.range(Math.ceil(e/n)*n,+t,n).map(Js)},floor:b,ceil:b};qc.year=ll.year,ll.scale=function(){return Qs(to.scale.linear(),qc,Yc)};var Xc=qc.map(function(e){return[e[0].utc,e[1]]}),Qc=zc.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",In]]);Xc.year=ll.year.utc,ll.scale.utc=function(){return Qs(to.scale.linear(),Xc,Qc)},to.text=Et(function(e){return e.responseText}),to.json=function(e,t){return kt(e,"application/json",Zs,t)},to.html=function(e,t){return kt(e,"text/html",eo,t)},to.xml=Et(function(e){return e.responseXML}),"function"==typeof define&&define.amd?define(to):"object"==typeof module&&module.exports&&(module.exports=to),this.d3=to}(),function(e){function t(e){return e}function n(e,t){for(var n=0,i=t.length,r=new Array(i);i>n;++n)r[n]=e[t[n]];return r}function i(e){function t(t,n,i,r){for(;r>i;){var a=i+r>>>1;e(t[a])<n?i=a+1:r=a}return i}function n(t,n,i,r){for(;r>i;){var a=i+r>>>1;n<e(t[a])?r=a:i=a+1}return i}return n.right=n,n.left=t,n}function r(e){function t(e,t,n){for(var r=n-t,a=(r>>>1)+1;--a>0;)i(e,a,r,t);return e}function n(e,t,n){for(var r,a=n-t;--a>0;)r=e[t],e[t]=e[t+a],e[t+a]=r,i(e,1,a,t);return e}function i(t,n,i,r){for(var a,s=t[--r+n],o=e(s);(a=n<<1)<=i&&(i>a&&e(t[r+a])>e(t[r+a+1])&&a++,!(o<=e(t[r+a])));)t[r+n]=t[r+a],n=a;t[r+n]=s}return t.sort=n,t}function a(e){function t(t,i,r,a){var s,o,l,c,h=new Array(a=Math.min(r-i,a));for(o=0;a>o;++o)h[o]=t[i++];if(n(h,0,a),r>i){s=e(h[0]);do(l=e(c=t[i])>s)&&(h[0]=c,s=e(n(h,0,a)[0]));while(++i<r)}return h}var n=r(e);return t}function s(e){function t(t,n,i){for(var r=n+1;i>r;++r){for(var a=r,s=t[r],o=e(s);a>n&&e(t[a-1])>o;--a)t[a]=t[a-1];t[a]=s}return t}return t}function o(e){function t(e,t,r){return(E>r-t?i:n)(e,t,r)}function n(n,i,r){var a,s=0|(r-i)/6,o=i+s,l=r-1-s,c=i+r-1>>1,h=c-s,u=c+s,d=n[o],p=e(d),f=n[h],g=e(f),m=n[c],v=e(m),b=n[u],y=e(b),x=n[l],w=e(x);p>g&&(a=d,d=f,f=a,a=p,p=g,g=a),y>w&&(a=b,b=x,x=a,a=y,y=w,w=a),p>v&&(a=d,d=m,m=a,a=p,p=v,v=a),g>v&&(a=f,f=m,m=a,a=g,g=v,v=a),p>y&&(a=d,d=b,b=a,a=p,p=y,y=a),v>y&&(a=m,m=b,b=a,a=v,v=y,y=a),g>w&&(a=f,f=x,x=a,a=g,g=w,w=a),g>v&&(a=f,f=m,m=a,a=g,g=v,v=a),y>w&&(a=b,b=x,x=a,a=y,y=w,w=a);var _=f,C=g,T=b,D=y;n[o]=d,n[h]=n[i],n[c]=m,n[u]=n[r-1],n[l]=x;var S=i+1,E=r-2,k=D>=C&&C>=D;if(k)for(var I=S;E>=I;++I){var N=n[I],A=e(N);if(C>A)I!==S&&(n[I]=n[S],n[S]=N),++S;else if(A>C)for(;;){var R=e(n[E]);{if(!(R>C)){if(C>R){n[I]=n[S],n[S++]=n[E],n[E--]=N;break}n[I]=n[E],n[E--]=N;break}E--}}}else for(var I=S;E>=I;I++){var N=n[I],A=e(N);if(C>A)I!==S&&(n[I]=n[S],n[S]=N),++S;else if(A>D)for(;;){var R=e(n[E]);{if(!(R>D)){C>R?(n[I]=n[S],n[S++]=n[E],n[E--]=N):(n[I]=n[E],n[E--]=N);break}if(E--,I>E)break}}}if(n[i]=n[S-1],n[S-1]=_,n[r-1]=n[E+1],n[E+1]=T,t(n,i,S-1),t(n,E+2,r),k)return n;if(o>S&&E>l){for(var M,R;(M=e(n[S]))<=C&&M>=C;)++S;for(;(R=e(n[E]))<=D&&R>=D;)--E;for(var I=S;E>=I;I++){var N=n[I],A=e(N);if(C>=A&&A>=C)I!==S&&(n[I]=n[S],n[S]=N),S++;else if(D>=A&&A>=D)for(;;){var R=e(n[E]);{if(!(D>=R&&R>=D)){C>R?(n[I]=n[S],n[S++]=n[E],n[E--]=N):(n[I]=n[E],n[E--]=N);break}if(E--,I>E)break}}}}return t(n,S,E+1)}var i=s(e);return t}function l(e){return new Array(e)}function c(e,t){return function(n){var i=n.length;return[e.left(n,t,0,i),e.right(n,t,0,i)]}}function h(e,t){var n=t[0],i=t[1];return function(t){var r=t.length;return[e.left(t,n,0,r),e.left(t,i,0,r)]}}function u(e){return[0,e.length]}function d(){return null}function p(){return 0}function f(e){return e+1}function g(e){return e-1}function m(e){return function(t,n){return t+ +e(n)}}function v(e){return function(t,n){return t-e(n)}}function b(){function e(e){var t=T,n=e.length;return n&&(C=C.concat(e),E=A(E,T+=n),N.forEach(function(i){i(e,t,n)})),b}function i(e){function i(t,i,r){z=t.map(e),U=X(x(r),0,r),z=n(z,U);var a,s,o=Q(z),l=o[0],c=o[1];if(W)for(a=0;r>a;++a)W(z[a],s=U[a]+i)||(E[s]|=Y);else{for(a=0;l>a;++a)E[U[a]+i]|=Y;for(a=c;r>a;++a)E[U[a]+i]|=Y}if(!i)return H=z,G=U,et=l,tt=c,void 0;var h=H,u=G,d=0,p=0;for(H=new Array(T),G=y(T,T),a=0;i>d&&r>p;++a)h[d]<z[p]?(H[a]=h[d],G[a]=u[d++]):(H[a]=z[p],G[a]=U[p++]+i);for(;i>d;++d,++a)H[a]=h[d],G[a]=u[d];for(;r>p;++p,++a)H[a]=z[p],G[a]=U[p]+i;o=Q(H),et=o[0],tt=o[1]}function s(e,t,n){J.forEach(function(e){e(z,U,t,n)}),z=U=null}function l(e){var t=e[0],n=e[1];if(W)return W=null,F(function(e,i){return i>=t&&n>i}),et=t,tt=n,q;var i,r,a,s=[],o=[];if(et>t)for(i=t,r=Math.min(et,n);r>i;++i)E[a=G[i]]^=Y,s.push(a);else if(t>et)for(i=et,r=Math.min(t,tt);r>i;++i)E[a=G[i]]^=Y,o.push(a);if(n>tt)for(i=Math.max(t,tt),r=n;r>i;++i)E[a=G[i]]^=Y,s.push(a);else if(tt>n)for(i=Math.max(et,n),r=tt;r>i;++i)E[a=G[i]]^=Y,o.push(a);return et=t,tt=n,I.forEach(function(e){e(Y,s,o)}),q}function b(e){return null==e?P():Array.isArray(e)?M(e):"function"==typeof e?O(e):k(e)}function k(e){return l((Q=c(_,e))(H))}function M(e){return l((Q=h(_,e))(H))}function P(){return l((Q=u)(H))}function O(e){return Q=u,F(W=e),et=0,tt=T,q}function F(e){var t,n,i,r=[],a=[];for(t=0;T>t;++t)!(E[n=G[t]]&Y)^(i=e(H[t],n))&&(i?(E[n]&=K,r.push(n)):(E[n]|=Y,a.push(n)));I.forEach(function(e){e(Y,r,a)})}function B(e){for(var t,n=[],i=tt;--i>=et&&e>0;)E[t=G[i]]||(n.push(C[t]),--e);return n}function j(e){for(var t,n=[],i=et;tt>i&&e>0;)E[t=G[i]]||(n.push(C[t]),--e),i++;return n}function L(e){function n(t,n,r,a){function c(){++z===$&&(b=R(b,V<<=1),P=R(P,V),$=w(V))}var h,u,p,f,g,m,v=M,b=y(z,$),x=B,_=L,D=z,S=0,k=0;for(q&&(x=_=d),M=new Array(z),z=0,P=D>1?A(P,T):y(T,$),D&&(p=(u=v[0]).key);a>k&&!((f=e(t[k]))>=f);)++k;for(;a>k;){for(u&&f>=p?(g=u,m=p,b[S]=z,(u=v[++S])&&(p=u.key)):(g={key:f,value:_()},m=f),M[z]=g;!(f>m||(P[h=n[k]+r]=z,E[h]&K||(g.value=x(g.value,C[h])),++k>=a));)f=e(t[k]);c()}for(;D>S;)M[b[S]=z]=v[S++],c();if(z>S)for(S=0;r>S;++S)P[S]=b[P[S]];h=I.indexOf(U),z>1?(U=i,W=o):(1===z?(U=s,W=l):(U=d,W=d),P=null),I[h]=U}function i(e,t,n){if(e!==Y&&!q){var i,r,a,s;for(i=0,a=t.length;a>i;++i)E[r=t[i]]&K||(s=M[P[r]],s.value=B(s.value,C[r]));for(i=0,a=n.length;a>i;++i)(E[r=n[i]]&K)===e&&(s=M[P[r]],s.value=j(s.value,C[r]))}}function s(e,t,n){if(e!==Y&&!q){var i,r,a,s=M[0];for(i=0,a=t.length;a>i;++i)E[r=t[i]]&K||(s.value=B(s.value,C[r]));for(i=0,a=n.length;a>i;++i)(E[r=n[i]]&K)===e&&(s.value=j(s.value,C[r]))}}function o(){var e,t;for(e=0;z>e;++e)M[e].value=L();for(e=0;T>e;++e)E[e]&K||(t=M[P[e]],t.value=B(t.value,C[e]))}function l(){var e,t=M[0];for(t.value=L(),e=0;T>e;++e)E[e]&K||(t.value=B(t.value,C[e]))}function c(){return q&&(W(),q=!1),M}function h(e){var t=O(c(),0,M.length,e);return F.sort(t,0,t.length)}function u(e,t,n){return B=e,j=t,L=n,q=!0,N}function b(){return u(f,g,p)}function x(e){return u(m(e),v(e),p)}function _(e){function t(t){return e(t.value)}return O=a(t),F=r(t),N}function D(){return _(t)}function S(){return z}function k(){var e=I.indexOf(U);return e>=0&&I.splice(e,1),e=J.indexOf(n),e>=0&&J.splice(e,1),N}var N={top:h,all:c,reduce:u,reduceCount:b,reduceSum:x,order:_,orderNatural:D,size:S,remove:k};Z.push(N);var M,P,O,F,B,j,L,V=8,$=w(V),z=0,U=d,W=d,q=!0;return arguments.length<1&&(e=t),I.push(U),J.push(n),n(H,G,0,T),b().orderNatural()}function V(){var e=L(d),t=e.all;return delete e.all,delete e.top,delete e.order,delete e.orderNatural,delete e.size,e.value=function(){return t()[0].value},e}function $(){Z.forEach(function(e){e.remove()});var e=N.indexOf(i);for(e>=0&&N.splice(e,1),e=N.indexOf(s),e>=0&&N.splice(e,1),e=0;T>e;++e)E[e]&=K;return D&=K,q}var H,G,z,U,W,q={filter:b,filterExact:k,filterRange:M,filterFunction:O,filterAll:P,top:B,bottom:j,group:L,groupAll:V,remove:$},Y=~D&-~D,K=~Y,X=o(function(e){return z[e]}),Q=u,J=[],Z=[],et=0,tt=0;return N.unshift(i),N.push(s),D|=Y,(S>=32?!Y:D&(1<<S)-1)&&(E=R(E,S<<=1)),i(C,0,T),s(C,0,T),q}function s(){function e(e,t){var n;if(!b)for(n=t;T>n;++n)E[n]||(l=c(l,C[n]))}function t(e,t,n){var i,r,a;if(!b){for(i=0,a=t.length;a>i;++i)E[r=t[i]]||(l=c(l,C[r]));for(i=0,a=n.length;a>i;++i)E[r=n[i]]===e&&(l=h(l,C[r]))}}function n(){var e;for(l=u(),e=0;T>e;++e)E[e]||(l=c(l,C[e]))}function i(e,t,n){return c=e,h=t,u=n,b=!0,d}function r(){return i(f,g,p)}function a(e){return i(m(e),v(e),p)}function s(){return b&&(n(),b=!1),l}function o(){var n=I.indexOf(t);return n>=0&&I.splice(n),n=N.indexOf(e),n>=0&&N.splice(n),d}var l,c,h,u,d={reduce:i,reduceCount:r,reduceSum:a,value:s,remove:o},b=!0;return I.push(t),N.push(e),e(C,0,T),r()}function l(){return T}var b={add:e,dimension:i,groupAll:s,size:l},C=[],T=0,D=0,S=8,E=k(0),I=[],N=[];return arguments.length?e(arguments[0]):b}function y(e,t){return(257>t?k:65537>t?I:N)(e)}function x(e){for(var t=y(e,e),n=-1;++n<e;)t[n]=n;return t}function w(e){return 8===e?256:16===e?65536:4294967296}b.version="1.2.0",b.permute=n;var _=b.bisect=i(t);_.by=i;var C=b.heap=r(t);C.by=r;var T=b.heapselect=a(t);T.by=a;var D=b.insertionsort=s(t);D.by=s;var S=b.quicksort=o(t);S.by=o;var E=32,k=l,I=l,N=l,A=t,R=t;"undefined"!=typeof Uint8Array&&(k=function(e){return new Uint8Array(e)},I=function(e){return new Uint16Array(e)},N=function(e){return new Uint32Array(e)},A=function(e,t){var n=new e.constructor(t);return n.set(e),n},R=function(e,t){var n;switch(t){case 16:n=I(e.length);break;case 32:n=N(e.length);break;default:throw new Error("invalid array width!")}return n.set(e),n}),e.crossfilter=b}(this);/*

Copyright (C) 2011 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
var Handlebars={};!function(e,t){e.VERSION="1.0.0-rc.4",e.COMPILER_REVISION=3,e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:">= 1.0.0-rc.4"},e.helpers={},e.partials={};var n=Object.prototype.toString,i="[object Function]",r="[object Object]";e.registerHelper=function(t,i,a){if(n.call(t)===r){if(a||i)throw new e.Exception("Arg not supported with multiple helpers");e.Utils.extend(this.helpers,t)}else a&&(i.not=a),this.helpers[t]=i},e.registerPartial=function(t,i){n.call(t)===r?e.Utils.extend(this.partials,t):this.partials[t]=i},e.registerHelper("helperMissing",function(e){if(2===arguments.length)return t;throw new Error("Could not find property '"+e+"'")}),e.registerHelper("blockHelperMissing",function(t,r){var a=r.inverse||function(){},s=r.fn,o=n.call(t);return o===i&&(t=t.call(this)),t===!0?s(this):t===!1||null==t?a(this):"[object Array]"===o?t.length>0?e.helpers.each(t,r):a(this):s(t)}),e.K=function(){},e.createFrame=Object.create||function(t){e.K.prototype=t;var n=new e.K;return e.K.prototype=null,n},e.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(t,n){if(e.logger.level<=t){var i=e.logger.methodMap[t];"undefined"!=typeof console&&console[i]&&console[i].call(console,n)}}},e.log=function(t,n){e.logger.log(t,n)},e.registerHelper("each",function(t,n){var i,r=n.fn,a=n.inverse,s=0,o="";if(n.data&&(i=e.createFrame(n.data)),t&&"object"==typeof t)if(t instanceof Array)for(var l=t.length;l>s;s++)i&&(i.index=s),o+=r(t[s],{data:i});else for(var c in t)t.hasOwnProperty(c)&&(i&&(i.key=c),o+=r(t[c],{data:i}),s++);return 0===s&&(o=a(this)),o}),e.registerHelper("if",function(t,r){var a=n.call(t);return a===i&&(t=t.call(this)),!t||e.Utils.isEmpty(t)?r.inverse(this):r.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn})}),e.registerHelper("with",function(t,n){return e.Utils.isEmpty(t)?void 0:n.fn(t)}),e.registerHelper("log",function(t,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;e.log(i,t)});var a=function(){function e(){this.yy={}}var t={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,simpleInverse:6,statements:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,OPEN_PARTIAL:24,partialName:25,params:26,hash:27,DATA:28,param:29,STRING:30,INTEGER:31,BOOLEAN:32,hashSegments:33,hashSegment:34,ID:35,EQUALS:36,PARTIAL_NAME:37,pathSegments:38,SEP:39,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"OPEN_PARTIAL",28:"DATA",30:"STRING",31:"INTEGER",32:"BOOLEAN",35:"ID",36:"EQUALS",37:"PARTIAL_NAME",39:"SEP"},productions_:[0,[3,2],[4,2],[4,3],[4,2],[4,1],[4,1],[4,0],[7,1],[7,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[6,2],[17,3],[17,2],[17,2],[17,1],[17,1],[26,2],[26,1],[29,1],[29,1],[29,1],[29,1],[29,1],[27,1],[33,2],[33,1],[34,3],[34,3],[34,3],[34,3],[34,3],[25,1],[21,1],[38,3],[38,1]],performAction:function(e,t,n,i,r,a){var s=a.length-1;switch(r){case 1:return a[s-1];case 2:this.$=new i.ProgramNode([],a[s]);break;case 3:this.$=new i.ProgramNode(a[s-2],a[s]);break;case 4:this.$=new i.ProgramNode(a[s-1],[]);break;case 5:this.$=new i.ProgramNode(a[s]);break;case 6:this.$=new i.ProgramNode([],[]);break;case 7:this.$=new i.ProgramNode([]);break;case 8:this.$=[a[s]];break;case 9:a[s-1].push(a[s]),this.$=a[s-1];break;case 10:this.$=new i.BlockNode(a[s-2],a[s-1].inverse,a[s-1],a[s]);break;case 11:this.$=new i.BlockNode(a[s-2],a[s-1],a[s-1].inverse,a[s]);break;case 12:this.$=a[s];break;case 13:this.$=a[s];break;case 14:this.$=new i.ContentNode(a[s]);break;case 15:this.$=new i.CommentNode(a[s]);break;case 16:this.$=new i.MustacheNode(a[s-1][0],a[s-1][1]);break;case 17:this.$=new i.MustacheNode(a[s-1][0],a[s-1][1]);break;case 18:this.$=a[s-1];break;case 19:this.$=new i.MustacheNode(a[s-1][0],a[s-1][1]);break;case 20:this.$=new i.MustacheNode(a[s-1][0],a[s-1][1],!0);break;case 21:this.$=new i.PartialNode(a[s-1]);break;case 22:this.$=new i.PartialNode(a[s-2],a[s-1]);break;case 23:break;case 24:this.$=[[a[s-2]].concat(a[s-1]),a[s]];break;case 25:this.$=[[a[s-1]].concat(a[s]),null];break;case 26:this.$=[[a[s-1]],a[s]];break;case 27:this.$=[[a[s]],null];break;case 28:this.$=[[new i.DataNode(a[s])],null];break;case 29:a[s-1].push(a[s]),this.$=a[s-1];break;case 30:this.$=[a[s]];break;case 31:this.$=a[s];break;case 32:this.$=new i.StringNode(a[s]);break;case 33:this.$=new i.IntegerNode(a[s]);break;case 34:this.$=new i.BooleanNode(a[s]);break;case 35:this.$=new i.DataNode(a[s]);break;case 36:this.$=new i.HashNode(a[s]);break;case 37:a[s-1].push(a[s]),this.$=a[s-1];break;case 38:this.$=[a[s]];break;case 39:this.$=[a[s-2],a[s]];break;case 40:this.$=[a[s-2],new i.StringNode(a[s])];break;case 41:this.$=[a[s-2],new i.IntegerNode(a[s])];break;case 42:this.$=[a[s-2],new i.BooleanNode(a[s])];break;case 43:this.$=[a[s-2],new i.DataNode(a[s])];break;case 44:this.$=new i.PartialNameNode(a[s]);break;case 45:this.$=new i.IdNode(a[s]);break;case 46:a[s-2].push(a[s]),this.$=a[s-2];break;case 47:this.$=[a[s]]}},table:[{3:1,4:2,5:[2,7],6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],22:[1,14],23:[1,15],24:[1,16]},{1:[3]},{5:[1,17]},{5:[2,6],7:18,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,6],22:[1,14],23:[1,15],24:[1,16]},{5:[2,5],6:20,8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,5],22:[1,14],23:[1,15],24:[1,16]},{17:23,18:[1,22],21:24,28:[1,25],35:[1,27],38:26},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],24:[2,8]},{4:28,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],24:[1,16]},{4:29,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],24:[1,16]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],24:[2,12]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],24:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],24:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],24:[2,15]},{17:30,21:24,28:[1,25],35:[1,27],38:26},{17:31,21:24,28:[1,25],35:[1,27],38:26},{17:32,21:24,28:[1,25],35:[1,27],38:26},{25:33,37:[1,34]},{1:[2,1]},{5:[2,2],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,2],22:[1,14],23:[1,15],24:[1,16]},{17:23,21:24,28:[1,25],35:[1,27],38:26},{5:[2,4],7:35,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,4],22:[1,14],23:[1,15],24:[1,16]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],24:[2,9]},{5:[2,23],14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],24:[2,23]},{18:[1,36]},{18:[2,27],21:41,26:37,27:38,28:[1,45],29:39,30:[1,42],31:[1,43],32:[1,44],33:40,34:46,35:[1,47],38:26},{18:[2,28]},{18:[2,45],28:[2,45],30:[2,45],31:[2,45],32:[2,45],35:[2,45],39:[1,48]},{18:[2,47],28:[2,47],30:[2,47],31:[2,47],32:[2,47],35:[2,47],39:[2,47]},{10:49,20:[1,50]},{10:51,20:[1,50]},{18:[1,52]},{18:[1,53]},{18:[1,54]},{18:[1,55],21:56,35:[1,27],38:26},{18:[2,44],35:[2,44]},{5:[2,3],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,3],22:[1,14],23:[1,15],24:[1,16]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],24:[2,17]},{18:[2,25],21:41,27:57,28:[1,45],29:58,30:[1,42],31:[1,43],32:[1,44],33:40,34:46,35:[1,47],38:26},{18:[2,26]},{18:[2,30],28:[2,30],30:[2,30],31:[2,30],32:[2,30],35:[2,30]},{18:[2,36],34:59,35:[1,60]},{18:[2,31],28:[2,31],30:[2,31],31:[2,31],32:[2,31],35:[2,31]},{18:[2,32],28:[2,32],30:[2,32],31:[2,32],32:[2,32],35:[2,32]},{18:[2,33],28:[2,33],30:[2,33],31:[2,33],32:[2,33],35:[2,33]},{18:[2,34],28:[2,34],30:[2,34],31:[2,34],32:[2,34],35:[2,34]},{18:[2,35],28:[2,35],30:[2,35],31:[2,35],32:[2,35],35:[2,35]},{18:[2,38],35:[2,38]},{18:[2,47],28:[2,47],30:[2,47],31:[2,47],32:[2,47],35:[2,47],36:[1,61],39:[2,47]},{35:[1,62]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],24:[2,10]},{21:63,35:[1,27],38:26},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],24:[2,11]},{14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],24:[2,16]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],24:[2,19]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],24:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],24:[2,21]},{18:[1,64]},{18:[2,24]},{18:[2,29],28:[2,29],30:[2,29],31:[2,29],32:[2,29],35:[2,29]},{18:[2,37],35:[2,37]},{36:[1,61]},{21:65,28:[1,69],30:[1,66],31:[1,67],32:[1,68],35:[1,27],38:26},{18:[2,46],28:[2,46],30:[2,46],31:[2,46],32:[2,46],35:[2,46],39:[2,46]},{18:[1,70]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],24:[2,22]},{18:[2,39],35:[2,39]},{18:[2,40],35:[2,40]},{18:[2,41],35:[2,41]},{18:[2,42],35:[2,42]},{18:[2,43],35:[2,43]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],24:[2,18]}],defaultActions:{17:[2,1],25:[2,28],38:[2,26],57:[2,24]},parseError:function(e){throw new Error(e)},parse:function(e){function t(){var e;return e=n.lexer.lex()||1,"number"!=typeof e&&(e=n.symbols_[e]||e),e}var n=this,i=[0],r=[null],a=[],s=this.table,o="",l=0,c=0,h=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;a.push(u);var d=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,f,g,m,v,b,y,x,w,_={};;){if(g=i[i.length-1],this.defaultActions[g]?m=this.defaultActions[g]:((null===p||"undefined"==typeof p)&&(p=t()),m=s[g]&&s[g][p]),"undefined"==typeof m||!m.length||!m[0]){var C="";if(!h){w=[];for(b in s[g])this.terminals_[b]&&b>2&&w.push("'"+this.terminals_[b]+"'");C=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(C,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:u,expected:w})}}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+p);switch(m[0]){case 1:i.push(p),r.push(this.lexer.yytext),a.push(this.lexer.yylloc),i.push(m[1]),p=null,f?(p=f,f=null):(c=this.lexer.yyleng,o=this.lexer.yytext,l=this.lexer.yylineno,u=this.lexer.yylloc,h>0&&h--);break;case 2:if(y=this.productions_[m[1]][1],_.$=r[r.length-y],_._$={first_line:a[a.length-(y||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(y||1)].first_column,last_column:a[a.length-1].last_column},d&&(_._$.range=[a[a.length-(y||1)].range[0],a[a.length-1].range[1]]),v=this.performAction.call(_,o,c,l,this.yy,m[1],r,a),"undefined"!=typeof v)return v;y&&(i=i.slice(0,2*-1*y),r=r.slice(0,-1*y),a=a.slice(0,-1*y)),i.push(this.productions_[m[1]][0]),r.push(_.$),a.push(_._$),x=s[i[i.length-2]][i[i.length-1]],i.push(x);break;case 3:return!0}}return!0}},n=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n,i,r;this._more||(this.yytext="",this.match="");for(var a=this._currentRules(),s=0;s<a.length&&(n=this._input.match(this.rules[a[s]]),!n||t&&!(n[0].length>t[0].length)||(t=n,i=s,this.options.flex));s++);return t?(r=t[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,a[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e?e:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return"undefined"!=typeof e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.options={},e.performAction=function(e,t,n,i){switch(n){case 0:return t.yytext="\\",14;case 1:if("\\"!==t.yytext.slice(-1)&&this.begin("mu"),"\\"===t.yytext.slice(-1)&&(t.yytext=t.yytext.substr(0,t.yyleng-1),this.begin("emu")),t.yytext)return 14;break;case 2:return 14;case 3:return"\\"!==t.yytext.slice(-1)&&this.popState(),"\\"===t.yytext.slice(-1)&&(t.yytext=t.yytext.substr(0,t.yyleng-1)),14;case 4:return t.yytext=t.yytext.substr(0,t.yyleng-4),this.popState(),15;case 5:return this.begin("par"),24;case 6:return 16;case 7:return 20;case 8:return 19;case 9:return 19;case 10:return 23;case 11:return 23;case 12:this.popState(),this.begin("com");break;case 13:return t.yytext=t.yytext.substr(3,t.yyleng-5),this.popState(),15;case 14:return 22;case 15:return 36;case 16:return 35;case 17:return 35;case 18:return 39;case 19:break;case 20:return this.popState(),18;case 21:return this.popState(),18;case 22:return t.yytext=t.yytext.substr(1,t.yyleng-2).replace(/\\"/g,'"'),30;case 23:return t.yytext=t.yytext.substr(1,t.yyleng-2).replace(/\\'/g,"'"),30;case 24:return t.yytext=t.yytext.substr(1),28;case 25:return 32;case 26:return 32;case 27:return 31;case 28:return 35;case 29:return t.yytext=t.yytext.substr(1,t.yyleng-2),35;case 30:return"INVALID";case 31:break;case 32:return this.popState(),37;case 33:return 5}},e.rules=[/^(?:\\\\(?=(\{\{)))/,/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\{\{>)/,/^(?:\{\{#)/,/^(?:\{\{\/)/,/^(?:\{\{\^)/,/^(?:\{\{\s*else\b)/,/^(?:\{\{\{)/,/^(?:\{\{&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{)/,/^(?:=)/,/^(?:\.(?=[}/ ]))/,/^(?:\.\.)/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}\}\})/,/^(?:\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@[a-zA-Z]+)/,/^(?:true(?=[}\s]))/,/^(?:false(?=[}\s]))/,/^(?:-?[0-9]+(?=[}\s]))/,/^(?:[a-zA-Z0-9_$:\-]+(?=[=}\s\/.]))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:\s+)/,/^(?:[a-zA-Z0-9_$\-\/]+)/,/^(?:$)/],e.conditions={mu:{rules:[5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,33],inclusive:!1},emu:{rules:[3],inclusive:!1},com:{rules:[4],inclusive:!1},par:{rules:[31,32],inclusive:!1},INITIAL:{rules:[0,1,2,33],inclusive:!0}},e}();return t.lexer=n,e.prototype=t,t.Parser=e,new e}();e.Parser=a,e.parse=function(t){return t.constructor===e.AST.ProgramNode?t:(e.Parser.yy=e.AST,e.Parser.parse(t))},e.AST={},e.AST.ProgramNode=function(t,n){this.type="program",this.statements=t,n&&(this.inverse=new e.AST.ProgramNode(n))},e.AST.MustacheNode=function(e,t,n){this.type="mustache",this.escaped=!n,this.hash=t;var i=this.id=e[0],r=this.params=e.slice(1),a=this.eligibleHelper=i.isSimple;this.isHelper=a&&(r.length||t)},e.AST.PartialNode=function(e,t){this.type="partial",this.partialName=e,this.context=t},e.AST.BlockNode=function(t,n,i,r){var a=function(t,n){if(t.original!==n.original)throw new e.Exception(t.original+" doesn't match "+n.original)};a(t.id,r),this.type="block",this.mustache=t,this.program=n,this.inverse=i,this.inverse&&!this.program&&(this.isInverse=!0)},e.AST.ContentNode=function(e){this.type="content",this.string=e},e.AST.HashNode=function(e){this.type="hash",this.pairs=e},e.AST.IdNode=function(t){this.type="ID",this.original=t.join(".");for(var n=[],i=0,r=0,a=t.length;a>r;r++){var s=t[r];if(".."===s||"."===s||"this"===s){if(n.length>0)throw new e.Exception("Invalid path: "+this.original);".."===s?i++:this.isScoped=!0}else n.push(s)}this.parts=n,this.string=n.join("."),this.depth=i,this.isSimple=1===t.length&&!this.isScoped&&0===i,this.stringModeValue=this.string},e.AST.PartialNameNode=function(e){this.type="PARTIAL_NAME",this.name=e},e.AST.DataNode=function(e){this.type="DATA",this.id=e},e.AST.StringNode=function(e){this.type="STRING",this.string=e,this.stringModeValue=e},e.AST.IntegerNode=function(e){this.type="INTEGER",this.integer=e,this.stringModeValue=Number(e)},e.AST.BooleanNode=function(e){this.type="BOOLEAN",this.bool=e,this.stringModeValue="true"===e},e.AST.CommentNode=function(e){this.type="comment",this.comment=e};var s=["description","fileName","lineNumber","message","name","number","stack"];e.Exception=function(){for(var e=Error.prototype.constructor.apply(this,arguments),t=0;t<s.length;t++)this[s[t]]=e[s[t]]},e.Exception.prototype=new Error,e.SafeString=function(e){this.string=e},e.SafeString.prototype.toString=function(){return this.string.toString()};var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=/[&<>"'`]/g,c=/[&<>"'`]/,h=function(e){return o[e]||"&amp;"};e.Utils={extend:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},escapeExpression:function(t){return t instanceof e.SafeString?t.toString():null==t||t===!1?"":(t=t.toString(),c.test(t)?t.replace(l,h):t)},isEmpty:function(e){return e||0===e?"[object Array]"===n.call(e)&&0===e.length?!0:!1:!0}};var u=e.Compiler=function(){},d=e.JavaScriptCompiler=function(){};u.prototype={compiler:u,disassemble:function(){for(var e,t,n,i=this.opcodes,r=[],a=0,s=i.length;s>a;a++)if(e=i[a],"DECLARE"===e.opcode)r.push("DECLARE "+e.name+"="+e.value);else{t=[];for(var o=0;o<e.args.length;o++)n=e.args[o],"string"==typeof n&&(n='"'+n.replace("\n","\\n")+'"'),t.push(n);r.push(e.opcode+" "+t.join(" "))}return r.join("\n")},equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var n=0;t>n;n++){var i=this.opcodes[n],r=e.opcodes[n];if(i.opcode!==r.opcode||i.args.length!==r.args.length)return!1;for(var a=0;a<i.args.length;a++)if(i.args[a]!==r.args[a])return!1}if(t=this.children.length,e.children.length!==t)return!1;for(n=0;t>n;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function(e,t){this.children=[],this.depths={list:[]},this.options=t;var n=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},n)for(var i in n)this.options.knownHelpers[i]=n[i];return this.program(e)},accept:function(e){return this[e.type](e)},program:function(e){var t,n=e.statements;this.opcodes=[];for(var i=0,r=n.length;r>i;i++)t=n[i],this[t.type](t);return this.isSimple=1===r,this.depths.list=this.depths.list.sort(function(e,t){return e-t}),this},compileProgram:function(e){var t,n=(new this.compiler).compile(e,this.options),i=this.guid++;this.usePartial=this.usePartial||n.usePartial,this.children[i]=n;for(var r=0,a=n.depths.list.length;a>r;r++)t=n.depths.list[r],2>t||this.addDepth(t-1);return i},block:function(e){var t=e.mustache,n=e.program,i=e.inverse;n&&(n=this.compileProgram(n)),i&&(i=this.compileProgram(i));var r=this.classifyMustache(t);"helper"===r?this.helperMustache(t,n,i):"simple"===r?(this.simpleMustache(t),this.opcode("pushProgram",n),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousMustache(t,n,i),this.opcode("pushProgram",n),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(e){var t,n,i=e.pairs;this.opcode("pushHash");for(var r=0,a=i.length;a>r;r++)t=i[r],n=t[1],this.options.stringParams?(n.depth&&this.addDepth(n.depth),this.opcode("getContext",n.depth||0),this.opcode("pushStringParam",n.stringModeValue,n.type)):this.accept(n),this.opcode("assignToHash",t[0]);this.opcode("popHash")},partial:function(e){var t=e.partialName;this.usePartial=!0,e.context?this.ID(e.context):this.opcode("push","depth0"),this.opcode("invokePartial",t.name),this.opcode("append")},content:function(e){this.opcode("appendContent",e.string)},mustache:function(e){var t=this.options,n=this.classifyMustache(e);"simple"===n?this.simpleMustache(e):"helper"===n?this.helperMustache(e):this.ambiguousMustache(e),e.escaped&&!t.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousMustache:function(e,t,n){var i=e.id,r=i.parts[0],a=null!=t||null!=n;this.opcode("getContext",i.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("invokeAmbiguous",r,a)},simpleMustache:function(e){var t=e.id;"DATA"===t.type?this.DATA(t):t.parts.length?this.ID(t):(this.addDepth(t.depth),this.opcode("getContext",t.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperMustache:function(e,t,n){var i=this.setupFullMustacheParams(e,t,n),r=e.id.parts[0];if(this.options.knownHelpers[r])this.opcode("invokeKnownHelper",i.length,r);else{if(this.options.knownHelpersOnly)throw new Error("You specified knownHelpersOnly, but used the unknown helper "+r);this.opcode("invokeHelper",i.length,r)}},ID:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0];t?this.opcode("lookupOnContext",e.parts[0]):this.opcode("pushContext");for(var n=1,i=e.parts.length;i>n;n++)this.opcode("lookup",e.parts[n])},DATA:function(e){this.options.data=!0,this.opcode("lookupData",e.id)},STRING:function(e){this.opcode("pushString",e.string)},INTEGER:function(e){this.opcode("pushLiteral",e.integer)},BOOLEAN:function(e){this.opcode("pushLiteral",e.bool)},comment:function(){},opcode:function(e){this.opcodes.push({opcode:e,args:[].slice.call(arguments,1)})},declare:function(e,t){this.opcodes.push({opcode:"DECLARE",name:e,value:t})},addDepth:function(e){if(isNaN(e))throw new Error("EWOT");0!==e&&(this.depths[e]||(this.depths[e]=!0,this.depths.list.push(e)))},classifyMustache:function(e){var t=e.isHelper,n=e.eligibleHelper,i=this.options;if(n&&!t){var r=e.id.parts[0];i.knownHelpers[r]?t=!0:i.knownHelpersOnly&&(n=!1)}return t?"helper":n?"ambiguous":"simple"},pushParams:function(e){for(var t,n=e.length;n--;)t=e[n],this.options.stringParams?(t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",t.stringModeValue,t.type)):this[t.type](t)},setupMustacheParams:function(e){var t=e.params;return this.pushParams(t),e.hash?this.hash(e.hash):this.opcode("emptyHash"),t},setupFullMustacheParams:function(e,t,n){var i=e.params;return this.pushParams(i),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.hash(e.hash):this.opcode("emptyHash"),i}};var p=function(e){this.value=e};d.prototype={nameLookup:function(e,t){return/^[0-9]+$/.test(t)?e+"["+t+"]":d.isValidJavaScriptVariableName(t)?e+"."+t:e+"['"+t+"']"},appendToBuffer:function(e){return this.environment.isSimple?"return "+e+";":{appendToBuffer:!0,content:e,toString:function(){return"buffer += "+e+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(t,n,i,r){this.environment=t,this.options=n||{},e.log(e.logger.DEBUG,this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!i,this.context=i||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.compileStack=[],this.inlineStack=[],this.compileChildren(t,n);var a,s=t.opcodes;for(this.i=0,v=s.length;this.i<v;this.i++)a=s[this.i],"DECLARE"===a.opcode?this[a.name]=a.value:this[a.opcode].apply(this,a.args);return this.createFunctionContext(r)},nextOpcode:function(){var e=this.environment.opcodes;return e[this.i+1]},eat:function(){this.i=this.i+1},preamble:function(){var e=[];if(this.isChild)e.push("");else{var t=this.namespace,n="helpers = helpers || "+t+".helpers;";this.environment.usePartial&&(n=n+" partials = partials || "+t+".partials;"),this.options.data&&(n+=" data = data || {};"),e.push(n)}this.environment.isSimple?e.push(""):e.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=e},createFunctionContext:function(t){var n=this.stackVars.concat(this.registers.list);if(n.length>0&&(this.source[1]=this.source[1]+", "+n.join(", ")),!this.isChild)for(var i in this.context.aliases)this.source[1]=this.source[1]+", "+i+"="+this.context.aliases[i];this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.source.push("return buffer;");for(var r=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],a=0,s=this.environment.depths.list.length;s>a;a++)r.push("depth"+this.environment.depths.list[a]);var o=this.mergeSource();if(!this.isChild){var l=e.COMPILER_REVISION,c=e.REVISION_CHANGES[l];o="this.compilerInfo = ["+l+",'"+c+"'];\n"+o}if(t)return r.push(o),Function.apply(this,r);var h="function "+(this.name||"")+"("+r.join(",")+") {\n  "+o+"}";return e.log(e.logger.DEBUG,h+"\n\n"),h},mergeSource:function(){for(var e,n="",i=0,r=this.source.length;r>i;i++){var a=this.source[i];a.appendToBuffer?e=e?e+"\n    + "+a.content:a.content:(e&&(n+="buffer += "+e+";\n  ",e=t),n+=a+"\n  ")}return n},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e),this.replaceStack(function(t){return e.splice(1,0,t),"blockHelperMissing.call("+e.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e);var t=this.topStack();e.splice(1,0,t),e[e.length-1]="options",this.source.push("if (!"+this.lastHelper+") { "+t+" = blockHelperMissing.call("+e.join(", ")+"); }")},appendContent:function(e){this.source.push(this.appendToBuffer(this.quotedString(e)))},append:function(){this.flushInline();var e=this.popStack();this.source.push("if("+e+" || "+e+" === 0) { "+this.appendToBuffer(e)+" }"),this.environment.isSimple&&this.source.push("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(e){this.lastContext!==e&&(this.lastContext=e)},lookupOnContext:function(e){this.push(this.nameLookup("depth"+this.lastContext,e,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(e){return"typeof "+e+" === functionType ? "+e+".apply(depth0) : "+e})},lookup:function(e){this.replaceStack(function(t){return t+" == null || "+t+" === false ? "+t+" : "+this.nameLookup(t,e,"context")})},lookupData:function(e){this.push(this.nameLookup("data",e,"data"))},pushStringParam:function(e,t){this.pushStackLiteral("depth"+this.lastContext),this.pushString(t),"string"==typeof e?this.pushString(e):this.pushStackLiteral(e)},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.register("hashTypes","{}"),this.register("hashContexts","{}"))},pushHash:function(){this.hash={values:[],types:[],contexts:[]}},popHash:function(){var e=this.hash;this.hash=t,this.options.stringParams&&(this.register("hashContexts","{"+e.contexts.join(",")+"}"),this.register("hashTypes","{"+e.types.join(",")+"}")),this.push("{\n    "+e.values.join(",\n    ")+"\n  }")},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},push:function(e){return this.inlineStack.push(e),e},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},invokeHelper:function(e,t){this.context.aliases.helperMissing="helpers.helperMissing";var n=this.lastHelper=this.setupHelper(e,t,!0);this.push(n.name),this.replaceStack(function(e){return e+" ? "+e+".call("+n.callParams+") "+": helperMissing.call("+n.helperMissingParams+")"})},invokeKnownHelper:function(e,t){var n=this.setupHelper(e,t);this.push(n.name+".call("+n.callParams+")")},invokeAmbiguous:function(e,t){this.context.aliases.functionType='"function"',this.pushStackLiteral("{}");var n=this.setupHelper(0,e,t),i=this.lastHelper=this.nameLookup("helpers",e,"helper"),r=this.nameLookup("depth"+this.lastContext,e,"context"),a=this.nextStack();this.source.push("if ("+a+" = "+i+") { "+a+" = "+a+".call("+n.callParams+"); }"),this.source.push("else { "+a+" = "+r+"; "+a+" = typeof "+a+" === functionType ? "+a+".apply(depth0) : "+a+"; }")},invokePartial:function(e){var t=[this.nameLookup("partials",e,"partial"),"'"+e+"'",this.popStack(),"helpers","partials"];this.options.data&&t.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+t.join(", ")+")")},assignToHash:function(e){var t,n,i=this.popStack();this.options.stringParams&&(n=this.popStack(),t=this.popStack());var r=this.hash;t&&r.contexts.push("'"+e+"': "+t),n&&r.types.push("'"+e+"': "+n),r.values.push("'"+e+"': ("+i+")")},compiler:d,compileChildren:function(e,t){for(var n,i,r=e.children,a=0,s=r.length;s>a;a++){n=r[a],i=new this.compiler;var o=this.matchExistingProgram(n);null==o?(this.context.programs.push(""),o=this.context.programs.length,n.index=o,n.name="program"+o,this.context.programs[o]=i.compile(n,t,this.context),this.context.environments[o]=n):(n.index=o,n.name="program"+o)}},matchExistingProgram:function(e){for(var t=0,n=this.context.environments.length;n>t;t++){var i=this.context.environments[t];if(i&&i.equals(e))return t}},programExpression:function(e){if(this.context.aliases.self="this",null==e)return"self.noop";for(var t,n=this.environment.children[e],i=n.depths.list,r=[n.index,n.name,"data"],a=0,s=i.length;s>a;a++)t=i[a],1===t?r.push("depth0"):r.push("depth"+(t-1));return(0===i.length?"self.program(":"self.programWithDepth(")+r.join(", ")+")"},register:function(e,t){this.useRegister(e),this.source.push(e+" = "+t+";")},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},pushStackLiteral:function(e){return this.push(new p(e))},pushStack:function(e){this.flushInline();var t=this.incrStack();return e&&this.source.push(t+" = "+e+";"),this.compileStack.push(t),t},replaceStack:function(e){var t,n="",i=this.isInline();if(i){var r=this.popStack(!0);
if(r instanceof p)t=r.value;else{var a=this.stackSlot?this.topStackName():this.incrStack();n="("+this.push(a)+" = "+r+"),",t=this.topStack()}}else t=this.topStack();var s=e.call(this,t);return i?((this.inlineStack.length||this.compileStack.length)&&this.popStack(),this.push("("+n+s+")")):(/^stack/.test(t)||(t=this.nextStack()),this.source.push(t+" = ("+n+s+");")),t},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;if(e.length){this.inlineStack=[];for(var t=0,n=e.length;n>t;t++){var i=e[t];i instanceof p?this.compileStack.push(i):this.pushStack(i)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),n=(t?this.inlineStack:this.compileStack).pop();return!e&&n instanceof p?n.value:(t||this.stackSlot--,n)},topStack:function(e){var t=this.isInline()?this.inlineStack:this.compileStack,n=t[t.length-1];return!e&&n instanceof p?n.value:n},quotedString:function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(e,t,n){var i=[];this.setupParams(e,i,n);var r=this.nameLookup("helpers",t,"helper");return{params:i,name:r,callParams:["depth0"].concat(i).join(", "),helperMissingParams:n&&["depth0",this.quotedString(t)].concat(i).join(", ")}},setupParams:function(e,t,n){var i,r,a,s=[],o=[],l=[];s.push("hash:"+this.popStack()),r=this.popStack(),a=this.popStack(),(a||r)&&(a||(this.context.aliases.self="this",a="self.noop"),r||(this.context.aliases.self="this",r="self.noop"),s.push("inverse:"+r),s.push("fn:"+a));for(var c=0;e>c;c++)i=this.popStack(),t.push(i),this.options.stringParams&&(l.push(this.popStack()),o.push(this.popStack()));return this.options.stringParams&&(s.push("contexts:["+o.join(",")+"]"),s.push("types:["+l.join(",")+"]"),s.push("hashContexts:hashContexts"),s.push("hashTypes:hashTypes")),this.options.data&&s.push("data:data"),s="{"+s.join(",")+"}",n?(this.register("options",s),t.push("options")):t.push(s),t.join(", ")}};for(var f="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),g=d.RESERVED_WORDS={},m=0,v=f.length;v>m;m++)g[f[m]]=!0;d.isValidJavaScriptVariableName=function(e){return!d.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(e)?!0:!1},e.precompile=function(t,n){if(null==t||"string"!=typeof t&&t.constructor!==e.AST.ProgramNode)throw new e.Exception("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);n=n||{},"data"in n||(n.data=!0);var i=e.parse(t),r=(new u).compile(i,n);return(new d).compile(r,n)},e.compile=function(n,i){function r(){var r=e.parse(n),a=(new u).compile(r,i),s=(new d).compile(a,i,t,!0);return e.template(s)}if(null==n||"string"!=typeof n&&n.constructor!==e.AST.ProgramNode)throw new e.Exception("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+n);i=i||{},"data"in i||(i.data=!0);var a;return function(e,t){return a||(a=r()),a.call(this,e,t)}},e.VM={template:function(t){var n={escapeExpression:e.Utils.escapeExpression,invokePartial:e.VM.invokePartial,programs:[],program:function(t,n,i){var r=this.programs[t];return i?r=e.VM.program(t,n,i):r||(r=this.programs[t]=e.VM.program(t,n)),r},programWithDepth:e.VM.programWithDepth,noop:e.VM.noop,compilerInfo:null};return function(i,r){r=r||{};var a=t.call(n,e,i,r.helpers,r.partials,r.data),s=n.compilerInfo||[],o=s[0]||1,l=e.COMPILER_REVISION;if(o!==l){if(l>o){var c=e.REVISION_CHANGES[l],h=e.REVISION_CHANGES[o];throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+c+") or downgrade your runtime to an older version ("+h+")."}throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+s[1]+")."}return a}},programWithDepth:function(e,t,n){var i=Array.prototype.slice.call(arguments,3),r=function(e,r){return r=r||{},t.apply(this,[e,r.data||n].concat(i))};return r.program=e,r.depth=i.length,r},program:function(e,t,n){var i=function(e,i){return i=i||{},t(e,i.data||n)};return i.program=e,i.depth=0,i},noop:function(){return""},invokePartial:function(n,i,r,a,s,o){var l={helpers:a,partials:s,data:o};if(n===t)throw new e.Exception("The partial "+i+" could not be found");if(n instanceof Function)return n(r,l);if(e.compile)return s[i]=e.compile(n,{data:o!==t}),s[i](r,l);throw new e.Exception("The partial "+i+" could not be compiled when running in runtime-only mode")}},e.template=e.VM.template}(Handlebars),function(){var e,t;!function(){var n={},i={};e=function(e,t,i){n[e]={deps:t,callback:i}},t=function(e){if(i[e])return i[e];i[e]={};var r,a,s,o,l;if(r=n[e],!r)throw new Error("Module '"+e+"' not found.");a=r.deps,s=r.callback,o=[];for(var c=0,h=a.length;h>c;c++)"exports"===a[c]?o.push(l={}):o.push(t(a[c]));var u=s.apply(this,o);return i[e]=l||u}}(),function(){function e(e){return n.console&&n.console[e]?n.console[e].apply?function(){n.console[e].apply(n.console,arguments)}:function(){var t=Array.prototype.join.call(arguments,", ");n.console[e](t)}:void 0}function t(e,t){if(!e)try{throw new Error("assertion failed: "+t)}catch(n){setTimeout(function(){throw n},0)}}"undefined"==typeof Ember&&(Ember={});var n=Ember.imports=Ember.imports||this,i=Ember.exports=Ember.exports||this;Ember.lookup=Ember.lookup||this,i.Em=i.Ember=Em=Ember,Ember.isNamespace=!0,Ember.toString=function(){return"Ember"},Ember.VERSION="1.0.0-rc.6",Ember.ENV=Ember.ENV||("undefined"==typeof ENV?{}:ENV),Ember.config=Ember.config||{},Ember.EXTEND_PROTOTYPES=Ember.ENV.EXTEND_PROTOTYPES,"undefined"==typeof Ember.EXTEND_PROTOTYPES&&(Ember.EXTEND_PROTOTYPES=!0),Ember.LOG_STACKTRACE_ON_DEPRECATION=Ember.ENV.LOG_STACKTRACE_ON_DEPRECATION!==!1,Ember.SHIM_ES5=Ember.ENV.SHIM_ES5===!1?!1:Ember.EXTEND_PROTOTYPES,Ember.LOG_VERSION=Ember.ENV.LOG_VERSION===!1?!1:!0,Ember.K=function(){return this},"undefined"==typeof Ember.assert&&(Ember.assert=Ember.K),"undefined"==typeof Ember.warn&&(Ember.warn=Ember.K),"undefined"==typeof Ember.debug&&(Ember.debug=Ember.K),"undefined"==typeof Ember.deprecate&&(Ember.deprecate=Ember.K),"undefined"==typeof Ember.deprecateFunc&&(Ember.deprecateFunc=function(e,t){return t}),Ember.uuid=0,Ember.Logger={log:e("log")||Ember.K,warn:e("warn")||Ember.K,error:e("error")||Ember.K,info:e("info")||Ember.K,debug:e("debug")||e("info")||Ember.K,assert:e("assert")||t},Ember.onerror=null,Ember.handleErrors=function(e,t){if("function"!=typeof Ember.onerror)return e.call(t||this);try{return e.call(t||this)}catch(n){Ember.onerror(n)}},Ember.merge=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},Ember.isNone=function(e){return null===e||void 0===e},Ember.none=Ember.deprecateFunc("Ember.none is deprecated. Please use Ember.isNone instead.",Ember.isNone),Ember.isEmpty=function(e){return Ember.isNone(e)||0===e.length&&"function"!=typeof e||"object"==typeof e&&0===Ember.get(e,"length")},Ember.empty=Ember.deprecateFunc("Ember.empty is deprecated. Please use Ember.isEmpty instead.",Ember.isEmpty)}(),function(){var e=Ember.platform={};if(Ember.create=Object.create,Ember.create&&2!==Ember.create({a:1},{a:{value:2}}).a&&(Ember.create=null),!Ember.create||Ember.ENV.STUB_OBJECT_CREATE){var t=function(){};Ember.create=function(e,n){if(t.prototype=e,e=new t,n){t.prototype=e;for(var i in n)t.prototype[i]=n[i].value;e=new t}return t.prototype=null,e},Ember.create.isSimulated=!0}var n,i,r=Object.defineProperty;if(r)try{r({},"a",{get:function(){}})}catch(a){r=null}r&&(n=function(){var e={};return r(e,"a",{configurable:!0,enumerable:!0,get:function(){},set:function(){}}),r(e,"a",{configurable:!0,enumerable:!0,writable:!0,value:!0}),e.a===!0}(),i=function(){try{return r(document.createElement("div"),"definePropertyOnDOM",{}),!0}catch(e){}return!1}(),n?i||(r=function(e,t,n){var i;return i="object"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName,i?e[t]=n.value:Object.defineProperty(e,t,n)}):r=null),e.defineProperty=r,e.hasPropertyAccessors=!0,e.defineProperty||(e.hasPropertyAccessors=!1,e.defineProperty=function(e,t,n){n.get||(e[t]=n.value)},e.defineProperty.isSimulated=!0),Ember.ENV.MANDATORY_SETTER&&!e.hasPropertyAccessors&&(Ember.ENV.MANDATORY_SETTER=!1)}(),function(){var e=function(e){return e&&Function.prototype.toString.call(e).indexOf("[native code]")>-1},t=e(Array.prototype.map)?Array.prototype.map:function(e){if(void 0===this||null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var i=new Array(n),r=arguments[1],a=0;n>a;a++)a in t&&(i[a]=e.call(r,t[a],a,t));return i},n=e(Array.prototype.forEach)?Array.prototype.forEach:function(e){if(void 0===this||null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var i=arguments[1],r=0;n>r;r++)r in t&&e.call(i,t[r],r,t)},i=e(Array.prototype.indexOf)?Array.prototype.indexOf:function(e,t){null===t||void 0===t?t=0:0>t&&(t=Math.max(0,this.length+t));for(var n=t,i=this.length;i>n;n++)if(this[n]===e)return n;return-1};Ember.ArrayPolyfills={map:t,forEach:n,indexOf:i},Ember.SHIM_ES5&&(Array.prototype.map||(Array.prototype.map=t),Array.prototype.forEach||(Array.prototype.forEach=n),Array.prototype.indexOf||(Array.prototype.indexOf=i))}(),function(){function e(e){this.descs={},this.watching={},this.cache={},this.source=e}function t(e,t){return!(!e||"function"!=typeof e[t])}var n=Ember.platform.defineProperty,i=Ember.create,r="__ember"+ +new Date,a=0,s=[],o={},l=Ember.ENV.MANDATORY_SETTER;Ember.GUID_KEY=r;var c={writable:!1,configurable:!1,enumerable:!1,value:null};Ember.generateGuid=function(e,t){t||(t="ember");var i=t+a++;return e&&(c.value=i,n(e,r,c)),i},Ember.guidFor=function(e){if(void 0===e)return"(undefined)";if(null===e)return"(null)";var t,i=typeof e;switch(i){case"number":return t=s[e],t||(t=s[e]="nu"+e),t;case"string":return t=o[e],t||(t=o[e]="st"+a++),t;case"boolean":return e?"(true)":"(false)";default:return e[r]?e[r]:e===Object?"(Object)":e===Array?"(Array)":(t="ember"+a++,c.value=t,n(e,r,c),t)}};var h={writable:!0,configurable:!1,enumerable:!1,value:null},u=Ember.GUID_KEY+"_meta";Ember.META_KEY=u;var d={descs:{},watching:{}};l&&(d.values={}),Ember.EMPTY_META=d,Object.freeze&&Object.freeze(d);var p=Ember.platform.defineProperty.isSimulated;p&&(e.prototype.__preventPlainObject__=!0,e.prototype.toJSON=function(){}),Ember.meta=function(t,r){var a=t[u];return r===!1?a||d:(a?a.source!==t&&(p||n(t,u,h),a=i(a),a.descs=i(a.descs),a.watching=i(a.watching),a.cache={},a.source=t,l&&(a.values=i(a.values)),t[u]=a):(p||n(t,u,h),a=new e(t),l&&(a.values={}),t[u]=a,a.descs.constructor=null),a)},Ember.getMeta=function(e,t){var n=Ember.meta(e,!1);return n[t]},Ember.setMeta=function(e,t,n){var i=Ember.meta(e,!0);return i[t]=n,n},Ember.metaPath=function(e,t,n){for(var r,a,s=Ember.meta(e,n),o=0,l=t.length;l>o;o++){if(r=t[o],a=s[r]){if(a.__ember_source__!==e){if(!n)return void 0;a=s[r]=i(a),a.__ember_source__=e}}else{if(!n)return void 0;a=s[r]={__ember_source__:e}}s=a}return a},Ember.wrap=function(e,t){function n(){}function i(){var i,r=this._super;return this._super=t||n,i=e.apply(this,arguments),this._super=r,i}return i.wrappedFunction=e,i.__ember_observes__=e.__ember_observes__,i.__ember_observesBefore__=e.__ember_observesBefore__,i},Ember.isArray=function(e){return!e||e.setInterval?!1:Array.isArray&&Array.isArray(e)?!0:Ember.Array&&Ember.Array.detect(e)?!0:void 0!==e.length&&"object"==typeof e?!0:!1},Ember.makeArray=function(e){return null===e||void 0===e?[]:Ember.isArray(e)?e:[e]},Ember.canInvoke=t,Ember.tryInvoke=function(e,n,i){return t(e,n)?e[n].apply(e,i||[]):void 0};var f=function(){var e=0;try{try{}finally{throw e++,new Error("needsFinallyFixTest")}}catch(t){}return 1!==e}();Ember.tryFinally=f?function(e,t,n){var i,r,a;n=n||this;try{i=e.call(n)}finally{try{r=t.call(n)}catch(s){a=s}}if(a)throw a;return void 0===r?i:r}:function(e,t,n){var i,r;n=n||this;try{i=e.call(n)}finally{r=t.call(n)}return void 0===r?i:r},Ember.tryCatchFinally=f?function(e,t,n,i){var r,a,s;i=i||this;try{r=e.call(i)}catch(o){r=t.call(i,o)}finally{try{a=n.call(i)}catch(l){s=l}}if(s)throw s;return void 0===a?r:a}:function(e,t,n,i){var r,a;i=i||this;try{r=e.call(i)}catch(s){r=t.call(i,s)}finally{a=n.call(i)}return void 0===a?r:a};var g={},m="Boolean Number String Function Array Date RegExp Object".split(" ");Ember.ArrayPolyfills.forEach.call(m,function(e){g["[object "+e+"]"]=e.toLowerCase()});var v=Object.prototype.toString;Ember.typeOf=function(e){var t;return t=null===e||void 0===e?String(e):g[v.call(e)]||"object","function"===t?Ember.Object&&Ember.Object.detect(e)&&(t="class"):"object"===t&&(t=e instanceof Error?"error":Ember.Object&&e instanceof Ember.Object?"instance":"object"),t}}(),function(){Ember.Instrumentation={};var e=[],t={},n=function(n){for(var i,r=[],a=0,s=e.length;s>a;a++)i=e[a],i.regex.test(n)&&r.push(i.object);return t[n]=r,r},i=function(){var e="undefined"!=typeof window?window.performance||{}:{},t=e.now||e.mozNow||e.webkitNow||e.msNow||e.oNow;return t?t.bind(e):function(){return+new Date}}();Ember.Instrumentation.instrument=function(e,r,a,s){function o(){for(f=0,g=d.length;g>f;f++)p=d[f],m[f]=p.before(e,i(),r);return a.call(s)}function l(e){r=r||{},r.exception=e}function c(){for(f=0,g=d.length;g>f;f++)p=d[f],p.after(e,i(),r,m[f]);Ember.STRUCTURED_PROFILE&&console.timeEnd(h)}var h,u,d=t[e];if(Ember.STRUCTURED_PROFILE&&(h=e+": "+r.object,console.time(h)),d||(d=n(e)),0===d.length)return u=a.call(s),Ember.STRUCTURED_PROFILE&&console.timeEnd(h),u;var p,f,g,m=[];return Ember.tryCatchFinally(o,l,c)},Ember.Instrumentation.subscribe=function(n,i){for(var r,a=n.split("."),s=[],o=0,l=a.length;l>o;o++)r=a[o],"*"===r?s.push("[^\\.]*"):s.push(r);s=s.join("\\."),s+="(\\..*)?";var c={pattern:n,regex:new RegExp("^"+s+"$"),object:i};return e.push(c),t={},c},Ember.Instrumentation.unsubscribe=function(n){for(var i,r=0,a=e.length;a>r;r++)e[r]===n&&(i=r);e.splice(i,1),t={}},Ember.Instrumentation.reset=function(){e=[],t={}},Ember.instrument=Ember.Instrumentation.instrument,Ember.subscribe=Ember.Instrumentation.subscribe}(),function(){var e,t,n,i;i=Array.prototype.concat,e=Array.prototype.map||Ember.ArrayPolyfills.map,t=Array.prototype.forEach||Ember.ArrayPolyfills.forEach,n=Array.prototype.indexOf||Ember.ArrayPolyfills.indexOf;var r=Ember.EnumerableUtils={map:function(t,n,i){return t.map?t.map.call(t,n,i):e.call(t,n,i)},forEach:function(e,n,i){return e.forEach?e.forEach.call(e,n,i):t.call(e,n,i)},indexOf:function(e,t,i){return e.indexOf?e.indexOf.call(e,t,i):n.call(e,t,i)},indexesOf:function(e,t){return void 0===t?[]:r.map(t,function(t){return r.indexOf(e,t)})},addObject:function(e,t){var n=r.indexOf(e,t);-1===n&&e.push(t)},removeObject:function(e,t){var n=r.indexOf(e,t);-1!==n&&e.splice(n,1)},replace:function(e,t,n,r){if(e.replace)return e.replace(t,n,r);var a=i.apply([t,n],r);return e.splice.apply(e,a)},intersection:function(e,t){var n=[];return r.forEach(e,function(e){r.indexOf(t,e)>=0&&n.push(e)}),n}}}(),function(){var e,t=Ember.META_KEY,n=Ember.ENV.MANDATORY_SETTER,i=/^([A-Z$]|([0-9][A-Z$])).*[\.\*]/,r=/^this[\.\*]/,a=/^([^\.\*]+)/;e=function(e,i){if(""===i)return e;if(i||"string"!=typeof e||(i=e,e=null),null===e||-1!==i.indexOf("."))return o(e,i);var r,a=e[t],s=a&&a.descs[i];return s?s.get(e,i):(r=n&&a&&a.watching[i]>0?a.values[i]:e[i],void 0!==r||"object"!=typeof e||i in e||"function"!=typeof e.unknownProperty?r:e.unknownProperty(i))},Ember.config.overrideAccessors&&(Ember.get=e,Ember.config.overrideAccessors(),e=Ember.get);var s=Ember.normalizeTuple=function(t,n){var s,o=r.test(n),l=!o&&i.test(n);if((!t||l)&&(t=Ember.lookup),o&&(n=n.slice(5)),t===Ember.lookup&&(s=n.match(a)[0],t=e(t,s),n=n.slice(s.length+1)),!n||0===n.length)throw new Error("Invalid Path");return[t,n]},o=Ember._getPath=function(t,n){var i,a,o,l,c;if(null===t&&-1===n.indexOf("."))return e(Ember.lookup,n);for(i=r.test(n),(!t||i)&&(o=s(t,n),t=o[0],n=o[1],o.length=0),a=n.split("."),c=a.length,l=0;null!=t&&c>l;l++)if(t=e(t,a[l],!0),t&&t.isDestroyed)return void 0;return t};Ember.getWithDefault=function(t,n,i){var r=e(t,n);return void 0===r?i:r},Ember.get=e,Ember.getPath=Ember.deprecateFunc("getPath is deprecated since get now supports paths",Ember.get)}(),function(){function e(e,t,n){for(var i=-1,r=0,a=e.length;a>r;r++)if(t===e[r][0]&&n===e[r][1]){i=r;break}return i}function t(e,t){var n,i=p(e,!0);return i.listeners||(i.listeners={}),i.hasOwnProperty("listeners")||(i.listeners=d(i.listeners)),n=i.listeners[t],n&&!i.listeners.hasOwnProperty(t)?n=i.listeners[t]=i.listeners[t].slice():n||(n=i.listeners[t]=[]),n}function n(t,n,i){var r=t[f],a=r&&r.listeners&&r.listeners[n];if(a)for(var s=a.length-1;s>=0;s--){var o=a[s][0],l=a[s][1],c=a[s][2],h=e(i,o,l);-1===h&&i.push([o,l,c])}}function i(t,n,i){var r=t[f],a=r&&r.listeners&&r.listeners[n],s=[];if(a){for(var o=a.length-1;o>=0;o--){var l=a[o][0],c=a[o][1],h=a[o][2],u=e(i,l,c);-1===u&&(i.push([l,c,h]),s.push([l,c,h]))}return s}}function r(n,i,r,a,s){a||"function"!=typeof r||(a=r,r=null);var o=t(n,i),l=e(o,r,a),c=0;s&&(c|=g),-1===l&&(o.push([r,a,c]),"function"==typeof n.didAddListener&&n.didAddListener(i,r,a))}function a(n,i,r,a){function s(r,a){var s=t(n,i),o=e(s,r,a);-1!==o&&(s.splice(o,1),"function"==typeof n.didRemoveListener&&n.didRemoveListener(i,r,a))}if(a||"function"!=typeof r||(a=r,r=null),a)s(r,a);else{var o=n[f],l=o&&o.listeners&&o.listeners[i];if(!l)return;for(var c=l.length-1;c>=0;c--)s(l[c][0],l[c][1])}}function s(n,i,r,a,s){function o(){return s.call(r)}function l(){c&&(c[2]&=~m)}a||"function"!=typeof r||(a=r,r=null);var c,h=t(n,i),u=e(h,r,a);return-1!==u&&(c=h[u].slice(),c[2]|=m,h[u]=c),Ember.tryFinally(o,l)}function o(n,i,r,a,s){function o(){return s.call(r)}function l(){for(d=0,p=f.length;p>d;d++)f[d][2]&=~m}a||"function"!=typeof r||(a=r,r=null);var c,h,u,d,p,f=[];for(d=0,p=i.length;p>d;d++){c=i[d],h=t(n,c);var g=e(h,r,a);-1!==g&&(u=h[g].slice(),u[2]|=m,h[g]=u,f.push(u))}return Ember.tryFinally(o,l)}function l(e){var t=e[f].listeners,n=[];if(t)for(var i in t)t[i]&&n.push(i);return n}function c(e,t,n,i){if(e!==Ember&&"function"==typeof e.sendEvent&&e.sendEvent(t,n),!i){var r=e[f];i=r&&r.listeners&&r.listeners[t]}if(i){for(var s=i.length-1;s>=0;s--){var o=i[s];if(o){var l=o[0],c=o[1],h=o[2];h&m||(h&g&&a(e,t,l,c),l||(l=e),"string"==typeof c&&(c=l[c]),n?c.apply(l,n):c.call(l))}}return!0}}function h(e,t){var n=e[f],i=n&&n.listeners&&n.listeners[t];return!(!i||!i.length)}function u(e,t){var n=[],i=e[f],r=i&&i.listeners&&i.listeners[t];if(!r)return n;for(var a=0,s=r.length;s>a;a++){var o=r[a][0],l=r[a][1];n.push([o,l])}return n}var d=Ember.create,p=Ember.meta,f=Ember.META_KEY,g=1,m=2;Ember.addListener=r,Ember.removeListener=a,Ember._suspendListener=s,Ember._suspendListeners=o,Ember.sendEvent=c,Ember.hasListeners=h,Ember.watchedEvents=l,Ember.listenersFor=u,Ember.listenersDiff=i,Ember.listenersUnion=n}(),function(){var e=Ember.guidFor,t=Ember.sendEvent,n=Ember._ObserverSet=function(){this.clear()};n.prototype.add=function(t,n,i){var r,a=this.observerSet,s=this.observers,o=e(t),l=a[o];return l||(a[o]=l={}),r=l[n],void 0===r&&(r=s.push({sender:t,keyName:n,eventName:i,listeners:[]})-1,l[n]=r),s[r].listeners},n.prototype.flush=function(){var e,n,i,r,a=this.observers;for(this.clear(),e=0,n=a.length;n>e;++e)i=a[e],r=i.sender,r.isDestroying||r.isDestroyed||t(r,i.eventName,[r,i.keyName],i.listeners)},n.prototype.clear=function(){this.observerSet={},this.observers=[]}}(),function(){function e(e,t,r){if(!e.isDestroying){var a=i,s=!a;s&&(a=i={}),n(g,e,t,a,r),s&&(i=null)}}function t(e,t,i){if(!e.isDestroying){var a=r,s=!a;s&&(a=r={}),n(m,e,t,a,i),s&&(r=null)}}function n(e,t,n,i,r){var a=s(t);if(i[a]||(i[a]={}),!i[a][n]){i[a][n]=!0;var o=r.deps;if(o=o&&o[n])for(var l in o){var c=r.descs[l];c&&c._suspended===t||e(t,l)}}}var i,r,a=Ember.meta,s=Ember.guidFor,o=Ember.tryFinally,l=Ember.sendEvent,c=Ember.listenersUnion,h=Ember.listenersDiff,u=Ember._ObserverSet,d=new u,p=new u,f=0,g=Ember.propertyWillChange=function(t,n){var i=a(t,!1),r=i.watching[n]>0||"length"===n,s=i.proto,o=i.descs[n];r&&s!==t&&(o&&o.willChange&&o.willChange(t,n),e(t,n,i),v(t,n,i),w(t,n))},m=Ember.propertyDidChange=function(e,n){var i=a(e,!1),r=i.watching[n]>0||"length"===n,s=i.proto,o=i.descs[n];s!==e&&(o&&o.didChange&&o.didChange(e,n),(r||"length"===n)&&(t(e,n,i),b(e,n,i),_(e,n)))},v=function(e,t,n,i){if(n.hasOwnProperty("chainWatchers")){var r=n.chainWatchers;if(r=r[t])for(var a=0,s=r.length;s>a;a++)r[a].willChange(i)}},b=function(e,t,n,i){if(n.hasOwnProperty("chainWatchers")){var r=n.chainWatchers;if(r=r[t])for(var a=r.length-1;a>=0;a--)r[a].didChange(i)}};Ember.overrideChains=function(e,t,n){b(e,t,n,!0)};var y=Ember.beginPropertyChanges=function(){f++},x=Ember.endPropertyChanges=function(){f--,0>=f&&(d.clear(),p.flush())};Ember.changeProperties=function(e,t){y(),o(e,x,t)};var w=function(e,t){if(!e.isDestroying){var n,i,r=t+":before";f?(n=d.add(e,t,r),i=h(e,r,n),l(e,r,[e,t],i)):l(e,r,[e,t])}},_=function(e,t){if(!e.isDestroying){var n,i=t+":change";f?(n=p.add(e,t,i),c(e,i,n)):l(e,i,[e,t])}}}(),function(){function e(e,t,n,a){var s;if(s=t.slice(t.lastIndexOf(".")+1),t=t.slice(0,t.length-(s.length+1)),"this"!==t&&(e=i(e,t)),!s||0===s.length)throw new Error("You passed an empty path");if(!e){if(a)return;throw new Error("Object in path "+t+" could not be found or was destroyed.")}return r(e,s,n)}var t=Ember.META_KEY,n=Ember.ENV.MANDATORY_SETTER,i=Ember._getPath,r=function(i,r,a,s){if("string"==typeof i&&(a=r,r=i,i=null),!i||-1!==r.indexOf("."))return e(i,r,a,s);var o,l,c=i[t],h=c&&c.descs[r];return h?h.set(i,r,a):(o="object"==typeof i&&!(r in i),o&&"function"==typeof i.setUnknownProperty?i.setUnknownProperty(r,a):c&&c.watching[r]>0?(l=n?c.values[r]:i[r],a!==l&&(Ember.propertyWillChange(i,r),n?void 0!==l||r in i?c.values[r]=a:Ember.defineProperty(i,r,null,a):i[r]=a,Ember.propertyDidChange(i,r))):i[r]=a),a};Ember.config.overrideAccessors&&(Ember.set=r,Ember.config.overrideAccessors(),r=Ember.set),Ember.set=r,Ember.setPath=Ember.deprecateFunc("setPath is deprecated since set now supports paths",Ember.set),Ember.trySet=function(e,t,n){return r(e,t,n,!0)},Ember.trySetPath=Ember.deprecateFunc("trySetPath has been renamed to trySet",Ember.trySet)}(),function(){var e=(Ember.get,Ember.set),t=Ember.guidFor,n=Ember.ArrayPolyfills.indexOf,i=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},r=function(e,t){var n=e.keys.copy(),r=i(e.values);return t.keys=n,t.values=r,t.length=e.length,t},a=Ember.OrderedSet=function(){this.clear()};a.create=function(){return new a},a.prototype={clear:function(){this.presenceSet={},this.list=[]},add:function(e){var n=t(e),i=this.presenceSet,r=this.list;n in i||(i[n]=!0,r.push(e))},remove:function(e){var i=t(e),r=this.presenceSet,a=this.list;delete r[i];var s=n.call(a,e);s>-1&&a.splice(s,1)},isEmpty:function(){return 0===this.list.length},has:function(e){var n=t(e),i=this.presenceSet;return n in i},forEach:function(e,t){for(var n=this.toArray(),i=0,r=n.length;r>i;i++)e.call(t,n[i])},toArray:function(){return this.list.slice()},copy:function(){var e=new a;return e.presenceSet=i(this.presenceSet),e.list=this.toArray(),e}};var s=Ember.Map=function(){this.keys=Ember.OrderedSet.create(),this.values={}};s.create=function(){return new s},s.prototype={length:0,get:function(e){var n=this.values,i=t(e);return n[i]},set:function(n,i){var r=this.keys,a=this.values,s=t(n);r.add(n),a[s]=i,e(this,"length",r.list.length)},remove:function(n){var i=this.keys,r=this.values,a=t(n);return r.hasOwnProperty(a)?(i.remove(n),delete r[a],e(this,"length",i.list.length),!0):!1},has:function(e){var n=this.values,i=t(e);return n.hasOwnProperty(i)},forEach:function(e,n){var i=this.keys,r=this.values;i.forEach(function(i){var a=t(i);e.call(n,i,r[a])})},copy:function(){return r(this,new s)}};var o=Ember.MapWithDefault=function(e){s.call(this),this.defaultValue=e.defaultValue};o.create=function(e){return e?new o(e):new s},o.prototype=Ember.create(s.prototype),o.prototype.get=function(e){var t=this.has(e);if(t)return s.prototype.get.call(this,e);var n=this.defaultValue(e);return this.set(e,n),n},o.prototype.copy=function(){return r(this,new o({defaultValue:this.defaultValue}))}}(),function(){var e=Ember.META_KEY,t=Ember.meta,n=Ember.platform.defineProperty,i=Ember.ENV.MANDATORY_SETTER;Ember.Descriptor=function(){};var r=Ember.MANDATORY_SETTER_FUNCTION=function(){},a=Ember.DEFAULT_GETTER_FUNCTION=function(t){return function(){var n=this[e];return n&&n.values[t]}};Ember.defineProperty=function(e,s,o,l,c){var h,u,d,p;return c||(c=t(e)),h=c.descs,u=c.descs[s],d=c.watching[s]>0,u instanceof Ember.Descriptor&&u.teardown(e,s),o instanceof Ember.Descriptor?(p=o,h[s]=o,i&&d?n(e,s,{configurable:!0,enumerable:!0,writable:!0,value:void 0}):e[s]=void 0,o.setup(e,s)):(h[s]=void 0,null==o?(p=l,i&&d?(c.values[s]=l,n(e,s,{configurable:!0,enumerable:!0,set:r,get:a(s)})):e[s]=l):(p=o,n(e,s,o))),d&&Ember.overrideChains(e,s,c),e.didDefineProperty&&e.didDefineProperty(e,s,p),this}}(),function(){var e=Ember.changeProperties,t=Ember.set;Ember.setProperties=function(n,i){return e(function(){for(var e in i)i.hasOwnProperty(e)&&t(n,e,i[e])}),n}}(),function(){var e=Ember.meta,t=Ember.typeOf,n=Ember.ENV.MANDATORY_SETTER,i=Ember.platform.defineProperty;Ember.watchKey=function(r,a){if("length"!==a||"array"!==t(r)){var s,o=e(r),l=o.watching;l[a]?l[a]=(l[a]||0)+1:(l[a]=1,s=o.descs[a],s&&s.willWatch&&s.willWatch(r,a),"function"==typeof r.willWatchProperty&&r.willWatchProperty(a),n&&a in r&&(o.values[a]=r[a],i(r,a,{configurable:!0,enumerable:!0,set:Ember.MANDATORY_SETTER_FUNCTION,get:Ember.DEFAULT_GETTER_FUNCTION(a)})))}},Ember.unwatchKey=function(t,r){var a,s=e(t),o=s.watching;1===o[r]?(o[r]=0,a=s.descs[r],a&&a.didUnwatch&&a.didUnwatch(t,r),"function"==typeof t.didUnwatchProperty&&t.didUnwatchProperty(r),n&&r in t&&(i(t,r,{configurable:!0,enumerable:!0,writable:!0,value:s.values[r]}),delete s.values[r])):o[r]>1&&o[r]--}}(),function(){function e(e){return e.match(d)[0]}function t(e,t,n){if(e&&"object"==typeof e){var r=i(e),a=r.chainWatchers;r.hasOwnProperty("chainWatchers")||(a=r.chainWatchers={}),a[t]||(a[t]=[]),a[t].push(n),l(e,t)}}function n(e){return i(e,!1).proto===e}var i=Ember.meta,r=Ember.get,a=Ember.normalizeTuple,s=Ember.ArrayPolyfills.forEach,o=Ember.warn,l=Ember.watchKey,c=Ember.unwatchKey,h=Ember.propertyWillChange,u=Ember.propertyDidChange,d=/^([^\.\*]+)/,p=[];Ember.flushPendingChains=function(){if(0!==p.length){var e=p;p=[],s.call(e,function(e){e[0].add(e[1])}),o("Watching an undefined global, Ember expects watched globals to be setup by the time the run loop is flushed, check for typos",0===p.length)}};var f=Ember.removeChainWatcher=function(e,t,n){if(e&&"object"==typeof e){var r=i(e,!1);if(r.hasOwnProperty("chainWatchers")){var a=r.chainWatchers;if(a[t]){a=a[t];for(var s=0,o=a.length;o>s;s++)a[s]===n&&a.splice(s,1)}c(e,t)}}},g=Ember._ChainNode=function(e,n,i){this._parent=e,this._key=n,this._watching=void 0===i,this._value=i,this._paths={},this._watching&&(this._object=e.value(),this._object&&t(this._object,this._key,this)),this._parent&&"@each"===this._parent._key&&this.value()},m=g.prototype;m.value=function(){if(void 0===this._value&&this._watching){var e=this._parent.value();this._value=e&&!n(e)?r(e,this._key):void 0}return this._value},m.destroy=function(){if(this._watching){var e=this._object;e&&f(e,this._key,this),this._watching=!1}},m.copy=function(e){var t,n=new g(null,null,e),i=this._paths;for(t in i)i[t]<=0||n.add(t);return n},m.add=function(t){var n,i,r,s,o;if(o=this._paths,o[t]=(o[t]||0)+1,n=this.value(),i=a(n,t),i[0]&&i[0]===n)t=i[1],r=e(t),t=t.slice(r.length+1);else{if(!i[0])return p.push([this,t]),i.length=0,void 0;s=i[0],r=t.slice(0,0-(i[1].length+1)),t=i[1]}i.length=0,this.chain(r,t,s)},m.remove=function(t){var n,i,r,s,o;o=this._paths,o[t]>0&&o[t]--,n=this.value(),i=a(n,t),i[0]===n?(t=i[1],r=e(t),t=t.slice(r.length+1)):(s=i[0],r=t.slice(0,0-(i[1].length+1)),t=i[1]),i.length=0,this.unchain(r,t)},m.count=0,m.chain=function(t,n,i){var r,a=this._chains;a||(a=this._chains={}),r=a[t],r||(r=a[t]=new g(this,t,i)),r.count++,n&&n.length>0&&(t=e(n),n=n.slice(t.length+1),r.chain(t,n))},m.unchain=function(t,n){var i=this._chains,r=i[t];n&&n.length>1&&(t=e(n),n=n.slice(t.length+1),r.unchain(t,n)),r.count--,r.count<=0&&(delete i[r._key],r.destroy())},m.willChange=function(){var e=this._chains;if(e)for(var t in e)e.hasOwnProperty(t)&&e[t].willChange();this._parent&&this._parent.chainWillChange(this,this._key,1)},m.chainWillChange=function(e,t,n){this._key&&(t=this._key+"."+t),this._parent?this._parent.chainWillChange(this,t,n+1):(n>1&&h(this.value(),t),t="this."+t,this._paths[t]>0&&h(this.value(),t))},m.chainDidChange=function(e,t,n){this._key&&(t=this._key+"."+t),this._parent?this._parent.chainDidChange(this,t,n+1):(n>1&&u(this.value(),t),t="this."+t,this._paths[t]>0&&u(this.value(),t))},m.didChange=function(e){if(this._watching){var n=this._parent.value();n!==this._object&&(f(this._object,this._key,this),this._object=n,t(n,this._key,this)),this._value=void 0,this._parent&&"@each"===this._parent._key&&this.value()}var i=this._chains;if(i)for(var r in i)i.hasOwnProperty(r)&&i[r].didChange(e);e||this._parent&&this._parent.chainDidChange(this,this._key,1)},Ember.finishChains=function(e){var t=i(e,!1),n=t.chains;n&&(n.value()!==e&&(t.chains=n=n.copy(e)),n.didChange(!0))}}(),function(){function e(e){var n=t(e),r=n.chains;return r?r.value()!==e&&(r=n.chains=r.copy(e)):r=n.chains=new i(null,null,e),r}var t=Ember.meta,n=Ember.typeOf,i=Ember._ChainNode;Ember.watchPath=function(i,r){if("length"!==r||"array"!==n(i)){var a=t(i),s=a.watching;s[r]?s[r]=(s[r]||0)+1:(s[r]=1,e(i).add(r))}},Ember.unwatchPath=function(n,i){var r=t(n),a=r.watching;1===a[i]?(a[i]=0,e(n).remove(i)):a[i]>1&&a[i]--}}(),function(){function e(e){return"*"===e||!u.test(e)}var t=Ember.meta,n=Ember.GUID_KEY,i=Ember.META_KEY,r=Ember.removeChainWatcher,a=Ember.watchKey,s=Ember.unwatchKey,o=Ember.watchPath,l=Ember.unwatchPath,c=Ember.typeOf,h=Ember.generateGuid,u=/[\.\*]/;Ember.watch=function(t,n){("length"!==n||"array"!==c(t))&&(e(n)?a(t,n):o(t,n))},Ember.isWatching=function(e,t){var n=e[i];return(n&&n.watching[t])>0},Ember.watch.flushPending=Ember.flushPendingChains,Ember.unwatch=function(t,n){("length"!==n||"array"!==c(t))&&(e(n)?s(t,n):l(t,n))},Ember.rewatch=function(e){var i=t(e,!1),r=i.chains;n in e&&!e.hasOwnProperty(n)&&h(e,"ember"),r&&r.value()!==e&&(i.chains=r.copy(e))};var d=[];Ember.destroy=function(e){var t,n,a,s,o=e[i];if(o&&(e[i]=null,t=o.chains))for(d.push(t);d.length>0;){if(t=d.pop(),n=t._chains)for(a in n)n.hasOwnProperty(a)&&d.push(n[a]);t._watching&&(s=t._object,s&&r(s,t._key,t))}}}(),function(){function e(e,t){var n=e[t];return n?e.hasOwnProperty(t)||(n=e[t]=d(n)):n=e[t]={},n}function t(t){return e(t,"deps")}function n(n,i,r,a){var s,o,l,c,h,u=n._dependentKeys;if(u)for(s=t(a),o=0,l=u.length;l>o;o++)c=u[o],h=e(s,c),h[r]=(h[r]||0)+1,f(i,c)}function i(n,i,r,a){var s,o,l,c,h,u=n._dependentKeys;if(u)for(s=t(a),o=0,l=u.length;l>o;o++)c=u[o],h=e(s,c),h[r]=(h[r]||0)-1,g(i,c)}function r(e,t){this.func=e,this._cacheable=t&&void 0!==t.cacheable?t.cacheable:!0,this._dependentKeys=t&&t.dependentKeys,this._readOnly=t&&(void 0!==t.readOnly||!!t.readOnly)}function a(e,t){for(var n={},i=0;i<t.length;i++)n[t[i]]=l(e,t[i]);return n}function s(e,t){Ember.computed[e]=function(e){var n=u.call(arguments);return Ember.computed(e,function(){return t.apply(this,n)})}}function o(e,t){Ember.computed[e]=function(){var e=u.call(arguments),n=Ember.computed(function(){return t.apply(this,[a(this,e)])});return n.property.apply(n,e)}}var l=Ember.get,c=Ember.set,h=Ember.meta,u=[].slice,d=Ember.create,p=Ember.META_KEY,f=Ember.watch,g=Ember.unwatch;Ember.ComputedProperty=r,r.prototype=new Ember.Descriptor;var m=r.prototype;m.cacheable=function(e){return this._cacheable=e!==!1,this},m.volatile=function(){return this.cacheable(!1)},m.readOnly=function(e){return this._readOnly=void 0===e||!!e,this},m.property=function(){for(var e=[],t=0,n=arguments.length;n>t;t++)e.push(arguments[t]);
return this._dependentKeys=e,this},m.meta=function(e){return 0===arguments.length?this._meta||{}:(this._meta=e,this)},m.willWatch=function(e,t){var i=e[p];t in i.cache||n(this,e,t,i)},m.didUnwatch=function(e,t){var n=e[p];t in n.cache||i(this,e,t,n)},m.didChange=function(e,t){if(this._cacheable&&this._suspended!==e){var n=h(e);t in n.cache&&(delete n.cache[t],n.watching[t]||i(this,e,t,n))}},m.get=function(e,t){var i,r,a;if(this._cacheable){if(a=h(e),r=a.cache,t in r)return r[t];i=r[t]=this.func.call(e,t),a.watching[t]||n(this,e,t,a)}else i=this.func.call(e,t);return i},m.set=function(e,t,i){var r,a,s=this._cacheable,o=this.func,l=h(e,s),c=l.watching[t],u=this._suspended,d=!1,p=l.cache;if(this._readOnly)throw new Error("Cannot Set: "+t+" on: "+e.toString());this._suspended=e;try{if(s&&p.hasOwnProperty(t)&&(r=p[t],d=!0),o.wrappedFunction&&(o=o.wrappedFunction),3===o.length)a=o.call(e,t,i,r);else{if(2!==o.length)return Ember.defineProperty(e,t,null,r),Ember.set(e,t,i),void 0;a=o.call(e,t,i)}if(d&&r===a)return;c&&Ember.propertyWillChange(e,t),d&&delete p[t],s&&(c||d||n(this,e,t,l),p[t]=a),c&&Ember.propertyDidChange(e,t)}finally{this._suspended=u}return a},m.setup=function(e,t){var i=e[p];i&&i.watching[t]&&n(this,e,t,h(e))},m.teardown=function(e,t){var n=h(e);return(n.watching[t]||t in n.cache)&&i(this,e,t,n),this._cacheable&&delete n.cache[t],null},Ember.computed=function(e){var t;if(arguments.length>1&&(t=u.call(arguments,0,-1),e=u.call(arguments,-1)[0]),"function"!=typeof e)throw new Error("Computed Property declared without a property function");var n=new r(e);return t&&n.property.apply(n,t),n},Ember.cacheFor=function(e,t){var n=h(e,!1).cache;return n&&t in n?n[t]:void 0},s("empty",function(e){return Ember.isEmpty(l(this,e))}),s("notEmpty",function(e){return!Ember.isEmpty(l(this,e))}),s("none",function(e){return Ember.isNone(l(this,e))}),s("not",function(e){return!l(this,e)}),s("bool",function(e){return!!l(this,e)}),s("match",function(e,t){var n=l(this,e);return"string"==typeof n?!!n.match(t):!1}),s("equal",function(e,t){return l(this,e)===t}),s("gt",function(e,t){return l(this,e)>t}),s("gte",function(e,t){return l(this,e)>=t}),s("lt",function(e,t){return l(this,e)<t}),s("lte",function(e,t){return l(this,e)<=t}),o("and",function(e){for(var t in e)if(e.hasOwnProperty(t)&&!e[t])return!1;return!0}),o("or",function(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!0;return!1}),o("any",function(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return e[t];return null}),o("map",function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&(Ember.isNone(e[n])?t.push(null):t.push(e[n]));return t}),Ember.computed.alias=function(e){return Ember.computed(e,function(t,n){return arguments.length>1?(c(this,e,n),n):l(this,e)})},Ember.computed.oneWay=function(e){return Ember.computed(e,function(){return l(this,e)})},Ember.computed.defaultTo=function(e){return Ember.computed(function(t,n,i){return 1===arguments.length?null!=i?i:l(this,e):null!=n?n:l(this,e)})}}(),function(){function e(e){return e+n}function t(e){return e+i}var n=":change",i=":before";Ember.addObserver=function(t,n,i,r){return Ember.addListener(t,e(n),i,r),Ember.watch(t,n),this},Ember.observersFor=function(t,n){return Ember.listenersFor(t,e(n))},Ember.removeObserver=function(t,n,i,r){return Ember.unwatch(t,n),Ember.removeListener(t,e(n),i,r),this},Ember.addBeforeObserver=function(e,n,i,r){return Ember.addListener(e,t(n),i,r),Ember.watch(e,n),this},Ember._suspendBeforeObserver=function(e,n,i,r,a){return Ember._suspendListener(e,t(n),i,r,a)},Ember._suspendObserver=function(t,n,i,r,a){return Ember._suspendListener(t,e(n),i,r,a)};var r=Ember.ArrayPolyfills.map;Ember._suspendBeforeObservers=function(e,n,i,a,s){var o=r.call(n,t);return Ember._suspendListeners(e,o,i,a,s)},Ember._suspendObservers=function(t,n,i,a,s){var o=r.call(n,e);return Ember._suspendListeners(t,o,i,a,s)},Ember.beforeObserversFor=function(e,n){return Ember.listenersFor(e,t(n))},Ember.removeBeforeObserver=function(e,n,i,r){return Ember.unwatch(e,n),Ember.removeListener(e,t(n),i,r),this}}(),function(){e("backburner",["backburner/deferred_action_queues","exports"],function(e,t){"use strict";function n(e,t){this.queueNames=e,this.options=t||{},this.options.defaultQueue||(this.options.defaultQueue=e[0]),this.instanceStack=[]}function i(e){e.begin(),a=window.setTimeout(function(){e.end(),a=null})}function r(e){var t,n,i,a,l=+new Date;e.run(function(){for(i=0,a=d.length;a>i&&(t=d[i],!(t>l));i+=2);for(n=d.splice(0,i),i=1,a=n.length;a>i;i+=2)e.schedule(e.options.defaultQueue,null,n[i])}),d.length&&(s=window.setTimeout(function(){r(e),s=null,o=null},d[0]-l),o=d[0])}var a,s,o,l=e.DeferredActionQueues,c=[].slice,h=[].pop,u=[],d=[];n.prototype={queueNames:null,options:null,currentInstance:null,instanceStack:null,begin:function(){var e=this.options&&this.options.onBegin,t=this.currentInstance;t&&this.instanceStack.push(t),this.currentInstance=new l(this.queueNames,this.options),e&&e(this.currentInstance,t)},end:function(){var e=this.options&&this.options.onEnd,t=this.currentInstance,n=null;try{t.flush()}finally{this.currentInstance=null,this.instanceStack.length&&(n=this.instanceStack.pop(),this.currentInstance=n),e&&e(t,n)}},run:function(e,t){var n;this.begin(),t||(t=e,e=null),"string"==typeof t&&(t=e[t]);var i=!1;try{n=arguments.length>2?t.apply(e,c.call(arguments,2)):t.call(e)}finally{i||(i=!0,this.end())}return n},defer:function(e,t,n){n||(n=t,t=null),"string"==typeof n&&(n=t[n]);var r=this.DEBUG?(new Error).stack:void 0,a=arguments.length>3?c.call(arguments,3):void 0;return this.currentInstance||i(this),this.currentInstance.schedule(e,t,n,a,!1,r)},deferOnce:function(e,t,n){n||(n=t,t=null),"string"==typeof n&&(n=t[n]);var r=this.DEBUG?(new Error).stack:void 0,a=arguments.length>3?c.call(arguments,3):void 0;return this.currentInstance||i(this),this.currentInstance.schedule(e,t,n,a,!0,r)},setTimeout:function(){var e=this,t=h.call(arguments),n=arguments[0],i=arguments[1],a=+new Date+t;i||(i=n,n=null),"string"==typeof i&&(i=n[i]);var l,u;arguments.length>2?(u=c.call(arguments,2),l=function(){i.apply(n,u)}):l=function(){i.call(n)};var p,f;for(p=0,f=d.length;f>p&&!(a<d[p]);p+=2);return d.splice(p,0,a,l),s&&a>o?l:(s&&(clearTimeout(s),s=null),s=window.setTimeout(function(){r(e),s=null,o=null},t),o=a,l)},debounce:function(e,t){for(var n,i=this,r=arguments,a=h.call(r),s=0,o=u.length;o>s;s++)if(n=u[s],n[0]===e&&n[1]===t)return;var l=window.setTimeout(function(){i.run.apply(i,r);for(var a=-1,s=0,o=u.length;o>s;s++)if(n=u[s],n[0]===e&&n[1]===t){a=s;break}a>-1&&u.splice(a,1)},a);u.push([e,t,l])},cancelTimers:function(){for(var e=0,t=u.length;t>e;e++)clearTimeout(u[e][2]);u=[],s&&(clearTimeout(s),s=null),d=[],a&&(clearTimeout(a),a=null)},hasTimers:function(){return!!d.length||a},cancel:function(e){if(e&&"object"==typeof e&&e.queue&&e.method)return e.queue.cancel(e);if("function"==typeof e)for(var t=0,n=d.length;n>t;t+=2)if(d[t+1]===e)return d.splice(t,2),!0}},n.prototype.schedule=n.prototype.defer,n.prototype.scheduleOnce=n.prototype.deferOnce,n.prototype.later=n.prototype.setTimeout,t.Backburner=n}),e("backburner/deferred_action_queues",["backburner/queue","exports"],function(e,t){"use strict";function n(e,t){var n=this.queues={};this.queueNames=e=e||[];for(var i,a=0,s=e.length;s>a;a++)i=e[a],n[i]=new r(this,i,t[i])}function i(e,t){for(var n,i,r=0,a=t;a>=r;r++)if(n=e.queueNames[r],i=e.queues[n],i._queue.length)return r;return-1}var r=e.Queue;n.prototype={queueNames:null,queues:null,schedule:function(e,t,n,i,r,a){var s=this.queues,o=s[e];if(!o)throw new Error("You attempted to schedule an action in a queue ("+e+") that doesn't exist");return r?o.pushUnique(t,n,i,a):o.push(t,n,i,a)},flush:function(){for(var e,t,n,r,a=this.queues,s=this.queueNames,o=0,l=s.length;l>o;){e=s[o],t=a[e],n=t._queueBeingFlushed=t._queue.slice(),t._queue=[];var c,h,u,d,p=t.options,f=p&&p.before,g=p&&p.after,m=0,v=n.length;for(v&&f&&f();v>m;)c=n[m],h=n[m+1],u=n[m+2],d=n[m+3],"string"==typeof h&&(h=c[h]),h&&(u&&u.length>0?h.apply(c,u):h.call(c)),m+=4;t._queueBeingFlushed=null,v&&g&&g(),-1===(r=i(this,o))?o++:o=r}}},t.DeferredActionQueues=n}),e("backburner/queue",["exports"],function(e){"use strict";function t(e,t,n){this.daq=e,this.name=t,this.options=n,this._queue=[]}t.prototype={daq:null,name:null,options:null,_queue:null,push:function(e,t,n,i){var r=this._queue;return r.push(e,t,n,i),{queue:this,target:e,method:t}},pushUnique:function(e,t,n,i){var r,a,s,o,l=this._queue;for(s=0,o=l.length;o>s;s+=4)if(r=l[s],a=l[s+1],r===e&&a===t)return l[s+2]=n,l[s+3]=i,{queue:this,target:e,method:t};return this._queue.push(e,t,n,i),{queue:this,target:e,method:t}},flush:function(){var e,t,n,i,r,a=this._queue,s=this.options,o=s&&s.before,l=s&&s.after,c=a.length;for(c&&o&&o(),r=0;c>r;r+=4)e=a[r],t=a[r+1],n=a[r+2],i=a[r+3],n&&n.length>0?t.apply(e,n):t.call(e);c&&l&&l(),a.length>c?(this._queue=a.slice(c),this.flush()):this._queue.length=0},cancel:function(e){var t,n,i,r,a=this._queue;for(i=0,r=a.length;r>i;i+=4)if(t=a[i],n=a[i+1],t===e.target&&n===e.method)return a.splice(i,4),!0;if(a=this._queueBeingFlushed)for(i=0,r=a.length;r>i;i+=4)if(t=a[i],n=a[i+1],t===e.target&&n===e.method)return a[i+1]=null,!0}},e.Queue=t})}(),function(){function e(){!Ember.run.currentRunLoop}var n=function(e){Ember.run.currentRunLoop=e},i=function(e,t){Ember.run.currentRunLoop=t},r=t("backburner").Backburner,a=new r(["sync","actions","destroy"],{sync:{before:Ember.beginPropertyChanges,after:Ember.endPropertyChanges},defaultQueue:"actions",onBegin:n,onEnd:i}),s=[].slice;Ember.run=function(){var e;if(Ember.onerror)try{e=a.run.apply(a,arguments)}catch(t){Ember.onerror(t)}else e=a.run.apply(a,arguments);return e},Ember.run.join=function(){if(!Ember.run.currentRunLoop)return Ember.run.apply(Ember.run,arguments);var e=s.call(arguments);e.unshift("actions"),Ember.run.schedule.apply(Ember.run,e)},Ember.run.backburner=a,Ember.run,Ember.run.currentRunLoop=null,Ember.run.queues=a.queueNames,Ember.run.begin=function(){a.begin()},Ember.run.end=function(){a.end()},Ember.run.schedule=function(){e(),a.schedule.apply(a,arguments)},Ember.run.hasScheduledTimers=function(){return a.hasTimers()},Ember.run.cancelTimers=function(){a.cancelTimers()},Ember.run.sync=function(){a.currentInstance&&a.currentInstance.queues.sync.flush()},Ember.run.later=function(){return a.later.apply(a,arguments)},Ember.run.once=function(){e();var t=s.call(arguments);return t.unshift("actions"),a.scheduleOnce.apply(a,t)},Ember.run.scheduleOnce=function(){return e(),a.scheduleOnce.apply(a,arguments)},Ember.run.next=function(){var e=s.call(arguments);return e.push(1),a.later.apply(a,e)},Ember.run.cancel=function(e){return a.cancel(e)},Ember.run.debounce=function(){return a.debounce.apply(a,arguments)}}(),function(){function e(e,t){return n(a(t)?Ember.lookup:e,t)}function t(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}Ember.LOG_BINDINGS=!1||!!Ember.ENV.LOG_BINDINGS;var n=Ember.get,i=(Ember.set,Ember.guidFor),r=/^([A-Z$]|([0-9][A-Z$]))/,a=Ember.isGlobalPath=function(e){return r.test(e)},s=function(e,t){this._direction="fwd",this._from=t,this._to=e,this._directionMap=Ember.Map.create()};s.prototype={copy:function(){var e=new s(this._to,this._from);return this._oneWay&&(e._oneWay=!0),e},from:function(e){return this._from=e,this},to:function(e){return this._to=e,this},oneWay:function(){return this._oneWay=!0,this},toString:function(){var e=this._oneWay?"[oneWay]":"";return"Ember.Binding<"+i(this)+">("+this._from+" -> "+this._to+")"+e},connect:function(t){var n=this._from,i=this._to;return Ember.trySet(t,i,e(t,n)),Ember.addObserver(t,n,this,this.fromDidChange),this._oneWay||Ember.addObserver(t,i,this,this.toDidChange),this._readyToSync=!0,this},disconnect:function(e){var t=!this._oneWay;return Ember.removeObserver(e,this._from,this,this.fromDidChange),t&&Ember.removeObserver(e,this._to,this,this.toDidChange),this._readyToSync=!1,this},fromDidChange:function(e){this._scheduleSync(e,"fwd")},toDidChange:function(e){this._scheduleSync(e,"back")},_scheduleSync:function(e,t){var n=this._directionMap,i=n.get(e);i||(Ember.run.schedule("sync",this,this._sync,e),n.set(e,t)),"back"===i&&"fwd"===t&&n.set(e,"fwd")},_sync:function(t){var i=Ember.LOG_BINDINGS;if(!t.isDestroyed&&this._readyToSync){var r=this._directionMap,a=r.get(t),s=this._from,o=this._to;if(r.remove(t),"fwd"===a){var l=e(t,this._from);i&&Ember.Logger.log(" ",this.toString(),"->",l,t),this._oneWay?Ember.trySet(t,o,l):Ember._suspendObserver(t,o,this,this.toDidChange,function(){Ember.trySet(t,o,l)})}else if("back"===a){var c=n(t,this._to);i&&Ember.Logger.log(" ",this.toString(),"<-",c,t),Ember._suspendObserver(t,s,this,this.fromDidChange,function(){Ember.trySet(Ember.isGlobalPath(s)?Ember.lookup:t,s,c)})}}}},t(s,{from:function(){var e=this,t=new e;return t.from.apply(t,arguments)},to:function(){var e=this,t=new e;return t.to.apply(t,arguments)},oneWay:function(e,t){var n=this,i=new n(null,e);return i.oneWay(t)}}),Ember.Binding=s,Ember.bind=function(e,t,n){return new Ember.Binding(t,n).connect(e)},Ember.oneWay=function(e,t,n){return new Ember.Binding(t,n).oneWay().connect(e)}}(),function(){function e(e){var t=Ember.meta(e,!0),n=t.mixins;return n?t.hasOwnProperty("mixins")||(n=t.mixins=S(n)):n=t.mixins={},n}function t(e,t){return t&&t.length>0&&(e.mixins=_.call(t,function(e){if(e instanceof y)return e;var t=new y;return t.properties=e,t})),e}function n(e){return"function"==typeof e&&e.isMethod!==!1&&e!==Boolean&&e!==Object&&e!==Number&&e!==Array&&e!==Date&&e!==String}function i(e,t){var n;return t instanceof y?(n=k(t),e[n]?I:(e[n]=t,t.properties)):t}function r(e,t,n){var i;return i=t.concatenatedProperties||n.concatenatedProperties,e.concatenatedProperties&&(i=i?i.concat(e.concatenatedProperties):e.concatenatedProperties),i}function a(e,t,n,i,r){var a;return void 0===i[t]&&(a=r[t]),a=a||e.descs[t],a&&a instanceof Ember.ComputedProperty?(n=S(n),n.func=Ember.wrap(n.func,a.func),n):n}function s(e,t,n,i,r){var a;return void 0===r[t]&&(a=i[t]),a=a||e[t],"function"!=typeof a?n:Ember.wrap(n,a)}function o(e,t,n,i){var r=i[t]||e[t];return r?"function"==typeof r.concat?r.concat(n):Ember.makeArray(r).concat(n):Ember.makeArray(n)}function l(e,t,i,r,l,c,h){if(i instanceof Ember.Descriptor){if(i===x&&l[t])return I;i.func&&(i=a(r,t,i,c,l)),l[t]=i,c[t]=void 0}else n(i)?i=s(e,t,i,c,l):(h&&C.call(h,t)>=0||"concatenatedProperties"===t)&&(i=o(e,t,i,c)),l[t]=void 0,c[t]=i}function c(e,t,n,a,s,o){function h(e){delete n[e],delete a[e]}for(var u,d,p,f,g,m=0,v=e.length;v>m;m++)if(u=e[m],d=i(t,u),d!==I)if(d){g=Ember.meta(s),f=r(d,a,s);for(p in d)d.hasOwnProperty(p)&&(o.push(p),l(s,p,d[p],g,n,a,f));d.hasOwnProperty("toString")&&(s.toString=d.toString)}else u.mixins&&(c(u.mixins,t,n,a,s,o),u._without&&T.call(u._without,h))}function h(e,t,n,i){if(N.test(t)){var r=i.bindings;r?i.hasOwnProperty("bindings")||(r=i.bindings=S(i.bindings)):r=i.bindings={},r[t]=n}}function u(e,t){var n,i,r,a=t.bindings;if(a){for(n in a)i=a[n],i&&(r=n.slice(0,-7),i instanceof Ember.Binding?(i=i.copy(),i.to(r)):i=new Ember.Binding(r,i),i.connect(e),e[n]=i);t.bindings={}}}function d(e,t){return u(e,t||Ember.meta(e)),e}function p(e,t,n,i,r){var a,s=t.methodName;return i[s]||r[s]?(a=r[s],t=i[s]):n.descs[s]?(t=n.descs[s],a=void 0):(t=void 0,a=e[s]),{desc:t,value:a}}function f(e,t,n,i,r){if("function"==typeof n){var a=n[i];if(a)for(var s=0,o=a.length;o>s;s++)Ember[r](e,a[s],null,t)}}function g(e,t,n){var i=e[t];f(e,t,i,"__ember_observesBefore__","removeBeforeObserver"),f(e,t,i,"__ember_observes__","removeObserver"),f(e,t,n,"__ember_observesBefore__","addBeforeObserver"),f(e,t,n,"__ember_observes__","addObserver")}function m(t,n,i){var r,a,s,o={},l={},u=Ember.meta(t),f=[];c(n,e(t),o,l,t,f);for(var m=0,v=f.length;v>m;m++)if(r=f[m],"constructor"!==r&&l.hasOwnProperty(r)&&(s=o[r],a=l[r],s!==x)){for(;s&&s instanceof w;){var b=p(t,s,u,o,l);s=b.desc,a=b.value}(void 0!==s||void 0!==a)&&(g(t,r,a),h(t,r,a,u),E(t,r,s,a,u))}return i||d(t,u),t}function v(e,t,n){var i=k(e);if(n[i])return!1;if(n[i]=!0,e===t)return!0;for(var r=e.mixins,a=r?r.length:0;--a>=0;)if(v(r[a],t,n))return!0;return!1}function b(e,t,n){if(!n[k(t)])if(n[k(t)]=!0,t.properties){var i=t.properties;for(var r in i)i.hasOwnProperty(r)&&(e[r]=!0)}else t.mixins&&T.call(t.mixins,function(t){b(e,t,n)})}var y,x,w,_=Ember.ArrayPolyfills.map,C=Ember.ArrayPolyfills.indexOf,T=Ember.ArrayPolyfills.forEach,D=[].slice,S=Ember.create,E=Ember.defineProperty,k=Ember.guidFor,I={},N=Ember.IS_BINDING=/^.+Binding$/;Ember.mixin=function(e){var t=D.call(arguments,1);return m(e,t,!1),e},Ember.Mixin=function(){return t(this,arguments)},y=Ember.Mixin,y.prototype={properties:null,mixins:null,ownerConstructor:null},y._apply=m,y.applyPartial=function(e){var t=D.call(arguments,1);return m(e,t,!0)},y.finishPartial=d,Ember.anyUnprocessedMixins=!1,y.create=function(){Ember.anyUnprocessedMixins=!0;var e=this;return t(new e,arguments)};var A=y.prototype;A.reopen=function(){var e,t;this.properties?(e=y.create(),e.properties=this.properties,delete this.properties,this.mixins=[e]):this.mixins||(this.mixins=[]);var n,i=arguments.length,r=this.mixins;for(n=0;i>n;n++)e=arguments[n],e instanceof y?r.push(e):(t=y.create(),t.properties=e,r.push(t));return this},A.apply=function(e){return m(e,[this],!1)},A.applyPartial=function(e){return m(e,[this],!0)},A.detect=function(e){if(!e)return!1;if(e instanceof y)return v(e,this,{});var t=Ember.meta(e,!1).mixins;return t?!!t[k(this)]:!1},A.without=function(){var e=new y(this);return e._without=D.call(arguments),e},A.keys=function(){var e={},t={},n=[];b(e,this,t);for(var i in e)e.hasOwnProperty(i)&&n.push(i);return n},y.mixins=function(e){var t=Ember.meta(e,!1).mixins,n=[];if(!t)return n;for(var i in t){var r=t[i];r.properties||n.push(r)}return n},x=new Ember.Descriptor,x.toString=function(){return"(Required Property)"},Ember.required=function(){return x},w=function(e){this.methodName=e},w.prototype=new Ember.Descriptor,Ember.alias=function(e){return new w(e)},Ember.alias=Ember.deprecateFunc("Ember.alias is deprecated. Please use Ember.aliasMethod or Ember.computed.alias instead.",Ember.alias),Ember.aliasMethod=function(e){return new w(e)},Ember.observer=function(e){var t=D.call(arguments,1);return e.__ember_observes__=t,e},Ember.immediateObserver=function(){for(var e=0,t=arguments.length;t>e;e++)arguments[e];return Ember.observer.apply(this,arguments)},Ember.beforeObserver=function(e){var t=D.call(arguments,1);return e.__ember_observesBefore__=t,e}}(),function(){e("rsvp/all",["rsvp/defer","exports"],function(e,t){"use strict";function n(e){var t=[],n=i(),r=e.length;0===r&&n.resolve([]);for(var a=function(e){return function(t){s(e,t)}},s=function(e,i){t[e]=i,0===--r&&n.resolve(t)},o=function(e){n.reject(e)},l=0;l<e.length;l++)e[l]&&"function"==typeof e[l].then?e[l].then(a(l),o):s(l,e[l]);return n.promise}var i=e.defer;t.all=n}),e("rsvp/async",["exports"],function(e){"use strict";var t,n="undefined"!=typeof window?window:{},i=n.MutationObserver||n.WebKitMutationObserver;if("undefined"!=typeof process&&"[object process]"==={}.toString.call(process))t=function(e,t){process.nextTick(function(){e.call(t)})};else if(i){var r=[],a=new i(function(){var e=r.slice();r=[],e.forEach(function(e){var t=e[0],n=e[1];t.call(n)})}),s=document.createElement("div");a.observe(s,{attributes:!0}),window.addEventListener("unload",function(){a.disconnect(),a=null}),t=function(e,t){r.push([e,t]),s.setAttribute("drainQueue","drainQueue")}}else t=function(e,t){setTimeout(function(){e.call(t)},1)};e.async=t}),e("rsvp/config",["rsvp/async","exports"],function(e,t){"use strict";var n=e.async,i={};i.async=n,t.config=i}),e("rsvp/defer",["rsvp/promise","exports"],function(e,t){"use strict";function n(){var e={},t=new i(function(t,n){e.resolve=t,e.reject=n});return e.promise=t,e}var i=e.Promise;t.defer=n}),e("rsvp/events",["exports"],function(e){"use strict";var t=function(e,t){this.type=e;for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n])},n=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n][0]===t)return n;return-1},i=function(e){var t=e._promiseCallbacks;return t||(t=e._promiseCallbacks={}),t},r={mixin:function(e){return e.on=this.on,e.off=this.off,e.trigger=this.trigger,e},on:function(e,t,r){var a,s,o=i(this);for(e=e.split(/\s+/),r=r||this;s=e.shift();)a=o[s],a||(a=o[s]=[]),-1===n(a,t)&&a.push([t,r])},off:function(e,t){var r,a,s,o=i(this);for(e=e.split(/\s+/);a=e.shift();)t?(r=o[a],s=n(r,t),-1!==s&&r.splice(s,1)):o[a]=[]},trigger:function(e,n){var r,a,s,o,l,c=i(this);if(r=c[e])for(var h=0;h<r.length;h++)a=r[h],s=a[0],o=a[1],"object"!=typeof n&&(n={detail:n}),l=new t(e,n),s.call(o,l)}};e.EventTarget=r}),e("rsvp/hash",["rsvp/defer","exports"],function(e,t){"use strict";function n(e){var t=0;for(var n in e)t++;return t}function i(e){var t={},i=r(),a=n(e);0===a&&i.resolve({});var s=function(e){return function(t){o(e,t)}},o=function(e,n){t[e]=n,0===--a&&i.resolve(t)},l=function(e){i.reject(e)};for(var c in e)e[c]&&"function"==typeof e[c].then?e[c].then(s(c),l):o(c,e[c]);return i.promise}var r=e.defer;t.hash=i}),e("rsvp/node",["rsvp/promise","rsvp/all","exports"],function(e,t,n){"use strict";function i(e,t){return function(n,i){n?t(n):arguments.length>2?e(Array.prototype.slice.call(arguments,1)):e(i)}}function r(e){return function(){var t,n,r=Array.prototype.slice.call(arguments),o=new a(function(e,i){t=e,n=i});return s(r).then(function(r){r.push(i(t,n));try{e.apply(this,r)}catch(a){n(a)}}),o}}var a=e.Promise,s=t.all;n.denodeify=r}),e("rsvp/promise",["rsvp/config","rsvp/events","exports"],function(e,t,n){"use strict";function i(e){return r(e)||"object"==typeof e&&null!==e}function r(e){return"function"==typeof e}function a(e,t){e===t?o(e,t):s(e,t)||o(e,t)}function s(e,t){var n=null;if(i(t)){try{n=t.then}catch(s){return l(e,s),!0}if(r(n)){try{n.call(t,function(n){t!==n?a(e,n):o(e,n)},function(t){l(e,t)})}catch(s){l(e,s)}return!0}}return!1}function o(e,t){c.async(function(){e.trigger("promise:resolved",{detail:t}),e.isFulfilled=!0,e.fulfillmentValue=t})}function l(e,t){c.async(function(){e.trigger("promise:failed",{detail:t}),e.isRejected=!0,e.rejectedReason=t})}var c=e.config,h=t.EventTarget,u=function(e){var t=this,n=!1;if("function"!=typeof e)throw new TypeError("You must pass a resolver function as the sole argument to the promise constructor");if(!(t instanceof u))return new u(e);var i=function(e){n||(n=!0,a(t,e))},r=function(e){n||(n=!0,l(t,e))};this.on("promise:resolved",function(e){this.trigger("success",{detail:e.detail})},this),this.on("promise:failed",function(e){this.trigger("error",{detail:e.detail})},this);try{e(i,r)}catch(s){r(s)}},d=function(e,t,n,i){var o,c,h,u,d=r(n);if(d)try{o=n(i.detail),h=!0}catch(p){u=!0,c=p}else o=i.detail,h=!0;s(t,o)||(d&&h?a(t,o):u?l(t,c):"resolve"===e?a(t,o):"reject"===e&&l(t,o))};u.prototype={constructor:u,then:function(e,t){var n=new u(function(){});return this.isFulfilled&&c.async(function(){d("resolve",n,e,{detail:this.fulfillmentValue})},this),this.isRejected&&c.async(function(){d("reject",n,t,{detail:this.rejectedReason})},this),this.on("promise:resolved",function(t){d("resolve",n,e,t)}),this.on("promise:failed",function(e){d("reject",n,t,e)}),n}},h.mixin(u.prototype),n.Promise=u}),e("rsvp/reject",["rsvp/promise","exports"],function(e,t){"use strict";function n(e){return new i(function(t,n){n(e)})}var i=e.Promise;t.reject=n}),e("rsvp/resolve",["rsvp/promise","exports"],function(e,t){"use strict";function n(e){return"function"==typeof e||"object"==typeof e&&null!==e}function i(e){var t=new r(function(t,i){var r;try{n(e)?(r=e.then,"function"==typeof r?r.call(e,t,i):t(e)):t(e)}catch(a){i(a)}});return t}var r=e.Promise;t.resolve=i}),e("rsvp",["rsvp/events","rsvp/promise","rsvp/node","rsvp/all","rsvp/hash","rsvp/defer","rsvp/config","rsvp/resolve","rsvp/reject","exports"],function(e,t,n,i,r,a,s,o,l,c){"use strict";function h(e,t){v[e]=t}var u=e.EventTarget,d=t.Promise,p=n.denodeify,f=i.all,g=r.hash,m=a.defer,v=s.config,b=o.resolve,y=l.reject;c.Promise=d,c.EventTarget=u,c.all=f,c.hash=g,c.defer=m,c.denodeify=p,c.configure=h,c.resolve=b,c.reject=y})}(),function(){e("container",[],function(){function e(e){this.parent=e,this.dict={}}function t(t){this.parent=t,this.children=[],this.resolver=t&&t.resolver||function(){},this.registry=new e(t&&t.registry),this.cache=new e(t&&t.cache),this.typeInjections=new e(t&&t.typeInjections),this.injections={},this._options=new e(t&&t._options),this._typeOptions=new e(t&&t._typeOptions)}function n(e){throw new Error(e+" is not currently supported on child containers")}function i(e,t){var n=a(e,t,"singleton");return n!==!1}function r(e,t){var n={};if(!t)return n;for(var i,r,a=0,s=t.length;s>a;a++)i=t[a],r=e.lookup(i.fullName),n[i.property]=r;return n}function a(e,t,n){var i=e._options.get(t);if(i&&void 0!==i[n])return i[n];var r=t.split(":")[0];return i=e._typeOptions.get(r),i?i[n]:void 0}function s(e,t){var n=e.normalize(t);return e.resolve(n)}function o(e,t){var n,i=s(e,t),o=t.split(":"),l=o[0];if(a(e,t,"instantiate")===!1)return i;if(i){var c=[];c=c.concat(e.typeInjections.get(l)||[]),c=c.concat(e.injections[t]||[]);var h=r(e,c);return h.container=e,h._debugContainerKey=t,n=i.create(h)}}function l(e,t){e.cache.eachLocal(function(n,i){a(e,n,"instantiate")!==!1&&t(i)})}function c(e){e.cache.eachLocal(function(t,n){a(e,t,"instantiate")!==!1&&n.destroy()}),e.cache.dict={}}return e.prototype={get:function(e){var t=this.dict;return t.hasOwnProperty(e)?t[e]:this.parent?this.parent.get(e):void 0},set:function(e,t){this.dict[e]=t},has:function(e){var t=this.dict;return t.hasOwnProperty(e)?!0:this.parent?this.parent.has(e):!1},eachLocal:function(e,t){var n=this.dict;for(var i in n)n.hasOwnProperty(i)&&e.call(t,i,n[i])}},t.prototype={child:function(){var e=new t(this);return this.children.push(e),e},set:function(e,t,n){e[t]=n},register:function(e,t,n,i){var r;-1!==e.indexOf(":")?(i=n,n=t,r=e):r=e+":"+t;var a=this.normalize(r);this.registry.set(a,n),this._options.set(a,i||{})},resolve:function(e){return this.resolver(e)||this.registry.get(e)},normalize:function(e){return e},lookup:function(e,t){if(e=this.normalize(e),t=t||{},this.cache.has(e)&&t.singleton!==!1)return this.cache.get(e);var n=o(this,e);return n?(i(this,e)&&t.singleton!==!1&&this.cache.set(e,n),n):void 0},lookupFactory:function(e){return s(this,e)},has:function(e){return this.cache.has(e)?!0:!!s(this,e)},optionsForType:function(e,t){this.parent&&n("optionsForType"),this._typeOptions.set(e,t)},options:function(e,t){this.optionsForType(e,t)},typeInjection:function(e,t,i){this.parent&&n("typeInjection");var r=this.typeInjections.get(e);r||(r=[],this.typeInjections.set(e,r)),r.push({property:t,fullName:i})},injection:function(e,t,i){if(this.parent&&n("injection"),-1===e.indexOf(":"))return this.typeInjection(e,t,i);var r=this.injections[e]=this.injections[e]||[];r.push({property:t,fullName:i})},destroy:function(){this.isDestroyed=!0;for(var e=0,t=this.children.length;t>e;e++)this.children[e].destroy();this.children=[],l(this,function(e){e.destroy()}),delete this.parent,this.isDestroyed=!0},reset:function(){for(var e=0,t=this.children.length;t>e;e++)c(this.children[e]);c(this)}},t})}(),function(){function e(n,i,r,a){var s,o,l;if("object"!=typeof n||null===n)return n;if(i&&(o=t(r,n))>=0)return a[o];if("array"===Ember.typeOf(n)){if(s=n.slice(),i)for(o=s.length;--o>=0;)s[o]=e(s[o],i,r,a)}else if(Ember.Copyable&&Ember.Copyable.detect(n))s=n.copy(i,r,a);else{s={};for(l in n)n.hasOwnProperty(l)&&"__"!==l.substring(0,2)&&(s[l]=i?e(n[l],i,r,a):n[l])}return i&&(r.push(n),a.push(s)),s}var t=Ember.EnumerableUtils.indexOf;Ember.compare=function i(e,t){if(e===t)return 0;var n=Ember.typeOf(e),r=Ember.typeOf(t),a=Ember.Comparable;if(a){if("instance"===n&&a.detect(e.constructor))return e.constructor.compare(e,t);if("instance"===r&&a.detect(t.constructor))return 1-t.constructor.compare(t,e)}var s=Ember.ORDER_DEFINITION_MAPPING;if(!s){var o=Ember.ORDER_DEFINITION;s=Ember.ORDER_DEFINITION_MAPPING={};var l,c;for(l=0,c=o.length;c>l;++l)s[o[l]]=l;delete Ember.ORDER_DEFINITION}var h=s[n],u=s[r];if(u>h)return-1;if(h>u)return 1;switch(n){case"boolean":case"number":return t>e?-1:e>t?1:0;case"string":var d=e.localeCompare(t);return 0>d?-1:d>0?1:0;case"array":for(var p=e.length,f=t.length,g=Math.min(p,f),m=0,v=0;0===m&&g>v;)m=i(e[v],t[v]),v++;return 0!==m?m:f>p?-1:p>f?1:0;case"instance":return Ember.Comparable&&Ember.Comparable.detect(e)?e.compare(e,t):0;case"date":var b=e.getTime(),y=t.getTime();return y>b?-1:b>y?1:0;default:return 0}},Ember.copy=function(t,n){return"object"!=typeof t||null===t?t:Ember.Copyable&&Ember.Copyable.detect(t)?t.copy(n):e(t,n,n?[]:null,n?[]:null)},Ember.inspect=function(e){if("object"!=typeof e||null===e)return e+"";var t,n=[];for(var i in e)if(e.hasOwnProperty(i)){if(t=e[i],"toString"===t)continue;"function"===Ember.typeOf(t)&&(t="function() { ... }"),n.push(i+": "+t)}return"{"+n.join(", ")+"}"},Ember.isEqual=function(e,t){return e&&"function"==typeof e.isEqual?e.isEqual(t):e===t},Ember.ORDER_DEFINITION=Ember.ENV.ORDER_DEFINITION||["undefined","null","boolean","number","string","array","object","instance","function","class","date"],Ember.keys=Object.keys,(!Ember.keys||Ember.create.isSimulated)&&(Ember.keys=function(e){var t=[];for(var n in e)"__"!==n.substring(0,2)&&"_super"!==n&&e.hasOwnProperty(n)&&t.push(n);return t});var n=["description","fileName","lineNumber","message","name","number","stack"];Ember.Error=function(){for(var e=Error.apply(this,arguments),t=0;t<n.length;t++)this[n[t]]=e[n[t]]},Ember.Error.prototype=Ember.create(Error.prototype)}(),function(){Ember.RSVP=t("rsvp")}(),function(){var e=/[ _]/g,t={},n=/([a-z])([A-Z])/g,i=/(\-|_|\.|\s)+(.)?/g,r=/([a-z\d])([A-Z]+)/g,a=/\-|\s+/g;Ember.STRINGS={},Ember.String={fmt:function(e,t){var n=0;return e.replace(/%@([0-9]+)?/g,function(e,i){return i=i?parseInt(i,0)-1:n++,e=t[i],(null===e?"(null)":void 0===e?"":e).toString()})},loc:function(e,t){return e=Ember.STRINGS[e]||e,Ember.String.fmt(e,t)},w:function(e){return e.split(/\s+/)},decamelize:function(e){return e.replace(n,"$1_$2").toLowerCase()},dasherize:function(n){var i,r=t,a=r.hasOwnProperty(n);return a?r[n]:(i=Ember.String.decamelize(n).replace(e,"-"),r[n]=i,i)},camelize:function(e){return e.replace(i,function(e,t,n){return n?n.toUpperCase():""}).replace(/^([A-Z])/,function(e){return e.toLowerCase()})},classify:function(e){for(var t=e.split("."),n=[],i=0,r=t.length;r>i;i++){var a=Ember.String.camelize(t[i]);n.push(a.charAt(0).toUpperCase()+a.substr(1))}return n.join(".")},underscore:function(e){return e.replace(r,"$1_$2").replace(a,"_").toLowerCase()},capitalize:function(e){return e.charAt(0).toUpperCase()+e.substr(1)}}}(),function(){var e=Ember.String.fmt,t=Ember.String.w,n=Ember.String.loc,i=Ember.String.camelize,r=Ember.String.decamelize,a=Ember.String.dasherize,s=Ember.String.underscore,o=Ember.String.capitalize,l=Ember.String.classify;(Ember.EXTEND_PROTOTYPES===!0||Ember.EXTEND_PROTOTYPES.String)&&(String.prototype.fmt=function(){return e(this,arguments)},String.prototype.w=function(){return t(this)},String.prototype.loc=function(){return n(this,arguments)},String.prototype.camelize=function(){return i(this)},String.prototype.decamelize=function(){return r(this)},String.prototype.dasherize=function(){return a(this)},String.prototype.underscore=function(){return s(this)},String.prototype.classify=function(){return l(this)},String.prototype.capitalize=function(){return o(this)})}(),function(){var e=Array.prototype.slice;(Ember.EXTEND_PROTOTYPES===!0||Ember.EXTEND_PROTOTYPES.Function)&&(Function.prototype.property=function(){var e=Ember.computed(this);return e.property.apply(e,arguments)},Function.prototype.observes=function(){return this.__ember_observes__=e.call(arguments),this},Function.prototype.observesBefore=function(){return this.__ember_observesBefore__=e.call(arguments),this})}(),function(){function e(){return 0===o.length?{}:o.pop()}function t(e){return o.push(e),null}function n(e,t){function n(n){var a=i(n,e);return r?t===a:!!a}var r=2===arguments.length;return n}var i=Ember.get,r=Ember.set,a=Array.prototype.slice,s=Ember.EnumerableUtils.indexOf,o=[];Ember.Enumerable=Ember.Mixin.create({isEnumerable:!0,nextObject:Ember.required(Function),firstObject:Ember.computed(function(){if(0===i(this,"length"))return void 0;var n,r=e();return n=this.nextObject(0,null,r),t(r),n}).property("[]"),lastObject:Ember.computed(function(){var n=i(this,"length");if(0===n)return void 0;var r,a=e(),s=0,o=null;do o=r,r=this.nextObject(s++,o,a);while(void 0!==r);return t(a),o}).property("[]"),contains:function(e){return void 0!==this.find(function(t){return t===e})},forEach:function(n,r){if("function"!=typeof n)throw new TypeError;var a=i(this,"length"),s=null,o=e();
void 0===r&&(r=null);for(var l=0;a>l;l++){var c=this.nextObject(l,s,o);n.call(r,c,l,this),s=c}return s=null,o=t(o),this},getEach:function(e){return this.mapProperty(e)},setEach:function(e,t){return this.forEach(function(n){r(n,e,t)})},map:function(e,t){var n=Ember.A([]);return this.forEach(function(i,r,a){n[r]=e.call(t,i,r,a)}),n},mapProperty:function(e){return this.map(function(t){return i(t,e)})},filter:function(e,t){var n=Ember.A([]);return this.forEach(function(i,r,a){e.call(t,i,r,a)&&n.push(i)}),n},reject:function(e,t){return this.filter(function(){return!e.apply(t,arguments)})},filterProperty:function(){return this.filter(n.apply(this,arguments))},rejectProperty:function(e,t){var n=function(n){return i(n,e)===t},r=function(t){return!!i(t,e)},a=2===arguments.length?n:r;return this.reject(a)},find:function(n,r){var a=i(this,"length");void 0===r&&(r=null);for(var s,o,l=null,c=!1,h=e(),u=0;a>u&&!c;u++)s=this.nextObject(u,l,h),(c=n.call(r,s,u,this))&&(o=s),l=s;return s=l=null,h=t(h),o},findProperty:function(){return this.find(n.apply(this,arguments))},every:function(e,t){return!this.find(function(n,i,r){return!e.call(t,n,i,r)})},everyProperty:function(){return this.every(n.apply(this,arguments))},some:function(e,t){return!!this.find(function(n,i,r){return!!e.call(t,n,i,r)})},someProperty:function(){return this.some(n.apply(this,arguments))},reduce:function(e,t,n){if("function"!=typeof e)throw new TypeError;var i=t;return this.forEach(function(t,r){i=e.call(null,i,t,r,this,n)},this),i},invoke:function(e){var t,n=Ember.A([]);return arguments.length>1&&(t=a.call(arguments,1)),this.forEach(function(i,r){var a=i&&i[e];"function"==typeof a&&(n[r]=t?a.apply(i,t):a.call(i))},this),n},toArray:function(){var e=Ember.A([]);return this.forEach(function(t,n){e[n]=t}),e},compact:function(){return this.filter(function(e){return null!=e})},without:function(e){if(!this.contains(e))return this;var t=Ember.A([]);return this.forEach(function(n){n!==e&&(t[t.length]=n)}),t},uniq:function(){var e=Ember.A([]);return this.forEach(function(t){s(e,t)<0&&e.push(t)}),e},"[]":Ember.computed(function(){return this}),addEnumerableObserver:function(e,t){var n=t&&t.willChange||"enumerableWillChange",r=t&&t.didChange||"enumerableDidChange",a=i(this,"hasEnumerableObservers");return a||Ember.propertyWillChange(this,"hasEnumerableObservers"),Ember.addListener(this,"@enumerable:before",e,n),Ember.addListener(this,"@enumerable:change",e,r),a||Ember.propertyDidChange(this,"hasEnumerableObservers"),this},removeEnumerableObserver:function(e,t){var n=t&&t.willChange||"enumerableWillChange",r=t&&t.didChange||"enumerableDidChange",a=i(this,"hasEnumerableObservers");return a&&Ember.propertyWillChange(this,"hasEnumerableObservers"),Ember.removeListener(this,"@enumerable:before",e,n),Ember.removeListener(this,"@enumerable:change",e,r),a&&Ember.propertyDidChange(this,"hasEnumerableObservers"),this},hasEnumerableObservers:Ember.computed(function(){return Ember.hasListeners(this,"@enumerable:change")||Ember.hasListeners(this,"@enumerable:before")}),enumerableContentWillChange:function(e,t){var n,r,a;return n="number"==typeof e?e:e?i(e,"length"):e=-1,r="number"==typeof t?t:t?i(t,"length"):t=-1,a=0>r||0>n||0!==r-n,-1===e&&(e=null),-1===t&&(t=null),Ember.propertyWillChange(this,"[]"),a&&Ember.propertyWillChange(this,"length"),Ember.sendEvent(this,"@enumerable:before",[this,e,t]),this},enumerableContentDidChange:function(e,t){var n,r,a;return n="number"==typeof e?e:e?i(e,"length"):e=-1,r="number"==typeof t?t:t?i(t,"length"):t=-1,a=0>r||0>n||0!==r-n,-1===e&&(e=null),-1===t&&(t=null),Ember.sendEvent(this,"@enumerable:change",[this,e,t]),a&&Ember.propertyDidChange(this,"length"),Ember.propertyDidChange(this,"[]"),this}})}(),function(){var e=Ember.get,t=(Ember.set,Ember.isNone),n=Ember.EnumerableUtils.map,i=Ember.cacheFor;Ember.Array=Ember.Mixin.create(Ember.Enumerable,{length:Ember.required(),objectAt:function(t){return 0>t||t>=e(this,"length")?void 0:e(this,t)},objectsAt:function(e){var t=this;return n(e,function(e){return t.objectAt(e)})},nextObject:function(e){return this.objectAt(e)},"[]":Ember.computed(function(t,n){return void 0!==n&&this.replace(0,e(this,"length"),n),this}),firstObject:Ember.computed(function(){return this.objectAt(0)}),lastObject:Ember.computed(function(){return this.objectAt(e(this,"length")-1)}),contains:function(e){return this.indexOf(e)>=0},slice:function(n,i){var r=Ember.A([]),a=e(this,"length");for(t(n)&&(n=0),(t(i)||i>a)&&(i=a),0>n&&(n=a+n),0>i&&(i=a+i);i>n;)r[r.length]=this.objectAt(n++);return r},indexOf:function(t,n){var i,r=e(this,"length");for(void 0===n&&(n=0),0>n&&(n+=r),i=n;r>i;i++)if(this.objectAt(i,!0)===t)return i;return-1},lastIndexOf:function(t,n){var i,r=e(this,"length");for((void 0===n||n>=r)&&(n=r-1),0>n&&(n+=r),i=n;i>=0;i--)if(this.objectAt(i)===t)return i;return-1},addArrayObserver:function(t,n){var i=n&&n.willChange||"arrayWillChange",r=n&&n.didChange||"arrayDidChange",a=e(this,"hasArrayObservers");return a||Ember.propertyWillChange(this,"hasArrayObservers"),Ember.addListener(this,"@array:before",t,i),Ember.addListener(this,"@array:change",t,r),a||Ember.propertyDidChange(this,"hasArrayObservers"),this},removeArrayObserver:function(t,n){var i=n&&n.willChange||"arrayWillChange",r=n&&n.didChange||"arrayDidChange",a=e(this,"hasArrayObservers");return a&&Ember.propertyWillChange(this,"hasArrayObservers"),Ember.removeListener(this,"@array:before",t,i),Ember.removeListener(this,"@array:change",t,r),a&&Ember.propertyDidChange(this,"hasArrayObservers"),this},hasArrayObservers:Ember.computed(function(){return Ember.hasListeners(this,"@array:change")||Ember.hasListeners(this,"@array:before")}),arrayContentWillChange:function(t,n,i){void 0===t?(t=0,n=i=-1):(void 0===n&&(n=-1),void 0===i&&(i=-1)),Ember.isWatching(this,"@each")&&e(this,"@each"),Ember.sendEvent(this,"@array:before",[this,t,n,i]);var r,a;if(t>=0&&n>=0&&e(this,"hasEnumerableObservers")){r=[],a=t+n;for(var s=t;a>s;s++)r.push(this.objectAt(s))}else r=n;return this.enumerableContentWillChange(r,i),this},arrayContentDidChange:function(t,n,r){void 0===t?(t=0,n=r=-1):(void 0===n&&(n=-1),void 0===r&&(r=-1));var a,s;if(t>=0&&r>=0&&e(this,"hasEnumerableObservers")){a=[],s=t+r;for(var o=t;s>o;o++)a.push(this.objectAt(o))}else a=r;this.enumerableContentDidChange(n,a),Ember.sendEvent(this,"@array:change",[this,t,n,r]);var l=e(this,"length"),c=i(this,"firstObject"),h=i(this,"lastObject");return this.objectAt(0)!==c&&(Ember.propertyWillChange(this,"firstObject"),Ember.propertyDidChange(this,"firstObject")),this.objectAt(l-1)!==h&&(Ember.propertyWillChange(this,"lastObject"),Ember.propertyDidChange(this,"lastObject")),this},"@each":Ember.computed(function(){return this.__each||(this.__each=new Ember.EachProxy(this)),this.__each})})}(),function(){Ember.Comparable=Ember.Mixin.create({isComparable:!0,compare:Ember.required(Function)})}(),function(){var e=Ember.get;Ember.set,Ember.Copyable=Ember.Mixin.create({copy:Ember.required(Function),frozenCopy:function(){if(Ember.Freezable&&Ember.Freezable.detect(this))return e(this,"isFrozen")?this:this.copy().freeze();throw new Error(Ember.String.fmt("%@ does not support freezing",[this]))}})}(),function(){var e=Ember.get,t=Ember.set;Ember.Freezable=Ember.Mixin.create({isFrozen:!1,freeze:function(){return e(this,"isFrozen")?this:(t(this,"isFrozen",!0),this)}}),Ember.FROZEN_ERROR="Frozen object cannot be modified."}(),function(){var e=Ember.EnumerableUtils.forEach;Ember.MutableEnumerable=Ember.Mixin.create(Ember.Enumerable,{addObject:Ember.required(Function),addObjects:function(t){return Ember.beginPropertyChanges(this),e(t,function(e){this.addObject(e)},this),Ember.endPropertyChanges(this),this},removeObject:Ember.required(Function),removeObjects:function(t){return Ember.beginPropertyChanges(this),e(t,function(e){this.removeObject(e)},this),Ember.endPropertyChanges(this),this}})}(),function(){var e="Index out of range",t=[],n=Ember.get;Ember.set,Ember.MutableArray=Ember.Mixin.create(Ember.Array,Ember.MutableEnumerable,{replace:Ember.required(),clear:function(){var e=n(this,"length");return 0===e?this:(this.replace(0,e,t),this)},insertAt:function(t,i){if(t>n(this,"length"))throw new Error(e);return this.replace(t,0,[i]),this},removeAt:function(i,r){if("number"==typeof i){if(0>i||i>=n(this,"length"))throw new Error(e);void 0===r&&(r=1),this.replace(i,r,t)}return this},pushObject:function(e){return this.insertAt(n(this,"length"),e),e},pushObjects:function(e){return this.replace(n(this,"length"),0,e),this},popObject:function(){var e=n(this,"length");if(0===e)return null;var t=this.objectAt(e-1);return this.removeAt(e-1,1),t},shiftObject:function(){if(0===n(this,"length"))return null;var e=this.objectAt(0);return this.removeAt(0),e},unshiftObject:function(e){return this.insertAt(0,e),e},unshiftObjects:function(e){return this.replace(0,0,e),this},reverseObjects:function(){var e=n(this,"length");if(0===e)return this;var t=this.toArray().reverse();return this.replace(0,e,t),this},setObjects:function(e){if(0===e.length)return this.clear();var t=n(this,"length");return this.replace(0,t,e),this},removeObject:function(e){for(var t=n(this,"length")||0;--t>=0;){var i=this.objectAt(t);i===e&&this.removeAt(t)}return this},addObject:function(e){return this.contains(e)||this.pushObject(e),this}})}(),function(){var e=Ember.get,t=Ember.set;Ember.Observable=Ember.Mixin.create({get:function(t){return e(this,t)},getProperties:function(){var t={},n=arguments;1===arguments.length&&"array"===Ember.typeOf(arguments[0])&&(n=arguments[0]);for(var i=0;i<n.length;i++)t[n[i]]=e(this,n[i]);return t},set:function(e,n){return t(this,e,n),this},setProperties:function(e){return Ember.setProperties(this,e)},beginPropertyChanges:function(){return Ember.beginPropertyChanges(),this},endPropertyChanges:function(){return Ember.endPropertyChanges(),this},propertyWillChange:function(e){return Ember.propertyWillChange(this,e),this},propertyDidChange:function(e){return Ember.propertyDidChange(this,e),this},notifyPropertyChange:function(e){return this.propertyWillChange(e),this.propertyDidChange(e),this},addBeforeObserver:function(e,t,n){Ember.addBeforeObserver(this,e,t,n)},addObserver:function(e,t,n){Ember.addObserver(this,e,t,n)},removeObserver:function(e,t,n){Ember.removeObserver(this,e,t,n)},hasObserverFor:function(e){return Ember.hasListeners(this,e+":change")},getPath:function(e){return this.get(e)},setPath:function(e,t){return this.set(e,t)},getWithDefault:function(e,t){return Ember.getWithDefault(this,e,t)},incrementProperty:function(n,i){return Ember.isNone(i)&&(i=1),t(this,n,(e(this,n)||0)+i),e(this,n)},decrementProperty:function(n,i){return Ember.isNone(i)&&(i=1),t(this,n,(e(this,n)||0)-i),e(this,n)},toggleProperty:function(n){return t(this,n,!e(this,n)),e(this,n)},cacheFor:function(e){return Ember.cacheFor(this,e)},observersForKey:function(e){return Ember.observersFor(this,e)}})}(),function(){var e=Ember.get;Ember.set,Ember.TargetActionSupport=Ember.Mixin.create({target:null,action:null,actionContext:null,targetObject:Ember.computed(function(){var t=e(this,"target");if("string"===Ember.typeOf(t)){var n=e(this,t);return void 0===n&&(n=e(Ember.lookup,t)),n}return t}).property("target"),actionContextObject:Ember.computed(function(){var t=e(this,"actionContext");if("string"===Ember.typeOf(t)){var n=e(this,t);return void 0===n&&(n=e(Ember.lookup,t)),n}return t}).property("actionContext"),triggerAction:function(t){t=t||{};var n=t.action||e(this,"action"),i=t.target||e(this,"targetObject"),r=t.actionContext||e(this,"actionContextObject")||this;if(i&&n){var a;return a=i.send?i.send.apply(i,[n,r]):i[n].apply(i,[r]),a!==!1&&(a=!0),a}return!1}})}(),function(){Ember.Evented=Ember.Mixin.create({on:function(e,t,n){return Ember.addListener(this,e,t,n),this},one:function(e,t,n){return n||(n=t,t=null),Ember.addListener(this,e,t,n,!0),this},trigger:function(e){var t,n,i=[];for(t=1,n=arguments.length;n>t;t++)i.push(arguments[t]);Ember.sendEvent(this,e,i)},fire:function(){this.trigger.apply(this,arguments)},off:function(e,t,n){return Ember.removeListener(this,e,t,n),this},has:function(e){return Ember.hasListeners(this,e)}})}(),function(){var e=t("rsvp");e.configure("async",function(e,t){Ember.run.schedule("actions",t,e)});var n=Ember.get;Ember.DeferredMixin=Ember.Mixin.create({then:function(e,t){function i(t){return t===a?e(s):e(t)}var r,a,s;return s=this,r=n(this,"_deferred"),a=r.promise,a.then(e&&i,t)},resolve:function(e){var t,i;t=n(this,"_deferred"),i=t.promise,e===this?t.resolve(i):t.resolve(e)},reject:function(e){n(this,"_deferred").reject(e)},_deferred:Ember.computed(function(){return e.defer()})})}(),function(){Ember.Container=t("container"),Ember.Container.set=Ember.set}(),function(){function e(){var e,t,a=!1,s=function(){a||s.proto(),i(this,r,b),i(this,"_super",b);var l=o(this);if(l.proto=this,e){var h=e;e=null,this.reopen.apply(this,h)}if(t){var u=t;t=null;for(var d=this.concatenatedProperties,p=0,g=u.length;g>p;p++){var y=u[p];for(var x in y)if(y.hasOwnProperty(x)){var w=y[x],_=Ember.IS_BINDING;if(_.test(x)){var C=l.bindings;C?l.hasOwnProperty("bindings")||(C=l.bindings=n(l.bindings)):C=l.bindings={},C[x]=w}var T=l.descs[x];if(d&&v(d,x)>=0){var D=this[x];w=D?"function"==typeof D.concat?D.concat(w):Ember.makeArray(D).concat(w):Ember.makeArray(w)}T?T.set(this,x,w):"function"!=typeof this.setUnknownProperty||x in this?m?Ember.defineProperty(this,x,null,w):this[x]=w:this.setUnknownProperty(x,w)}}}f(this,l),delete l.proto,c(this),this.init.apply(this,arguments)};return s.toString=d.prototype.toString,s.willReopen=function(){a&&(s.PrototypeMixin=d.create(s.PrototypeMixin)),a=!1},s._initMixins=function(t){e=t},s._initProperties=function(e){t=e},s.proto=function(){var e=s.superclass;return e&&e.proto(),a||(a=!0,s.PrototypeMixin.applyPartial(s.prototype),l(s.prototype)),this.prototype},s}function t(e){return function(){return e}}var n=(Ember.set,Ember.get,Ember.create),i=Ember.platform.defineProperty,r=Ember.GUID_KEY,a=Ember.guidFor,s=Ember.generateGuid,o=Ember.meta,l=Ember.rewatch,c=Ember.finishChains,h=Ember.destroy,u=Ember.run.schedule,d=Ember.Mixin,p=d._apply,f=d.finishPartial,g=d.prototype.reopen,m=Ember.ENV.MANDATORY_SETTER,v=Ember.EnumerableUtils.indexOf,b={configurable:!0,writable:!0,enumerable:!1,value:void 0},y=e();y.toString=function(){return"Ember.CoreObject"},y.PrototypeMixin=d.create({reopen:function(){return p(this,arguments,!0),this},isInstance:!0,init:function(){},concatenatedProperties:null,isDestroyed:!1,isDestroying:!1,destroy:function(){return this.isDestroying?void 0:(this.isDestroying=!0,u("actions",this,this.willDestroy),u("destroy",this,this._scheduledDestroy),this)},willDestroy:Ember.K,_scheduledDestroy:function(){this.isDestroyed||(h(this),this.isDestroyed=!0)},bind:function(e,t){return t instanceof Ember.Binding||(t=Ember.Binding.from(t)),t.to(e).connect(this),t},toString:function(){var e="function"==typeof this.toStringExtension,n=e?":"+this.toStringExtension():"",i="<"+this.constructor.toString()+":"+a(this)+n+">";return this.toString=t(i),i}}),y.PrototypeMixin.ownerConstructor=y,Ember.config.overridePrototypeMixin&&Ember.config.overridePrototypeMixin(y.PrototypeMixin),y.__super__=null;var x=d.create({ClassMixin:Ember.required(),PrototypeMixin:Ember.required(),isClass:!0,isMethod:!1,extend:function(){var t,i=e();return i.ClassMixin=d.create(this.ClassMixin),i.PrototypeMixin=d.create(this.PrototypeMixin),i.ClassMixin.ownerConstructor=i,i.PrototypeMixin.ownerConstructor=i,g.apply(i.PrototypeMixin,arguments),i.superclass=this,i.__super__=this.prototype,t=i.prototype=n(this.prototype),t.constructor=i,s(t,"ember"),o(t).proto=t,i.ClassMixin.apply(i),i},createWithMixins:function(){var e=this;return arguments.length>0&&this._initMixins(arguments),new e},create:function(){var e=this;return arguments.length>0&&this._initProperties(arguments),new e},reopen:function(){return this.willReopen(),g.apply(this.PrototypeMixin,arguments),this},reopenClass:function(){return g.apply(this.ClassMixin,arguments),p(this,arguments,!1),this},detect:function(e){if("function"!=typeof e)return!1;for(;e;){if(e===this)return!0;e=e.superclass}return!1},detectInstance:function(e){return e instanceof this},metaForProperty:function(e){var t=o(this.proto(),!1).descs[e];return t._meta||{}},eachComputedProperty:function(e,t){var n,i=this.proto(),r=o(i).descs,a={};for(var s in r)n=r[s],n instanceof Ember.ComputedProperty&&e.call(t||this,s,n._meta||a)}});x.ownerConstructor=y,Ember.config.overrideClassMixin&&Ember.config.overrideClassMixin(x),y.ClassMixin=x,x.apply(y),Ember.CoreObject=y}(),function(){Ember.Object=Ember.CoreObject.extend(Ember.Observable),Ember.Object.toString=function(){return"Ember.Object"}}(),function(){function e(t,n,r){var s=t.length;c[t.join(".")]=n;for(var o in n)if(h.call(n,o)){var l=n[o];if(t[s]=o,l&&l.toString===i)l.toString=a(t.join(".")),l[d]=t.join(".");else if(l&&l.isNamespace){if(r[u(l)])continue;r[u(l)]=!0,e(t,l,r)}}t.length=s}function t(){var e,t,n=Ember.Namespace,i=Ember.lookup;if(!n.PROCESSED)for(var r in i)if("parent"!==r&&"top"!==r&&"frameElement"!==r&&"webkitStorageInfo"!==r&&!("globalStorage"===r&&i.StorageList&&i.globalStorage instanceof i.StorageList||i.hasOwnProperty&&!i.hasOwnProperty(r))){try{e=Ember.lookup[r],t=e&&e.isNamespace}catch(a){continue}t&&(e[d]=r)}}function n(e){var t=e.superclass;return t?t[d]?t[d]:n(t):void 0}function i(){Ember.BOOTED||this[d]||r();var e;if(this[d])e=this[d];else{var t=n(this);e=t?"(subclass of "+t+")":"(unknown mixin)",this.toString=a(e)}return e}function r(){var n=!l.PROCESSED,i=Ember.anyUnprocessedMixins;if(n&&(t(),l.PROCESSED=!0),n||i){for(var r,a=l.NAMESPACES,s=0,o=a.length;o>s;s++)r=a[s],e([r.toString()],r,{});Ember.anyUnprocessedMixins=!1}}function a(e){return function(){return e}}var s=Ember.get,o=Ember.ArrayPolyfills.indexOf,l=Ember.Namespace=Ember.Object.extend({isNamespace:!0,init:function(){Ember.Namespace.NAMESPACES.push(this),Ember.Namespace.PROCESSED=!1},toString:function(){var e=s(this,"name");return e?e:(t(),this[Ember.GUID_KEY+"_name"])},nameClasses:function(){e([this.toString()],this,{})},destroy:function(){var e=Ember.Namespace.NAMESPACES;Ember.lookup[this.toString()]=void 0,e.splice(o.call(e,this),1),this._super()}});l.reopenClass({NAMESPACES:[Ember],NAMESPACES_BY_ID:{},PROCESSED:!1,processAll:r,byName:function(e){return Ember.BOOTED||r(),c[e]}});var c=l.NAMESPACES_BY_ID,h={}.hasOwnProperty,u=Ember.guidFor,d=Ember.NAME_KEY=Ember.GUID_KEY+"_name";Ember.Mixin.prototype.toString=i}(),function(){Ember.Application=Ember.Namespace.extend()}(),function(){var e="Index out of range",t=[],n=Ember.get;Ember.set,Ember.ArrayProxy=Ember.Object.extend(Ember.MutableArray,{content:null,arrangedContent:Ember.computed.alias("content"),objectAtContent:function(e){return n(this,"arrangedContent").objectAt(e)},replaceContent:function(e,t,i){n(this,"content").replace(e,t,i)},_contentWillChange:Ember.beforeObserver(function(){this._teardownContent()},"content"),_teardownContent:function(){var e=n(this,"content");e&&e.removeArrayObserver(this,{willChange:"contentArrayWillChange",didChange:"contentArrayDidChange"})},contentArrayWillChange:Ember.K,contentArrayDidChange:Ember.K,_contentDidChange:Ember.observer(function(){n(this,"content"),this._setupContent()},"content"),_setupContent:function(){var e=n(this,"content");e&&e.addArrayObserver(this,{willChange:"contentArrayWillChange",didChange:"contentArrayDidChange"})},_arrangedContentWillChange:Ember.beforeObserver(function(){var e=n(this,"arrangedContent"),t=e?n(e,"length"):0;this.arrangedContentArrayWillChange(this,0,t,void 0),this.arrangedContentWillChange(this),this._teardownArrangedContent(e)},"arrangedContent"),_arrangedContentDidChange:Ember.observer(function(){var e=n(this,"arrangedContent"),t=e?n(e,"length"):0;this._setupArrangedContent(),this.arrangedContentDidChange(this),this.arrangedContentArrayDidChange(this,0,void 0,t)},"arrangedContent"),_setupArrangedContent:function(){var e=n(this,"arrangedContent");e&&e.addArrayObserver(this,{willChange:"arrangedContentArrayWillChange",didChange:"arrangedContentArrayDidChange"})},_teardownArrangedContent:function(){var e=n(this,"arrangedContent");e&&e.removeArrayObserver(this,{willChange:"arrangedContentArrayWillChange",didChange:"arrangedContentArrayDidChange"})},arrangedContentWillChange:Ember.K,arrangedContentDidChange:Ember.K,objectAt:function(e){return n(this,"content")&&this.objectAtContent(e)},length:Ember.computed(function(){var e=n(this,"arrangedContent");return e?n(e,"length"):0}),_replace:function(e,t,i){var r=n(this,"content");return r&&this.replaceContent(e,t,i),this},replace:function(){if(n(this,"arrangedContent")!==n(this,"content"))throw new Ember.Error("Using replace on an arranged ArrayProxy is not allowed.");this._replace.apply(this,arguments)},_insertAt:function(t,i){if(t>n(this,"content.length"))throw new Error(e);return this._replace(t,0,[i]),this},insertAt:function(e,t){if(n(this,"arrangedContent")===n(this,"content"))return this._insertAt(e,t);throw new Ember.Error("Using insertAt on an arranged ArrayProxy is not allowed.")},removeAt:function(i,r){if("number"==typeof i){var a,s=n(this,"content"),o=n(this,"arrangedContent"),l=[];if(0>i||i>=n(this,"length"))throw new Error(e);for(void 0===r&&(r=1),a=i;i+r>a;a++)l.push(s.indexOf(o.objectAt(a)));for(l.sort(function(e,t){return t-e}),Ember.beginPropertyChanges(),a=0;a<l.length;a++)this._replace(l[a],1,t);Ember.endPropertyChanges()}return this},pushObject:function(e){return this._insertAt(n(this,"content.length"),e),e},pushObjects:function(e){return this._replace(n(this,"length"),0,e),this},setObjects:function(e){if(0===e.length)return this.clear();var t=n(this,"length");return this._replace(0,t,e),this},unshiftObject:function(e){return this._insertAt(0,e),e},unshiftObjects:function(e){return this._replace(0,0,e),this},slice:function(){var e=this.toArray();return e.slice.apply(e,arguments)},arrangedContentArrayWillChange:function(e,t,n,i){this.arrayContentWillChange(t,n,i)},arrangedContentArrayDidChange:function(e,t,n,i){this.arrayContentDidChange(t,n,i)},init:function(){this._super(),this._setupContent(),this._setupArrangedContent()},willDestroy:function(){this._teardownArrangedContent(),this._teardownContent()}})}(),function(){function e(e,t){var n=t.slice(8);n in this||l(this,n)}function t(e,t){var n=t.slice(8);n in this||c(this,n)}var n=Ember.get,i=Ember.set,r=(Ember.String.fmt,Ember.addBeforeObserver),a=Ember.addObserver,s=Ember.removeBeforeObserver,o=Ember.removeObserver,l=Ember.propertyWillChange,c=Ember.propertyDidChange;Ember.ObjectProxy=Ember.Object.extend({content:null,_contentDidChange:Ember.observer(function(){},"content"),isTruthy:Ember.computed.bool("content"),_debugContainerKey:null,willWatchProperty:function(n){var i="content."+n;r(this,i,null,e),a(this,i,null,t)},didUnwatchProperty:function(n){var i="content."+n;s(this,i,null,e),o(this,i,null,t)},unknownProperty:function(e){var t=n(this,"content");return t?n(t,e):void 0},setUnknownProperty:function(e,t){var r=n(this,"content");return i(r,e,t)}}),Ember.ObjectProxy.reopenClass({create:function(){var e,t,n,i,r,a;if(arguments.length){for(t=this.proto(),n=0,i=arguments.length;i>n;n++){r=arguments[n];for(a in r)!r.hasOwnProperty(a)||a in t||(e||(e={}),e[a]=null)}e&&this._initMixins([e])}return this._super.apply(this,arguments)}})}(),function(){function e(e,t,n,r,a){var s,o=n._objects;for(o||(o=n._objects={});--a>=r;){var l=e.objectAt(a);l&&(Ember.addBeforeObserver(l,t,n,"contentKeyWillChange"),Ember.addObserver(l,t,n,"contentKeyDidChange"),s=i(l),o[s]||(o[s]=[]),o[s].push(a))}}function t(e,t,n,r,a){var s=n._objects;s||(s=n._objects={});for(var o,l;--a>=r;){var c=e.objectAt(a);c&&(Ember.removeBeforeObserver(c,t,n,"contentKeyWillChange"),Ember.removeObserver(c,t,n,"contentKeyDidChange"),l=i(c),o=s[l],o[o.indexOf(a)]=null)}}var n=(Ember.set,Ember.get),i=Ember.guidFor,r=Ember.EnumerableUtils.forEach,a=Ember.Object.extend(Ember.Array,{init:function(e,t,n){this._super(),this._keyName=t,this._owner=n,this._content=e},objectAt:function(e){var t=this._content.objectAt(e);return t&&n(t,this._keyName)},length:Ember.computed(function(){var e=this._content;return e?n(e,"length"):0})}),s=/^.+:(before|change)$/;Ember.EachProxy=Ember.Object.extend({init:function(e){this._super(),this._content=e,e.addArrayObserver(this),r(Ember.watchedEvents(this),function(e){this.didAddListener(e)},this)},unknownProperty:function(e){var t;return t=new a(this._content,e,this),Ember.defineProperty(this,e,null,t),this.beginObservingContentKey(e),t},arrayWillChange:function(e,n,i){var r,a,s=this._keys;a=i>0?n+i:-1,Ember.beginPropertyChanges(this);for(r in s)s.hasOwnProperty(r)&&(a>0&&t(e,r,this,n,a),Ember.propertyWillChange(this,r));Ember.propertyWillChange(this._content,"@each"),Ember.endPropertyChanges(this)},arrayDidChange:function(t,n,i,r){var a,s,o=this._keys;s=r>0?n+r:-1,Ember.beginPropertyChanges(this);for(a in o)o.hasOwnProperty(a)&&(s>0&&e(t,a,this,n,s),Ember.propertyDidChange(this,a));Ember.propertyDidChange(this._content,"@each"),Ember.endPropertyChanges(this)},didAddListener:function(e){s.test(e)&&this.beginObservingContentKey(e.slice(0,-7))},didRemoveListener:function(e){s.test(e)&&this.stopObservingContentKey(e.slice(0,-7))},beginObservingContentKey:function(t){var i=this._keys;if(i||(i=this._keys={}),i[t])i[t]++;else{i[t]=1;var r=this._content,a=n(r,"length");e(r,t,this,0,a)}},stopObservingContentKey:function(e){var i=this._keys;if(i&&i[e]>0&&--i[e]<=0){var r=this._content,a=n(r,"length");t(r,e,this,0,a)}},contentKeyWillChange:function(e,t){Ember.propertyWillChange(this,t)},contentKeyDidChange:function(e,t){Ember.propertyDidChange(this,t)}})}(),function(){var e=Ember.get;Ember.set;var t=Ember.Mixin.create(Ember.MutableArray,Ember.Observable,Ember.Copyable,{get:function(e){return"length"===e?this.length:"number"==typeof e?this[e]:this._super(e)},objectAt:function(e){return this[e]},replace:function(t,n,i){if(this.isFrozen)throw Ember.FROZEN_ERROR;var r=i?e(i,"length"):0;if(this.arrayContentWillChange(t,n,r),i&&0!==i.length){var a=[t,n].concat(i);this.splice.apply(this,a)}else this.splice(t,n);return this.arrayContentDidChange(t,n,r),this},unknownProperty:function(e,t){var n;return void 0!==t&&void 0===n&&(n=this[e]=t),n},indexOf:function(e,t){var n,i=this.length;for(t=void 0===t?0:0>t?Math.ceil(t):Math.floor(t),0>t&&(t+=i),n=t;i>n;n++)if(this[n]===e)return n;return-1},lastIndexOf:function(e,t){var n,i=this.length;for(t=void 0===t?i-1:0>t?Math.ceil(t):Math.floor(t),0>t&&(t+=i),n=t;n>=0;n--)if(this[n]===e)return n;return-1},copy:function(e){return e?this.map(function(e){return Ember.copy(e,!0)}):this.slice()}}),n=["length"];Ember.EnumerableUtils.forEach(t.keys(),function(e){Array.prototype[e]&&n.push(e)}),n.length>0&&(t=t.without.apply(t,n)),Ember.NativeArray=t,Ember.A=function(e){return void 0===e&&(e=[]),Ember.Array.detect(e)?e:Ember.NativeArray.apply(e)},Ember.NativeArray.activate=function(){t.apply(Array.prototype),Ember.A=function(e){return e||[]}},(Ember.EXTEND_PROTOTYPES===!0||Ember.EXTEND_PROTOTYPES.Array)&&Ember.NativeArray.activate()}(),function(){var e=Ember.get,t=Ember.set,n=Ember.guidFor,i=Ember.isNone,r=Ember.String.fmt;Ember.Set=Ember.CoreObject.extend(Ember.MutableEnumerable,Ember.Copyable,Ember.Freezable,{length:0,clear:function(){if(this.isFrozen)throw new Error(Ember.FROZEN_ERROR);var i=e(this,"length");if(0===i)return this;var r;this.enumerableContentWillChange(i,0),Ember.propertyWillChange(this,"firstObject"),Ember.propertyWillChange(this,"lastObject");for(var a=0;i>a;a++)r=n(this[a]),delete this[r],delete this[a];return t(this,"length",0),Ember.propertyDidChange(this,"firstObject"),Ember.propertyDidChange(this,"lastObject"),this.enumerableContentDidChange(i,0),this},isEqual:function(t){if(!Ember.Enumerable.detect(t))return!1;var n=e(this,"length");if(e(t,"length")!==n)return!1;for(;--n>=0;)if(!t.contains(this[n]))return!1;return!0},add:Ember.aliasMethod("addObject"),remove:Ember.aliasMethod("removeObject"),pop:function(){if(e(this,"isFrozen"))throw new Error(Ember.FROZEN_ERROR);var t=this.length>0?this[this.length-1]:null;return this.remove(t),t},push:Ember.aliasMethod("addObject"),shift:Ember.aliasMethod("pop"),unshift:Ember.aliasMethod("push"),addEach:Ember.aliasMethod("addObjects"),removeEach:Ember.aliasMethod("removeObjects"),init:function(e){this._super(),e&&this.addObjects(e)},nextObject:function(e){return this[e]},firstObject:Ember.computed(function(){return this.length>0?this[0]:void 0}),lastObject:Ember.computed(function(){return this.length>0?this[this.length-1]:void 0}),addObject:function(r){if(e(this,"isFrozen"))throw new Error(Ember.FROZEN_ERROR);if(i(r))return this;var a,s=n(r),o=this[s],l=e(this,"length");return o>=0&&l>o&&this[o]===r?this:(a=[r],this.enumerableContentWillChange(null,a),Ember.propertyWillChange(this,"lastObject"),l=e(this,"length"),this[s]=l,this[l]=r,t(this,"length",l+1),Ember.propertyDidChange(this,"lastObject"),this.enumerableContentDidChange(null,a),this)},removeObject:function(r){if(e(this,"isFrozen"))throw new Error(Ember.FROZEN_ERROR);if(i(r))return this;var a,s,o=n(r),l=this[o],c=e(this,"length"),h=0===l,u=l===c-1;return l>=0&&c>l&&this[l]===r&&(s=[r],this.enumerableContentWillChange(s,null),h&&Ember.propertyWillChange(this,"firstObject"),u&&Ember.propertyWillChange(this,"lastObject"),c-1>l&&(a=this[c-1],this[l]=a,this[n(a)]=l),delete this[o],delete this[c-1],t(this,"length",c-1),h&&Ember.propertyDidChange(this,"firstObject"),u&&Ember.propertyDidChange(this,"lastObject"),this.enumerableContentDidChange(s,null)),this},contains:function(e){return this[n(e)]>=0},copy:function(){var i=this.constructor,r=new i,a=e(this,"length");for(t(r,"length",a);--a>=0;)r[a]=this[a],r[n(this[a])]=a;return r},toString:function(){var e,t=this.length,n=[];for(e=0;t>e;e++)n[e]=this[e];return r("Ember.Set<%@>",[n.join(",")])}})}(),function(){var e=Ember.DeferredMixin;Ember.get;var t=Ember.Object.extend(e);t.reopenClass({promise:function(e,n){var i=t.create();return e.call(n,i),i}}),Ember.Deferred=t}(),function(){var e=Ember.ArrayPolyfills.forEach,t=Ember.ENV.EMBER_LOAD_HOOKS||{},n={};Ember.onLoad=function(e,i){var r;t[e]=t[e]||Ember.A(),t[e].pushObject(i),(r=n[e])&&i(r)},Ember.runLoadHooks=function(i,r){n[i]=r,t[i]&&e.call(t[i],function(e){e(r)})}}(),function(){var e=Ember.get;Ember.ControllerMixin=Ember.Mixin.create({isController:!0,target:null,container:null,parentController:null,store:null,model:Ember.computed.alias("content"),send:function(t){var n,i=[].slice.call(arguments,1);this[t]?this[t].apply(this,i):(n=e(this,"target"))&&n.send.apply(n,arguments)}}),Ember.Controller=Ember.Object.extend(Ember.ControllerMixin)}(),function(){var e=Ember.get,t=(Ember.set,Ember.EnumerableUtils.forEach);Ember.SortableMixin=Ember.Mixin.create(Ember.MutableEnumerable,{sortProperties:null,sortAscending:!0,sortFunction:Ember.compare,orderBy:function(n,i){var r=0,a=e(this,"sortProperties"),s=e(this,"sortAscending"),o=e(this,"sortFunction");return t(a,function(t){0===r&&(r=o(e(n,t),e(i,t)),0===r||s||(r=-1*r))}),r},destroy:function(){var n=e(this,"content"),i=e(this,"sortProperties");return n&&i&&t(n,function(e){t(i,function(t){Ember.removeObserver(e,t,this,"contentItemSortPropertyDidChange")},this)},this),this._super()},isSorted:Ember.computed.bool("sortProperties"),arrangedContent:Ember.computed("content","sortProperties.@each",function(){var n=e(this,"content"),i=e(this,"isSorted"),r=e(this,"sortProperties"),a=this;return n&&i?(n=n.slice(),n.sort(function(e,t){return a.orderBy(e,t)}),t(n,function(e){t(r,function(t){Ember.addObserver(e,t,this,"contentItemSortPropertyDidChange")},this)},this),Ember.A(n)):n}),_contentWillChange:Ember.beforeObserver(function(){var n=e(this,"content"),i=e(this,"sortProperties");n&&i&&t(n,function(e){t(i,function(t){Ember.removeObserver(e,t,this,"contentItemSortPropertyDidChange")},this)},this),this._super()},"content"),sortAscendingWillChange:Ember.beforeObserver(function(){this._lastSortAscending=e(this,"sortAscending")},"sortAscending"),sortAscendingDidChange:Ember.observer(function(){if(e(this,"sortAscending")!==this._lastSortAscending){var t=e(this,"arrangedContent");t.reverseObjects()}},"sortAscending"),contentArrayWillChange:function(n,i,r,a){var s=e(this,"isSorted");if(s){var o=e(this,"arrangedContent"),l=n.slice(i,i+r),c=e(this,"sortProperties");t(l,function(e){o.removeObject(e),t(c,function(t){Ember.removeObserver(e,t,this,"contentItemSortPropertyDidChange")},this)},this)}return this._super(n,i,r,a)},contentArrayDidChange:function(n,i,r,a){var s=e(this,"isSorted"),o=e(this,"sortProperties");if(s){var l=n.slice(i,i+a);t(l,function(e){this.insertItemSorted(e),t(o,function(t){Ember.addObserver(e,t,this,"contentItemSortPropertyDidChange")
},this)},this)}return this._super(n,i,r,a)},insertItemSorted:function(t){var n=e(this,"arrangedContent"),i=e(n,"length"),r=this._binarySearch(t,0,i);n.insertAt(r,t)},contentItemSortPropertyDidChange:function(t){var n=e(this,"arrangedContent"),i=n.indexOf(t),r=n.objectAt(i-1),a=n.objectAt(i+1),s=r&&this.orderBy(t,r),o=a&&this.orderBy(t,a);(0>s||o>0)&&(n.removeObject(t),this.insertItemSorted(t))},_binarySearch:function(t,n,i){var r,a,s,o;return n===i?n:(o=e(this,"arrangedContent"),r=n+Math.floor((i-n)/2),a=o.objectAt(r),s=this.orderBy(a,t),0>s?this._binarySearch(t,r+1,i):s>0?this._binarySearch(t,n,r):r)}})}(),function(){var e=Ember.get,t=(Ember.set,Ember.EnumerableUtils.forEach),n=Ember.EnumerableUtils.replace;Ember.ArrayController=Ember.ArrayProxy.extend(Ember.ControllerMixin,Ember.SortableMixin,{itemController:null,lookupItemController:function(){return e(this,"itemController")},objectAtContent:function(t){var n=e(this,"length"),i=e(this,"arrangedContent"),r=i&&i.objectAt(t);if(t>=0&&n>t){var a=this.lookupItemController(r);if(a)return this.controllerAt(t,r,a)}return r},arrangedContentDidChange:function(){this._super(),this._resetSubControllers()},arrayContentDidChange:function(i,r,a){var s=e(this,"_subControllers"),o=s.slice(i,i+r);t(o,function(e){e&&e.destroy()}),n(s,i,r,new Array(a)),this._super(i,r,a)},init:function(){this.get("content")||Ember.defineProperty(this,"content",void 0,Ember.A()),this._super(),this.set("_subControllers",Ember.A())},controllerAt:function(t,n,i){var r=e(this,"container"),a=e(this,"_subControllers"),s=a[t];if(s||(s=r.lookup("controller:"+i,{singleton:!1}),a[t]=s),!s)throw new Error('Could not resolve itemController: "'+i+'"');return s.set("target",this),s.set("parentController",e(this,"parentController")||this),s.set("content",n),s},_subControllers:null,_resetSubControllers:function(){var n=e(this,"_subControllers");n&&t(n,function(e){e&&e.destroy()}),this.set("_subControllers",Ember.A())}})}(),function(){Ember.ObjectController=Ember.ObjectProxy.extend(Ember.ControllerMixin)}(),function(){var e=Ember.imports.jQuery;Ember.$=e}(),function(){if(Ember.$){var e=Ember.String.w("dragstart drag dragenter dragleave dragover drop dragend");Ember.EnumerableUtils.forEach(e,function(e){Ember.$.event.fixHooks[e]={props:["dataTransfer"]}})}}(),function(){function e(e){var t=e.shiftKey||e.metaKey||e.altKey||e.ctrlKey,n=e.which>1;return!t&&!n}var t=this.document&&function(){var e=document.createElement("div");return e.innerHTML="<div></div>",e.firstChild.innerHTML="<script></script>",""===e.firstChild.innerHTML}(),n=this.document&&function(){var e=document.createElement("div");return e.innerHTML="Test: <script type='text/x-placeholder'></script>Value","Test:"===e.childNodes[0].nodeValue&&" Value"===e.childNodes[2].nodeValue}(),i=function(e,t){if(e.getAttribute("id")===t)return e;var n,r,a,s=e.childNodes.length;for(n=0;s>n;n++)if(r=e.childNodes[n],a=1===r.nodeType&&i(r,t))return a},r=function(e,r){t&&(r="&shy;"+r);var a=[];if(n&&(r=r.replace(/(\s+)(<script id='([^']+)')/g,function(e,t,n,i){return a.push([i,t]),n})),e.innerHTML=r,a.length>0){var s,o=a.length;for(s=0;o>s;s++){var l=i(e,a[s][0]),c=document.createTextNode(a[s][1]);l.parentNode.insertBefore(c,l)}}if(t){for(var h=e.firstChild;1===h.nodeType&&!h.nodeName;)h=h.firstChild;3===h.nodeType&&"­"===h.nodeValue.charAt(0)&&(h.nodeValue=h.nodeValue.slice(1))}},a={},s=function(e){if(void 0!==a[e])return a[e];var t=!0;if("select"===e.toLowerCase()){var n=document.createElement("select");r(n,'<option value="test">Test</option>'),t=1===n.options.length}return a[e]=t,t},o=function(e,t){var n=e.tagName;if(s(n))r(e,t);else{var i=e.outerHTML||(new XMLSerializer).serializeToString(e),a=i.match(new RegExp("<"+n+"([^>]*)>","i"))[0],o="</"+n+">",l=document.createElement("div");for(r(l,a+t+o),e=l.firstChild;e.tagName!==n;)e=e.nextSibling}return e};Ember.ViewUtils={setInnerHTML:o,isSimpleClick:e}}(),function(){Ember.get,Ember.set;var e=function(){this.seen={},this.list=[]};e.prototype={add:function(e){e in this.seen||(this.seen[e]=!0,this.list.push(e))},toDOM:function(){return this.list.join(" ")}},Ember.RenderBuffer=function(e){return new Ember._RenderBuffer(e)},Ember._RenderBuffer=function(e){this.tagNames=[e||null],this.buffer=""},Ember._RenderBuffer.prototype={_element:null,_hasElement:!0,elementClasses:null,classes:null,elementId:null,elementAttributes:null,elementProperties:null,elementTag:null,elementStyle:null,parentBuffer:null,push:function(e){return this.buffer+=e,this},addClass:function(t){return this.elementClasses=this.elementClasses||new e,this.elementClasses.add(t),this.classes=this.elementClasses.list,this},setClasses:function(e){this.classes=e},id:function(e){return this.elementId=e,this},attr:function(e,t){var n=this.elementAttributes=this.elementAttributes||{};return 1===arguments.length?n[e]:(n[e]=t,this)},removeAttr:function(e){var t=this.elementAttributes;return t&&delete t[e],this},prop:function(e,t){var n=this.elementProperties=this.elementProperties||{};return 1===arguments.length?n[e]:(n[e]=t,this)},removeProp:function(e){var t=this.elementProperties;return t&&delete t[e],this},style:function(e,t){return this.elementStyle=this.elementStyle||{},this.elementStyle[e]=t,this},begin:function(e){return this.tagNames.push(e||null),this},pushOpeningTag:function(){var e=this.currentTagName();if(e){if(this._hasElement&&!this._element&&0===this.buffer.length)return this._element=this.generateElement(),void 0;var t,n,i=this.buffer,r=this.elementId,a=this.classes,s=this.elementAttributes,o=this.elementProperties,l=this.elementStyle;if(i+="<"+e,r&&(i+=' id="'+this._escapeAttribute(r)+'"',this.elementId=null),a&&(i+=' class="'+this._escapeAttribute(a.join(" "))+'"',this.classes=null),l){i+=' style="';for(n in l)l.hasOwnProperty(n)&&(i+=n+":"+this._escapeAttribute(l[n])+";");i+='"',this.elementStyle=null}if(s){for(t in s)s.hasOwnProperty(t)&&(i+=" "+t+'="'+this._escapeAttribute(s[t])+'"');this.elementAttributes=null}if(o){for(n in o)if(o.hasOwnProperty(n)){var c=o[n];(c||"number"==typeof c)&&(i+=c===!0?" "+n+'="'+n+'"':" "+n+'="'+this._escapeAttribute(o[n])+'"')}this.elementProperties=null}i+=">",this.buffer=i}},pushClosingTag:function(){var e=this.tagNames.pop();e&&(this.buffer+="</"+e+">")},currentTagName:function(){return this.tagNames[this.tagNames.length-1]},generateElement:function(){var e,t,n=this.tagNames.pop(),i=document.createElement(n),r=Ember.$(i),a=this.elementId,s=this.classes,o=this.elementAttributes,l=this.elementProperties,c=this.elementStyle,h="";if(a&&(r.attr("id",a),this.elementId=null),s&&(r.attr("class",s.join(" ")),this.classes=null),c){for(t in c)c.hasOwnProperty(t)&&(h+=t+":"+c[t]+";");r.attr("style",h),this.elementStyle=null}if(o){for(e in o)o.hasOwnProperty(e)&&r.attr(e,o[e]);this.elementAttributes=null}if(l){for(t in l)l.hasOwnProperty(t)&&r.prop(t,l[t]);this.elementProperties=null}return i},element:function(){var e=this.innerString();return e&&(this._element=Ember.ViewUtils.setInnerHTML(this._element,e)),this._element},string:function(){if(this._hasElement&&this._element){var e=this.element(),t=e.outerHTML;return"undefined"==typeof t?Ember.$("<div/>").append(e).html():t}return this.innerString()},innerString:function(){return this.buffer},_escapeAttribute:function(e){var t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n=/&(?!\w+;)|[<>"'`]/g,i=/[&<>"'`]/,r=function(e){return t[e]||"&amp;"},a=e.toString();return i.test(a)?a.replace(n,r):a}}}(),function(){var e=Ember.get,t=Ember.set;Ember.String.fmt,Ember.EventDispatcher=Ember.Object.extend({events:{touchstart:"touchStart",touchmove:"touchMove",touchend:"touchEnd",touchcancel:"touchCancel",keydown:"keyDown",keyup:"keyUp",keypress:"keyPress",mousedown:"mouseDown",mouseup:"mouseUp",contextmenu:"contextMenu",click:"click",dblclick:"doubleClick",mousemove:"mouseMove",focusin:"focusIn",focusout:"focusOut",mouseenter:"mouseEnter",mouseleave:"mouseLeave",submit:"submit",input:"input",change:"change",dragstart:"dragStart",drag:"drag",dragenter:"dragEnter",dragleave:"dragLeave",dragover:"dragOver",drop:"drop",dragend:"dragEnd"},rootElement:"body",setup:function(n,i){var r,a=e(this,"events");Ember.$.extend(a,n||{}),Ember.isNone(i)||t(this,"rootElement",i),i=Ember.$(e(this,"rootElement")),i.addClass("ember-application");for(r in a)a.hasOwnProperty(r)&&this.setupHandler(i,r,a[r])},setupHandler:function(e,t,n){var i=this;e.on(t+".ember",".ember-view",function(e,t){return Ember.handleErrors(function(){var r=Ember.View.views[this.id],a=!0,s=null;return s=i._findNearestEventManager(r,n),s&&s!==t?a=i._dispatchEvent(s,e,n,r):r?a=i._bubbleEvent(r,e,n):e.stopPropagation(),a},this)}),e.on(t+".ember","[data-ember-action]",function(e){return Ember.handleErrors(function(){var t=Ember.$(e.currentTarget).attr("data-ember-action"),i=Ember.Handlebars.ActionHelper.registeredActions[t];return i&&i.eventName===n?i.handler(e):void 0},this)})},_findNearestEventManager:function(t,n){for(var i=null;t&&(i=e(t,"eventManager"),!i||!i[n]);)t=e(t,"parentView");return i},_dispatchEvent:function(e,t,n,i){var r=!0,a=e[n];return"function"===Ember.typeOf(a)?(r=a.call(e,t,i),t.stopPropagation()):r=this._bubbleEvent(i,t,n),r},_bubbleEvent:function(e,t,n){return Ember.run(function(){return e.handleEvent(n,t)})},destroy:function(){var t=e(this,"rootElement");return Ember.$(t).off(".ember","**").removeClass("ember-application"),this._super()}})}(),function(){var e=Ember.run.queues,t=Ember.ArrayPolyfills.indexOf;e.splice(t.call(e,"actions")+1,0,"render","afterRender")}(),function(){var e=Ember.get,t=Ember.set;Ember.ControllerMixin.reopen({target:null,namespace:null,view:null,container:null,_childContainers:null,init:function(){this._super(),t(this,"_childContainers",{})},_modelDidChange:Ember.observer(function(){var n=e(this,"_childContainers");for(var i in n)n.hasOwnProperty(i)&&n[i].destroy();t(this,"_childContainers",{})},"model")})}(),function(){function e(){Ember.run.once(Ember.View,"notifyMutationListeners")}var t={},n=Ember.get,i=Ember.set,r=Ember.guidFor,a=Ember.EnumerableUtils.forEach,s=Ember.EnumerableUtils.addObject,o=Ember.computed(function(){var e=this._childViews,t=Ember.A(),i=this;return a(e,function(e){e.isVirtual?t.pushObjects(n(e,"childViews")):t.push(e)}),t.replace=function(e,t,n){if(i instanceof Ember.ContainerView)return i.replace(e,t,n);throw new Error("childViews is immutable")},t});Ember.TEMPLATES={},Ember.CoreView=Ember.Object.extend(Ember.Evented,{isView:!0,states:t,init:function(){this._super(),this.transitionTo("preRender")},parentView:Ember.computed(function(){var e=this._parentView;return e&&e.isVirtual?n(e,"parentView"):e}).property("_parentView"),state:null,_parentView:null,concreteView:Ember.computed(function(){return this.isVirtual?n(this,"parentView"):this}).property("parentView"),instrumentName:"core_view",instrumentDetails:function(e){e.object=this.toString()},renderToBuffer:function(e,t){var n="render."+this.instrumentName,i={};return this.instrumentDetails(i),Ember.instrument(n,i,function(){return this._renderToBuffer(e,t)},this)},_renderToBuffer:function(e){var t=this.tagName;(null===t||void 0===t)&&(t="div");var n=this.buffer=e&&e.begin(t)||Ember.RenderBuffer(t);return this.transitionTo("inBuffer",!1),this.beforeRender(n),this.render(n),this.afterRender(n),n},trigger:function(e){this._super.apply(this,arguments);var t=this[e];if(t){var n,i,r=[];for(n=1,i=arguments.length;i>n;n++)r.push(arguments[n]);return t.apply(this,r)}},has:function(e){return"function"===Ember.typeOf(this[e])||this._super(e)},destroy:function(){var e=this._parentView;if(this._super())return this.removedFromDOM||this.destroyElement(),e&&e.removeChild(this),this.transitionTo("destroying",!1),this},clearRenderedChildren:Ember.K,triggerRecursively:Ember.K,invokeRecursively:Ember.K,transitionTo:Ember.K,destroyElement:Ember.K});var l=Ember._ViewCollection=function(e){var t=this.views=e||[];this.length=t.length};l.prototype={length:0,trigger:function(e){for(var t,n=this.views,i=0,r=n.length;r>i;i++)t=n[i],t.trigger&&t.trigger(e)},triggerRecursively:function(e){for(var t=this.views,n=0,i=t.length;i>n;n++)t[n].triggerRecursively(e)},invokeRecursively:function(e){for(var t,n=this.views,i=0,r=n.length;r>i;i++)t=n[i],e(t)},transitionTo:function(e,t){for(var n=this.views,i=0,r=n.length;r>i;i++)n[i].transitionTo(e,t)},push:function(){this.length+=arguments.length;var e=this.views;return e.push.apply(e,arguments)},objectAt:function(e){return this.views[e]},forEach:function(e){var t=this.views;return a(t,e)},clear:function(){this.length=0,this.views.length=0}};var c=[];Ember.View=Ember.CoreView.extend({concatenatedProperties:["classNames","classNameBindings","attributeBindings"],isView:!0,templateName:null,layoutName:null,templates:Ember.TEMPLATES,template:Ember.computed(function(e,t){if(void 0!==t)return t;var i=n(this,"templateName"),r=this.templateForName(i,"template");return r||n(this,"defaultTemplate")}).property("templateName"),controller:Ember.computed(function(){var e=n(this,"_parentView");return e?n(e,"controller"):null}).property("_parentView"),layout:Ember.computed(function(){var e=n(this,"layoutName"),t=this.templateForName(e,"layout");return t||n(this,"defaultLayout")}).property("layoutName"),templateForName:function(e){if(e){var t=this.container||Ember.Container&&Ember.Container.defaultContainer;return t&&t.lookup("template:"+e)}},context:Ember.computed(function(e,t){return 2===arguments.length?(i(this,"_context",t),t):n(this,"_context")}).volatile(),_context:Ember.computed(function(){var e,t;return(t=n(this,"controller"))?t:(e=this._parentView,e?n(e,"_context"):null)}),_contextDidChange:Ember.observer(function(){this.rerender()},"context"),isVisible:!0,childViews:o,_childViews:c,_childViewsWillChange:Ember.beforeObserver(function(){if(this.isVirtual){var e=n(this,"parentView");e&&Ember.propertyWillChange(e,"childViews")}},"childViews"),_childViewsDidChange:Ember.observer(function(){if(this.isVirtual){var e=n(this,"parentView");e&&Ember.propertyDidChange(e,"childViews")}},"childViews"),nearestInstanceOf:function(e){for(var t=n(this,"parentView");t;){if(t instanceof e)return t;t=n(t,"parentView")}},nearestOfType:function(e){for(var t=n(this,"parentView"),i=e instanceof Ember.Mixin?function(t){return e.detect(t)}:function(t){return e.detect(t.constructor)};t;){if(i(t))return t;t=n(t,"parentView")}},nearestWithProperty:function(e){for(var t=n(this,"parentView");t;){if(e in t)return t;t=n(t,"parentView")}},nearestChildOf:function(e){for(var t=n(this,"parentView");t;){if(n(t,"parentView")instanceof e)return t;t=n(t,"parentView")}},_parentViewDidChange:Ember.observer(function(){this.isDestroying||(this.trigger("parentViewDidChange"),n(this,"parentView.controller")&&!n(this,"controller")&&this.notifyPropertyChange("controller"))},"_parentView"),_controllerDidChange:Ember.observer(function(){this.isDestroying||(this.rerender(),this.forEachChildView(function(e){e.propertyDidChange("controller")}))},"controller"),cloneKeywords:function(){var e=n(this,"templateData"),t=e?Ember.copy(e.keywords):{};return i(t,"view",n(this,"concreteView")),i(t,"_view",this),i(t,"controller",n(this,"controller")),t},render:function(e){var t=n(this,"layout")||n(this,"template");if(t){var i,r=n(this,"context"),a=this.cloneKeywords(),s={view:this,buffer:e,isRenderData:!0,keywords:a,insideGroup:n(this,"templateData.insideGroup")};i=t(r,{data:s}),void 0!==i&&e.push(i)}},rerender:function(){return this.currentState.rerender(this)},clearRenderedChildren:function(){for(var e=this.lengthBeforeRender,t=this.lengthAfterRender,n=this._childViews,i=t-1;i>=e;i--)n[i]&&n[i].destroy()},_applyClassNameBindings:function(e){var t,n,i,r=this.classNames;a(e,function(e){var a,o=Ember.View._parsePropertyPath(e),l=function(){n=this._classStringForProperty(e),t=this.$(),a&&(t.removeClass(a),r.removeObject(a)),n?(t.addClass(n),a=n):a=null};i=this._classStringForProperty(e),i&&(s(r,i),a=i),this.registerObserver(this,o.path,l),this.one("willClearRender",function(){a&&(r.removeObject(a),a=null)})},this)},_applyAttributeBindings:function(e,t){var i,r;a(t,function(t){var a=t.split(":"),s=a[0],o=a[1]||s,l=function(){r=this.$(),i=n(this,s),Ember.View.applyAttributeBindings(r,o,i)};this.registerObserver(this,s,l),i=n(this,s),Ember.View.applyAttributeBindings(e,o,i)},this)},_classStringForProperty:function(e){var t=Ember.View._parsePropertyPath(e),i=t.path,r=n(this,i);return void 0===r&&Ember.isGlobalPath(i)&&(r=n(Ember.lookup,i)),Ember.View._classStringForValue(i,r,t.className,t.falsyClassName)},element:Ember.computed(function(e,t){return void 0!==t?this.currentState.setElement(this,t):this.currentState.getElement(this)}).property("_parentView"),$:function(e){return this.currentState.$(this,e)},mutateChildViews:function(e){for(var t,n=this._childViews,i=n.length;--i>=0;)t=n[i],e(this,t,i);return this},forEachChildView:function(e){var t=this._childViews;if(!t)return this;var n,i,r=t.length;for(i=0;r>i;i++)n=t[i],e(n);return this},appendTo:function(e){return this._insertElementLater(function(){this.$().appendTo(e)}),this},replaceIn:function(e){return this._insertElementLater(function(){Ember.$(e).empty(),this.$().appendTo(e)}),this},_insertElementLater:function(e){this._scheduledInsert=Ember.run.scheduleOnce("render",this,"_insertElement",e)},_insertElement:function(e){this._scheduledInsert=null,this.currentState.insertElement(this,e)},append:function(){return this.appendTo(document.body)},remove:function(){this.removedFromDOM||this.destroyElement(),this.invokeRecursively(function(e){e.clearRenderedChildren&&e.clearRenderedChildren()})},elementId:null,findElementInParentElement:function(e){var t="#"+this.elementId;return Ember.$(t)[0]||Ember.$(t,e)[0]},createElement:function(){if(n(this,"element"))return this;var e=this.renderToBuffer();return i(this,"element",e.element()),this},willInsertElement:Ember.K,didInsertElement:Ember.K,willClearRender:Ember.K,invokeRecursively:function(e,t){for(var n,i,r=t===!1?this._childViews:[this];r.length;){n=r.slice(),r=[];for(var a=0,s=n.length;s>a;a++)i=n[a],e(i),i._childViews&&r.push.apply(r,i._childViews)}},triggerRecursively:function(e){for(var t,n,i=[this];i.length;){t=i.slice(),i=[];for(var r=0,a=t.length;a>r;r++)n=t[r],n.trigger&&n.trigger(e),n._childViews&&i.push.apply(i,n._childViews)}},viewHierarchyCollection:function(){for(var e,t=new l([this]),n=0;n<t.length;n++)e=t.objectAt(n),e._childViews&&t.push.apply(t,e._childViews);return t},destroyElement:function(){return this.currentState.destroyElement(this)},willDestroyElement:function(){},_notifyWillDestroyElement:function(){var e=this.viewHierarchyCollection();return e.trigger("willClearRender"),e.trigger("willDestroyElement"),e},_elementWillChange:Ember.beforeObserver(function(){this.forEachChildView(function(e){Ember.propertyWillChange(e,"element")})},"element"),_elementDidChange:Ember.observer(function(){this.forEachChildView(function(e){Ember.propertyDidChange(e,"element")})},"element"),parentViewDidChange:Ember.K,instrumentName:"view",instrumentDetails:function(e){e.template=n(this,"templateName"),this._super(e)},_renderToBuffer:function(e,t){this.lengthBeforeRender=this._childViews.length;var n=this._super(e,t);return this.lengthAfterRender=this._childViews.length,n},renderToBufferIfNeeded:function(e){return this.currentState.renderToBufferIfNeeded(this,e)},beforeRender:function(e){this.applyAttributesToBuffer(e),e.pushOpeningTag()},afterRender:function(e){e.pushClosingTag()},applyAttributesToBuffer:function(e){var t=n(this,"classNameBindings");t.length&&this._applyClassNameBindings(t);var i=n(this,"attributeBindings");i.length&&this._applyAttributeBindings(e,i),e.setClasses(this.classNames),e.id(this.elementId);var r=n(this,"ariaRole");r&&e.attr("role",r),n(this,"isVisible")===!1&&e.style("display","none")},tagName:null,ariaRole:null,classNames:["ember-view"],classNameBindings:c,attributeBindings:c,init:function(){this.elementId=this.elementId||r(this),this._super(),this._childViews=this._childViews.slice(),this.classNameBindings=Ember.A(this.classNameBindings.slice()),this.classNames=Ember.A(this.classNames.slice());var e=n(this,"viewController");e&&(e=n(e),e&&i(e,"view",this))},appendChild:function(e,t){return this.currentState.appendChild(this,e,t)},removeChild:function(e){if(!this.isDestroying){i(e,"_parentView",null);var t=this._childViews;return Ember.EnumerableUtils.removeObject(t,e),this.propertyDidChange("childViews"),this}},removeAllChildren:function(){return this.mutateChildViews(function(e,t){e.removeChild(t)})},destroyAllChildren:function(){return this.mutateChildViews(function(e,t){t.destroy()})},removeFromParent:function(){var e=this._parentView;return this.remove(),e&&e.removeChild(this),this},destroy:function(){var e,t,i=this._childViews,r=n(this,"parentView"),a=this.viewName;if(this._super()){for(e=i.length,t=e-1;t>=0;t--)i[t].removedFromDOM=!0;for(a&&r&&r.set(a,null),e=i.length,t=e-1;t>=0;t--)i[t].destroy();return this}},createChildView:function(e,t){return e.isView&&e._parentView===this&&e.container===this.container?e:(t=t||{},t._parentView=this,t.container=this.container,Ember.CoreView.detect(e)?(t.templateData=t.templateData||n(this,"templateData"),e=e.create(t),e.viewName&&i(n(this,"concreteView"),e.viewName,e)):(Ember.setProperties(e,t),n(e,"templateData")||i(e,"templateData",n(this,"templateData"))),e)},becameVisible:Ember.K,becameHidden:Ember.K,_isVisibleDidChange:Ember.observer(function(){var e=this.$();if(e){var t=n(this,"isVisible");e.toggle(t),this._isAncestorHidden()||(t?this._notifyBecameVisible():this._notifyBecameHidden())}},"isVisible"),_notifyBecameVisible:function(){this.trigger("becameVisible"),this.forEachChildView(function(e){var t=n(e,"isVisible");(t||null===t)&&e._notifyBecameVisible()})},_notifyBecameHidden:function(){this.trigger("becameHidden"),this.forEachChildView(function(e){var t=n(e,"isVisible");(t||null===t)&&e._notifyBecameHidden()})},_isAncestorHidden:function(){for(var e=n(this,"parentView");e;){if(n(e,"isVisible")===!1)return!0;e=n(e,"parentView")}return!1},clearBuffer:function(){this.invokeRecursively(function(e){e.buffer=null})},transitionTo:function(e,t){var n=this.currentState,i=this.currentState=this.states[e];this.state=e,n&&n.exit&&n.exit(this),i.enter&&i.enter(this),t!==!1&&this.forEachChildView(function(t){t.transitionTo(e)})},handleEvent:function(e,t){return this.currentState.handleEvent(this,e,t)},registerObserver:function(e,t,n,i){i||"function"!=typeof n||(i=n,n=null);var r=this,a=function(){r.currentState.invokeObserver(this,i)},s=function(){Ember.run.scheduleOnce("render",this,a)};Ember.addObserver(e,t,n,s),this.one("willClearRender",function(){Ember.removeObserver(e,t,n,s)})}});var h={prepend:function(t,n){t.$().prepend(n),e()},after:function(t,n){t.$().after(n),e()},html:function(t,n){t.$().html(n),e()},replace:function(t){var r=n(t,"element");i(t,"element",null),t._insertElementLater(function(){Ember.$(r).replaceWith(n(t,"element")),e()})},remove:function(t){t.$().remove(),e()},empty:function(t){t.$().empty(),e()}};Ember.View.reopen({domManager:h}),Ember.View.reopenClass({_parsePropertyPath:function(e){var t,n,i=e.split(":"),r=i[0],a="";return i.length>1&&(t=i[1],3===i.length&&(n=i[2]),a=":"+t,n&&(a+=":"+n)),{path:r,classNames:a,className:""===t?void 0:t,falsyClassName:n}},_classStringForValue:function(e,t,n,i){if(n||i)return n&&t?n:i&&!t?i:null;if(t===!0){var r=e.split(".");return Ember.String.dasherize(r[r.length-1])}return t!==!1&&null!=t?t:null}});var u=Ember.Object.extend(Ember.Evented).create();Ember.View.addMutationListener=function(e){u.on("change",e)},Ember.View.removeMutationListener=function(e){u.off("change",e)},Ember.View.notifyMutationListeners=function(){u.trigger("change")},Ember.View.views={},Ember.View.childViewsProperty=o,Ember.View.applyAttributeBindings=function(e,t,n){var i=Ember.typeOf(n);"value"===t||"string"!==i&&("number"!==i||isNaN(n))?"value"===t||"boolean"===i?(n||(n=""),n!==e.prop(t)&&e.prop(t,n)):n||e.removeAttr(t):n!==e.attr(t)&&e.attr(t,n)},Ember.View.states=t}(),function(){var e=(Ember.get,Ember.set);Ember.View.states._default={appendChild:function(){throw"You can't use appendChild outside of the rendering process"},$:function(){return void 0},getElement:function(){return null},handleEvent:function(){return!0},destroyElement:function(t){return e(t,"element",null),t._scheduledInsert&&(Ember.run.cancel(t._scheduledInsert),t._scheduledInsert=null),t},renderToBufferIfNeeded:function(){return!1},rerender:Ember.K,invokeObserver:Ember.K}}(),function(){var e=Ember.View.states.preRender=Ember.create(Ember.View.states._default);Ember.merge(e,{insertElement:function(e,t){e.createElement();var n=e.viewHierarchyCollection();n.trigger("willInsertElement"),t.call(e),n.transitionTo("inDOM",!1),n.trigger("didInsertElement")},renderToBufferIfNeeded:function(e,t){return e.renderToBuffer(t),!0},empty:Ember.K,setElement:function(e,t){return null!==t&&e.transitionTo("hasElement"),t}})}(),function(){Ember.get,Ember.set;var e=Ember.View.states.inBuffer=Ember.create(Ember.View.states._default);Ember.merge(e,{$:function(e){return e.rerender(),Ember.$()},rerender:function(){throw new Ember.Error("Something you did caused a view to re-render after it rendered but before it was inserted into the DOM.")},appendChild:function(e,t,n){var i=e.buffer,r=e._childViews;return t=e.createChildView(t,n),r.length||(r=e._childViews=r.slice()),r.push(t),t.renderToBuffer(i),e.propertyDidChange("childViews"),t},destroyElement:function(e){e.clearBuffer();var t=e._notifyWillDestroyElement();return t.transitionTo("preRender",!1),e},empty:function(){},renderToBufferIfNeeded:function(){return!1},insertElement:function(){throw"You can't insert an element that has already been rendered"},setElement:function(e,t){return null===t?e.transitionTo("preRender"):(e.clearBuffer(),e.transitionTo("hasElement")),t},invokeObserver:function(e,t){t.call(e)}})}(),function(){var e=Ember.get,t=Ember.set,n=Ember.View.states.hasElement=Ember.create(Ember.View.states._default);Ember.merge(n,{$:function(t,n){var i=e(t,"element");return n?Ember.$(n,i):Ember.$(i)},getElement:function(t){var n=e(t,"parentView");return n&&(n=e(n,"element")),n?t.findElementInParentElement(n):Ember.$("#"+e(t,"elementId"))[0]},setElement:function(e,t){if(null!==t)throw"You cannot set an element to a non-null value when the element is already in the DOM.";return e.transitionTo("preRender"),t},rerender:function(e){return e.triggerRecursively("willClearRender"),e.clearRenderedChildren(),e.domManager.replace(e),e},destroyElement:function(e){return e._notifyWillDestroyElement(),e.domManager.remove(e),t(e,"element",null),e._scheduledInsert&&(Ember.run.cancel(e._scheduledInsert),e._scheduledInsert=null),e},empty:function(e){var t,n,i=e._childViews;if(i)for(t=i.length,n=0;t>n;n++)i[n]._notifyWillDestroyElement();e.domManager.empty(e)},handleEvent:function(e,t,n){return e.has(t)?e.trigger(t,n):!0},invokeObserver:function(e,t){t.call(e)}});var i=Ember.View.states.inDOM=Ember.create(n);Ember.merge(i,{enter:function(e){e.isVirtual||(Ember.View.views[e.elementId]=e),e.addBeforeObserver("elementId",function(){throw new Error("Changing a view's elementId after creation is not allowed")})},exit:function(e){this.isVirtual||delete Ember.View.views[e.elementId]},insertElement:function(){throw"You can't insert an element into the DOM that has already been inserted"}})}(),function(){var e="You can't call %@ on a view being destroyed",t=Ember.String.fmt,n=Ember.View.states.destroying=Ember.create(Ember.View.states._default);Ember.merge(n,{appendChild:function(){throw t(e,["appendChild"])},rerender:function(){throw t(e,["rerender"])},destroyElement:function(){throw t(e,["destroyElement"])},empty:function(){throw t(e,["empty"])},setElement:function(){throw t(e,["set('element', ...)"])},renderToBufferIfNeeded:function(){return!1},insertElement:Ember.K})}(),function(){Ember.View.cloneStates=function(e){var t={};t._default={},t.preRender=Ember.create(t._default),t.destroying=Ember.create(t._default),t.inBuffer=Ember.create(t._default),t.hasElement=Ember.create(t._default),t.inDOM=Ember.create(t.hasElement);for(var n in e)e.hasOwnProperty(n)&&Ember.merge(t[n],e[n]);return t}}(),function(){function e(e,t,n,i){t.triggerRecursively("willInsertElement"),n?n.domManager.after(n,i.string()):e.domManager.prepend(e,i.string()),t.forEach(function(e){e.transitionTo("inDOM"),e.propertyDidChange("element"),e.triggerRecursively("didInsertElement")})}var t=Ember.View.cloneStates(Ember.View.states),n=Ember.get,i=Ember.set,r=Ember.EnumerableUtils.forEach,a=Ember._ViewCollection;Ember.ContainerView=Ember.View.extend(Ember.MutableArray,{states:t,init:function(){this._super();var e=n(this,"childViews");Ember.defineProperty(this,"childViews",Ember.View.childViewsProperty);var t=this._childViews;r(e,function(e,r){var a;"string"==typeof e?(a=n(this,e),a=this.createChildView(a),i(this,e,a)):a=this.createChildView(e),t[r]=a},this);var a=n(this,"currentView");a&&(t.length||(t=this._childViews=this._childViews.slice()),t.push(this.createChildView(a)))},replace:function(e,t,i){var r=i?n(i,"length"):0;if(this.arrayContentWillChange(e,t,r),this.childViewsWillChange(this._childViews,e,t),0===r)this._childViews.splice(e,t);else{var a=[e,t].concat(i);i.length&&!this._childViews.length&&(this._childViews=this._childViews.slice()),this._childViews.splice.apply(this._childViews,a)}return this.arrayContentDidChange(e,t,r),this.childViewsDidChange(this._childViews,e,t,r),this},objectAt:function(e){return this._childViews[e]},length:Ember.computed(function(){return this._childViews.length}),render:function(e){this.forEachChildView(function(t){t.renderToBuffer(e)})},instrumentName:"container",childViewsWillChange:function(e,t,n){if(this.propertyWillChange("childViews"),n>0){var i=e.slice(t,t+n);this.currentState.childViewsWillChange(this,e,t,n),this.initializeViews(i,null,null)}},removeChild:function(e){return this.removeObject(e),this},childViewsDidChange:function(e,t,i,r){if(r>0){var a=e.slice(t,t+r);this.initializeViews(a,this,n(this,"templateData")),this.currentState.childViewsDidChange(this,e,t,r)}this.propertyDidChange("childViews")},initializeViews:function(e,t,a){r(e,function(e){i(e,"_parentView",t),i(e,"container",t&&t.container),n(e,"templateData")||i(e,"templateData",a)})},currentView:null,_currentViewWillChange:Ember.beforeObserver(function(){var e=n(this,"currentView");e&&e.destroy()},"currentView"),_currentViewDidChange:Ember.observer(function(){var e=n(this,"currentView");e&&this.pushObject(e)},"currentView"),_ensureChildrenAreInDOM:function(){this.currentState.ensureChildrenAreInDOM(this)}}),Ember.merge(t._default,{childViewsWillChange:Ember.K,childViewsDidChange:Ember.K,ensureChildrenAreInDOM:Ember.K}),Ember.merge(t.inBuffer,{childViewsDidChange:function(){throw new Error("You cannot modify child views while in the inBuffer state")}}),Ember.merge(t.hasElement,{childViewsWillChange:function(e,t,n,i){for(var r=n;n+i>r;r++)t[r].remove()},childViewsDidChange:function(e){Ember.run.scheduleOnce("render",e,"_ensureChildrenAreInDOM")},ensureChildrenAreInDOM:function(t){var n,i,r,s,o,l=t._childViews,c=new a;for(n=0,i=l.length;i>n;n++)r=l[n],o||(o=Ember.RenderBuffer(),o._hasElement=!1),r.renderToBufferIfNeeded(o)?c.push(r):c.length?(e(t,c,s,o),o=null,s=r,c.clear()):s=r;c.length&&e(t,c,s,o)}})}(),function(){var e=Ember.get,t=Ember.set;Ember.String.fmt,Ember.CollectionView=Ember.ContainerView.extend({content:null,emptyViewClass:Ember.View,emptyView:null,itemViewClass:Ember.View,init:function(){var e=this._super();return this._contentDidChange(),e},_contentWillChange:Ember.beforeObserver(function(){var t=this.get("content");t&&t.removeArrayObserver(this);var n=t?e(t,"length"):0;this.arrayWillChange(t,0,n)},"content"),_contentDidChange:Ember.observer(function(){var t=e(this,"content");t&&t.addArrayObserver(this);var n=t?e(t,"length"):0;this.arrayDidChange(t,0,null,n)},"content"),destroy:function(){if(this._super()){var t=e(this,"content");return t&&t.removeArrayObserver(this),this._createdEmptyView&&this._createdEmptyView.destroy(),this}},arrayWillChange:function(t,n,i){var r=e(this,"emptyView");r&&r instanceof Ember.View&&r.removeFromParent();var a,s,o,l=this._childViews;o=this._childViews.length;var c=i===o;for(c&&(this.currentState.empty(this),this.invokeRecursively(function(e){e.removedFromDOM=!0},!1)),s=n+i-1;s>=n;s--)a=l[s],a.destroy()},arrayDidChange:function(n,i,r,a){var s,o,l,c,h=e(this,"itemViewClass"),u=[];if("string"==typeof h&&(h=e(h)),c=n?e(n,"length"):0)for(l=i;i+a>l;l++)o=n.objectAt(l),s=this.createChildView(h,{content:o,contentIndex:l}),u.push(s);else{var d=e(this,"emptyView");if(!d)return;var p=Ember.CoreView.detect(d);d=this.createChildView(d),u.push(d),t(this,"emptyView",d),p&&(this._createdEmptyView=d)
}this.replace(i,0,u)},createChildView:function(n,i){n=this._super(n,i);var r=e(n,"tagName"),a=null===r||void 0===r?Ember.CollectionView.CONTAINER_MAP[e(this,"tagName")]:r;return t(n,"tagName",a),n}}),Ember.CollectionView.CONTAINER_MAP={ul:"li",ol:"li",table:"tr",thead:"tr",tbody:"tr",tfoot:"tr",tr:"td",select:"option"}}(),function(){Ember.Component=Ember.View.extend({init:function(){this._super(),this.set("context",this),this.set("controller",this)}})}(),function(){Ember.ViewTargetActionSupport=Ember.Mixin.create(Ember.TargetActionSupport,{target:Ember.computed.alias("controller"),actionContext:Ember.computed.alias("context")})}(),function(){e("metamorph",[],function(){"use strict";// Copyright: ©2011 My Company Inc. All rights reserved.
var e=function(){},t=0,n=this.document,i=n&&"createRange"in n&&"undefined"!=typeof Range&&Range.prototype.createContextualFragment,r=n&&function(){var e=n.createElement("div");return e.innerHTML="<div></div>",e.firstChild.innerHTML="<script></script>",""===e.firstChild.innerHTML}(),a=n&&function(){var e=n.createElement("div");return e.innerHTML="Test: <script type='text/x-placeholder'></script>Value","Test:"===e.childNodes[0].nodeValue&&" Value"===e.childNodes[2].nodeValue}(),s=function(n){var i;i=this instanceof s?this:new e,i.innerHTML=n;var r="metamorph-"+t++;return i.start=r+"-start",i.end=r+"-end",i};e.prototype=s.prototype;var o,l,c,h,u,d,p,f,g;if(h=function(){return this.startTag()+this.innerHTML+this.endTag()},f=function(){return"<script id='"+this.start+"' type='text/x-placeholder'></script>"},g=function(){return"<script id='"+this.end+"' type='text/x-placeholder'></script>"},i)o=function(e,t){var i=n.createRange(),r=n.getElementById(e.start),a=n.getElementById(e.end);return t?(i.setStartBefore(r),i.setEndAfter(a)):(i.setStartAfter(r),i.setEndBefore(a)),i},l=function(e,t){var n=o(this,t);n.deleteContents();var i=n.createContextualFragment(e);n.insertNode(i)},c=function(){var e=o(this,!0);e.deleteContents()},u=function(e){var t=n.createRange();t.setStart(e),t.collapse(!1);var i=t.createContextualFragment(this.outerHTML());e.appendChild(i)},d=function(e){var t=n.createRange(),i=n.getElementById(this.end);t.setStartAfter(i),t.setEndAfter(i);var r=t.createContextualFragment(e);t.insertNode(r)},p=function(e){var t=n.createRange(),i=n.getElementById(this.start);t.setStartAfter(i),t.setEndAfter(i);var r=t.createContextualFragment(e);t.insertNode(r)};else{var m={select:[1,"<select multiple='multiple'>","</select>"],fieldset:[1,"<fieldset>","</fieldset>"],table:[1,"<table>","</table>"],tbody:[2,"<table><tbody>","</tbody></table>"],tr:[3,"<table><tbody><tr>","</tr></tbody></table>"],colgroup:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],map:[1,"<map>","</map>"],_default:[0,"",""]},v=function(e,t){if(e.getAttribute("id")===t)return e;var n,i,r,a=e.childNodes.length;for(n=0;a>n;n++)if(i=e.childNodes[n],r=1===i.nodeType&&v(i,t))return r},b=function(e,t){var i=[];if(a&&(t=t.replace(/(\s+)(<script id='([^']+)')/g,function(e,t,n,r){return i.push([r,t]),n})),e.innerHTML=t,i.length>0){var r,s=i.length;for(r=0;s>r;r++){var o=v(e,i[r][0]),l=n.createTextNode(i[r][1]);o.parentNode.insertBefore(l,o)}}},y=function(e,t){var i=m[e.tagName.toLowerCase()]||m._default,a=i[0],s=i[1],o=i[2];r&&(t="&shy;"+t);var l=n.createElement("div");b(l,s+t+o);for(var c=0;a>=c;c++)l=l.firstChild;if(r){for(var h=l;1===h.nodeType&&!h.nodeName;)h=h.firstChild;3===h.nodeType&&"­"===h.nodeValue.charAt(0)&&(h.nodeValue=h.nodeValue.slice(1))}return l},x=function(e){for(;""===e.parentNode.tagName;)e=e.parentNode;return e},w=function(e,t){e.parentNode!==t.parentNode&&t.parentNode.insertBefore(e,t.parentNode.firstChild)};l=function(e,t){var i,r,a,s=x(n.getElementById(this.start)),o=n.getElementById(this.end),l=o.parentNode;for(w(s,o),i=s.nextSibling;i;){if(r=i.nextSibling,a=i===o){if(!t)break;o=i.nextSibling}if(i.parentNode.removeChild(i),a)break;i=r}for(i=y(s.parentNode,e);i;)r=i.nextSibling,l.insertBefore(i,o),i=r},c=function(){var e=x(n.getElementById(this.start)),t=n.getElementById(this.end);this.html(""),e.parentNode.removeChild(e),t.parentNode.removeChild(t)},u=function(e){for(var t,n=y(e,this.outerHTML());n;)t=n.nextSibling,e.appendChild(n),n=t},d=function(e){var t,i,r=n.getElementById(this.end),a=r.nextSibling,s=r.parentNode;for(i=y(s,e);i;)t=i.nextSibling,s.insertBefore(i,a),i=t},p=function(e){var t,i,r=n.getElementById(this.start),a=r.parentNode;i=y(a,e);for(var s=r.nextSibling;i;)t=i.nextSibling,a.insertBefore(i,s),i=t}}return s.prototype.html=function(e){return this.checkRemoved(),void 0===e?this.innerHTML:(l.call(this,e),this.innerHTML=e,void 0)},s.prototype.replaceWith=function(e){this.checkRemoved(),l.call(this,e,!0)},s.prototype.remove=c,s.prototype.outerHTML=h,s.prototype.appendTo=u,s.prototype.after=d,s.prototype.prepend=p,s.prototype.startTag=f,s.prototype.endTag=g,s.prototype.isRemoved=function(){var e=n.getElementById(this.start),t=n.getElementById(this.end);return!e||!t},s.prototype.checkRemoved=function(){if(this.isRemoved())throw new Error("Cannot perform operations on a Metamorph that is not in the DOM.")},s})}(),function(){function e(e){var t=e.hash,n=e.hashTypes;for(var i in t)"ID"===n[i]&&(t[i+"Binding"]=t[i],n[i+"Binding"]="STRING",delete t[i],delete n[i])}var t=Object.create||function(e){function t(){}return t.prototype=e,new t},n=this.Handlebars||Ember.imports&&Ember.imports.Handlebars;n||"function"!=typeof require||(n=require("handlebars")),Ember.Handlebars=t(n),Ember.Handlebars.helper=function(t,n){if(Ember.Component.detect(n)){var i=n.proto();i.layoutName||i.templateName||n.reopen({layoutName:"components/"+t})}Ember.View.detect(n)?Ember.Handlebars.registerHelper(t,function(t){return e(t),Ember.Handlebars.helpers.view.call(this,n,t)}):Ember.Handlebars.registerBoundHelper.apply(null,arguments)},Ember.Handlebars.helpers=t(n.helpers),Ember.Handlebars.Compiler=function(){},n.Compiler&&(Ember.Handlebars.Compiler.prototype=t(n.Compiler.prototype)),Ember.Handlebars.Compiler.prototype.compiler=Ember.Handlebars.Compiler,Ember.Handlebars.JavaScriptCompiler=function(){},n.JavaScriptCompiler&&(Ember.Handlebars.JavaScriptCompiler.prototype=t(n.JavaScriptCompiler.prototype),Ember.Handlebars.JavaScriptCompiler.prototype.compiler=Ember.Handlebars.JavaScriptCompiler),Ember.Handlebars.JavaScriptCompiler.prototype.namespace="Ember.Handlebars",Ember.Handlebars.JavaScriptCompiler.prototype.initializeBuffer=function(){return"''"},Ember.Handlebars.JavaScriptCompiler.prototype.appendToBuffer=function(e){return"data.buffer.push("+e+");"};var i="ember"+ +new Date,r=1;Ember.Handlebars.Compiler.prototype.mustache=function(e){if(e.isHelper&&"control"===e.id.string)e.hash=e.hash||new n.AST.HashNode([]),e.hash.pairs.push(["controlID",new n.AST.StringNode(i+r++)]);else if(e.params.length||e.hash);else{var t=new n.AST.IdNode(["_triageMustache"]);e.escaped||(e.hash=e.hash||new n.AST.HashNode([]),e.hash.pairs.push(["unescaped",new n.AST.StringNode("true")])),e=new n.AST.MustacheNode([t].concat([e.id]),e.hash,!e.escaped)}return n.Compiler.prototype.mustache.call(this,e)},Ember.Handlebars.precompile=function(e){var t=n.parse(e),i={knownHelpers:{action:!0,unbound:!0,bindAttr:!0,template:!0,view:!0,_triageMustache:!0},data:!0,stringParams:!0},r=(new Ember.Handlebars.Compiler).compile(t,i);return(new Ember.Handlebars.JavaScriptCompiler).compile(r,i,void 0,!0)},n.compile&&(Ember.Handlebars.compile=function(e){var t=n.parse(e),i={data:!0,stringParams:!0},r=(new Ember.Handlebars.Compiler).compile(t,i),a=(new Ember.Handlebars.JavaScriptCompiler).compile(r,i,void 0,!0);return Ember.Handlebars.template(a)})}(),function(){function e(e,t,n,r){var a,s,o,l,c,h,u=n.length,d=r.data,p=d.view,f=r.hash,g=f.boundOptions;o=new Ember._SimpleHandlebarsView(null,null,!f.unescaped,d),o.normalizedValue=function(){var a,s=[];for(a in g)g.hasOwnProperty(a)&&(c=i(e,g[a],d),o.path=c.path,o.pathRoot=c.root,f[a]=Ember._SimpleHandlebarsView.prototype.normalizedValue.call(o));for(l=0;u>l;++l)c=n[l],o.path=c.path,o.pathRoot=c.root,s.push(Ember._SimpleHandlebarsView.prototype.normalizedValue.call(o));return s.push(r),t.apply(e,s)},p.appendChild(o),a=[];for(s in g)g.hasOwnProperty(s)&&a.push(i(e,g[s],d));for(a=a.concat(n),l=0,h=a.length;h>l;++l)c=a[l],p.registerObserver(c.root,c.path,o,o.rerender)}function t(e,t,n,i){var r,a,s,o,l=[],c=i.hash,h=c.boundOptions;for(o in h)h.hasOwnProperty(o)&&(c[o]=Ember.Handlebars.get(e,h[o],i));for(r=0,a=n.length;a>r;++r)s=n[r],l.push(Ember.Handlebars.get(e,s.path,i));return l.push(i),t.apply(e,l)}var n=Array.prototype.slice,i=Ember.Handlebars.normalizePath=function(e,t,n){var i,r,a=n&&n.keywords||{};return i=t.split(".",1)[0],a.hasOwnProperty(i)&&(e=a[i],r=!0,t=t===i?"":t.substr(i.length+1)),{root:e,path:t,isKeyword:r}},r=Ember.Handlebars.get=function(e,t,n){var r,a=n&&n.data,s=i(e,t,a);return e=s.root,t=s.path,r=Ember.get(e,t),void 0===r&&e!==Ember.lookup&&Ember.isGlobalPath(t)&&(r=Ember.get(Ember.lookup,t)),r};Ember.Handlebars.getPath=Ember.deprecateFunc("`Ember.Handlebars.getPath` has been changed to `Ember.Handlebars.get` for consistency.",Ember.Handlebars.get),Ember.Handlebars.resolveParams=function(e,t,n){for(var i,a,s=[],o=n.types,l=0,c=t.length;c>l;l++)i=t[l],a=o[l],"ID"===a?s.push(r(e,i,n)):s.push(i);return s},Ember.Handlebars.resolveHash=function(e,t,n){var i,a={},s=n.hashTypes;for(var o in t)t.hasOwnProperty(o)&&(i=s[o],a[o]="ID"===i?r(e,t[o],n):t[o]);return a},Ember.Handlebars.registerHelper("helperMissing",function(e,t){var n,i="";throw n="%@ Handlebars error: Could not find property '%@' on object %@.",t.data&&(i=t.data.view),new Ember.Error(Ember.String.fmt(n,[i,e,this]))}),Ember.Handlebars.registerBoundHelper=function(r,a){function s(){var r,s,l,c,h,u=n.call(arguments,0,-1),d=u.length,p=arguments[arguments.length-1],f=[],g=p.data,m=p.hash,v=g.view,b=p.contexts&&p.contexts[0]||this;m.boundOptions={};for(h in m)m.hasOwnProperty(h)&&Ember.IS_BINDING.test(h)&&"string"==typeof m[h]&&(m.boundOptions[h.slice(0,-7)]=m[h]);for(g.properties=[],c=0;d>c;++c)g.properties.push(u[c]),f.push(i(b,u[c],g));if(g.isUnbound)return t(this,a,f,p);if(0===o.length)return e(b,a,f,p);r=f[0],s=r.root,l=r.path;var y=new Ember._SimpleHandlebarsView(l,s,!p.hash.unescaped,p.data);y.normalizedValue=function(){var e=Ember._SimpleHandlebarsView.prototype.normalizedValue.call(y);return a.call(v,e,p)},v.appendChild(y),v.registerObserver(s,l,y,y.rerender);for(var x=0,w=o.length;w>x;x++)v.registerObserver(s,l+"."+o[x],y,y.rerender)}var o=n.call(arguments,2);s._rawFunction=a,Ember.Handlebars.registerHelper(r,s)},Ember.Handlebars.template=function(e){var t=Handlebars.template(e);return t.isTop=!0,t}}(),function(){Ember.String.htmlSafe=function(e){return new Handlebars.SafeString(e)};var e=Ember.String.htmlSafe;(Ember.EXTEND_PROTOTYPES===!0||Ember.EXTEND_PROTOTYPES.String)&&(String.prototype.htmlSafe=function(){return e(this)})}(),function(){Ember.Handlebars.resolvePaths=function(e){for(var t=[],n=e.contexts,i=e.roots,r=e.data,a=0,s=n.length;s>a;a++)t.push(Ember.Handlebars.get(i[a],n[a],{data:r}));return t}}(),function(){function e(){Ember.run.once(Ember.View,"notifyMutationListeners")}Ember.set,Ember.get;var n=t("metamorph"),i={remove:function(t){t.morph.remove(),e()},prepend:function(t,n){t.morph.prepend(n),e()},after:function(t,n){t.morph.after(n),e()},html:function(t,n){t.morph.html(n),e()},replace:function(t){var n=t.morph;t.transitionTo("preRender"),Ember.run.schedule("render",this,function(){if(!t.isDestroying){t.clearRenderedChildren();var i=t.renderToBuffer();t.invokeRecursively(function(e){e.propertyWillChange("element")}),t.triggerRecursively("willInsertElement"),n.replaceWith(i.string()),t.transitionTo("inDOM"),t.invokeRecursively(function(e){e.propertyDidChange("element")}),t.triggerRecursively("didInsertElement"),e()}})},empty:function(t){t.morph.html(""),e()}};Ember._Metamorph=Ember.Mixin.create({isVirtual:!0,tagName:"",instrumentName:"metamorph",init:function(){this._super(),this.morph=n()},beforeRender:function(e){e.push(this.morph.startTag()),e.pushOpeningTag()},afterRender:function(e){e.pushClosingTag(),e.push(this.morph.endTag())},createElement:function(){var e=this.renderToBuffer();this.outerHTML=e.string(),this.clearBuffer()},domManager:i}),Ember._MetamorphView=Ember.View.extend(Ember._Metamorph),Ember._SimpleMetamorphView=Ember.CoreView.extend(Ember._Metamorph)}(),function(){function e(e,t,n,i){this.path=e,this.pathRoot=t,this.isEscaped=n,this.templateData=i,this.morph=a(),this.state="preRender",this.updateId=null}var n=Ember.get,i=Ember.set,r=Ember.Handlebars.get,a=t("metamorph");Ember._SimpleHandlebarsView=e,e.prototype={isVirtual:!0,isView:!0,destroy:function(){this.updateId&&(Ember.run.cancel(this.updateId),this.updateId=null),this.morph=null},propertyWillChange:Ember.K,propertyDidChange:Ember.K,normalizedValue:function(){var e,t,n=this.path,i=this.pathRoot;return""===n?e=i:(t=this.templateData,e=r(i,n,{data:t})),e},renderToBuffer:function(e){var t="";t+=this.morph.startTag(),t+=this.render(),t+=this.morph.endTag(),e.push(t)},render:function(){var e=this.isEscaped,t=this.normalizedValue();return null===t||void 0===t?t="":t instanceof Handlebars.SafeString||(t=String(t)),e&&(t=Handlebars.Utils.escapeExpression(t)),t},rerender:function(){switch(this.state){case"preRender":case"destroying":break;case"inBuffer":throw new Ember.Error("Something you did tried to replace an {{expression}} before it was inserted into the DOM.");case"hasElement":case"inDOM":this.updateId=Ember.run.scheduleOnce("render",this,"update")}return this},update:function(){this.updateId=null,this.morph.html(this.render())},transitionTo:function(e){this.state=e}};var s=Ember.View.cloneStates(Ember.View.states),o=Ember.merge;o(s._default,{rerenderIfNeeded:Ember.K}),o(s.inDOM,{rerenderIfNeeded:function(e){e.normalizedValue()!==e._lastNormalizedValue&&e.rerender()}}),Ember._HandlebarsBoundView=Ember._MetamorphView.extend({instrumentName:"boundHandlebars",states:s,shouldDisplayFunc:null,preserveContext:!1,previousContext:null,displayTemplate:null,inverseTemplate:null,path:null,pathRoot:null,normalizedValue:function(){var e,t,i=n(this,"path"),a=n(this,"pathRoot"),s=n(this,"valueNormalizerFunc");return""===i?e=a:(t=n(this,"templateData"),e=r(a,i,{data:t})),s?s(e):e},rerenderIfNeeded:function(){this.currentState.rerenderIfNeeded(this)},render:function(e){var t=n(this,"isEscaped"),r=n(this,"shouldDisplayFunc"),a=n(this,"preserveContext"),s=n(this,"previousContext"),o=n(this,"inverseTemplate"),l=n(this,"displayTemplate"),c=this.normalizedValue();if(this._lastNormalizedValue=c,r(c))if(i(this,"template",l),a)i(this,"_context",s);else{if(!l)return null===c||void 0===c?c="":c instanceof Handlebars.SafeString||(c=String(c)),t&&(c=Handlebars.Utils.escapeExpression(c)),e.push(c),void 0;i(this,"_context",c)}else o?(i(this,"template",o),a?i(this,"_context",s):i(this,"_context",c)):i(this,"template",function(){return""});return this._super(e)}})}(),function(){function e(e){return!Ember.isNone(e)}function t(e,t,n,i,s,o){var l,c,h,u=t.data,d=t.fn,p=t.inverse,f=u.view,g=this;if(l=a(g,e,u),"object"==typeof this){if(u.insideGroup){c=function(){Ember.run.once(f,"rerender")};var m,v,b=r(g,e,t);b=s(b),v=n?g:b,i(b)?m=d:p&&(m=p),m(v,{data:t.data})}else{var y=f.createChildView(Ember._HandlebarsBoundView,{preserveContext:n,shouldDisplayFunc:i,valueNormalizerFunc:s,displayTemplate:d,inverseTemplate:p,path:e,pathRoot:g,previousContext:g,isEscaped:!t.hash.unescaped,templateData:t.data});f.appendChild(y),c=function(){Ember.run.scheduleOnce("render",y,"rerenderIfNeeded")}}if(""!==l.path&&(f.registerObserver(l.root,l.path,c),o))for(h=0;h<o.length;h++)f.registerObserver(l.root,l.path+"."+o[h],c)}else u.buffer.push(r(g,e,t))}function n(e,t){var n,i,s=t.data,o=s.view,l=this;if(n=a(l,e,s),"object"==typeof this){if(s.insideGroup){i=function(){Ember.run.once(o,"rerender")};var c=r(l,e,t);(null===c||void 0===c)&&(c=""),s.buffer.push(c)}else{var h=new Ember._SimpleHandlebarsView(e,l,!t.hash.unescaped,t.data);h._parentView=o,o.appendChild(h),i=function(){Ember.run.scheduleOnce("render",h,"rerender")}}""!==n.path&&o.registerObserver(n.root,n.path,i)}else s.buffer.push(r(l,e,t))}var i=Ember.get;Ember.set,Ember.String.fmt;var r=Ember.Handlebars.get,a=Ember.Handlebars.normalizePath,s=Ember.ArrayPolyfills.forEach,o=Ember.Handlebars,l=o.helpers;o.registerHelper("_triageMustache",function(e,t){return l[e]?l[e].call(this,t):l.bind.apply(this,arguments)}),o.registerHelper("bind",function(i,r){var a=r.contexts&&r.contexts[0]||this;return r.fn?t.call(a,i,r,!1,e):n.call(a,i,r)}),o.registerHelper("boundIf",function(e,n){var r=n.contexts&&n.contexts[0]||this,a=function(e){var t=e&&i(e,"isTruthy");return"boolean"==typeof t?t:Ember.isArray(e)?0!==i(e,"length"):!!e};return t.call(r,e,n,!0,a,a,["isTruthy","length"])}),o.registerHelper("with",function(n,i){if(4===arguments.length){var r,s,o,c;if(i=arguments[3],r=arguments[2],s=arguments[0],Ember.isGlobalPath(s))Ember.bind(i.data.keywords,r,s);else{c=a(this,s,i.data),s=c.path,o=c.root;var h=Ember.$.expando+Ember.guidFor(o);i.data.keywords[h]=o;var u=s?h+"."+s:h;Ember.bind(i.data.keywords,r,u)}return t.call(this,s,i,!0,e)}return l.bind.call(i.contexts[0],n,i)}),o.registerHelper("if",function(e,t){return l.boundIf.call(t.contexts[0],e,t)}),o.registerHelper("unless",function(e,t){var n=t.fn,i=t.inverse;return t.fn=i,t.inverse=n,l.boundIf.call(t.contexts[0],e,t)}),o.registerHelper("bindAttr",function(e){var t=e.hash,n=e.data.view,i=[],l=this,c=++Ember.uuid,h=t["class"];if(null!=h){var u=o.bindClasses(this,h,n,c,e);i.push('class="'+Handlebars.Utils.escapeExpression(u.join(" "))+'"'),delete t["class"]}var d=Ember.keys(t);return s.call(d,function(s){var o,h=t[s];o=a(l,h,e.data);var u,d,p="this"===h?o.root:r(l,h,e),f=Ember.typeOf(p);u=function(){var t=r(l,h,e),i=n.$("[data-bindattr-"+c+"='"+c+"']");return i&&0!==i.length?(Ember.View.applyAttributeBindings(i,s,t),void 0):(Ember.removeObserver(o.root,o.path,d),void 0)},"this"===h||o.isKeyword&&""===o.path||n.registerObserver(o.root,o.path,u),"string"===f||"number"===f&&!isNaN(p)?i.push(s+'="'+Handlebars.Utils.escapeExpression(p)+'"'):p&&"boolean"===f&&i.push(s+'="'+s+'"')},this),i.push("data-bindattr-"+c+'="'+c+'"'),new o.SafeString(i.join(" "))}),o.bindClasses=function(e,t,n,i,o){var l,c,h,u=[],d=function(e,t,n){var i,a=t.path;return i="this"===a?e:""===a?!0:r(e,a,n),Ember.View._classStringForValue(a,i,t.className,t.falsyClassName)};return s.call(t.split(" "),function(t){var r,s,p,f,g=Ember.View._parsePropertyPath(t),m=g.path,v=e;""!==m&&"this"!==m&&(f=a(e,m,o.data),v=f.root,m=f.path),s=function(){l=d(e,g,o),h=i?n.$("[data-bindattr-"+i+"='"+i+"']"):n.$(),h&&0!==h.length?(r&&h.removeClass(r),l?(h.addClass(l),r=l):r=null):Ember.removeObserver(v,m,p)},""!==m&&"this"!==m&&n.registerObserver(v,m,s),c=d(e,g,o),c&&(u.push(c),r=c)}),u}}(),function(){Ember.get,Ember.set;var e=Ember.Handlebars;e.ViewHelper=Ember.Object.create({propertiesFromHTMLOptions:function(e){var t=e.hash,n=e.data,i={},r=t["class"],a=!1;t.id&&(i.elementId=t.id,a=!0),t.tag&&(i.tagName=t.tag,a=!0),r&&(r=r.split(" "),i.classNames=r,a=!0),t.classBinding&&(i.classNameBindings=t.classBinding.split(" "),a=!0),t.classNameBindings&&(void 0===i.classNameBindings&&(i.classNameBindings=[]),i.classNameBindings=i.classNameBindings.concat(t.classNameBindings.split(" ")),a=!0),t.attributeBindings&&(i.attributeBindings=null,a=!0),a&&(t=Ember.$.extend({},t),delete t.id,delete t.tag,delete t["class"],delete t.classBinding);var s;for(var o in t)t.hasOwnProperty(o)&&Ember.IS_BINDING.test(o)&&"string"==typeof t[o]&&(s=this.contextualizeBindingPath(t[o],n),s&&(t[o]=s));if(i.classNameBindings)for(var l in i.classNameBindings){var c=i.classNameBindings[l];if("string"==typeof c){var h=Ember.View._parsePropertyPath(c);s=this.contextualizeBindingPath(h.path,n),s&&(i.classNameBindings[l]=s+h.classNames)}}return Ember.$.extend(t,i)},contextualizeBindingPath:function(e,t){var n=Ember.Handlebars.normalizePath(null,e,t);return n.isKeyword?"templateData.keywords."+e:Ember.isGlobalPath(e)?null:"this"===e?"_parentView.context":"_parentView.context."+e},helper:function(t,n,i){var r,a=i.data,s=i.fn;r="string"==typeof n?e.get(t,n,i):n;var o=this.propertiesFromHTMLOptions(i,t),l=a.view;o.templateData=a;var c=r.proto?r.proto():r;s&&(o.template=s),c.controller||c.controllerBinding||o.controller||o.controllerBinding||(o._context=t),l.appendChild(r,o)}}),e.registerHelper("view",function(t,n){return t&&t.data&&t.data.isRenderData&&(n=t,t="Ember.View"),e.ViewHelper.helper(this,t,n)})}(),function(){var e=Ember.get,t=Ember.Handlebars.get;Ember.String.fmt,Ember.Handlebars.registerHelper("collection",function(n,i){n&&n.data&&n.data.isRenderData&&(i=n,n=void 0);var r=i.fn,a=i.data,s=i.inverse;i.data.view;var o;o=n?t(this,n,i):Ember.CollectionView;var l,c,h=i.hash,u={},d=h.itemViewClass,p=o.proto();delete h.itemViewClass,c=d?t(p,d,i):p.itemViewClass;for(var f in h)h.hasOwnProperty(f)&&(l=f.match(/^item(.)(.*)$/),l&&"itemController"!==f&&(u[l[1].toLowerCase()+l[2]]=h[f],delete h[f]));r&&(u.template=r,delete i.fn);var g;s&&s!==Handlebars.VM.noop?(g=e(p,"emptyViewClass"),g=g.extend({template:s,tagName:u.tagName})):h.emptyViewClass&&(g=t(this,h.emptyViewClass,i)),g&&(h.emptyView=g),h.keyword||(u._context=Ember.computed.alias("content"));var m=Ember.Handlebars.ViewHelper.propertiesFromHTMLOptions({data:a,hash:u},this);return h.itemViewClass=c.extend(m),Ember.Handlebars.helpers.view.call(this,o,i)})}(),function(){var e=Ember.Handlebars.get;Ember.Handlebars.registerHelper("unbound",function(t,n){var i,r,a,s=arguments[arguments.length-1];return arguments.length>2?(s.data.isUnbound=!0,i=Ember.Handlebars.helpers[arguments[0]]||Ember.Handlebars.helperMissing,a=i.apply(this,Array.prototype.slice.call(arguments,1)),delete s.data.isUnbound,a):(r=n.contexts&&n.contexts[0]||this,e(r,t,n))})}(),function(){var e=Ember.Handlebars.get,t=Ember.Handlebars.normalizePath;Ember.Handlebars.registerHelper("log",function(n,i){var r=i.contexts&&i.contexts[0]||this,a=t(r,n,i.data),s=a.root,o=a.path,l="this"===o?s:e(s,o,i);Ember.Logger.log(l)}),Ember.Handlebars.registerHelper("debugger",function(){})}(),function(){var e=Ember.get,t=Ember.set;Ember.Handlebars.EachView=Ember.CollectionView.extend(Ember._Metamorph,{init:function(){var n,i=e(this,"itemController");if(i){var r=Ember.ArrayController.create();t(r,"itemController",i),t(r,"container",e(this,"controller.container")),t(r,"_eachView",this),t(r,"target",e(this,"controller")),t(r,"parentController",e(this,"controller")),this.disableContentObservers(function(){t(this,"content",r),n=new Ember.Binding("content","_eachView.dataSource").oneWay(),n.connect(r)}),t(this,"_arrayController",r)}else this.disableContentObservers(function(){n=new Ember.Binding("content","dataSource").oneWay(),n.connect(this)});return this._super()},disableContentObservers:function(e){Ember.removeBeforeObserver(this,"content",null,"_contentWillChange"),Ember.removeObserver(this,"content",null,"_contentDidChange"),e.call(this),Ember.addBeforeObserver(this,"content",null,"_contentWillChange"),Ember.addObserver(this,"content",null,"_contentDidChange")},itemViewClass:Ember._MetamorphView,emptyViewClass:Ember._MetamorphView,createChildView:function(n,i){n=this._super(n,i);var r=e(this,"keyword"),a=e(n,"content");if(r){var s=e(n,"templateData");s=Ember.copy(s),s.keywords=n.cloneKeywords(),t(n,"templateData",s),s.keywords[r]=a}return a&&e(a,"isController")&&t(n,"controller",a),n},destroy:function(){if(this._super()){var t=e(this,"_arrayController");return t&&t.destroy(),this}}});var n=Ember.Handlebars.GroupedEach=function(e,t,n){var i=this,r=Ember.Handlebars.normalizePath(e,t,n.data);this.context=e,this.path=t,this.options=n,this.template=n.fn,this.containingView=n.data.view,this.normalizedRoot=r.root,this.normalizedPath=r.path,this.content=this.lookupContent(),this.addContentObservers(),this.addArrayObservers(),this.containingView.on("willClearRender",function(){i.destroy()})};n.prototype={contentWillChange:function(){this.removeArrayObservers()},contentDidChange:function(){this.content=this.lookupContent(),this.addArrayObservers(),this.rerenderContainingView()},contentArrayWillChange:Ember.K,contentArrayDidChange:function(){this.rerenderContainingView()},lookupContent:function(){return Ember.Handlebars.get(this.normalizedRoot,this.normalizedPath,this.options)},addArrayObservers:function(){this.content.addArrayObserver(this,{willChange:"contentArrayWillChange",didChange:"contentArrayDidChange"})},removeArrayObservers:function(){this.content.removeArrayObserver(this,{willChange:"contentArrayWillChange",didChange:"contentArrayDidChange"})},addContentObservers:function(){Ember.addBeforeObserver(this.normalizedRoot,this.normalizedPath,this,this.contentWillChange),Ember.addObserver(this.normalizedRoot,this.normalizedPath,this,this.contentDidChange)},removeContentObservers:function(){Ember.removeBeforeObserver(this.normalizedRoot,this.normalizedPath,this.contentWillChange),Ember.removeObserver(this.normalizedRoot,this.normalizedPath,this.contentDidChange)},render:function(){var t=this.content,n=e(t,"length"),i=this.options.data,r=this.template;i.insideEach=!0;for(var a=0;n>a;a++)r(t.objectAt(a),{data:i})},rerenderContainingView:function(){Ember.run.scheduleOnce("render",this.containingView,"rerender")},destroy:function(){this.removeContentObservers(),this.removeArrayObservers()}},Ember.Handlebars.registerHelper("each",function(e,t){if(4===arguments.length){var n=arguments[0];t=arguments[3],e=arguments[2],""===e&&(e="this"),t.hash.keyword=n}return 1===arguments.length&&(t=e,e="this"),t.hash.dataSourceBinding=e,!t.data.insideGroup||t.hash.groupedRows||t.hash.itemViewClass?Ember.Handlebars.helpers.collection.call(this,"Ember.Handlebars.EachView",t):(new Ember.Handlebars.GroupedEach(this,e,t).render(),void 0)})}(),function(){Ember.Handlebars.registerHelper("template",function(e,t){var n=t.data.view,i=n.templateForName(e);i(this,{data:t.data})})}(),function(){Ember.Handlebars.registerHelper("partial",function(e,t){var n=e.split("/"),i=n[n.length-1];n[n.length-1]="_"+i;var r=t.data.view,a=n.join("/"),s=r.templateForName(a),o=!s&&r.templateForName(e);s=s||o,s(this,{data:t.data})})}(),function(){var e=Ember.get;Ember.set,Ember.Handlebars.registerHelper("yield",function(t){for(var n,i=t.data.view;i&&!e(i,"layout");)i=e(i,"parentView");n=e(i,"template"),n&&n(this,t)})}(),function(){var e=Ember.set;Ember.get,Ember.Checkbox=Ember.View.extend({classNames:["ember-checkbox"],tagName:"input",attributeBindings:["type","checked","disabled","tabindex","name"],type:"checkbox",checked:!1,disabled:!1,init:function(){this._super(),this.on("change",this,this._updateElementValue)},_updateElementValue:function(){e(this,"checked",this.$().prop("checked"))}})}(),function(){var e=(Ember.get,Ember.set);Ember.TextSupport=Ember.Mixin.create({value:"",attributeBindings:["placeholder","disabled","maxlength","tabindex"],placeholder:null,disabled:!1,maxlength:null,insertNewline:Ember.K,cancel:Ember.K,init:function(){this._super(),this.on("focusOut",this,this._elementValueDidChange),this.on("change",this,this._elementValueDidChange),this.on("paste",this,this._elementValueDidChange),this.on("cut",this,this._elementValueDidChange),this.on("input",this,this._elementValueDidChange),this.on("keyUp",this,this.interpretKeyEvents)},interpretKeyEvents:function(e){var t=Ember.TextSupport.KEY_EVENTS,n=t[e.keyCode];return this._elementValueDidChange(),n?this[n](e):void 0},_elementValueDidChange:function(){e(this,"value",this.$().val())}}),Ember.TextSupport.KEY_EVENTS={13:"insertNewline",27:"cancel"}}(),function(){function e(e,n,i){var r=t(n,"action"),a=t(n,"onEvent");if(r&&a===e){var s=t(n,"controller"),o=t(n,"value"),l=t(n,"bubbles");s.send(r,o,n),l||i.stopPropagation()}}var t=Ember.get;Ember.set,Ember.TextField=Ember.View.extend(Ember.TextSupport,{classNames:["ember-text-field"],tagName:"input",attributeBindings:["type","value","size","pattern","name"],value:"",type:"text",size:null,pattern:null,action:null,onEvent:"enter",bubbles:!1,insertNewline:function(t){e("enter",this,t)},keyPress:function(t){e("keyPress",this,t)}})}(),function(){var e=Ember.get,t=Ember.set;Ember.Button=Ember.View.extend(Ember.TargetActionSupport,{classNames:["ember-button"],classNameBindings:["isActive"],tagName:"button",propagateEvents:!1,attributeBindings:["type","disabled","href","tabindex"],targetObject:Ember.computed(function(){var t=e(this,"target"),n=e(this,"context"),i=e(this,"templateData");return"string"!=typeof t?t:Ember.Handlebars.get(n,t,{data:i})}).property("target"),type:Ember.computed(function(){var e=this.tagName;return"input"===e||"button"===e?"button":void 0}),disabled:!1,href:Ember.computed(function(){return"a"===this.tagName?"#":null}),mouseDown:function(){return e(this,"disabled")||(t(this,"isActive",!0),this._mouseDown=!0,this._mouseEntered=!0),e(this,"propagateEvents")},mouseLeave:function(){this._mouseDown&&(t(this,"isActive",!1),this._mouseEntered=!1)},mouseEnter:function(){this._mouseDown&&(t(this,"isActive",!0),this._mouseEntered=!0)},mouseUp:function(){return e(this,"isActive")&&(this.triggerAction(),t(this,"isActive",!1)),this._mouseDown=!1,this._mouseEntered=!1,e(this,"propagateEvents")},keyDown:function(e){(13===e.keyCode||32===e.keyCode)&&this.mouseDown()},keyUp:function(e){(13===e.keyCode||32===e.keyCode)&&this.mouseUp()},touchStart:function(e){return this.mouseDown(e)},touchEnd:function(e){return this.mouseUp(e)},init:function(){this._super()}})}(),function(){var e=Ember.get;Ember.set,Ember.TextArea=Ember.View.extend(Ember.TextSupport,{classNames:["ember-text-area"],tagName:"textarea",attributeBindings:["rows","cols","name"],rows:null,cols:null,_updateElementValue:Ember.observer(function(){var t=e(this,"value"),n=this.$();n&&t!==n.val()&&n.val(t)},"value"),init:function(){this._super(),this.on("didInsertElement",this,this._updateElementValue)}})}(),function(){var e=Ember.set,t=Ember.get,n=Ember.EnumerableUtils.indexOf,i=Ember.EnumerableUtils.indexesOf,r=Ember.EnumerableUtils.replace,a=Ember.isArray;Ember.Handlebars.compile,Ember.SelectOption=Ember.View.extend({tagName:"option",attributeBindings:["value","selected"],defaultTemplate:function(e,t){t={data:t.data,hash:{}},Ember.Handlebars.helpers.bind.call(e,"view.label",t)},init:function(){this.labelPathDidChange(),this.valuePathDidChange(),this._super()},selected:Ember.computed(function(){var e=t(this,"content"),i=t(this,"parentView.selection");return t(this,"parentView.multiple")?i&&n(i,e.valueOf())>-1:e==i}).property("content","parentView.selection"),labelPathDidChange:Ember.observer(function(){var e=t(this,"parentView.optionLabelPath");e&&Ember.defineProperty(this,"label",Ember.computed(function(){return t(this,e)}).property(e))},"parentView.optionLabelPath"),valuePathDidChange:Ember.observer(function(){var e=t(this,"parentView.optionValuePath");e&&Ember.defineProperty(this,"value",Ember.computed(function(){return t(this,e)}).property(e))},"parentView.optionValuePath")}),Ember.Select=Ember.View.extend({tagName:"select",classNames:["ember-select"],defaultTemplate:Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a="";return t.buffer.push('<option value="">'),i={},r={},t.buffer.push(u(n._triageMustache.call(e,"view.prompt",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("</option>"),a}function s(e,t){var i,r;i={contentBinding:e},r={contentBinding:"STRING"},t.buffer.push(u(n.view.call(e,"view.optionView",{hash:{contentBinding:"this"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t})))}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var o,l,c,h="",u=this.escapeExpression,d=this;return l={},c={},o=n["if"].call(t,"view.prompt",{hash:{},inverse:d.noop,fn:d.program(1,a,r),contexts:[t],types:["ID"],hashContexts:c,hashTypes:l,data:r}),(o||0===o)&&r.buffer.push(o),l={},c={},o=n.each.call(t,"view.content",{hash:{},inverse:d.noop,fn:d.program(3,s,r),contexts:[t],types:["ID"],hashContexts:c,hashTypes:l,data:r}),(o||0===o)&&r.buffer.push(o),h}),attributeBindings:["multiple","disabled","tabindex","name"],multiple:!1,disabled:!1,content:null,selection:null,value:Ember.computed(function(e,n){if(2===arguments.length)return n;var i=t(this,"optionValuePath").replace(/^content\.?/,"");return i?t(this,"selection."+i):t(this,"selection")}).property("selection"),prompt:null,optionLabelPath:"content",optionValuePath:"content",optionView:Ember.SelectOption,_change:function(){t(this,"multiple")?this._changeMultiple():this._changeSingle()},selectionDidChange:Ember.observer(function(){var n=t(this,"selection");if(t(this,"multiple")){if(!a(n))return e(this,"selection",Ember.A([n])),void 0;this._selectionDidChangeMultiple()}else this._selectionDidChangeSingle()},"selection.@each"),valueDidChange:Ember.observer(function(){var e,n=t(this,"content"),i=t(this,"value"),r=t(this,"optionValuePath").replace(/^content\.?/,""),a=r?t(this,"selection."+r):t(this,"selection");i!==a&&(e=n?n.find(function(e){return i===(r?t(e,r):e)}):null,this.set("selection",e))},"value"),_triggerChange:function(){var e=t(this,"selection"),n=t(this,"value");Ember.isNone(e)||this.selectionDidChange(),Ember.isNone(n)||this.valueDidChange(),this._change()},_changeSingle:function(){var n=this.$()[0].selectedIndex,i=t(this,"content"),r=t(this,"prompt");if(i&&t(i,"length")){if(r&&0===n)return e(this,"selection",null),void 0;r&&(n-=1),e(this,"selection",i.objectAt(n))
}},_changeMultiple:function(){var n=this.$("option:selected"),i=t(this,"prompt"),s=i?1:0,o=t(this,"content"),l=t(this,"selection");if(o&&n){var c=n.map(function(){return this.index-s}).toArray(),h=o.objectsAt(c);a(l)?r(l,0,t(l,"length"),h):e(this,"selection",h)}},_selectionDidChangeSingle:function(){var e=this.get("element");if(e){var i=t(this,"content"),r=t(this,"selection"),a=i?n(i,r):-1,s=t(this,"prompt");s&&(a+=1),e&&(e.selectedIndex=a)}},_selectionDidChangeMultiple:function(){var e,r=t(this,"content"),a=t(this,"selection"),s=r?i(r,a):[-1],o=t(this,"prompt"),l=o?1:0,c=this.$("option");c&&c.each(function(){e=this.index>-1?this.index-l:-1,this.selected=n(s,e)>-1})},init:function(){this._super(),this.on("didInsertElement",this,this._triggerChange),this.on("change",this,this._change)}})}(),function(){function e(e,t){for(var n in e)"ID"===t[n]&&(e[n+"Binding"]=e[n],delete e[n])}Ember.Handlebars.registerHelper("input",function(t){var n=t.hash,i=t.hashTypes,r=n.type,a=n.on;return delete n.type,delete n.on,e(n,i),"checkbox"===r?Ember.Handlebars.helpers.view.call(this,Ember.Checkbox,t):(n.type=r,n.onEvent=a||"enter",Ember.Handlebars.helpers.view.call(this,Ember.TextField,t))}),Ember.Handlebars.registerHelper("textarea",function(t){var n=t.hash,i=t.hashTypes;return e(n,i),Ember.Handlebars.helpers.view.call(this,Ember.TextArea,t)})}(),function(){function e(){Ember.Handlebars.bootstrap(Ember.$(document))}function t(e){var t,i=Ember.TEMPLATES;if(i)for(var r in i)(t=r.match(/^components\/(.*)$/))&&n(e,t[1])}function n(e,t){var n=t.replace(/-/g,"_"),i=e.lookupFactory("component:"+n)||e.lookupFactory("component:"+t),r=i||Ember.Component.extend();r.reopen({layoutName:"components/"+t}),Ember.Handlebars.helper(t,r)}Ember.Handlebars.bootstrap=function(e){var t='script[type="text/x-handlebars"], script[type="text/x-raw-handlebars"]';Ember.$(t,e).each(function(){var e=Ember.$(this),t="text/x-raw-handlebars"===e.attr("type")?Ember.$.proxy(Handlebars.compile,Handlebars):Ember.$.proxy(Ember.Handlebars.compile,Ember.Handlebars),n=e.attr("data-template-name")||e.attr("id")||"application",i=t(e.html());Ember.TEMPLATES[n]=i,e.remove()})},Ember.onLoad("Ember.Application",function(n){n.initializer?(n.initializer({name:"domTemplates",initialize:e}),n.initializer({name:"registerComponents",after:"domTemplates",initialize:t})):Ember.onLoad("application",e)})}(),function(){Ember.runLoadHooks("Ember.Handlebars",Ember.Handlebars)}(),function(){e("route-recognizer",[],function(){"use strict";function e(e){this.string=e}function t(e){this.name=e}function n(e){this.name=e}function i(){}function r(r,a,s){"/"===r.charAt(0)&&(r=r.substr(1));for(var o=r.split("/"),l=[],c=0,h=o.length;h>c;c++){var u,d=o[c];(u=d.match(/^:([^\/]+)$/))?(l.push(new t(u[1])),a.push(u[1]),s.dynamics++):(u=d.match(/^\*([^\/]+)$/))?(l.push(new n(u[1])),a.push(u[1]),s.stars++):""===d?l.push(new i):(l.push(new e(d)),s.statics++)}return l}function a(e){this.charSpec=e,this.nextStates=[]}function s(e){return e.sort(function(e,t){return e.types.stars!==t.types.stars?e.types.stars-t.types.stars:e.types.dynamics!==t.types.dynamics?e.types.dynamics-t.types.dynamics:e.types.statics!==t.types.statics?e.types.statics-t.types.statics:0})}function o(e,t){for(var n=[],i=0,r=e.length;r>i;i++){var a=e[i];n=n.concat(a.match(t))}return n}function l(e,t){for(var n=e.handlers,i=e.regex,r=t.match(i),a=1,s=[],o=0,l=n.length;l>o;o++){for(var c=n[o],h=c.names,u={},d=0,p=h.length;p>d;d++)u[h[d]]=r[a++];s.push({handler:c.handler,params:u,isDynamic:!!h.length})}return s}function c(e,t){return t.eachChar(function(t){e=e.put(t)}),e}function h(e,t,n){this.path=e,this.matcher=t,this.delegate=n}function u(e){this.routes={},this.children={},this.target=e}function d(e,t,n){return function(i,r){var a=e+i;return r?(r(d(a,t,n)),void 0):new h(e+i,t,n)}}function p(e,t,n){for(var i=0,r=0,a=e.length;a>r;r++)i+=e[r].path.length;t=t.substr(i),e.push({path:t,handler:n})}function f(e,t,n,i){var r=t.routes;for(var a in r)if(r.hasOwnProperty(a)){var s=e.slice();p(s,a,r[a]),t.children[a]?f(s,t.children[a],n,i):n.call(i,s)}}var g=["/",".","*","+","?","|","(",")","[","]","{","}","\\"],m=new RegExp("(\\"+g.join("|\\")+")","g");e.prototype={eachChar:function(e){for(var t,n=this.string,i=0,r=n.length;r>i;i++)t=n.charAt(i),e({validChars:t})},regex:function(){return this.string.replace(m,"\\$1")},generate:function(){return this.string}},t.prototype={eachChar:function(e){e({invalidChars:"/",repeat:!0})},regex:function(){return"([^/]+)"},generate:function(e){return e[this.name]}},n.prototype={eachChar:function(e){e({invalidChars:"",repeat:!0})},regex:function(){return"(.+)"},generate:function(e){return e[this.name]}},i.prototype={eachChar:function(){},regex:function(){return""},generate:function(){return""}},a.prototype={get:function(e){for(var t=this.nextStates,n=0,i=t.length;i>n;n++){var r=t[n],a=r.charSpec.validChars===e.validChars;if(a=a&&r.charSpec.invalidChars===e.invalidChars)return r}},put:function(e){var t;return(t=this.get(e))?t:(t=new a(e),this.nextStates.push(t),e.repeat&&t.nextStates.push(t),t)},match:function(e){for(var t,n,i,r=this.nextStates,a=[],s=0,o=r.length;o>s;s++)t=r[s],n=t.charSpec,"undefined"!=typeof(i=n.validChars)?-1!==i.indexOf(e)&&a.push(t):"undefined"!=typeof(i=n.invalidChars)&&-1===i.indexOf(e)&&a.push(t);return a}};var v=function(){this.rootState=new a,this.names={}};return v.prototype={add:function(e,t){for(var n,a=this.rootState,s="^",o={statics:0,dynamics:0,stars:0},l=[],h=[],u=!0,d=0,p=e.length;p>d;d++){var f=e[d],g=[],m=r(f.path,g,o);h=h.concat(m);for(var v=0,b=m.length;b>v;v++){var y=m[v];y instanceof i||(u=!1,a=a.put({validChars:"/"}),s+="/",a=c(a,y),s+=y.regex())}l.push({handler:f.handler,names:g})}u&&(a=a.put({validChars:"/"}),s+="/"),a.handlers=l,a.regex=new RegExp(s+"$"),a.types=o,(n=t&&t.as)&&(this.names[n]={segments:h,handlers:l})},handlersFor:function(e){var t=this.names[e],n=[];if(!t)throw new Error("There is no route named "+e);for(var i=0,r=t.handlers.length;r>i;i++)n.push(t.handlers[i]);return n},hasRoute:function(e){return!!this.names[e]},generate:function(e,t){var n=this.names[e],r="";if(!n)throw new Error("There is no route named "+e);for(var a=n.segments,s=0,o=a.length;o>s;s++){var l=a[s];l instanceof i||(r+="/",r+=l.generate(t))}return"/"!==r.charAt(0)&&(r="/"+r),r},recognize:function(e){var t,n,i,r=[this.rootState];for("/"!==e.charAt(0)&&(e="/"+e),t=e.length,t>1&&"/"===e.charAt(t-1)&&(e=e.substr(0,t-1)),n=0,i=e.length;i>n&&(r=o(r,e.charAt(n)),r.length);n++);var a=[];for(n=0,i=r.length;i>n;n++)r[n].handlers&&a.push(r[n]);r=s(a);var c=a[0];return c&&c.handlers?l(c,e):void 0}},h.prototype={to:function(e,t){var n=this.delegate;if(n&&n.willAddRoute&&(e=n.willAddRoute(this.matcher.target,e)),this.matcher.add(this.path,e),t){if(0===t.length)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,e,t,this.delegate)}}},u.prototype={add:function(e,t){this.routes[e]=t},addChild:function(e,t,n,i){var r=new u(t);this.children[e]=r;var a=d(e,r,i);i&&i.contextEntered&&i.contextEntered(t,a),n(a)}},v.prototype.map=function(e,t){var n=new u;e(d("",n,this.delegate)),f([],n,function(e){t?t(this,e):this.add(e)},this)},v})}(),function(){e("router",["route-recognizer","rsvp"],function(e,t){"use strict";function n(e,t){this.router=e,this.promise=t,this.data={},this.resolvedModels={},this.providedModels={},this.providedModelsArray=[],this.sequence=++n.currentSequence,this.params={}}function i(){this.recognizer=new e}function r(e,i){return new n(e,t.reject(i))}function a(e,t,n,i){var r,a=n.length,s=t.length,l={},c=e.currentHandlerInfos||[],h={},u=e.currentParams||{},d=e.activeTransition,p={};for(o(h,i),r=t.length-1;r>=0;r--){var f=t[r],g=f.handler,m=c[r],v=!1;if(m&&m.name===f.handler||(v=!0),f.isDynamic)if(a>0)v=!0,l[g]=n[--a];else{p[g]={};for(var b in f.params)if(f.params.hasOwnProperty(b)){var y=f.params[b];u[b]!==y&&(v=!0),p[g][b]=h[b]=y}}else if(f.hasOwnProperty("names")&&f.names.length)if(a>0)v=!0,l[g]=n[--a];else if(d&&d.providedModels[g])v=!0,l[g]=d.providedModels[g]||d.resolvedModels[g];else{var x=f.names;p[g]={};for(var w=0,_=x.length;_>w;++w){var C=x[w];p[g][C]=h[C]=u[C]}}v&&(s=r)}if(a>0)throw"More context objects were passed than there are dynamic segments for the route: "+t[t.length-1].handler;return{matchPoint:s,providedModels:l,params:h,handlerParams:p}}function s(e,t,n){var i,r,s,l,c,h=e.recognizer.handlersFor(t),u={},d=a(e,h,n).matchPoint;for(c=0;c<h.length;c++)r=h[c],s=e.getHandler(r.handler),l=r.names,l.length&&(i=c>=d?n.shift():s.context,o(u,D(s,i,l)));return u}function o(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function l(e,t){var n=e.recognizer.handlersFor(t[0]);return C(e,"Attempting transition to "+t[0]),m(e,n,S.call(t,1),e.currentParams)}function c(e,t){var n=e.recognizer.recognize(t);return e.currentHandlerInfos,C(e,"Attempting URL transition to "+t),n?m(e,n,[],{}):r(e,new i.UnrecognizedURLError(t))}function h(e,t){var n=e.router,i=p(n.currentHandlerInfos||[],t);n.targetHandlerInfos=t,d(i.exited,function(e){var t=e.handler;delete t.context,t.exit&&t.exit()});var r=i.unchanged.slice();n.currentHandlerInfos=r,d(i.updatedContext,function(t){u(e,r,t,!1)}),d(i.entered,function(t){u(e,r,t,!0)}),n.didTransition&&n.didTransition(t)}function u(e,t,n,r){var a=n.handler,s=n.context;try{r&&a.enter&&a.enter(),w(e),g(a,s),a.setup&&a.setup(s),w(e)}catch(o){throw o instanceof i.TransitionAborted||f(t.concat(n),!0,["error",o,e]),o}t.push(n)}function d(e,t){for(var n=0,i=e.length;i>n;n++)t(e[n])}function p(e,t){var n,i,r,a,s={updatedContext:[],exited:[],entered:[],unchanged:[]};for(r=0,a=t.length;a>r;r++){var o=e[r],l=t[r];o&&o.handler===l.handler||(n=!0),n?(s.entered.push(l),o&&s.exited.unshift(o)):i||o.context!==l.context?(i=!0,s.updatedContext.push(l)):s.unchanged.push(o)}for(r=t.length,a=e.length;a>r;r++)s.exited.unshift(e[r]);return s}function f(e,t,n){var i=n.shift();if(!e){if(t)return;throw new Error("Could not trigger event '"+i+"'. There are no active handlers")}for(var r=!1,a=e.length-1;a>=0;a--){var s=e[a],o=s.handler;if(o.events&&o.events[i]){if(o.events[i].apply(o,n)!==!0)return;r=!0}}if(!r&&!t)throw new Error("Nothing handled the event '"+i+"'.")}function g(e,t){e.context=t,e.contextDidChange&&e.contextDidChange()}function m(e,i,r,s,o){function l(){w(g);try{y(g,m),p.resolve(m[m.length-1].handler)}catch(t){p.reject(t)}g.isAborted||(e.activeTransition=null)}function c(e){p.reject(e)}var h=a(e,i,r,s),u=i[i.length-1].handler,d=!1;if(e.activeTransition){if(b(e.activeTransition,u,r))return e.activeTransition;e.activeTransition.abort(),d=!0}var p=t.defer(),g=new n(e,p.promise);g.targetName=u,g.providedModels=h.providedModels,g.providedModelsArray=r,g.params=h.params,g.data=o||{},e.activeTransition=g;var m=v(e,i);return d||f(e.currentHandlerInfos,!0,["willTransition",g]),C(e,g.sequence,"Beginning validation for transition to "+g.targetName),x(g,m,0,h.matchPoint,h.handlerParams).then(l,c),g}function v(e,t){for(var n=[],i=0,r=t.length;r>i;++i){var a=t[i],s=a.isDynamic||a.names&&a.names.length;n.push({isDynamic:!!s,name:a.handler,handler:e.getHandler(a.handler)})}return n}function b(e,t,n){if(e.targetName!==t)return!1;var i=e.providedModelsArray;if(i.length!==n.length)return!1;for(var r=0,a=i.length;a>r;++r)if(i[r]!==n[r])return!1;return!0}function y(e,t){var n=e.router,i=e.sequence,r=t[t.length-1].name;C(n,i,"Validation succeeded, finalizing transition;");for(var a=[],o=0,l=t.length;l>o;++o){var c=t[o];c.isDynamic&&a.push(c.context)}var u=s(n,r,a);e.providedModelsArray=[],e.providedContexts={},n.currentParams=u;var d=e.urlMethod;if(d){var p=n.recognizer.generate(r,u);"replace"===d?n.replaceURL(p):n.updateURL(p)}h(e,t),C(n,i,"TRANSITION COMPLETE.")}function x(e,n,r,a,s){function o(n){return e.isAborted?(C(e.router,e.sequence,"detected abort."),w=!0,t.reject(new i.TransitionAborted)):n}function l(i){return w?t.reject(i):(w=!0,e.abort(),C(g,y,b+": handling error: "+i),f(n.slice(0,r+1),!0,["error",i,e]),v.error&&v.error(i,e),t.reject(i))}function c(){return C(g,y,b+": calling beforeModel hook"),v.beforeModel&&v.beforeModel(e)}function h(){return C(g,y,b+": resolving model"),_(m,e,s[b],r>=a)}function u(t){return C(g,y,b+": calling afterModel hook"),p=t,v.afterModel&&v.afterModel(p,e)}function d(){return C(g,y,b+": validation succeeded, proceeding"),m.context=e.resolvedModels[m.name]=p,x(e,n,r+1,a,s)}if(r===n.length)return t.resolve(e.resolvedModels);var p,g=e.router,m=n[r],v=m.handler,b=m.name,y=e.sequence,w=!1;return a>r?(C(g,y,b+": using context from already-active handler"),p=m.handler.context,d()):t.resolve().then(o).then(c).then(null,l).then(o).then(h).then(null,l).then(o).then(u).then(null,l).then(o).then(d)}function w(e){if(e.isAborted)throw C(e.router,e.sequence,"detected abort."),new i.TransitionAborted}function _(e,t,n,i){var r=e.handler,a=e.name;if(!i&&r.hasOwnProperty("context"))return r.context;if(e.isDynamic&&t.providedModels.hasOwnProperty(a)){var s=t.providedModels[a];return"function"==typeof s?s():s}return r.model&&r.model(n||{},t)}function C(e,t,n){e.log&&(3===arguments.length?e.log("Transition #"+t+": "+n):(n=t,e.log(n)))}function T(e,t){var n=t[0]||"/";return"/"===n.charAt(0)?c(e,n):l(e,t)}function D(e,t,n){if(e.serialize)return e.serialize(t,n);if(1===n.length){var i=n[0],r={};return r[i]=/_id$/.test(i)?t.id:t,r}}var S=Array.prototype.slice;return n.currentSequence=0,n.prototype={targetName:null,urlMethod:"update",providedModels:null,resolvedModels:null,params:null,promise:null,data:null,then:function(e,t){return this.promise.then(e,t)},abort:function(){return this.isAborted?this:(C(this.router,this.sequence,this.targetName+": transition was aborted"),this.isAborted=!0,this.router.activeTransition=null,this)},retry:function(){this.abort();var e=this.router.recognizer.handlersFor(this.targetName),t=m(this.router,e,this.providedModelsArray,this.params,this.data);return t},method:function(e){return this.urlMethod=e,this}},i.UnrecognizedURLError=function(e){this.message=e||"UnrecognizedURLError",this.name="UnrecognizedURLError"},i.TransitionAborted=function(e){this.message=e||"TransitionAborted",this.name="TransitionAborted"},i.prototype={map:function(e){this.recognizer.delegate=this.delegate,this.recognizer.map(e,function(e,t){var n=t[t.length-1].handler,i=[t,{as:n}];e.add.apply(e,i)})},hasRoute:function(e){return this.recognizer.hasRoute(e)},reset:function(){d(this.currentHandlerInfos||[],function(e){var t=e.handler;t.exit&&t.exit()}),this.currentHandlerInfos=null,this.targetHandlerInfos=null},activeTransition:null,handleURL:function(){return T(this,arguments).method(null)},updateURL:function(){throw"updateURL is not implemented"},replaceURL:function(e){this.updateURL(e)},transitionTo:function(){return T(this,arguments)},replaceWith:function(){return T(this,arguments).method("replace")},paramsForHandler:function(e){return s(this,e,S.call(arguments,1))},generate:function(e){var t=s(this,e,S.call(arguments,1));return this.recognizer.generate(e,t)},isActive:function(e){var t,n,i=S.call(arguments,1),r=this.targetHandlerInfos,a=!1;if(!r)return!1;for(var s=r.length-1;s>=0;s--)if(n=r[s],n.name===e&&(a=!0),a){if(0===i.length)break;if(n.isDynamic&&(t=i.pop(),n.context!==t))return!1}return 0===i.length&&a},trigger:function(){var e=S.call(arguments);f(this.currentHandlerInfos,!1,e)},log:null},i})}(),function(){function e(e){this.parent=e,this.matches=[]}e.prototype={resource:function(t,n,i){if(2===arguments.length&&"function"==typeof n&&(i=n,n={}),1===arguments.length&&(n={}),"string"!=typeof n.path&&(n.path="/"+t),i){var r=new e(t);i.call(r),this.push(n.path,t,r.generate())}else this.push(n.path,t)},push:function(e,t,n){var i=t.split(".");(""===e||"/"===e||"index"===i[i.length-1])&&(this.explicitIndex=!0),this.matches.push([e,t,n])},route:function(e,t){t=t||{},"string"!=typeof t.path&&(t.path="/"+e),this.parent&&"application"!==this.parent&&(e=this.parent+"."+e),this.push(t.path,e)},generate:function(){var e=this.matches;return this.explicitIndex||this.route("index",{path:"/"}),function(t){for(var n=0,i=e.length;i>n;n++){var r=e[n];t(r[0]).to(r[1],r[2])}}}},e.map=function(t){var n=new e;return t.call(n),n},Ember.RouterDSL=e}(),function(){var e=Ember.get;Ember.controllerFor=function(e,t,n,i){return e.lookup("controller:"+t,i)||Ember.generateController(e,t,n)},Ember.generateController=function(t,n,i){var r,a,s,o;return i&&Ember.isArray(i)?(a=t.resolve("controller:array"),r=a.extend({content:i})):i?(a=t.resolve("controller:object"),r=a.extend({content:i})):(a=t.resolve("controller:basic"),r=a.extend()),r.toString=function(){return"(generated "+n+" controller)"},s="controller:"+n,t.register(s,r),o=t.lookup(s),e(o,"namespace.LOG_ACTIVE_GENERATION")&&Ember.Logger.info("generated -> "+s,{fullName:s}),o}}(),function(){function e(e){var t=d(e,"location"),n=d(e,"rootURL"),i={};"string"==typeof n&&(i.rootURL=n),"string"==typeof t&&(i.implementation=t,t=p(e,"location",Ember.Location.create(i)))}function n(e){var t={},n=e.container,r=n.resolve("route:basic");return function(a){var s="route:"+a,o=n.lookup(s);if(t[a])return o;if(t[a]=!0,!o){if("loading"===a)return{};n.register(s,r.extend()),o=n.lookup(s),d(e,"namespace.LOG_ACTIVE_GENERATION")&&Ember.Logger.info("generated -> "+s,{fullName:s})}return"application"===a&&(o.events=o.events||{},o.events.error=o.events.error||i),o.routeName=a,o}}function i(e){Ember.Logger.error("Error while loading route:",e),setTimeout(function(){throw e})}function r(e){for(var t=[],n=1,i=e.length;i>n;n++){var r=e[n].name,a=r.split(".");t.push(a[a.length-1])}return t.join(".")}function a(e,t,i){var r;t.getHandler=n(e);var a=function(){i.setURL(r)};if(t.updateURL=function(e){r=e,Ember.run.once(a)},i.replaceURL){var s=function(){i.replaceURL(r)};t.replaceURL=function(e){r=e,Ember.run.once(s)}}t.didTransition=function(t){e.didTransition(t)}}function s(e,t,n){n=[].slice.call(n),n[0]=n[0]||"/";var i,r=n[0];i="/"===r.charAt(0)?r:e.router.hasRoute(r)?r:n[0]=r+".index",o(e);var a=e.router[t].apply(e.router,n);return a.then(function(){h(e)}),a}function o(e){e._loadingStateActive||(e._shouldEnterLoadingState=!0,Ember.run.scheduleOnce("routerTransitions",null,l,e))}function l(e){if(!e._loadingStateActive&&e._shouldEnterLoadingState){var t=e.router.getHandler("loading");t&&(t.enter&&t.enter(),t.setup&&t.setup(),e._loadingStateActive=!0)}}function c(e){if(e._shouldEnterLoadingState=!1,e._loadingStateActive){var t=e.router.getHandler("loading");t&&t.exit&&t.exit(),e._loadingStateActive=!1}}function h(e){e.notifyPropertyChange("url"),c(e)}var u=t("router"),d=Ember.get,p=Ember.set,f=Ember.defineProperty,g=Ember._MetamorphView;Ember.Router=Ember.Object.extend({location:"hash",init:function(){this.router=this.constructor.router||this.constructor.map(Ember.K),this._activeViews={},e(this)},url:Ember.computed(function(){return d(this,"location").getURL()}),startRouting:function(){this.router=this.router||this.constructor.map(Ember.K);var e=this.router,t=d(this,"location"),n=this.container,i=this;a(this,e,t),n.register("view:default",g),n.register("view:toplevel",Ember.View.extend()),t.onUpdateURL(function(e){i.handleURL(e)}),this.handleURL(t.getURL())},didTransition:function(e){var t=this.container.lookup("controller:application"),n=r(e);"currentPath"in t||f(t,"currentPath"),p(t,"currentPath",n),this.notifyPropertyChange("url"),d(this,"namespace").LOG_TRANSITIONS&&Ember.Logger.log("Transitioned into '"+n+"'")},handleURL:function(e){o(this);var t=this;return this.router.handleURL(e).then(function(){h(t)})},transitionTo:function(){return s(this,"transitionTo",arguments)},replaceWith:function(){return s(this,"replaceWith",arguments)},generate:function(){var e=this.router.generate.apply(this.router,arguments);return this.location.formatURL(e)},isActive:function(){var e=this.router;return e.isActive.apply(e,arguments)},send:function(){this.router.trigger.apply(this.router,arguments)},hasRoute:function(e){return this.router.hasRoute(e)},reset:function(){this.router.reset()},_lookupActiveView:function(e){var t=this._activeViews[e];return t&&t[0]},_connectActiveView:function(e,t){var n=this._activeViews[e];n&&n[0].off("willDestroyElement",this,n[1]);var i=function(){delete this._activeViews[e]};this._activeViews[e]=[t,i],t.one("willDestroyElement",this,i)}}),Ember.Router.reopenClass({map:function(e){var t=this.router=new u;d(this,"namespace.LOG_TRANSITIONS_INTERNAL")&&(t.log=Ember.Logger.debug);var n=Ember.RouterDSL.map(function(){this.resource("application",{path:"/"},function(){e.call(this)})});return t.map(n.generate()),t}})}(),function(){function e(e){var t=e.router.router.targetHandlerInfos;if(t)for(var n,i,r=0,a=t.length;a>r;r++){if(i=t[r].handler,i===e)return n;n=i}}function t(n){var i,r=e(n);if(r)return(i=r.lastRenderedTemplate)?i:t(r,!0)}function n(e,n,i,r){r=r||{},r.into=r.into?r.into.replace(/\//g,"."):t(e),r.outlet=r.outlet||"main",r.name=n,r.template=i,r.LOG_VIEW_LOOKUPS=o(e.router,"namespace.LOG_VIEW_LOOKUPS");var a,s=r.controller;return s=r.controller?r.controller:(a=e.container.lookup("controller:"+n))?a:e.routeName,"string"==typeof s&&(s=e.container.lookup("controller:"+s)),r.controller=s,r}function i(e,t,n){if(e)n.LOG_VIEW_LOOKUPS&&Ember.Logger.info("Rendering "+n.name+" with "+e,{fullName:"view:"+n.name});else{var i=n.into?"view:default":"view:toplevel";e=t.lookup(i),n.LOG_VIEW_LOOKUPS&&Ember.Logger.info("Rendering "+n.name+" with default view "+e,{fullName:"view:"+n.name})}return o(e,"templateName")||(l(e,"template",n.template),l(e,"_debugTemplateName",n.name)),l(e,"renderedName",n.name),l(e,"controller",n.controller),e}function r(e,t,n){if(n.into){var i=e.router._lookupActiveView(n.into),r=s(i,n.outlet);e.teardownOutletViews||(e.teardownOutletViews=[]),u(e.teardownOutletViews,0,0,[r]),i.connectOutlet(n.outlet,t)}else{var l=o(e,"router.namespace.rootElement");e.teardownTopLevelView&&e.teardownTopLevelView(),e.router._connectActiveView(n.name,t),e.teardownTopLevelView=a(t),t.appendTo(l)}}function a(e){return function(){e.destroy()}}function s(e,t){return function(){e.disconnectOutlet(t)}}var o=Ember.get,l=Ember.set,c=Ember.String.classify,h=(Ember.String.fmt,Ember.EnumerableUtils.forEach),u=Ember.EnumerableUtils.replace;Ember.Route=Ember.Object.extend({exit:function(){this.deactivate(),this.teardownViews()},enter:function(){this.activate()},events:null,deactivate:Ember.K,activate:Ember.K,transitionTo:function(){var e=this.router;return e.transitionTo.apply(e,arguments)},replaceWith:function(){return this.router,this.router.replaceWith.apply(this.router,arguments)},send:function(){return this.router.send.apply(this.router,arguments)},setup:function(e){var t=this.controllerFor(this.routeName,e);this.controller=t,this.setupControllers?this.setupControllers(t,e):this.setupController(t,e),this.renderTemplates?this.renderTemplates(e):this.renderTemplate(t,e)},redirect:Ember.K,beforeModel:Ember.K,afterModel:function(e,t){this.redirect(e,t)},contextDidChange:function(){this.currentModel=this.context},model:function(e){var t,n,i,r;for(var a in e)(t=a.match(/^(.*)_id$/))&&(n=t[1],r=e[a]),i=!0;if(!n&&i)return e;if(n){var s=c(n),o=this.router.namespace,l=o[s];return l.find(r)}},serialize:function(e,t){if(1===t.length){var n=t[0],i={};return i[n]=/_id$/.test(n)?o(e,"id"):e,i}},setupController:function(e,t){e&&void 0!==t&&l(e,"model",t)},controllerFor:function(e,t){var n=this.router.container,i=n.lookup("controller:"+e);return i||(t=t||this.modelFor(e),i=Ember.generateController(n,e,t)),i},modelFor:function(e){var t=this.container.lookup("route:"+e),n=this.router.router.activeTransition;if(n){var i=t&&t.routeName||e;if(n.resolvedModels.hasOwnProperty(i))return n.resolvedModels[i]}return t&&t.currentModel},renderTemplate:function(){this.render()},render:function(e,t){"object"!=typeof e||t||(t=e,e=this.routeName),e=e?e.replace(/\//g,"."):this.routeName;var a=this.container,s=a.lookup("view:"+e),l=a.lookup("template:"+e);return s||l?(t=n(this,e,l,t),s=i(s,a,t),"main"===t.outlet&&(this.lastRenderedTemplate=e),r(this,s,t),void 0):(o(this.router,"namespace.LOG_VIEW_LOOKUPS")&&Ember.Logger.info('Could not find "'+e+'" template or view. Nothing will be rendered',{fullName:"template:"+e}),void 0)},willDestroy:function(){this.teardownViews()},teardownViews:function(){this.teardownTopLevelView&&this.teardownTopLevelView();var e=this.teardownOutletViews||[];h(e,function(e){e()}),delete this.teardownTopLevelView,delete this.teardownOutletViews,delete this.lastRenderedTemplate}})}(),function(){Ember.onLoad("Ember.Handlebars",function(){function e(e,r,a){function s(e,t){return"controller"===r[t]?e:Ember.ControllerMixin.detect(e)?s(i(e,"model")):e}var o=t(e,r,a);return n.call(o,s)}var t=Ember.Handlebars.resolveParams,n=Ember.ArrayPolyfills.map,i=Ember.get;Ember.Router.resolveParams=e})}(),function(){var e=Ember.get;Ember.set,Ember.String.fmt,Ember.onLoad("Ember.Handlebars",function(){function t(e,t){return e.hasRoute(t)||(t+=".index"),t}function n(e){var t=e.options.types.slice(1),n=e.options.data;return r(e.context,e.params,{types:t,data:n})}function i(e,i,r){var a,s=r||e.namedRoute;a=t(i,s);var o=[a];return o.concat(n(e.parameters))}var r=Ember.Router.resolveParams,a=Ember.ViewUtils.isSimpleClick,s=Ember.LinkView=Ember.View.extend({tagName:"a",namedRoute:null,currentWhen:null,title:null,activeClass:"active",disabledClass:"disabled",_isDisabled:!1,replace:!1,attributeBindings:["href","title"],classNameBindings:["active","disabled"],eventName:"click",init:function(){this._super();var t=e(this,"eventName");this.on(t,this,this._invoke)},concreteView:Ember.computed(function(){return e(this,"parentView")}).property("parentView"),disabled:Ember.computed(function(e,t){return void 0!==t&&this.set("_isDisabled",t),t?this.get("disabledClass"):!1}),active:Ember.computed(function(){var t=this.get("router"),i=n(this.parameters),r=this.currentWhen+".index",a=t.isActive.apply(t,[this.currentWhen].concat(i))||t.isActive.apply(t,[r].concat(i));return a?e(this,"activeClass"):void 0}).property("namedRoute","router.url"),router:Ember.computed(function(){return this.get("controller").container.lookup("router:main")}),_invoke:function(t){if(!a(t))return!0;if(t.preventDefault(),this.bubbles===!1&&t.stopPropagation(),e(this,"_isDisabled"))return!1;var n=this.get("router"),r=i(this,n);this.get("replace")?n.replaceWith.apply(n,r):n.transitionTo.apply(n,r)},href:Ember.computed(function(){if("a"!==this.get("tagName"))return!1;var e=this.get("router");return e.generate.apply(e,i(this,e))})});s.toString=function(){return"LinkView"},Ember.Handlebars.registerHelper("linkTo",function(e){var t=[].slice.call(arguments,-1)[0],n=[].slice.call(arguments,1,-1),i=t.hash;return i.namedRoute=e,i.currentWhen=i.currentWhen||e,i.disabledBinding=i.disabledWhen,i.parameters={context:this,options:t,params:n},Ember.Handlebars.helpers.view.call(this,s,t)})})}(),function(){Ember.get,Ember.set,Ember.onLoad("Ember.Handlebars",function(e){e.OutletView=Ember.ContainerView.extend(Ember._Metamorph),e.registerHelper("outlet",function(t,n){var i,r;for(t&&t.data&&t.data.isRenderData&&(n=t,t="main"),i=n.data.view;!i.get("template.isTop");)i=i.get("_parentView");return r=n.hash.viewClass||e.OutletView,n.data.view.set("outletSource",i),n.hash.currentViewBinding="_view.outletSource._outlets."+t,e.helpers.view.call(this,r,n)})})}(),function(){Ember.get,Ember.set,Ember.onLoad("Ember.Handlebars",function(){Ember.Handlebars.registerHelper("render",function(e,t,n){var i,r,a,s,o,l;2===arguments.length&&(n=t,t=void 0),"string"==typeof t&&(o=Ember.Handlebars.get(n.contexts[1],t,n),l={singleton:!1}),e=e.replace(/\//g,"."),i=n.data.keywords.controller.container,r=i.lookup("router:main"),s=i.lookup("view:"+e)||i.lookup("view:default");var c=n.hash.controller;a=c?i.lookup("controller:"+c,l):Ember.controllerFor(i,e,o,l),a&&o&&a.set("model",o);var h=n.contexts[1];h&&s.registerObserver(h,t,function(){a.set("model",Ember.Handlebars.get(h,t,n))}),a.set("target",n.data.keywords.controller),n.hash.viewName=Ember.String.camelize(e),n.hash.template=i.lookup("template:"+e),n.hash.controller=a,r&&!o&&r._connectActiveView(e,s),Ember.Handlebars.helpers.view.call(this,s,n)})})}(),function(){Ember.onLoad("Ember.Handlebars",function(){function e(e,n){var i=[];n&&i.push(n);var r=e.options.types.slice(1),a=e.options.data;return i.concat(t(e.context,e.params,{types:r,data:a}))}var t=Ember.Router.resolveParams,n=Ember.ViewUtils.isSimpleClick,i=Ember.Handlebars,r=i.get,a=i.SafeString,s=Ember.ArrayPolyfills.forEach,o=(Ember.get,Array.prototype.slice),l=i.ActionHelper={registeredActions:{}},c=["alt","shift","meta","ctrl"],h=function(e,t){if("undefined"==typeof t)return n(e);var i=!0;return s.call(c,function(n){e[n+"Key"]&&-1===t.indexOf(n)&&(i=!1)}),i};l.registerAction=function(t,n,i){var a=(++Ember.uuid).toString();return l.registeredActions[a]={eventName:n.eventName,handler:function(a){if(!h(a,i))return!0;a.preventDefault(),n.bubbles===!1&&a.stopPropagation();var s=n.target;s=s.target?r(s.root,s.target,s.options):s.root,Ember.run(function(){s.send?s.send.apply(s,e(n.parameters,t)):s[t].apply(s,e(n.parameters))})}},n.view.on("willClearRender",function(){delete l.registeredActions[a]}),a},i.registerHelper("action",function(e){var t,n=arguments[arguments.length-1],i=o.call(arguments,1,-1),r=n.hash,s={eventName:r.on||"click"};s.parameters={context:this,options:n,params:i},s.view=n.data.view;var c,h;r.target?(c=this,h=r.target):(t=n.data.keywords.controller)&&(c=t),s.target={root:c,target:h,options:n},s.bubbles=r.bubbles;var u=l.registerAction(e,s,r.allowedKeys);return new a('data-ember-action="'+u+'"')})})}(),function(){if(Ember.ENV.EXPERIMENTAL_CONTROL_HELPER){var e=Ember.get,t=Ember.set;Ember.Handlebars.registerHelper("control",function(n,i,r){function a(){var e=Ember.Handlebars.get(this,i,r);t(f,"model",e),p.rerender()}2===arguments.length&&(r=i,i=void 0);var s;i&&(s=Ember.Handlebars.get(this,i,r));var o,l,c=r.data.keywords.controller,h=(r.data.keywords.view,e(c,"_childContainers")),u=r.hash.controlID;h.hasOwnProperty(u)?l=h[u]:(o=e(c,"container"),l=o.child(),h[u]=l);var d=n.replace(/\//g,"."),p=l.lookup("view:"+d)||l.lookup("view:default"),f=l.lookup("controller:"+d),g=l.lookup("template:"+n);t(f,"target",c),t(f,"model",s),r.hash.template=g,r.hash.controller=f,i&&(Ember.addObserver(this,i,a),p.one("willDestroyElement",this,function(){Ember.removeObserver(this,i,a)})),Ember.Handlebars.helpers.view.call(this,p,r)})}}(),function(){var e=Ember.get;Ember.set,Ember.ControllerMixin.reopen({transitionToRoute:function(){var t=e(this,"target"),n=t.transitionToRoute||t.transitionTo;return n.apply(t,arguments)},transitionTo:function(){return this.transitionToRoute.apply(this,arguments)},replaceRoute:function(){var t=e(this,"target"),n=t.replaceRoute||t.replaceWith;return n.apply(t,arguments)},replaceWith:function(){return this.replaceRoute.apply(this,arguments)}})}(),function(){var e=Ember.get,t=Ember.set;Ember.View.reopen({init:function(){t(this,"_outlets",{}),this._super()},connectOutlet:function(n,i){if(this._pendingDisconnections&&delete this._pendingDisconnections[n],this._hasEquivalentView(n,i))return i.destroy(),void 0;var r=e(this,"_outlets"),a=e(this,"container"),s=a&&a.lookup("router:main"),o=e(i,"renderedName");t(r,n,i),s&&o&&s._connectActiveView(o,i)},_hasEquivalentView:function(t,n){var i=e(this,"_outlets."+t);return i&&i.constructor===n.constructor&&i.get("template")===n.get("template")&&i.get("context")===n.get("context")},disconnectOutlet:function(e){this._pendingDisconnections||(this._pendingDisconnections={}),this._pendingDisconnections[e]=!0,Ember.run.once(this,"_finishDisconnections")},_finishDisconnections:function(){var n=e(this,"_outlets"),i=this._pendingDisconnections;this._pendingDisconnections=null;for(var r in i)t(n,r,null)}})}(),function(){var e=Ember.run.queues,t=Ember.ArrayPolyfills.indexOf;e.splice(t.call(e,"actions")+1,0,"routerTransitions")}(),function(){Ember.get,Ember.set,Ember.Location={create:function(e){var t=e&&e.implementation,n=this.implementations[t];return n.create.apply(n,arguments)},registerImplementation:function(e,t){this.implementations[e]=t},implementations:{}}}(),function(){var e=Ember.get,t=Ember.set;Ember.NoneLocation=Ember.Object.extend({path:"",getURL:function(){return e(this,"path")},setURL:function(e){t(this,"path",e)},onUpdateURL:function(e){this.updateCallback=e},handleURL:function(e){t(this,"path",e),this.updateCallback(e)},formatURL:function(e){return e}}),Ember.Location.registerImplementation("none",Ember.NoneLocation)}(),function(){var e=Ember.get,t=Ember.set;Ember.HashLocation=Ember.Object.extend({init:function(){t(this,"location",e(this,"location")||window.location)},getURL:function(){return e(this,"location").hash.substr(1)
},setURL:function(n){e(this,"location").hash=n,t(this,"lastSetURL",n)},onUpdateURL:function(n){var i=this,r=Ember.guidFor(this);Ember.$(window).on("hashchange.ember-location-"+r,function(){Ember.run(function(){var r=location.hash.substr(1);e(i,"lastSetURL")!==r&&(t(i,"lastSetURL",null),n(r))})})},formatURL:function(e){return"#"+e},willDestroy:function(){var e=Ember.guidFor(this);Ember.$(window).unbind("hashchange.ember-location-"+e)}}),Ember.Location.registerImplementation("hash",Ember.HashLocation)}(),function(){var e=Ember.get,t=Ember.set,n=!1;Ember.HistoryLocation=Ember.Object.extend({init:function(){t(this,"location",e(this,"location")||window.location),this.initState()},initState:function(){t(this,"history",e(this,"history")||window.history),this.replaceState(this.formatURL(this.getURL()))},rootURL:"/",getURL:function(){var t=e(this,"rootURL"),n=e(this,"location").pathname;return t=t.replace(/\/$/,""),n=n.replace(t,"")},setURL:function(e){e=this.formatURL(e),this.getState()&&this.getState().path!==e&&this.pushState(e)},replaceURL:function(e){e=this.formatURL(e),this.getState()&&this.getState().path!==e&&this.replaceState(e)},getState:function(){return e(this,"history").state},pushState:function(t){e(this,"history").pushState({path:t},null,t),this._previousURL=this.getURL()},replaceState:function(t){e(this,"history").replaceState({path:t},null,t),this._previousURL=this.getURL()},onUpdateURL:function(e){var t=Ember.guidFor(this),i=this;Ember.$(window).on("popstate.ember-location-"+t,function(){(n||(n=!0,i.getURL()!==i._previousURL))&&e(i.getURL())})},formatURL:function(t){var n=e(this,"rootURL");return""!==t&&(n=n.replace(/\/$/,"")),n+t},willDestroy:function(){var e=Ember.guidFor(this);Ember.$(window).unbind("popstate.ember-location-"+e)}}),Ember.Location.registerImplementation("history",Ember.HistoryLocation)}(),function(){function e(t,n,i,r){var a,s=t.name,o=t.incoming,l=t.incomingNames,c=l.length;if(i||(i={}),r||(r=[]),!i.hasOwnProperty(s)){for(r.push(s),i[s]=!0,a=0;c>a;a++)e(o[l[a]],n,i,r);n(t,r),r.pop()}}function t(){this.names=[],this.vertices={}}t.prototype.add=function(e){if(e){if(this.vertices.hasOwnProperty(e))return this.vertices[e];var t={name:e,incoming:{},incomingNames:[],hasOutgoing:!1,value:null};return this.vertices[e]=t,this.names.push(e),t}},t.prototype.map=function(e,t){this.add(e).value=t},t.prototype.addEdge=function(t,n){function i(e,t){if(e.name===n)throw new Error("cycle detected: "+n+" <- "+t.join(" <- "))}if(t&&n&&t!==n){var r=this.add(t),a=this.add(n);a.incoming.hasOwnProperty(t)||(e(r,i),r.hasOutgoing=!0,a.incoming[t]=r,a.incomingNames.push(t))}},t.prototype.topsort=function(t){var n,i,r={},a=this.vertices,s=this.names,o=s.length;for(n=0;o>n;n++)i=a[s[n]],i.hasOutgoing||e(i,t,r)},t.prototype.addEdges=function(e,t,n,i){var r;if(this.map(e,t),n)if("string"==typeof n)this.addEdge(e,n);else for(r=0;r<n.length;r++)this.addEdge(e,n[r]);if(i)if("string"==typeof i)this.addEdge(i,e);else for(r=0;r<i.length;r++)this.addEdge(i[r],e)},Ember.DAG=t}(),function(){var e=Ember.get,t=Ember.String.classify,n=Ember.String.capitalize,i=Ember.String.decamelize;Ember.DefaultResolver=Ember.Object.extend({namespace:null,resolve:function(e){var t=this.parseName(e),n=this[t.resolveMethodName];if(n){var i=n.call(this,t);if(i)return i}return this.resolveOther(t)},parseName:function(i){var r=i.split(":"),a=r[0],s=r[1],o=s,l=e(this,"namespace"),c=l;if("template"!==a&&-1!==o.indexOf("/")){var h=o.split("/");o=h[h.length-1];var u=n(h.slice(0,-1).join("."));c=Ember.Namespace.byName(u)}return{fullName:i,type:a,fullNameWithoutType:s,name:o,root:c,resolveMethodName:"resolve"+t(a)}},resolveTemplate:function(e){var t=e.fullNameWithoutType.replace(/\./g,"/");return Ember.TEMPLATES[t]?Ember.TEMPLATES[t]:(t=i(t),Ember.TEMPLATES[t]?Ember.TEMPLATES[t]:void 0)},useRouterNaming:function(e){e.name=e.name.replace(/\./g,"_"),"basic"===e.name&&(e.name="")},resolveController:function(e){return this.useRouterNaming(e),this.resolveOther(e)},resolveRoute:function(e){return this.useRouterNaming(e),this.resolveOther(e)},resolveView:function(e){return this.useRouterNaming(e),this.resolveOther(e)},resolveOther:function(n){var i=t(n.name)+t(n.type),r=e(n.root,i);return r?r:void 0}})}(),function(){function e(e){this._container=e}function t(e){var t=e.get("resolver")||Ember.DefaultResolver,n=t.create({namespace:e});return function(e){return n.resolve(e)}}function n(e){var t=e.split(":",2),n=t[0],i=t[1];if("template"!==n){var r=i;return r.indexOf(".")>-1&&(r=r.replace(/\.(.)/g,function(e){return e.charAt(1).toUpperCase()})),i.indexOf("_")>-1&&(r=r.replace(/_(.)/g,function(e){return e.charAt(1).toUpperCase()})),n+":"+r}return e}var i=Ember.get,r=Ember.set;e.deprecate=function(e){return function(){var t=this._container;return t[e].apply(t,arguments)}},e.prototype={_container:null,lookup:e.deprecate("lookup"),resolve:e.deprecate("resolve"),register:e.deprecate("register")};var a=Ember.Application=Ember.Namespace.extend(Ember.DeferredMixin,{rootElement:"body",eventDispatcher:null,customEvents:null,_readinessDeferrals:1,init:function(){this.$||(this.$=Ember.$),this.__container__=this.buildContainer(),this.Router=this.Router||this.defaultRouter(),this.Router&&(this.Router.namespace=this),this._super(),this.scheduleInitialize(),Ember.LOG_VERSION&&(Ember.LOG_VERSION=!1)},buildContainer:function(){var e=this.__container__=a.buildContainer(this);return e},defaultRouter:function(){return void 0===this.router?Ember.Router.extend():void 0},scheduleInitialize:function(){var e=this;!this.$||this.$.isReady?Ember.run.schedule("actions",e,"_initialize"):this.$().ready(function(){Ember.run(e,"_initialize")})},deferReadiness:function(){this._readinessDeferrals++},advanceReadiness:function(){this._readinessDeferrals--,0===this._readinessDeferrals&&Ember.run.once(this,this.didBecomeReady)},register:function(){var e=this.__container__;e.register.apply(e,arguments)},inject:function(){var e=this.__container__;e.injection.apply(e,arguments)},initialize:function(){},_initialize:function(){return this.isDestroyed?void 0:(this.register("router:main",this.Router),this.runInitializers(),Ember.runLoadHooks("application",this),this.advanceReadiness(),this)},reset:function(){function e(){var e=this.__container__.lookup("router:main");e.reset(),Ember.run(this.__container__,"destroy"),this.buildContainer(),Ember.run.schedule("actions",this,function(){this._initialize(),this.startRouting()})}this._readinessDeferrals=1,Ember.run.join(this,e)},runInitializers:function(){var e,t,n=i(this.constructor,"initializers"),r=this.__container__,a=new Ember.DAG,s=this;for(e=0;e<n.length;e++)t=n[e],a.addEdges(t.name,t.initialize,t.before,t.after);a.topsort(function(e){var t=e.value;t(r,s)})},didBecomeReady:function(){this.setupEventDispatcher(),this.ready(),this.startRouting(),Ember.testing||(Ember.Namespace.processAll(),Ember.BOOTED=!0),this.resolve(this)},setupEventDispatcher:function(){var e=i(this,"customEvents"),t=i(this,"rootElement"),n=this.__container__.lookup("event_dispatcher:main");r(this,"eventDispatcher",n),n.setup(e,t)},startRouting:function(){var e=this.__container__.lookup("router:main");e&&e.startRouting()},handleURL:function(e){var t=this.__container__.lookup("router:main");t.handleURL(e)},ready:Ember.K,resolver:null,willDestroy:function(){Ember.BOOTED=!1,this.__container__.destroy()},initializer:function(e){this.constructor.initializer(e)}});Ember.Application.reopenClass({concatenatedProperties:["initializers"],initializers:Ember.A(),initializer:function(e){var t=i(this,"initializers");t.push(e)},buildContainer:function(i){var r=new Ember.Container;return Ember.Container.defaultContainer=new e(r),r.set=Ember.set,r.normalize=n,r.resolver=t(i),r.optionsForType("view",{singleton:!1}),r.optionsForType("template",{instantiate:!1}),r.register("application:main",i,{instantiate:!1}),r.register("controller:basic",Ember.Controller,{instantiate:!1}),r.register("controller:object",Ember.ObjectController,{instantiate:!1}),r.register("controller:array",Ember.ArrayController,{instantiate:!1}),r.register("route:basic",Ember.Route,{instantiate:!1}),r.register("event_dispatcher:main",Ember.EventDispatcher),r.injection("router:main","namespace","application:main"),r.injection("controller","target","router:main"),r.injection("controller","namespace","application:main"),r.injection("route","router","router:main"),r}}),Ember.runLoadHooks("Ember.Application",Ember.Application)}(),function(){function e(e){for(var n,i=t(e,"needs"),r=t(e,"container"),a=!0,s=0,o=i.length;o>s;s++)n=i[s],-1===n.indexOf(":")&&(n="controller:"+n),r.has(n)||(a=!1);return a}var t=Ember.get;Ember.set;var n=Ember.Object.extend({controller:null,unknownProperty:function(e){for(var n,i=t(this,"controller"),r=t(i,"needs"),a=i.get("container"),s=0,o=r.length;o>s;s++)if(n=r[s],n===e)return a.lookup("controller:"+e)}});Ember.ControllerMixin.reopen({concatenatedProperties:["needs"],needs:[],init:function(){this._super.apply(this,arguments),!e(this)},controllerFor:function(e){var n=t(this,"container");return n.lookup("controller:"+e)},controllers:Ember.computed(function(){return n.create({controller:this})})})}(),function(){var e=Ember.get,t=Ember.set;Ember.State=Ember.Object.extend(Ember.Evented,{parentState:null,start:null,name:null,path:Ember.computed(function(){var t=e(this,"parentState.path"),n=e(this,"name");return t&&(n=t+"."+n),n}),trigger:function(e){this[e]&&this[e].apply(this,[].slice.call(arguments,1)),this._super.apply(this,arguments)},init:function(){var n=e(this,"states");t(this,"childStates",Ember.A()),t(this,"eventTransitions",e(this,"eventTransitions")||{});var i,r,a;if(n)for(i in n)this.setupChild(n,i,n[i]);else{n={};for(i in this)"constructor"!==i&&(r=this[i])&&((a=r.transitionTarget)&&(this.eventTransitions[i]=a),this.setupChild(n,i,r));t(this,"states",n)}t(this,"pathsCaches",{})},setPathsCache:function(t,n,i){var r=Ember.guidFor(t.constructor),a=e(this,"pathsCaches"),s=a[r]||{};s[n]=i,a[r]=s},getPathsCache:function(t,n){var i=Ember.guidFor(t.constructor),r=e(this,"pathsCaches"),a=r[i]||{};return a[n]},setupChild:function(n,i,r){if(!r)return!1;var a;return r instanceof Ember.State?(t(r,"name",i),a=r,a.container=this.container):Ember.State.detect(r)&&(a=r.create({name:i,container:this.container})),a instanceof Ember.State?(t(a,"parentState",this),e(this,"childStates").pushObject(a),n[i]=a,a):void 0},lookupEventTransition:function(e){for(var t,n=this;n&&!t;)t=n.eventTransitions[e],n=n.get("parentState");return t},isLeaf:Ember.computed(function(){return!e(this,"childStates").length}),hasContext:!0,setup:Ember.K,enter:Ember.K,exit:Ember.K}),Ember.State.reopenClass({transitionTo:function(e){var t=function(t,n){var i=[],r=Ember.$&&Ember.$.Event;n&&r&&n instanceof r?n.hasOwnProperty("contexts")&&(i=n.contexts.slice()):i=[].slice.call(arguments,1),i.unshift(e),t.transitionTo.apply(t,i)};return t.transitionTarget=e,t}})}(),function(){var e=Ember.get,t=Ember.set,n=Ember.String.fmt,i=Ember.ArrayPolyfills.forEach,r=function(e){this.enterStates=e.enterStates.slice(),this.exitStates=e.exitStates.slice(),this.resolveState=e.resolveState,this.finalState=e.enterStates[e.enterStates.length-1]||e.resolveState};r.prototype={normalize:function(e,t){return this.matchContextsToStates(t),this.addInitialStates(),this.removeUnchangedContexts(e),this},matchContextsToStates:function(t){for(var n,i,r=this.enterStates.length-1,a=[];t.length>0;){if(r>=0)n=this.enterStates[r--];else{if(this.enterStates.length){if(n=e(this.enterStates[0],"parentState"),!n)throw"Cannot match all contexts to states"}else n=this.resolveState;this.enterStates.unshift(n),this.exitStates.unshift(n)}i=e(n,"hasContext")?t.pop():null,a.unshift(i)}this.contexts=a},addInitialStates:function(){for(var t,n=this.finalState;;){if(t=e(n,"initialState")||"start",n=e(n,"states."+t),!n)break;this.finalState=n,this.enterStates.push(n),this.contexts.push(void 0)}},removeUnchangedContexts:function(e){for(;this.enterStates.length>0&&this.enterStates[0]===this.exitStates[0];){if(this.enterStates.length===this.contexts.length){if(e.getStateMeta(this.enterStates[0],"context")!==this.contexts[0])break;this.contexts.shift()}this.resolveState=this.enterStates.shift(),this.exitStates.shift()}}};var a=function(t,i,r){var o,l,c,h=this.enableLogging,u=r?"unhandledEvent":t,d=i[u];if(o=[].slice.call(arguments,3),"function"==typeof d)return h&&(r?Ember.Logger.log(n("STATEMANAGER: Unhandled event '%@' being sent to state %@.",[t,e(i,"path")])):Ember.Logger.log(n("STATEMANAGER: Sending event '%@' to state %@.",[t,e(i,"path")]))),c=o,r&&c.unshift(t),c.unshift(this),d.apply(i,c);var p=e(i,"parentState");return p?(l=o,l.unshift(t,p,r),a.apply(this,l)):r?void 0:s.call(this,t,o,!0)},s=function(t,n,i){return n.unshift(t,e(this,"currentState"),i),a.apply(this,n)};Ember.StateManager=Ember.State.extend({init:function(){this._super(),t(this,"stateMeta",Ember.Map.create());var n=e(this,"initialState");!n&&e(this,"states.start")&&(n="start"),n&&this.transitionTo(n)},stateMetaFor:function(t){var n=e(this,"stateMeta"),i=n.get(t);return i||(i={},n.set(t,i)),i},setStateMeta:function(e,n,i){return t(this.stateMetaFor(e),n,i)},getStateMeta:function(t,n){return e(this.stateMetaFor(t),n)},currentState:null,currentPath:Ember.computed.alias("currentState.path"),transitionEvent:"setup",errorOnUnhandledEvent:!0,send:function(e){var t=[].slice.call(arguments,1);return s.call(this,e,t,!1)},unhandledEvent:function(t,n){if(e(this,"errorOnUnhandledEvent"))throw new Ember.Error(this.toString()+" could not respond to event "+n+" in state "+e(this,"currentState.path")+".")},getStateByPath:function(t,n){for(var i=n.split("."),r=t,a=0,s=i.length;s>a&&(r=e(e(r,"states"),i[a]),r);a++);return r},findStateByPath:function(t,n){for(var i;!i&&t;)i=this.getStateByPath(t,n),t=e(t,"parentState");return i},getStatesInPath:function(t,n){if(!n||""===n)return void 0;for(var i,r,a=n.split("."),s=[],o=0,l=a.length;l>o;o++){if(i=e(t,"states"),!i)return void 0;if(r=e(i,a[o]),!r)return void 0;t=r,s.push(r)}return s},goToState:function(){return this.transitionTo.apply(this,arguments)},transitionTo:function(t,n){if(!Ember.isEmpty(t)){var i=n?Array.prototype.slice.call(arguments,1):[],a=e(this,"currentState")||this,s=this.contextFreeTransition(a,t),o=new r(s).normalize(this,i);this.enterState(o),this.triggerSetupContext(o)}},contextFreeTransition:function(t,n){var i=t.getPathsCache(this,n);if(i)return i;for(var r=this.getStatesInPath(t,n),a=[],s=t;s&&!r;){if(a.unshift(s),s=e(s,"parentState"),!s&&(r=this.getStatesInPath(this,n),!r))return;r=this.getStatesInPath(s,n)}for(;r.length>0&&r[0]===a[0];)s=r.shift(),a.shift();var o={exitStates:a,enterStates:r,resolveState:s};return t.setPathsCache(this,n,o),o},triggerSetupContext:function(t){var n=t.contexts,r=t.enterStates.length-n.length,a=t.enterStates,s=e(this,"transitionEvent");i.call(a,function(e,t){e.trigger(s,this,n[t-r])},this)},getState:function(t){var n=e(this,t),i=e(this,"parentState");return n?n:i?i.getState(t):void 0},enterState:function(n){var r=this.enableLogging,a=n.exitStates.slice(0).reverse();i.call(a,function(e){e.trigger("exit",this)},this),i.call(n.enterStates,function(t){r&&Ember.Logger.log("STATEMANAGER: Entering "+e(t,"path")),t.trigger("enter",this)},this),t(this,"currentState",n.finalState)}})}()}(),"undefined"==typeof location||"localhost"!==location.hostname&&"127.0.0.1"!==location.hostname||Ember.Logger.warn("You are running a production build of Ember on localhost and won't receive detailed error messages. If you want full error messages please use the non-minified build provided on the Ember website."),function(){var e,t;!function(){var n={},i={};e=function(e,t,i){n[e]={deps:t,callback:i}},t=function(e){if(i[e])return i[e];i[e]={};for(var r,a=n[e],s=a.deps,o=a.callback,l=[],c=0,h=s.length;h>c;c++)"exports"===s[c]?l.push(r={}):l.push(t(s[c]));var u=o.apply(this,l);return i[e]=r||u}}(),function(){window.DS=Ember.Namespace.create()}(),function(){Ember.set,Ember.onLoad("Ember.Application",function(e){e.initializer({name:"store",initialize:function(e,t){t.register("store:main",t.Store),e.lookup("store:main")}}),e.initializer({name:"injectStore",initialize:function(e,t){t.inject("controller","store","store:main"),t.inject("route","store","store:main")}})})}(),function(){Ember.Date=Ember.Date||{};var e=Date.parse,t=[1,4,5,6,7,10,11];Ember.Date.parse=function(n){var i,r,a=0;if(r=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/.exec(n)){for(var s,o=0;s=t[o];++o)r[s]=+r[s]||0;r[2]=(+r[2]||1)-1,r[3]=+r[3]||1,"Z"!==r[8]&&void 0!==r[9]&&(a=60*r[10]+r[11],"+"===r[9]&&(a=0-a)),i=Date.UTC(r[1],r[2],r[3],r[4],r[5]+a,r[6],r[7])}else i=e?e(n):0/0;return i},(Ember.EXTEND_PROTOTYPES===!0||Ember.EXTEND_PROTOTYPES.Date)&&(Date.parse=Ember.Date.parse)}(),function(){var e=Ember.Evented,t=Ember.DeferredMixin,n=Ember.run,i=Ember.get,r=Ember.Mixin.create(e,t,{init:function(){this._super.apply(this,arguments),this.one("didLoad",this,function(){n(this,"resolve",this)}),this.one("becameError",this,function(){n(this,"reject",this)}),i(this,"isLoaded")&&this.trigger("didLoad")}});DS.LoadPromise=r}(),function(){var e=Ember.get;Ember.set;var t=DS.LoadPromise;DS.RecordArray=Ember.ArrayProxy.extend(t,{type:null,content:null,isLoaded:!1,isUpdating:!1,store:null,objectAtContent:function(t){var n=e(this,"content"),i=n.objectAt(t),r=e(this,"store");return i?r.recordForReference(i):void 0},materializedObjectAt:function(t){var n=e(this,"content").objectAt(t);if(n)return e(this,"store").recordIsMaterialized(n)?this.objectAt(t):void 0},update:function(){if(!e(this,"isUpdating")){var t=e(this,"store"),n=e(this,"type");t.fetchAll(n,this)}},addReference:function(t){e(this,"content").addObject(t)},removeReference:function(t){e(this,"content").removeObject(t)}})}(),function(){var e=Ember.get;DS.FilteredRecordArray=DS.RecordArray.extend({filterFunction:null,isLoaded:!0,replace:function(){var t=e(this,"type").toString();throw new Error("The result of a client-side filter (on "+t+") is immutable.")},updateFilter:Ember.observer(function(){var t=e(this,"manager");t.updateFilter(this,e(this,"type"),e(this,"filterFunction"))},"filterFunction")})}(),function(){var e=Ember.get;Ember.set,DS.AdapterPopulatedRecordArray=DS.RecordArray.extend({query:null,replace:function(){var t=e(this,"type").toString();throw new Error("The result of a server query (on "+t+") is immutable.")},load:function(e){this.setProperties({content:Ember.A(e),isLoaded:!0}),Ember.run.once(this,"trigger","didLoad")}})}(),function(){var e=Ember.get,t=Ember.set;DS.ManyArray=DS.RecordArray.extend({init:function(){this._super.apply(this,arguments),this._changesToSync=Ember.OrderedSet.create()},owner:null,isPolymorphic:!1,isLoaded:!1,loadingRecordsCount:function(e){this.loadingRecordsCount=e},loadedRecord:function(){this.loadingRecordsCount--,0===this.loadingRecordsCount&&(t(this,"isLoaded",!0),this.trigger("didLoad"))},fetch:function(){var t=e(this,"content"),n=e(this,"store"),i=e(this,"owner");n.fetchUnloadedReferences(t,i)},replaceContent:function(t,n,i){i=i.map(function(t){return e(t,"_reference")},this),this._super(t,n,i)},arrangedContentDidChange:function(){this.fetch()},arrayContentWillChange:function(t,n){var i=e(this,"owner"),r=e(this,"name");if(!i._suspendedRelationships)for(var a=t;t+n>a;a++){var s=e(this,"content").objectAt(a),o=DS.RelationshipChange.createChange(i.get("_reference"),s,e(this,"store"),{parentType:i.constructor,changeType:"remove",kind:"hasMany",key:r});this._changesToSync.add(o)}return this._super.apply(this,arguments)},arrayContentDidChange:function(t,n,i){this._super.apply(this,arguments);var r=e(this,"owner"),a=e(this,"name"),s=e(this,"store");if(!r._suspendedRelationships){for(var o=t;t+i>o;o++){var l=e(this,"content").objectAt(o),c=DS.RelationshipChange.createChange(r.get("_reference"),l,s,{parentType:r.constructor,changeType:"add",kind:"hasMany",key:a});c.hasManyName=a,this._changesToSync.add(c)}this._changesToSync.forEach(function(e){e.sync()}),DS.OneToManyChange.ensureSameTransaction(this._changesToSync,s),this._changesToSync.clear()}},createRecord:function(t,n){var i,r=e(this,"owner"),a=e(r,"store"),s=e(this,"type");return n=n||e(r,"transaction"),i=a.createRecord.call(a,s,t,n),this.pushObject(i),i}})}(),function(){var e=Ember.get,t=Ember.set,n=Ember.EnumerableUtils.forEach;DS.Transaction=Ember.Object.extend({init:function(){t(this,"records",Ember.OrderedSet.create())},createRecord:function(t,n){var i=e(this,"store");return i.createRecord(t,n,this)},isEqualOrDefault:function(t){return this===t||t===e(this,"store.defaultTransaction")?!0:void 0},isDefault:Ember.computed(function(){return this===e(this,"store.defaultTransaction")}).volatile(),add:function(t){var n=e(this,"store"),i=e(n,"_adapter"),r=e(i,"serializer");r.eachEmbeddedRecord(t,function(e,t){"load"!==t&&this.add(e)},this),this.adoptRecord(t)},relationships:Ember.computed(function(){var t=Ember.OrderedSet.create(),n=e(this,"records"),i=e(this,"store");return n.forEach(function(n){for(var r=e(n,"_reference"),a=i.relationshipChangesFor(r),s=0;s<a.length;s++)t.add(a[s])}),t}).volatile(),commitDetails:Ember.computed(function(){var t=Ember.MapWithDefault.create({defaultValue:function(){return{created:Ember.OrderedSet.create(),updated:Ember.OrderedSet.create(),deleted:Ember.OrderedSet.create()}}}),n=e(this,"records"),i=e(this,"store");return n.forEach(function(n){if(e(n,"isDirty")){n.send("willCommit");var r=i.adapterForType(n.constructor);t.get(r)[e(n,"dirtyType")].add(n)}}),t}).volatile(),commit:function(){var n=e(this,"store");e(this,"isDefault")&&t(n,"defaultTransaction",n.transaction()),this.removeCleanRecords();var i=e(this,"commitDetails"),r=e(this,"relationships");i.forEach(function(e,t){e.commit(n,t)}),r.forEach(function(e){e.destroy()})},rollback:function(){e(this,"store");var t=Ember.OrderedSet.create(),n=e(this,"relationships");n.forEach(function(e){t.add(e.firstRecordReference),t.add(e.secondRecordReference),e.destroy()});var i=e(this,"records");i.forEach(function(e){e.get("isDirty")&&e.send("rollback")}),this.removeCleanRecords(),t.forEach(function(e){if(e&&e.record){var t=e.record;t.suspendRelationshipObservers(function(){t.reloadHasManys()})}},this)},remove:function(t){var n=e(this,"store.defaultTransaction");n.adoptRecord(t)},removeCleanRecords:function(){var t=e(this,"records");t.forEach(function(e){e.get("isDirty")||this.remove(e)},this)},adoptRecord:function(n){var i=e(n,"transaction");i&&i.removeRecord(n),e(this,"records").add(n),t(n,"transaction",this)},removeRecord:function(t){e(this,"records").remove(t)}}),DS.Transaction.reopenClass({ensureSameTransaction:function(t){var i=Ember.A();n(t,function(t){t&&i.pushObject(e(t,"transaction"))});var r=i.reduce(function(t,n){return e(n,"isDefault")||null!==t?t:n},null);return r?n(t,function(e){e&&r.add(e)}):r=i.objectAt(0),r}})}(),function(){function e(e){var t=Ember.meta(e,!0),n="DS.Mappable",i=t[n];return i||(t[n]={}),t.hasOwnProperty(n)||(t[n]=Ember.create(t[n])),t[n]}Ember.get;var t=function(e){return e},n=function(e){return e},i=function(e,t){return t};DS._Mappable=Ember.Mixin.create({createInstanceMapFor:function(t){var n=e(this);if(n.values=n.values||{},n.values[t])return n.values[t];for(var i=n.values[t]=new Ember.Map,r=this.constructor;r&&r!==DS.Store;)this._copyMap(t,r,i),r=r.superclass;return n.values[t]=i,i},_copyMap:function(r,a,s){function o(e,r){var o=(a.transformMapKey||n)(e,r),l=(a.transformMapValue||i)(e,r),c=s.get(o),h=l;c&&(h=(this.constructor.resolveMapConflict||t)(c,h)),s.set(o,h)}var l=e(a),c=l[r];c&&c.forEach(o,this)}}),DS._Mappable.generateMapFunctionFor=function(t,n){return function(i,r){var a=e(this),s=a[t]||Ember.MapWithDefault.create({defaultValue:function(){return{}}});n.call(this,i,r,s),a[t]=s}}}(),function(){var e=Ember.get,t=Ember.set,n=Ember.run.once,i=Ember.isNone,r=Ember.EnumerableUtils.forEach,a=Ember.EnumerableUtils.map,s="unloaded",o="loading",l={materialized:!0},c={created:!0},h=function(e){return null==e?null:e+""};DS.Store=Ember.Object.extend(DS._Mappable,{init:function(){(!e(DS,"defaultStore")||e(this,"isDefaultStore"))&&t(DS,"defaultStore",this),this.typeMaps={},this.recordArrayManager=DS.RecordArrayManager.create({store:this}),this.relationshipChanges={},t(this,"currentTransaction",this.transaction()),t(this,"defaultTransaction",this.transaction())},transaction:function(){return DS.Transaction.create({store:this})},materializeData:function(t){var n=e(t,"_reference"),i=n.data,r=this.adapterForType(t.constructor);n.data=l,t.setupData(),i!==c&&r.materialize(t,i,n.prematerialized)},adapter:Ember.computed(function(){return!Ember.testing,"DS.RESTAdapter"}).property(),serialize:function(e,t){return this.adapterForType(e.constructor).serialize(e,t)},_adapter:Ember.computed(function(){var t=e(this,"adapter");return"string"==typeof t&&(t=e(this,t,!1)||e(Ember.lookup,t)),DS.Adapter.detect(t)&&(t=t.create()),t}).property("adapter"),clientIdCounter:1,createRecord:function(n,r,a){r=r||{};var s=n._create({store:this});a=a||e(this,"defaultTransaction"),a.adoptRecord(s);var o=r.id;if(i(o)){var l=this.adapterForType(n);l&&l.generateIdForRecord&&(o=h(l.generateIdForRecord(this,s)),r.id=o)}o=h(o);var u=this.createReference(n,o);return u.data=c,t(s,"_reference",u),u.record=s,s.loadedData(),s.setupData(),s.setProperties(r),Ember.run(s,"resolve",s),s},deleteRecord:function(e){e.deleteRecord()},unloadRecord:function(e){e.unloadRecord()},find:function(e,t){return void 0===t?this.findAll(e):"object"===Ember.typeOf(t)?this.findQuery(e,t):this.findById(e,h(t))},findById:function(e,t){var n;if(this.hasReferenceForId(e,t)&&(n=this.referenceForId(e,t),n.data!==s))return this.recordForReference(n);n||(n=this.createReference(e,t)),n.data=o;var i=this.materializeRecord(n);if(n.data===o){var r=this.adapterForType(e),a=this,l=r.find(this,e,t);l&&l.then&&l.then(null,function(){a.recordWasError(i)})}return i},reloadRecord:function(t){var n=t.constructor,i=this.adapterForType(n),r=this,a=e(t,"id"),s=i.find(this,n,a);s&&s.then&&s.then(null,function(){r.recordWasError(t)})},recordForReference:function(e){var t=e.record;return t||(t=this.materializeRecord(e)),t},unloadedReferences:function(e){for(var t=[],n=0,i=e.length;i>n;n++){var r=e[n];r.data===s&&(t.push(r),r.data=o)}return t},fetchUnloadedReferences:function(e,t){var n=this.unloadedReferences(e);this.fetchMany(n,t)},fetchMany:function(e,t){if(e.length){var n=Ember.MapWithDefault.create({defaultValue:function(){return Ember.A()}});r(e,function(e){n.get(e.type).push(e)}),r(n,function(e){var i=n.get(e),r=a(i,function(e){return e.id}),s=this.adapterForType(e);s.findMany(this,e,r,t)},this)}},hasReferenceForId:function(e,t){return t=h(t),!!this.typeMapFor(e).idToReference[t]},referenceForId:function(e,t){t=h(t);var n=this.typeMapFor(e).idToReference[t];return n||(n=this.createReference(e,t),n.data=s),n},findMany:function(e,t,n,i){if(!Ember.isArray(t)){var r=this.adapterForType(e);return r&&r.findHasMany&&r.findHasMany(this,n,i,t),this.recordArrayManager.createManyArray(e,Ember.A())}var s,o,l,c=a(t,function(t){return"object"!=typeof t&&null!==t?this.referenceForId(e,t):t},this),h=this.unloadedReferences(c),u=this.recordArrayManager.createManyArray(e,Ember.A(c));if(this.loadingRecordArrays,u.loadingRecordsCount(h.length),h.length){for(o=0,l=h.length;l>o;o++)s=h[o],this.recordArrayManager.registerWaitingRecordArray(u,s);this.fetchMany(h,n)}else u.set("isLoaded",!0),Ember.run.once(function(){u.trigger("didLoad")});return u},findQuery:function(e,t){var n=DS.AdapterPopulatedRecordArray.create({type:e,query:t,content:Ember.A([]),store:this}),i=this.adapterForType(e);return i.findQuery(this,e,t,n),n},findAll:function(e){return this.fetchAll(e,this.all(e))},fetchAll:function(e,n){var i=this.adapterForType(e),r=this.typeMapFor(e).metadata.since;return t(n,"isUpdating",!0),i.findAll(this,e,r),n},metaForType:function(e,n,i){var r=this.typeMapFor(e).metadata;t(r,n,i)},didUpdateAll:function(e){var n=this.typeMapFor(e).findAllCache;t(n,"isUpdating",!1)},all:function(e){var t=this.typeMapFor(e),n=t.findAllCache;if(n)return n;var i=DS.RecordArray.create({type:e,content:Ember.A([]),store:this,isLoaded:!0});return this.recordArrayManager.registerFilteredRecordArray(i,e),t.findAllCache=i,i},filter:function(e,t,n){3===arguments.length?this.findQuery(e,t):2===arguments.length&&(n=t);var i=DS.FilteredRecordArray.create({type:e,content:Ember.A([]),store:this,manager:this.recordArrayManager,filterFunction:n});return this.recordArrayManager.registerFilteredRecordArray(i,e,n),i},recordIsLoaded:function(e,t){return this.hasReferenceForId(e,t)?"object"==typeof this.referenceForId(e,t).data:!1},dataWasUpdated:function(t,n,i){e(i,"isDeleted")||"object"==typeof n.data&&this.recordArrayManager.referenceDidChange(n)},save:function(){n(this,"commitDefaultTransaction")},commit:Ember.aliasMethod("save"),commitDefaultTransaction:function(){e(this,"defaultTransaction").commit()},scheduleSave:function(t){e(this,"currentTransaction").add(t),n(this,"flushSavedRecords")},flushSavedRecords:function(){e(this,"currentTransaction").commit(),t(this,"currentTransaction",this.transaction())},didSaveRecord:function(e,t){t?(this.updateId(e,t),this.updateRecordData(e,t)):this.didUpdateAttributes(e),e.adapterDidCommit()},didSaveRecords:function(e,t){var n=0;e.forEach(function(e){this.didSaveRecord(e,t&&t[n++])},this)},recordWasInvalid:function(e,t){e.adapterDidInvalidate(t)},recordWasError:function(e){e.adapterDidError()},didUpdateAttribute:function(e,t,n){e.adapterDidUpdateAttribute(t,n)},didUpdateAttributes:function(e){e.eachAttribute(function(t){this.didUpdateAttribute(e,t)},this)},didUpdateRelationship:function(t,n){var i=e(t,"_reference").clientId,r=this.relationshipChangeFor(i,n);r&&r.adapterDidUpdate()},didUpdateRelationships:function(t){var n=this.relationshipChangesFor(e(t,"_reference"));for(var i in n)n.hasOwnProperty(i)&&n[i].adapterDidUpdate()},didReceiveId:function(t,n){var i=this.typeMapFor(t.constructor),r=e(t,"clientId");e(t,"id"),i.idToCid[n]=r,this.clientIdToId[r]=n},updateRecordData:function(t,n){e(t,"_reference").data=n,t.didChangeData()},updateId:function(t,n){var i=t.constructor,r=this.typeMapFor(i),a=e(t,"_reference"),s=(e(t,"id"),this.preprocessData(i,n));r.idToReference[s]=a,a.id=s},preprocessData:function(e,t){return this.adapterForType(e).extractId(e,t)},typeMapFor:function(t){var n,i=e(this,"typeMaps"),r=Ember.guidFor(t);return(n=i[r])?n:(n={idToReference:{},references:[],metadata:{}},i[r]=n,n)},load:function(e,t,i){var r;("number"==typeof t||"string"==typeof t)&&(r=t,t=i,i=null),i&&i.id?r=i.id:void 0===r&&(r=this.preprocessData(e,t)),r=h(r);var a=this.referenceForId(e,r);return a.record&&n(a.record,"loadedData"),a.data=t,a.prematerialized=i,this.recordArrayManager.referenceDidChange(a),a},loadMany:function(e,t,n){return void 0===n&&(n=t,t=a(n,function(t){return this.preprocessData(e,t)},this)),a(t,function(t,i){return this.load(e,t,n[i])},this)},loadHasMany:function(e,n,i){var r=e.get(n+".type"),s=a(i,function(e){return{id:e,type:r}});e.materializeHasMany(n,s),e.hasManyDidChange(n);var o=e.cacheFor(n);o&&(t(o,"isLoaded",!0),o.trigger("didLoad"))},createReference:function(e,t){var n=this.typeMapFor(e),i=n.idToReference,r={id:t,clientId:this.clientIdCounter++,type:e};return t&&(i[t]=r),n.references.push(r),r},materializeRecord:function(t){var n=t.type._create({id:t.id,store:this,_reference:t});return t.record=n,e(this,"defaultTransaction").adoptRecord(n),n.loadingData(),"object"==typeof t.data&&n.loadedData(),n},dematerializeRecord:function(t){var n=e(t,"_reference"),i=n.type,r=n.id,a=this.typeMapFor(i);t.updateRecordArrays(),r&&delete a.idToReference[r];var s=a.references.indexOf(n);a.references.splice(s,1)},willDestroy:function(){e(DS,"defaultStore")===this&&t(DS,"defaultStore",null)},addRelationshipChangeFor:function(e,t,n,i,r){var a=e.clientId,s=n?n.clientId:n,o=t+i,l=this.relationshipChanges;a in l||(l[a]={}),s in l[a]||(l[a][s]={}),o in l[a][s]||(l[a][s][o]={}),l[a][s][o][r.changeType]=r},removeRelationshipChangeFor:function(e,t,n,i,r){var a=e.clientId,s=n?n.clientId:n,o=this.relationshipChanges,l=t+i;a in o&&s in o[a]&&l in o[a][s]&&delete o[a][s][l][r]},relationshipChangeFor:function(e,t,n,i,r){var a=e.clientId,s=n?n.clientId:n,o=this.relationshipChanges,l=t+i;return a in o&&s in o[a]?r?o[a][s][l][r]:o[a][s][l].add||o[a][s][l].remove:void 0},relationshipChangePairsFor:function(e){var t=[];if(!e)return t;var n=this.relationshipChanges[e.clientId];for(var i in n)if(n.hasOwnProperty(i))for(var r in n[i])n[i].hasOwnProperty(r)&&t.push(n[i][r]);return t},relationshipChangesFor:function(e){var t=[];if(!e)return t;var n=this.relationshipChangePairsFor(e);
return r(n,function(e){var n=e.add,i=e.remove;n&&t.push(n),i&&t.push(i)}),t},adapterForType:function(e){this._adaptersMap=this.createInstanceMapFor("adapters");var t=this._adaptersMap.get(e);return t?t:this.get("_adapter")},recordAttributeDidChange:function(e,t,n,i){var r=e.record,a=new Ember.OrderedSet,s=this.adapterForType(r.constructor);s.dirtyRecordsForAttributeChange&&s.dirtyRecordsForAttributeChange(a,r,t,n,i),a.forEach(function(e){e.adapterDidDirty()})},recordBelongsToDidChange:function(e,t,n){var i=this.adapterForType(t.constructor);i.dirtyRecordsForBelongsToChange&&i.dirtyRecordsForBelongsToChange(e,t,n)},recordHasManyDidChange:function(e,t,n){var i=this.adapterForType(t.constructor);i.dirtyRecordsForHasManyChange&&i.dirtyRecordsForHasManyChange(e,t,n)}}),DS.Store.reopenClass({registerAdapter:DS._Mappable.generateMapFunctionFor("adapters",function(e,t,n){n.set(e,t)}),transformMapKey:function(t){if("string"==typeof t){var n;return n=e(Ember.lookup,t)}return t},transformMapValue:function(e,t){return Ember.Object.detect(t)?t.create():t}})}(),function(){var e=Ember.get,t=Ember.set,n=Ember.run.once,i=Ember.ArrayPolyfills.map,r=Ember.computed(function(t){var n=e(this,"parentState");return n?e(n,t):void 0}).property(),a=function(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!0;return!1},s=function(t){var n=e(t,"record");n.materializeData()},o=function(t,n){n.oldValue=e(e(t,"record"),n.name);var i=DS.AttributeChange.createChange(n);e(t,"record")._changesToSync[n.name]=i},l=function(t,n){var i=e(t,"record")._changesToSync[n.name];i.value=e(e(t,"record"),n.name),i.sync()};DS.State=Ember.State.extend({isLoading:r,isLoaded:r,isReloading:r,isDirty:r,isSaving:r,isDeleted:r,isError:r,isNew:r,isValid:r,dirtyType:r});var c=DS.State.extend({initialState:"uncommitted",isDirty:!0,uncommitted:DS.State.extend({willSetProperty:o,didSetProperty:l,becomeDirty:Ember.K,willCommit:function(e){e.transitionTo("inFlight")},becameClean:function(t){var n=e(t,"record");n.withTransaction(function(e){e.remove(n)}),t.transitionTo("loaded.materializing")},becameInvalid:function(e){e.transitionTo("invalid")},rollback:function(t){e(t,"record").rollback()}}),inFlight:DS.State.extend({isSaving:!0,enter:function(t){var n=e(t,"record");n.becameInFlight()},materializingData:function(n){t(n,"lastDirtyType",e(this,"dirtyType")),n.transitionTo("materializing")},didCommit:function(t){var n=e(this,"dirtyType"),i=e(t,"record");i.withTransaction(function(e){e.remove(i)}),t.transitionTo("saved"),t.send("invokeLifecycleCallbacks",n)},didChangeData:s,becameInvalid:function(n,i){var r=e(n,"record");t(r,"errors",i),n.transitionTo("invalid"),n.send("invokeLifecycleCallbacks")},becameError:function(e){e.transitionTo("error"),e.send("invokeLifecycleCallbacks")}}),invalid:DS.State.extend({isValid:!1,exit:function(t){var n=e(t,"record");n.withTransaction(function(e){e.remove(n)})},deleteRecord:function(t){t.transitionTo("deleted"),e(t,"record").clearRelationships()},willSetProperty:o,didSetProperty:function(n,i){var r=e(n,"record"),s=e(r,"errors"),o=i.name;t(s,o,null),a(s)||n.send("becameValid"),l(n,i)},becomeDirty:Ember.K,rollback:function(e){e.send("becameValid"),e.send("rollback")},becameValid:function(e){e.transitionTo("uncommitted")},invokeLifecycleCallbacks:function(t){var n=e(t,"record");n.trigger("becameInvalid",n)}})}),h=c.create({dirtyType:"created",isNew:!0}),u=c.create({dirtyType:"updated"});h.states.uncommitted.reopen({deleteRecord:function(t){var n=e(t,"record");n.clearRelationships(),t.transitionTo("deleted.saved")}}),h.states.uncommitted.reopen({rollback:function(e){this._super(e),e.transitionTo("deleted.saved")}}),u.states.uncommitted.reopen({deleteRecord:function(t){var n=e(t,"record");t.transitionTo("deleted"),n.clearRelationships()}});var d={rootState:Ember.State.create({isLoading:!1,isLoaded:!1,isReloading:!1,isDirty:!1,isSaving:!1,isDeleted:!1,isError:!1,isNew:!1,isValid:!0,empty:DS.State.create({loadingData:function(e){e.transitionTo("loading")},loadedData:function(e){e.transitionTo("loaded.created")}}),loading:DS.State.create({isLoading:!0,loadedData:s,materializingData:function(e){e.transitionTo("loaded.materializing.firstTime")},becameError:function(e){e.transitionTo("error"),e.send("invokeLifecycleCallbacks")}}),loaded:DS.State.create({initialState:"saved",isLoaded:!0,materializing:DS.State.create({willSetProperty:Ember.K,didSetProperty:Ember.K,didChangeData:s,finishedMaterializing:function(e){e.transitionTo("loaded.saved")},firstTime:DS.State.create({isLoaded:!1,exit:function(t){var i=e(t,"record");n(function(){i.trigger("didLoad")})}})}),reloading:DS.State.create({isReloading:!0,enter:function(t){var n=e(t,"record"),i=e(n,"store");i.reloadRecord(n)},exit:function(t){var i=e(t,"record");n(i,"trigger","didReload")},loadedData:s,materializingData:function(e){e.transitionTo("loaded.materializing")}}),saved:DS.State.create({willSetProperty:o,didSetProperty:l,didChangeData:s,loadedData:s,reloadRecord:function(e){e.transitionTo("loaded.reloading")},materializingData:function(e){e.transitionTo("loaded.materializing")},becomeDirty:function(e){e.transitionTo("updated")},deleteRecord:function(t){t.transitionTo("deleted"),e(t,"record").clearRelationships()},unloadRecord:function(t){var n=e(t,"record");n.clearRelationships(),t.transitionTo("deleted.saved")},didCommit:function(t){var n=e(t,"record");n.withTransaction(function(e){e.remove(n)}),t.send("invokeLifecycleCallbacks",e(t,"lastDirtyType"))},invokeLifecycleCallbacks:function(t,n){var i=e(t,"record");"created"===n?i.trigger("didCreate",i):i.trigger("didUpdate",i),i.trigger("didCommit",i)}}),created:h,updated:u}),deleted:DS.State.create({initialState:"uncommitted",dirtyType:"deleted",isDeleted:!0,isLoaded:!0,isDirty:!0,setup:function(t){var n=e(t,"record"),i=e(n,"store");i.recordArrayManager.remove(n)},uncommitted:DS.State.create({willCommit:function(e){e.transitionTo("inFlight")},rollback:function(t){e(t,"record").rollback()},becomeDirty:Ember.K,becameClean:function(t){var n=e(t,"record");n.withTransaction(function(e){e.remove(n)}),t.transitionTo("loaded.materializing")}}),inFlight:DS.State.create({isSaving:!0,enter:function(t){var n=e(t,"record");n.becameInFlight()},didCommit:function(t){var n=e(t,"record");n.withTransaction(function(e){e.remove(n)}),t.transitionTo("saved"),t.send("invokeLifecycleCallbacks")}}),saved:DS.State.create({isDirty:!1,setup:function(t){var n=e(t,"record"),i=e(n,"store");i.dematerializeRecord(n)},invokeLifecycleCallbacks:function(t){var n=e(t,"record");n.trigger("didDelete",n),n.trigger("didCommit",n)}})}),error:DS.State.create({isError:!0,invokeLifecycleCallbacks:function(t){var n=e(t,"record");n.trigger("becameError",n)}})})};DS.StateManager=Ember.StateManager.extend({record:null,initialState:"rootState",states:d,unhandledEvent:function(t,n){var r,a=t.get("record"),s=[].slice.call(arguments,2);throw r="Attempted to handle event `"+n+"` ",r+="on "+a.toString()+" while in state ",r+=e(t,"currentState.path")+". Called with ",r+=i.call(s,function(e){return Ember.inspect(e)}).join(", "),new Ember.Error(r)}})}(),function(){var e=DS.LoadPromise,t=Ember.get,n=Ember.set,i=Ember.EnumerableUtils.map,r=Ember.computed(function(e){return t(t(this,"stateManager.currentState"),e)}).property("stateManager.currentState").readOnly();DS.Model=Ember.Object.extend(Ember.Evented,e,{isLoading:r,isLoaded:r,isReloading:r,isDirty:r,isSaving:r,isDeleted:r,isError:r,isNew:r,isValid:r,dirtyType:r,clientId:null,id:null,transaction:null,stateManager:null,errors:null,serialize:function(e){var n=t(this,"store");return n.serialize(this,e)},toJSON:function(e){var t=DS.JSONSerializer.create();return t.serialize(this,e)},didLoad:Ember.K,didReload:Ember.K,didUpdate:Ember.K,didCreate:Ember.K,didDelete:Ember.K,becameInvalid:Ember.K,becameError:Ember.K,data:Ember.computed(function(){return this._data||this.setupData(),this._data}).property(),materializeData:function(){this.send("materializingData"),t(this,"store").materializeData(this),this.suspendRelationshipObservers(function(){this.notifyPropertyChange("data")})},_data:null,init:function(){this._super();var e=DS.StateManager.create({record:this});n(this,"stateManager",e),this._setup(),e.goToState("empty")},_setup:function(){this._changesToSync={}},send:function(e,n){return t(this,"stateManager").send(e,n)},withTransaction:function(e){var n=t(this,"transaction");n&&e(n)},loadingData:function(){this.send("loadingData")},loadedData:function(){this.send("loadedData")},didChangeData:function(){this.send("didChangeData")},deleteRecord:function(){this.send("deleteRecord")},unloadRecord:function(){this.send("unloadRecord")},clearRelationships:function(){this.eachRelationship(function(e,t){"belongsTo"===t.kind?n(this,e,null):"hasMany"===t.kind&&this.clearHasMany(t)},this)},updateRecordArrays:function(){var e=t(this,"store");e&&e.dataWasUpdated(this.constructor,t(this,"_reference"),this)},adapterDidCommit:function(){var e=t(this,"data").attributes;t(this.constructor,"attributes").forEach(function(n){e[n]=t(this,n)},this),this.send("didCommit"),this.updateRecordArraysLater()},adapterDidDirty:function(){this.send("becomeDirty"),this.updateRecordArraysLater()},dataDidChange:Ember.observer(function(){this.reloadHasManys(),this.send("finishedMaterializing")},"data"),reloadHasManys:function(){var e=t(this.constructor,"relationshipsByName");this.updateRecordArraysLater(),e.forEach(function(e,t){"hasMany"===t.kind&&this.hasManyDidChange(t.key)},this)},hasManyDidChange:function(e){var r=this.cacheFor(e);if(r){var a=t(this.constructor,"relationshipsByName").get(e).type,s=t(this,"store"),o=this._data.hasMany[e]||[],l=i(o,function(e){return"object"==typeof e?e.clientId?e:s.referenceForId(e.type,e.id):s.referenceForId(a,e)});n(r,"content",Ember.A(l))}},updateRecordArraysLater:function(){Ember.run.once(this,this.updateRecordArrays)},setupData:function(){this._data={attributes:{},belongsTo:{},hasMany:{},id:null}},materializeId:function(e){n(this,"id",e)},materializeAttributes:function(e){this._data.attributes=e},materializeAttribute:function(e,t){this._data.attributes[e]=t},materializeHasMany:function(e,t){var n=typeof t;if(t&&"string"!==n&&t.length>1&&Ember.assert("materializeHasMany expects tuples, references or opaque token, not "+t[0],t[0].hasOwnProperty("id")&&t[0].type),"string"===n)this._data.hasMany[e]=t;else{var i=t;t&&Ember.isArray(t)&&(i=this._convertTuplesToReferences(t)),this._data.hasMany[e]=i}},materializeBelongsTo:function(e,t){t&&Ember.assert("materializeBelongsTo expects a tuple or a reference, not a "+t,!t||t.hasOwnProperty("id")&&t.hasOwnProperty("type")),this._data.belongsTo[e]=t},_convertTuplesToReferences:function(e){return i(e,function(e){return this._convertTupleToReference(e)},this)},_convertTupleToReference:function(e){var n=t(this,"store");return e.clientId?e:n.referenceForId(e.type,e.id)},rollback:function(){this._setup(),this.send("becameClean"),this.suspendRelationshipObservers(function(){this.notifyPropertyChange("data")})},toStringExtension:function(){return t(this,"id")},suspendRelationshipObservers:function(e,n){var i=t(this.constructor,"relationshipNames").belongsTo,r=this;try{this._suspendedRelationships=!0,Ember._suspendObservers(r,i,null,"belongsToDidChange",function(){Ember._suspendBeforeObservers(r,i,null,"belongsToWillChange",function(){e.call(n||r)})})}finally{this._suspendedRelationships=!1}},becameInFlight:function(){},resolveOn:function(e){var t=this;return new Ember.RSVP.Promise(function(n,i){function r(){this.off("becameError",a),this.off("becameInvalid",a),n(this)}function a(){this.off(e,r),i(this)}t.one(e,r),t.one("becameError",a),t.one("becameInvalid",a)})},save:function(){return this.get("store").scheduleSave(this),this.resolveOn("didCommit")},reload:function(){return this.send("reloadRecord"),this.resolveOn("didReload")},adapterDidUpdateAttribute:function(e,n){void 0!==n?(t(this,"data.attributes")[e]=n,this.notifyPropertyChange(e)):(n=t(this,e),t(this,"data.attributes")[e]=n),this.updateRecordArraysLater()},adapterDidInvalidate:function(e){this.send("becameInvalid",e)},adapterDidError:function(){this.send("becameError")},trigger:function(e){Ember.tryInvoke(this,e,[].slice.call(arguments,1)),this._super.apply(this,arguments)}});var a=function(e){return function(){var n=t(DS,"defaultStore"),i=[].slice.call(arguments);return i.unshift(this),n[e].apply(n,i)}};DS.Model.reopenClass({_create:DS.Model.create,create:function(){throw new Ember.Error("You should not call `create` on a model. Instead, call `createRecord` with the attributes you would like to set.")},find:a("find"),all:a("all"),query:a("findQuery"),filter:a("filter"),createRecord:a("createRecord")})}(),function(){function e(e,n,i){var r=t(e,"data").attributes,a=r[i];return void 0===a&&(a="function"==typeof n.defaultValue?n.defaultValue():n.defaultValue),a}var t=Ember.get;DS.Model.reopenClass({attributes:Ember.computed(function(){var e=Ember.Map.create();return this.eachComputedProperty(function(t,n){n.isAttribute&&(n.name=t,e.set(t,n))}),e})}),DS.Model.reopen({eachAttribute:function(e,n){t(this.constructor,"attributes").forEach(function(t,i){e.call(n,t,i)},n)},attributeWillChange:Ember.beforeObserver(function(e,n){var i=t(e,"_reference"),r=t(e,"store");e.send("willSetProperty",{reference:i,store:r,name:n})}),attributeDidChange:Ember.observer(function(e,t){e.send("didSetProperty",{name:t})})}),DS.attr=function(t,n){n=n||{};var i={type:t,isAttribute:!0,options:n};return Ember.computed(function(t,i){return arguments.length>1||(i=e(this,n,t)),i}).property("data").meta(i)}}(),function(){var e=DS.AttributeChange=function(e){this.reference=e.reference,this.store=e.store,this.name=e.name,this.oldValue=e.oldValue};e.createChange=function(t){return new e(t)},e.prototype={sync:function(){this.store.recordAttributeDidChange(this.reference,this.name,this.value,this.oldValue),this.destroy()},destroy:function(){var e=this.reference.record;delete e._changesToSync[this.name]}}}(),function(){var e=Ember.get,t=Ember.set,n=Ember.EnumerableUtils.forEach;DS.RelationshipChange=function(e){this.parentReference=e.parentReference,this.childReference=e.childReference,this.firstRecordReference=e.firstRecordReference,this.firstRecordKind=e.firstRecordKind,this.firstRecordName=e.firstRecordName,this.secondRecordReference=e.secondRecordReference,this.secondRecordKind=e.secondRecordKind,this.secondRecordName=e.secondRecordName,this.changeType=e.changeType,this.store=e.store,this.committed={}},DS.RelationshipChangeAdd=function(e){DS.RelationshipChange.call(this,e)},DS.RelationshipChangeRemove=function(e){DS.RelationshipChange.call(this,e)},DS.RelationshipChange.create=function(e){return new DS.RelationshipChange(e)},DS.RelationshipChangeAdd.create=function(e){return new DS.RelationshipChangeAdd(e)},DS.RelationshipChangeRemove.create=function(e){return new DS.RelationshipChangeRemove(e)},DS.OneToManyChange={},DS.OneToNoneChange={},DS.ManyToNoneChange={},DS.OneToOneChange={},DS.ManyToManyChange={},DS.RelationshipChange._createChange=function(e){return"add"===e.changeType?DS.RelationshipChangeAdd.create(e):"remove"===e.changeType?DS.RelationshipChangeRemove.create(e):void 0},DS.RelationshipChange.determineRelationshipType=function(e,t){var n,i,r=t.key,a=t.kind,s=e.inverseFor(r);return s&&(n=s.name,i=s.kind),s?"belongsTo"===i?"belongsTo"===a?"oneToOne":"manyToOne":"belongsTo"===a?"oneToMany":"manyToMany":"belongsTo"===a?"oneToNone":"manyToNone"},DS.RelationshipChange.createChange=function(e,t,n,i){var r,a=e.type;return r=DS.RelationshipChange.determineRelationshipType(a,i),"oneToMany"===r?DS.OneToManyChange.createChange(e,t,n,i):"manyToOne"===r?DS.OneToManyChange.createChange(t,e,n,i):"oneToNone"===r?DS.OneToNoneChange.createChange(e,t,n,i):"manyToNone"===r?DS.ManyToNoneChange.createChange(e,t,n,i):"oneToOne"===r?DS.OneToOneChange.createChange(e,t,n,i):"manyToMany"===r?DS.ManyToManyChange.createChange(e,t,n,i):void 0},DS.OneToNoneChange.createChange=function(e,t,n,i){var r=i.key,a=DS.RelationshipChange._createChange({parentReference:t,childReference:e,firstRecordReference:e,store:n,changeType:i.changeType,firstRecordName:r,firstRecordKind:"belongsTo"});return n.addRelationshipChangeFor(e,r,t,null,a),a},DS.ManyToNoneChange.createChange=function(e,t,n,i){var r=i.key,a=DS.RelationshipChange._createChange({parentReference:e,childReference:t,secondRecordReference:e,store:n,changeType:i.changeType,secondRecordName:i.key,secondRecordKind:"hasMany"});return n.addRelationshipChangeFor(e,r,t,null,a),a},DS.ManyToManyChange.createChange=function(e,t,n,i){var r=i.key,a=DS.RelationshipChange._createChange({parentReference:t,childReference:e,firstRecordReference:e,secondRecordReference:t,firstRecordKind:"hasMany",secondRecordKind:"hasMany",store:n,changeType:i.changeType,firstRecordName:r});return n.addRelationshipChangeFor(e,r,t,null,a),a},DS.OneToOneChange.createChange=function(e,t,n,i){var r;i.parentType?r=i.parentType.inverseFor(i.key).name:i.key&&(r=i.key);var a=DS.RelationshipChange._createChange({parentReference:t,childReference:e,firstRecordReference:e,secondRecordReference:t,firstRecordKind:"belongsTo",secondRecordKind:"belongsTo",store:n,changeType:i.changeType,firstRecordName:r});return n.addRelationshipChangeFor(e,r,t,null,a),a},DS.OneToOneChange.maintainInvariant=function(t,n,i,r){if("add"===t.changeType&&n.recordIsMaterialized(i)){var a=n.recordForReference(i),s=e(a,r);if(s){var o=DS.OneToOneChange.createChange(i,s.get("_reference"),n,{parentType:t.parentType,hasManyName:t.hasManyName,changeType:"remove",key:t.key});n.addRelationshipChangeFor(i,r,t.parentReference,null,o),o.sync()}}},DS.OneToManyChange.createChange=function(e,t,n,i){var r;i.parentType?(r=i.parentType.inverseFor(i.key).name,DS.OneToManyChange.maintainInvariant(i,n,e,r)):i.key&&(r=i.key);var a=DS.RelationshipChange._createChange({parentReference:t,childReference:e,firstRecordReference:e,secondRecordReference:t,firstRecordKind:"belongsTo",secondRecordKind:"hasMany",store:n,changeType:i.changeType,firstRecordName:r});return n.addRelationshipChangeFor(e,r,t,a.getSecondRecordName(),a),a},DS.OneToManyChange.maintainInvariant=function(t,n,i,r){var a=i.record;if("add"===t.changeType&&a){var s=e(a,r);if(s){var o=DS.OneToManyChange.createChange(i,s.get("_reference"),n,{parentType:t.parentType,hasManyName:t.hasManyName,changeType:"remove",key:t.key});n.addRelationshipChangeFor(i,r,t.parentReference,o.getSecondRecordName(),o),o.sync()}}},DS.OneToManyChange.ensureSameTransaction=function(e){var t=Ember.A();return n(e,function(e){t.addObject(e.getSecondRecord()),t.addObject(e.getFirstRecord())}),DS.Transaction.ensureSameTransaction(t)},DS.RelationshipChange.prototype={getSecondRecordName:function(){var e,t=this.secondRecordName;if(!t){if(e=this.secondRecordReference,!e)return;var n=this.firstRecordReference.type,i=n.inverseFor(this.firstRecordName);this.secondRecordName=i.name}return this.secondRecordName},getFirstRecordName:function(){var e=this.firstRecordName;return e},destroy:function(){var e=this.childReference,t=this.getFirstRecordName(),n=this.getSecondRecordName(),i=this.store;i.removeRelationshipChangeFor(e,t,this.parentReference,n,this.changeType)},getByReference:function(e){return this.store,e?e.record?e.record:void 0:e},getSecondRecord:function(){return this.getByReference(this.secondRecordReference)},getFirstRecord:function(){return this.getByReference(this.firstRecordReference)},ensureSameTransaction:function(){var e=this.getFirstRecord(),t=this.getSecondRecord(),n=DS.Transaction.ensureSameTransaction([e,t]);return this.transaction=n,n},callChangeEvents:function(){var t=this.getFirstRecord(),n=this.getSecondRecord(),i=new Ember.OrderedSet;n&&e(n,"isLoaded")&&this.store.recordHasManyDidChange(i,n,this),t&&this.store.recordBelongsToDidChange(i,t,this),i.forEach(function(e){e.adapterDidDirty()})},coalesce:function(){var e=this.store.relationshipChangePairsFor(this.firstRecordReference);n(e,function(e){var t=e.add,n=e.remove;t&&n&&(t.destroy(),n.destroy())})}},DS.RelationshipChangeAdd.prototype=Ember.create(DS.RelationshipChange.create({})),DS.RelationshipChangeRemove.prototype=Ember.create(DS.RelationshipChange.create({})),DS.RelationshipChangeAdd.prototype.changeType="add",DS.RelationshipChangeAdd.prototype.sync=function(){var n=this.getSecondRecordName(),i=this.getFirstRecordName(),r=this.getFirstRecord(),a=this.getSecondRecord();this.ensureSameTransaction(),this.callChangeEvents(),a&&r&&("belongsTo"===this.secondRecordKind?a.suspendRelationshipObservers(function(){t(a,n,r)}):"hasMany"===this.secondRecordKind&&a.suspendRelationshipObservers(function(){e(a,n).addObject(r)})),r&&a&&e(r,i)!==a&&("belongsTo"===this.firstRecordKind?r.suspendRelationshipObservers(function(){t(r,i,a)}):"hasMany"===this.firstRecordKind&&r.suspendRelationshipObservers(function(){e(r,i).addObject(a)})),this.coalesce()},DS.RelationshipChangeRemove.prototype.changeType="remove",DS.RelationshipChangeRemove.prototype.sync=function(){var n=this.getSecondRecordName(),i=this.getFirstRecordName(),r=this.getFirstRecord(),a=this.getSecondRecord();this.ensureSameTransaction(r,a,n,i),this.callChangeEvents(),a&&r&&("belongsTo"===this.secondRecordKind?a.suspendRelationshipObservers(function(){t(a,n,null)}):"hasMany"===this.secondRecordKind&&a.suspendRelationshipObservers(function(){e(a,n).removeObject(r)})),r&&e(r,i)&&("belongsTo"===this.firstRecordKind?r.suspendRelationshipObservers(function(){t(r,i,null)}):"hasMany"===this.firstRecordKind&&r.suspendRelationshipObservers(function(){e(r,i).removeObject(a)})),this.coalesce()}}(),function(){var e=Ember.get,t=(Ember.set,Ember.isNone);DS.belongsTo=function(n,i){i=i||{};var r={type:n,isRelationship:!0,options:i,kind:"belongsTo"};return Ember.computed(function(i,r){if("string"==typeof n&&(n=e(this,n,!1)||e(Ember.lookup,n)),2===arguments.length)return void 0===r?null:r;var a,s=e(this,"data").belongsTo,o=e(this,"store");return a=s[i],t(a)?null:a.clientId?o.recordForReference(a):o.findById(a.type,a.id)}).property("data").meta(r)},DS.Model.reopen({belongsToWillChange:Ember.beforeObserver(function(t,n){if(e(t,"isLoaded")){var i=e(t,n),r=e(t,"_reference"),a=e(t,"store");if(i){var s=DS.RelationshipChange.createChange(r,e(i,"_reference"),a,{key:n,kind:"belongsTo",changeType:"remove"});s.sync(),this._changesToSync[n]=s}}}),belongsToDidChange:Ember.immediateObserver(function(t,n){if(e(t,"isLoaded")){var i=e(t,n);if(i){var r=e(t,"_reference"),a=e(t,"store"),s=DS.RelationshipChange.createChange(r,e(i,"_reference"),a,{key:n,kind:"belongsTo",changeType:"add"});s.sync(),this._changesToSync[n]&&DS.OneToManyChange.ensureSameTransaction([s,this._changesToSync[n]],a)}}delete this._changesToSync[n]})})}(),function(){function e(e,r){var a=(t(e,"store"),t(e,"data").hasMany),s=a[r.key];if(s){var o=e.constructor.inverseFor(r.key);o&&i(s,function(t){var i;(i=t.record)&&e.suspendRelationshipObservers(function(){n(i,o.name,null)})})}}var t=Ember.get,n=Ember.set,i=Ember.EnumerableUtils.forEach,r=function(e,i){i=i||{};var r={type:e,isRelationship:!0,options:i,kind:"hasMany"};return Ember.computed(function(a){var s,o,l=t(this,"data").hasMany,c=t(this,"store");return"string"==typeof e&&(e=t(this,e,!1)||t(Ember.lookup,e)),s=l[a],o=c.findMany(e,s,this,r),n(o,"owner",this),n(o,"name",a),n(o,"isPolymorphic",i.polymorphic),o}).property().meta(r)};DS.hasMany=function(e,t){return r(e,t)},DS.Model.reopen({clearHasMany:function(t){var n=this.cacheFor(t.name);n?n.clear():e(this,t)}})}(),function(){var e=Ember.get;Ember.set,DS.Model.reopen({didDefineProperty:function(e,t,n){if(n instanceof Ember.Descriptor){var i=n.meta();i.isRelationship&&"belongsTo"===i.kind&&(Ember.addObserver(e,t,null,"belongsToDidChange"),Ember.addBeforeObserver(e,t,null,"belongsToWillChange")),i.isAttribute&&(Ember.addObserver(e,t,null,"attributeDidChange"),Ember.addBeforeObserver(e,t,null,"attributeWillChange")),i.parentType=e.constructor}}}),DS.Model.reopenClass({typeForRelationship:function(t){var n=e(this,"relationshipsByName").get(t);return n&&n.type},inverseFor:function(t){function n(t,i,r){r=r||[];var a=e(i,"relationships");if(a){var s=a.get(t);return s&&r.push.apply(r,a.get(t)),t.superclass&&n(t.superclass,i,r),r}}var i=this.typeForRelationship(t);if(!i)return null;var r,a,s=this.metaForProperty(t).options;if(s.inverse)r=s.inverse,a=Ember.get(i,"relationshipsByName").get(r).kind;else{var o=n(this,i);if(0===o.length)return null;r=o[0].name,a=o[0].kind}return{type:i,name:r,kind:a}},relationships:Ember.computed(function(){var e=new Ember.MapWithDefault({defaultValue:function(){return[]}});return this.eachComputedProperty(function(t,n){if(n.isRelationship){"string"==typeof n.type&&(n.type=Ember.get(Ember.lookup,n.type));var i=e.get(n.type);i.push({name:t,kind:n.kind})}}),e}),relationshipNames:Ember.computed(function(){var e={hasMany:[],belongsTo:[]};return this.eachComputedProperty(function(t,n){n.isRelationship&&e[n.kind].push(t)}),e}),relatedTypes:Ember.computed(function(){var t,n=Ember.A([]);return this.eachComputedProperty(function(i,r){r.isRelationship&&(t=r.type,"string"==typeof t&&(t=e(this,t,!1)||e(Ember.lookup,t)),n.contains(t)||n.push(t))}),n}),relationshipsByName:Ember.computed(function(){var t,n=Ember.Map.create();return this.eachComputedProperty(function(i,r){r.isRelationship&&(r.key=i,t=r.type,"string"==typeof t&&(t=e(this,t,!1)||e(Ember.lookup,t),r.type=t),n.set(i,r))}),n}),fields:Ember.computed(function(){var e=Ember.Map.create();return this.eachComputedProperty(function(t,n){n.isRelationship?e.set(t,n.kind):n.isAttribute&&e.set(t,"attribute")}),e}),eachRelationship:function(t,n){e(this,"relationshipsByName").forEach(function(e,i){t.call(n,e,i)})},eachRelatedType:function(t,n){e(this,"relatedTypes").forEach(function(e){t.call(n,e)})}}),DS.Model.reopen({eachRelationship:function(e,t){this.constructor.eachRelationship(e,t)}})}(),function(){var e=Ember.get;Ember.set;var t=Ember.run.once,n=Ember.EnumerableUtils.forEach;DS.RecordArrayManager=Ember.Object.extend({init:function(){this.filteredRecordArrays=Ember.MapWithDefault.create({defaultValue:function(){return[]}}),this.changedReferences=[]},referenceDidChange:function(e){this.changedReferences.push(e),t(this,this.updateRecordArrays)},recordArraysForReference:function(e){return e.recordArrays=e.recordArrays||Ember.OrderedSet.create(),e.recordArrays},updateRecordArrays:function(){n(this.changedReferences,function(t){var i,r=t.type,a=this.filteredRecordArrays.get(r);n(a,function(n){i=e(n,"filterFunction"),this.updateRecordArray(n,i,r,t)},this);var s=t.loadingRecordArrays;if(s){for(var o=0,l=s.length;l>o;o++)s[o].loadedRecord();t.loadingRecordArrays=[]}},this),this.changedReferences=[]},updateRecordArray:function(e,t,n,i){var r,a;t?(a=this.store.recordForReference(i),r=t(a)):r=!0;var s=this.recordArraysForReference(i);r?(s.add(e),e.addReference(i)):r||(s.remove(e),e.removeReference(i))},remove:function(t){var n=e(t,"_reference"),i=n.recordArrays||[];i.forEach(function(e){e.removeReference(n)})},updateFilter:function(t,n,i){for(var r,a,s,o,l=this.store.typeMapFor(n),c=l.references,h=0,u=c.length;u>h;h++)r=c[h],s=!1,a=r.data,"object"==typeof a&&((o=r.record)?e(o,"isDeleted")||(s=!0):s=!0,s&&this.updateRecordArray(t,i,n,r))},createManyArray:function(e,t){var n=DS.ManyArray.create({type:e,content:t,store:this.store});return t.forEach(function(e){var t=this.recordArraysForReference(e);t.add(n)},this),n},registerFilteredRecordArray:function(e,t,n){var i=this.filteredRecordArrays.get(t);i.push(e),this.updateFilter(e,t,n)},registerWaitingRecordArray:function(e,t){var n=t.loadingRecordArrays||[];n.push(e),t.loadingRecordArrays=n}})}(),function(){function e(e){return function(){throw new Ember.Error("Your serializer "+this.toString()+" does not implement the required method "+e)}}var t=Ember.get,n=(Ember.set,Ember.ArrayPolyfills.map),i=Ember.isNone;DS.Serializer=Ember.Object.extend({init:function(){this.mappings=Ember.Map.create(),this.aliases=Ember.Map.create(),this.configurations=Ember.Map.create(),this.globalConfigurations={}},extract:e("extract"),extractMany:e("extractMany"),extractId:e("extractId"),extractAttribute:e("extractAttribute"),extractHasMany:e("extractHasMany"),extractBelongsTo:e("extractBelongsTo"),extractRecordRepresentation:function(e,t,n,r){var a,s={};return a=r?e.sideload(t,n):e.load(t,n),this.eachEmbeddedHasMany(t,function(t,r){var o=this.extractEmbeddedData(n,this.keyFor(r));i(o)||this.extractEmbeddedHasMany(e,r,o,a,s)},this),this.eachEmbeddedBelongsTo(t,function(t,r){var o=this.extractEmbeddedData(n,this.keyFor(r));i(o)||this.extractEmbeddedBelongsTo(e,r,o,a,s)},this),e.prematerialize(a,s),a},extractEmbeddedHasMany:function(e,t,i,r,a){var s=n.call(i,function(n){if(n){var i=this.extractEmbeddedType(t,n),a=this.extractRecordRepresentation(e,i,n,!0),s=this.embeddedType(r.type,t.key);"always"===s&&(a.parent=r);var o=t.parentType,l=o.inverseFor(t.key);if(l){var c=l.name;a.prematerialized[c]=r}return a}},this);a[t.key]=s},extractEmbeddedBelongsTo:function(e,t,n,i,r){var a=this.extractEmbeddedType(t,n),s=this.extractRecordRepresentation(e,a,n,!0);r[t.key]=s;var o=this.embeddedType(i.type,t.key);"always"===o&&(s.parent=i)},extractEmbeddedType:function(e){return e.type},extractEmbeddedData:e(),serialize:function(e,n){n=n||{};var i,r=this.createSerializedForm();return n.includeId&&(i=t(e,"id"))&&this._addId(r,e.constructor,i),n.includeType&&this.addType(r,e.constructor),this.addAttributes(r,e),this.addRelationships(r,e),r},serializeValue:function(e,t){var n=this.transforms?this.transforms[t]:null;return n.serialize(e)},serializeId:function(e){return isNaN(e)?e:+e},addAttributes:function(e,t){t.eachAttribute(function(n,i){this._addAttribute(e,t,n,i.type)},this)},addAttribute:e("addAttribute"),addId:e("addId"),addType:Ember.K,createSerializedForm:function(){return{}},addRelationships:function(e,t){t.eachRelationship(function(n,i){"belongsTo"===i.kind?this._addBelongsTo(e,t,n,i):"hasMany"===i.kind&&this._addHasMany(e,t,n,i)},this)},addBelongsTo:e("addBelongsTo"),addHasMany:e("addHasMany"),keyForAttributeName:function(e,t){return t},primaryKey:function(){return"id"},keyForBelongsTo:function(e,t){return this.keyForAttributeName(e,t)},keyForHasMany:function(e,t){return this.keyForAttributeName(e,t)},materialize:function(e,n,i){var r;Ember.isNone(t(e,"id"))&&(r=i&&i.hasOwnProperty("id")?i.id:this.extractId(e.constructor,n),e.materializeId(r)),this.materializeAttributes(e,n,i),this.materializeRelationships(e,n,i)},deserializeValue:function(e,t){var n=this.transforms?this.transforms[t]:null;return n.deserialize(e)},materializeAttributes:function(e,t,n){e.eachAttribute(function(i,r){n&&n.hasOwnProperty(i)?e.materializeAttribute(i,n[i]):this.materializeAttribute(e,t,i,r.type)},this)},materializeAttribute:function(e,t,n,i){var r=this.extractAttribute(e.constructor,t,n);r=this.deserializeValue(r,i),e.materializeAttribute(n,r)},materializeRelationships:function(e,t,n){e.eachRelationship(function(i,r){if("hasMany"===r.kind)if(n&&n.hasOwnProperty(i)){var a=this._convertPrematerializedHasMany(r.type,n[i]);e.materializeHasMany(i,a)}else this.materializeHasMany(i,e,t,r,n);else if("belongsTo"===r.kind)if(n&&n.hasOwnProperty(i)){var s=this._convertTuple(r.type,n[i]);e.materializeBelongsTo(i,s)}else this.materializeBelongsTo(i,e,t,r,n)},this)},materializeHasMany:function(e,t,n,i){var r=t.constructor,a=this._keyForHasMany(r,i.key),s=this.extractHasMany(r,n,a),o=s;s&&Ember.isArray(s)&&(o=this._convertTuples(i.type,s)),t.materializeHasMany(e,o)},materializeBelongsTo:function(e,t,n,r){var a,s=t.constructor,o=this._keyForBelongsTo(s,r.key),l=null;a=r.options&&r.options.polymorphic?this.extractBelongsToPolymorphic(s,n,o):this.extractBelongsTo(s,n,o),i(a)||(l=this._convertTuple(r.type,a)),t.materializeBelongsTo(e,l)},_convertPrematerializedHasMany:function(e,t){var n;return n="string"==typeof t?t:this._convertTuples(e,t)},_convertTuples:function(e,t){return n.call(t,function(t){return this._convertTuple(e,t)},this)},_convertTuple:function(e,t){var n;return"object"==typeof t?DS.Model.detect(t.type)?t:(n=this.typeFromAlias(t.type),{id:t.id,type:n}):{id:t,type:e}},_primaryKey:function(e){var t=this.configurationForType(e),n=t&&t.primaryKey;return n?n:this.primaryKey(e)},_addAttribute:function(e,n,i,r){var a=this._keyForAttributeName(n.constructor,i),s=t(n,i);this.addAttribute(e,a,this.serializeValue(s,r))},_addId:function(e,t,n){var i=this._primaryKey(t);this.addId(e,i,this.serializeId(n))},_keyForAttributeName:function(e,t){return this._keyFromMappingOrHook("keyForAttributeName",e,t)},_keyForBelongsTo:function(e,t){return this._keyFromMappingOrHook("keyForBelongsTo",e,t)},keyFor:function(e){var t=e.parentType,n=e.key;switch(e.kind){case"belongsTo":return this._keyForBelongsTo(t,n);case"hasMany":return this._keyForHasMany(t,n)
}},_keyForHasMany:function(e,t){return this._keyFromMappingOrHook("keyForHasMany",e,t)},_addBelongsTo:function(e,t,n,i){var r=this._keyForBelongsTo(t.constructor,n);this.addBelongsTo(e,t,r,i)},_addHasMany:function(e,t,n,i){var r=this._keyForHasMany(t.constructor,n);this.addHasMany(e,t,r,i)},_keyFromMappingOrHook:function(e,t,n){var i=this.mappingOption(t,n,"key");return i?i:this[e](t,n)},registerTransform:function(e,t){this.transforms[e]=t},registerEnumTransform:function(e,t){var n={deserialize:function(e){return Ember.A(t).objectAt(e)},serialize:function(e){return Ember.EnumerableUtils.indexOf(t,e)},values:t};this.registerTransform(e,n)},map:function(e,t){this.mappings.set(e,t)},configure:function(e,t){if(e&&!t)return Ember.merge(this.globalConfigurations,e),void 0;var n,i;t.alias&&(i=t.alias,this.aliases.set(i,e),delete t.alias),n=Ember.create(this.globalConfigurations),Ember.merge(n,t),this.configurations.set(e,n)},typeFromAlias:function(e){return this._completeAliases(),this.aliases.get(e)},mappingForType:function(e){return this._reifyMappings(),this.mappings.get(e)||{}},configurationForType:function(e){return this._reifyConfigurations(),this.configurations.get(e)||this.globalConfigurations},_completeAliases:function(){this._pluralizeAliases(),this._reifyAliases()},_pluralizeAliases:function(){if(!this._didPluralizeAliases){var e,t=this.aliases,n=this.aliases.sideloadMapping,i=this;t.forEach(function(n,r){e=i.pluralize(n),t.set(e,r)}),n&&(n.forEach(function(e,n){t.set(e,n)}),delete this.aliases.sideloadMapping),this._didPluralizeAliases=!0}},_reifyAliases:function(){if(!this._didReifyAliases){var e,t=this.aliases,n=Ember.Map.create();t.forEach(function(t,i){"string"==typeof i?(e=Ember.get(Ember.lookup,i),n.set(t,e)):n.set(t,i)}),this.aliases=n,this._didReifyAliases=!0}},_reifyMappings:function(){if(!this._didReifyMappings){var e=this.mappings,t=Ember.Map.create();e.forEach(function(e,n){if("string"==typeof e){var i=Ember.get(Ember.lookup,e);t.set(i,n)}else t.set(e,n)}),this.mappings=t,this._didReifyMappings=!0}},_reifyConfigurations:function(){if(!this._didReifyConfigurations){var e=this.configurations,t=Ember.Map.create();e.forEach(function(e,n){if("string"==typeof e&&"plurals"!==e){var i=Ember.get(Ember.lookup,e);t.set(i,n)}else t.set(e,n)}),this.configurations=t,this._didReifyConfigurations=!0}},mappingOption:function(e,t,n){var i=this.mappingForType(e)[t];return i&&i[n]},configOption:function(e,t){var n=this.configurationForType(e);return n[t]},embeddedType:function(e,t){return this.mappingOption(e,t,"embedded")},eachEmbeddedRecord:function(e,t,n){this.eachEmbeddedBelongsToRecord(e,t,n),this.eachEmbeddedHasManyRecord(e,t,n)},eachEmbeddedBelongsToRecord:function(e,n,i){this.eachEmbeddedBelongsTo(e.constructor,function(r,a,s){var o=t(e,r);o&&n.call(i,o,s)})},eachEmbeddedHasManyRecord:function(e,n,i){this.eachEmbeddedHasMany(e.constructor,function(r,a,s){for(var o=t(e,r),l=0,c=t(o,"length");c>l;l++)n.call(i,o.objectAt(l),s)})},eachEmbeddedHasMany:function(e,t,n){this.eachEmbeddedRelationship(e,"hasMany",t,n)},eachEmbeddedBelongsTo:function(e,t,n){this.eachEmbeddedRelationship(e,"belongsTo",t,n)},eachEmbeddedRelationship:function(e,t,n,i){e.eachRelationship(function(r,a){var s=this.embeddedType(e,r);s&&a.kind===t&&n.call(i,r,a,s)},this)},pluralize:function(e){var t=this.configurations.get("plurals");return t&&t[e]||e+"s"},singularize:function(e){var t=this.configurations.get("plurals");if(t)for(var n in t)if(t[n]===e)return n;return e.lastIndexOf("s")===e.length-1?e.substring(0,e.length-1):e}})}(),function(){var e=Ember.isNone,t=Ember.isEmpty;DS.JSONTransforms={string:{deserialize:function(t){return e(t)?null:String(t)},serialize:function(t){return e(t)?null:String(t)}},number:{deserialize:function(e){return t(e)?null:Number(e)},serialize:function(e){return t(e)?null:Number(e)}},"boolean":{deserialize:function(e){var t=typeof e;return"boolean"===t?e:"string"===t?null!==e.match(/^true$|^t$|^1$/i):"number"===t?1===e:!1},serialize:function(e){return Boolean(e)}},date:{deserialize:function(e){var t=typeof e;return"string"===t?new Date(Ember.Date.parse(e)):"number"===t?new Date(e):null===e||void 0===e?e:null},serialize:function(e){if(e instanceof Date){var t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=function(e){return 10>e?"0"+e:""+e},r=e.getUTCFullYear(),a=e.getUTCMonth(),s=e.getUTCDate(),o=e.getUTCDay(),l=e.getUTCHours(),c=e.getUTCMinutes(),h=e.getUTCSeconds(),u=t[o],d=i(s),p=n[a];return u+", "+d+" "+p+" "+r+" "+i(l)+":"+i(c)+":"+i(h)+" GMT"}return null}}}}(),function(){var e=Ember.get;Ember.set,DS.JSONSerializer=DS.Serializer.extend({init:function(){this._super(),e(this,"transforms")||this.set("transforms",DS.JSONTransforms),this.sideloadMapping=Ember.Map.create(),this.metadataMapping=Ember.Map.create(),this.configure({meta:"meta",since:"since"})},configure:function(t,n){var i;if(t&&!n){for(i in t)this.metadataMapping.set(e(t,i),i);return this._super(t)}var r,a=n.sideloadAs;a&&(r=this.aliases.sideloadMapping||Ember.Map.create(),r.set(a,t),this.aliases.sideloadMapping=r,delete n.sideloadAs),this._super.apply(this,arguments)},addId:function(e,t,n){e[t]=n},addAttribute:function(e,t,n){e[t]=n},extractAttribute:function(e,t,n){var i=this._keyForAttributeName(e,n);return t[i]},extractId:function(e,t){var n=this._primaryKey(e);return t.hasOwnProperty(n)?t[n]+"":null},extractEmbeddedData:function(e,t){return e[t]},extractHasMany:function(e,t,n){return t[n]},extractBelongsTo:function(e,t,n){return t[n]},extractBelongsToPolymorphic:function(e,t,n){var i,r=this.keyForPolymorphicId(n),a=t[r];return a?(i=this.keyForPolymorphicType(n),{id:a,type:t[i]}):null},addBelongsTo:function(t,n,i,r){var a,s,o,l=n.constructor,c=r.key,h=null,u=r.options&&r.options.polymorphic;this.embeddedType(l,c)?((a=e(n,c))&&(h=this.serialize(a,{includeId:!0,includeType:u})),t[i]=h):(s=e(n,r.key),o=e(s,"id"),r.options&&r.options.polymorphic&&!Ember.isNone(o)?this.addBelongsToPolymorphic(t,i,o,s.constructor):t[i]=void 0===o?null:this.serializeId(o))},addBelongsToPolymorphic:function(e,t,n,i){var r=this.keyForPolymorphicId(t),a=this.keyForPolymorphicType(t);e[r]=n,e[a]=this.rootForType(i)},addHasMany:function(t,n,i,r){var a,s,o=n.constructor,l=r.key,c=[],h=r.options&&r.options.polymorphic;s=this.embeddedType(o,l),"always"===s&&(a=e(n,l),a.forEach(function(e){c.push(this.serialize(e,{includeId:!0,includeType:h}))},this),t[i]=c)},addType:function(e,t){var n=this.keyForEmbeddedType();e[n]=this.rootForType(t)},extract:function(e,t,n,i){var r=this.rootForType(n);this.sideload(e,n,t,r),this.extractMeta(e,n,t),t[r]&&(i&&e.updateId(i,t[r]),this.extractRecordRepresentation(e,n,t[r]))},extractMany:function(e,t,n,i){var r=this.rootForType(n);if(r=this.pluralize(r),this.sideload(e,n,t,r),this.extractMeta(e,n,t),t[r]){var a=t[r],s=[];i&&(i=i.toArray());for(var o=0;o<a.length;o++){i&&e.updateId(i[o],a[o]);var l=this.extractRecordRepresentation(e,n,a[o]);s.push(l)}e.populateArray(s)}},extractMeta:function(e,t,n){var i,r=this.configOption(t,"meta"),a=n;r&&n[r]&&(a=n[r]),this.metadataMapping.forEach(function(n,r){(i=a[n])&&e.metaForType(t,r,i)})},extractEmbeddedType:function(e,t){var n=e.type;if(e.options&&e.options.polymorphic){var i=this.keyFor(e),r=this.keyForEmbeddedType(i);n=this.typeFromAlias(t[r]),delete t[r]}return n},sideload:function(e,t,n,i){var r;this.configureSideloadMappingForType(t);for(var a in n)n.hasOwnProperty(a)&&a!==i&&!this.metadataMapping.get(a)&&(r=this.typeFromAlias(a),this.loadValue(e,r,n[a]))},configureSideloadMappingForType:function(e,t){t||(t=Ember.A([])),t.pushObject(e),e.eachRelatedType(function(e){if(!t.contains(e)){var n=this.defaultSideloadRootForType(e);this.aliases.set(n,e),this.configureSideloadMappingForType(e,t)}},this)},loadValue:function(e,t,n){if(n instanceof Array)for(var i=0;i<n.length;i++)e.sideload(t,n[i]);else e.sideload(t,n)},keyForPolymorphicId:function(e){return e},keyForPolymorphicType:function(e){return this.keyForPolymorphicId(e)+"_type"},keyForEmbeddedType:function(){return"type"},rootForType:function(e){var t=e.toString(),n=t.split("."),i=n[n.length-1];return i.replace(/([A-Z])/g,"_$1").toLowerCase().slice(1)},defaultSideloadRootForType:function(e){return this.pluralize(this.rootForType(e))}})}(),function(){function e(e){return{load:function(t,n,i){return e.load(t,n,i)},loadMany:function(t,n){return e.loadMany(t,n)},updateId:function(t,n){return e.updateId(t,n)},populateArray:Ember.K,sideload:function(t,n){return e.adapterForType(t).load(e,t,n)},sideloadMany:function(t,n){return e.loadMany(t,n)},prematerialize:function(e,t){e.prematerialized=t},metaForType:function(t,n,i){e.metaForType(t,n,i)}}}var t=Ember.get,n=Ember.set,i=Ember.merge;DS.loaderFor=e,DS.Adapter=Ember.Object.extend(DS._Mappable,{init:function(){var e=t(this,"serializer");Ember.Object.detect(e)&&(e=e.create(),n(this,"serializer",e)),this._attributesMap=this.createInstanceMapFor("attributes"),this._configurationsMap=this.createInstanceMapFor("configurations"),this._outstandingOperations=new Ember.MapWithDefault({defaultValue:function(){return 0}}),this._dependencies=new Ember.MapWithDefault({defaultValue:function(){return new Ember.OrderedSet}}),this.registerSerializerTransforms(this.constructor,e,{}),this.registerSerializerMappings(e)},load:function(n,i,r){var a=e(n);return t(this,"serializer").extractRecordRepresentation(a,i,r)},didCreateRecord:function(e,n,i,r){if(e.didSaveRecord(i),r){var a=DS.loaderFor(e);a.load=function(t,n,r){return e.updateId(i,n),e.load(t,n,r)},t(this,"serializer").extract(a,r,n)}},didCreateRecords:function(e,n,i,r){if(i.forEach(function(t){e.didSaveRecord(t)},this),r){var a=DS.loaderFor(e);t(this,"serializer").extractMany(a,r,n,i)}},didSaveRecord:function(e,n,i,r){e.didSaveRecord(i);var a=t(this,"serializer");if(a.eachEmbeddedRecord(i,function(t,n){"load"!==n&&this.didSaveRecord(e,t.constructor,t)},this),r){var s=DS.loaderFor(e);a.extract(s,r,n)}},didUpdateRecord:function(){this.didSaveRecord.apply(this,arguments)},didDeleteRecord:function(){this.didSaveRecord.apply(this,arguments)},didSaveRecords:function(e,n,i,r){if(i.forEach(function(t){e.didSaveRecord(t)},this),r){var a=DS.loaderFor(e);t(this,"serializer").extractMany(a,r,n)}},didUpdateRecords:function(){this.didSaveRecords.apply(this,arguments)},didDeleteRecords:function(){this.didSaveRecords.apply(this,arguments)},didFindRecord:function(e,n,i,r){var a=DS.loaderFor(e);a.load=function(t,n,i){return i=i||{},i.id=r,e.load(t,n,i)},t(this,"serializer").extract(a,i,n)},didFindAll:function(e,n,i){var r=DS.loaderFor(e),a=t(this,"serializer");e.didUpdateAll(n),a.extractMany(r,i,n)},didFindQuery:function(e,n,i,r){var a=DS.loaderFor(e);a.populateArray=function(e){r.load(e)},t(this,"serializer").extractMany(a,i,n)},didFindMany:function(e,n,i){var r=DS.loaderFor(e);t(this,"serializer").extractMany(r,i,n)},didError:function(e,t,n){e.recordWasError(n)},dirtyRecordsForAttributeChange:function(e,t,n,i,r){i!==r&&this.dirtyRecordsForRecordChange(e,t)},dirtyRecordsForRecordChange:function(e,t){e.add(t)},dirtyRecordsForBelongsToChange:function(e,t){this.dirtyRecordsForRecordChange(e,t)},dirtyRecordsForHasManyChange:function(e,t){this.dirtyRecordsForRecordChange(e,t)},registerSerializerTransforms:function(e,t,n){var i,r,a=e._registeredTransforms,s=e._registeredEnumTransforms;for(r in a)!a.hasOwnProperty(r)||r in n||(n[r]=!0,t.registerTransform(r,a[r]));for(r in s)!s.hasOwnProperty(r)||r in n||(n[r]=!0,t.registerEnumTransform(r,s[r]));(i=e.superclass)&&this.registerSerializerTransforms(i,t,n)},registerSerializerMappings:function(e){var t=this._attributesMap,n=this._configurationsMap;t.forEach(e.map,e),n.forEach(e.configure,e)},find:null,serializer:DS.JSONSerializer,registerTransform:function(e,n){t(this,"serializer").registerTransform(e,n)},registerEnumTransform:function(e,n){t(this,"serializer").registerEnumTransform(e,n)},generateIdForRecord:null,materialize:function(e,n,i){t(this,"serializer").materialize(e,n,i)},serialize:function(e,n){return t(this,"serializer").serialize(e,n)},extractId:function(e,n){return t(this,"serializer").extractId(e,n)},groupByType:function(e){var t=Ember.MapWithDefault.create({defaultValue:function(){return Ember.OrderedSet.create()}});return e.forEach(function(e){t.get(e.constructor).add(e)}),t},commit:function(e,t){this.save(e,t)},save:function(e,t){function n(e){var t=Ember.OrderedSet.create();return e.forEach(function(e){i.shouldSave(e)&&t.add(e)}),t}var i=this;this.groupByType(t.created).forEach(function(t,i){this.createRecords(e,t,n(i))},this),this.groupByType(t.updated).forEach(function(t,i){this.updateRecords(e,t,n(i))},this),this.groupByType(t.deleted).forEach(function(t,i){this.deleteRecords(e,t,n(i))},this)},shouldSave:Ember.K,createRecords:function(e,t,n){n.forEach(function(n){this.createRecord(e,t,n)},this)},updateRecords:function(e,t,n){n.forEach(function(n){this.updateRecord(e,t,n)},this)},deleteRecords:function(e,t,n){n.forEach(function(n){this.deleteRecord(e,t,n)},this)},findMany:function(e,t,n){n.forEach(function(n){this.find(e,t,n)},this)}}),DS.Adapter.reopenClass({registerTransform:function(e,t){var n=this._registeredTransforms||{};n[e]=t,this._registeredTransforms=n},registerEnumTransform:function(e,t){var n=this._registeredEnumTransforms||{};n[e]=t,this._registeredEnumTransforms=n},map:DS._Mappable.generateMapFunctionFor("attributes",function(e,t,n){var r=n.get(e);i(r,t)}),configure:DS._Mappable.generateMapFunctionFor("configurations",function(e,t,n){var r=n.get(e),a=t&&t.mappings;a&&(this.map(e,a),delete t.mappings),i(r,t)}),resolveMapConflict:function(e,t){return i(t,e),t}})}(),function(){var e=Ember.get;Ember.set,DS.FixtureSerializer=DS.Serializer.extend({deserializeValue:function(e){return e},serializeValue:function(e){return e},addId:function(e,t,n){e[t]=n},addAttribute:function(e,t,n){e[t]=n},addBelongsTo:function(t,n,i,r){var a=e(n,r.key+".id");Ember.isNone(a)||(t[i]=a)},addHasMany:function(t,n,i,r){var a=e(n,r.key).map(function(e){return e.get("id")});t[r.key]=a},extract:function(e,t,n,i){i&&e.updateId(i,t),this.extractRecordRepresentation(e,n,t)},extractMany:function(e,t,n,i){var r=t,a=[];i&&(i=i.toArray());for(var s=0;s<r.length;s++){i&&e.updateId(i[s],r[s]);var o=this.extractRecordRepresentation(e,n,r[s]);a.push(o)}e.populateArray(a)},extractId:function(e,t){var n=this._primaryKey(e);return t.hasOwnProperty(n)?t[n]+"":null},extractAttribute:function(e,t,n){var i=this._keyForAttributeName(e,n);return t[i]},extractHasMany:function(e,t,n){return t[n]},extractBelongsTo:function(e,t,n){var i=t[n];return null!=i&&(i+=""),i},extractBelongsToPolymorphic:function(e,t,n){var i,r=this.keyForPolymorphicId(n),a=t[r];return a?(i=this.keyForPolymorphicType(n),{id:a,type:t[i]}):null},keyForPolymorphicId:function(e){return e},keyForPolymorphicType:function(e){return e+"_type"}})}(),function(){var e=Ember.get,t=Ember.String.fmt,n=Ember.get(window,"JSON.stringify")||function(e){return e.toString()};DS.FixtureAdapter=DS.Adapter.extend({simulateRemoteResponse:!0,latency:50,serializer:DS.FixtureSerializer,fixturesForType:function(e){if(e.FIXTURES){var i=Ember.A(e.FIXTURES);return i.map(function(e){var i=typeof e.id;if("number"!==i&&"string"!==i)throw new Error(t("the id property must be defined as a number or string for fixture %@",[n(e)]));return e.id=e.id+"",e})}return null},queryFixtures:function(){},updateFixtures:function(e,t){e.FIXTURES||(e.FIXTURES=[]);var n=e.FIXTURES;this.deleteLoadedFixture(e,t),n.push(t)},mockJSON:function(e,t){return this.serialize(t,{includeId:!0})},generateIdForRecord:function(e,t){return Ember.guidFor(t)},find:function(e,t,n){var i,r=this.fixturesForType(t);r&&(i=Ember.A(r).findProperty("id",n)),i&&this.simulateRemoteCall(function(){this.didFindRecord(e,t,i,n)},this)},findMany:function(e,t,n){var i=this.fixturesForType(t);i&&(i=i.filter(function(e){return-1!==n.indexOf(e.id)})),i&&this.simulateRemoteCall(function(){this.didFindMany(e,t,i)},this)},findAll:function(e,t){var n=this.fixturesForType(t);this.simulateRemoteCall(function(){this.didFindAll(e,t,n)},this)},findQuery:function(e,t,n,i){var r=this.fixturesForType(t);r=this.queryFixtures(r,n,t),r&&this.simulateRemoteCall(function(){this.didFindQuery(e,t,r,i)},this)},createRecord:function(e,t,n){var i=this.mockJSON(t,n);this.updateFixtures(t,i),this.simulateRemoteCall(function(){this.didCreateRecord(e,t,n,i)},this)},updateRecord:function(e,t,n){var i=this.mockJSON(t,n);this.updateFixtures(t,i),this.simulateRemoteCall(function(){this.didUpdateRecord(e,t,n,i)},this)},deleteRecord:function(e,t,n){var i=this.mockJSON(t,n);this.deleteLoadedFixture(t,i),this.simulateRemoteCall(function(){this.didDeleteRecord(e,t,n)},this)},deleteLoadedFixture:function(e,t){var n=this.findExistingFixture(e,t);if(n){var i=e.FIXTURES.indexOf(n);return e.FIXTURES.splice(i,1),!0}},findExistingFixture:function(e,t){var n=this.fixturesForType(e),i=this.extractId(e,t);return this.findFixtureById(n,i)},findFixtureById:function(t,n){return Ember.A(t).find(function(t){return""+e(t,"id")==""+n?!0:!1})},simulateRemoteCall:function(t,n){e(this,"simulateRemoteResponse")?Ember.run.later(n,t,e(this,"latency")):Ember.run.once(n,t)}})}(),function(){var e=Ember.get;DS.RESTSerializer=DS.JSONSerializer.extend({keyForAttributeName:function(e,t){return Ember.String.decamelize(t)},keyForBelongsTo:function(e,t){var n=this.keyForAttributeName(e,t);return this.embeddedType(e,t)?n:n+"_id"},keyForHasMany:function(e,t){var n=this.keyForAttributeName(e,t);return this.embeddedType(e,t)?n:this.singularize(n)+"_ids"},keyForPolymorphicId:function(e){return e},keyForPolymorphicType:function(e){return e.replace(/_id$/,"_type")},extractValidationErrors:function(t,n){var i={};return e(t,"attributes").forEach(function(e){var r=this._keyForAttributeName(t,e);n.errors.hasOwnProperty(r)&&(i[e]=n.errors[r])},this),i}})}(),function(){function e(e){throw Ember.Logger.error(e,e.message),e}var t=Ember.get;Ember.set,DS.RESTAdapter=DS.Adapter.extend({namespace:null,bulkCommit:!1,since:"since",serializer:DS.RESTSerializer,init:function(){this._super.apply(this,arguments)},shouldSave:function(e){var n=t(e,"_reference");return!n.parent},dirtyRecordsForRecordChange:function(e,t){this._dirtyTree(e,t)},dirtyRecordsForHasManyChange:function(e,n,i){var r=t(this,"serializer").embeddedType(n.constructor,i.secondRecordName);"always"===r&&(i.childReference.parent=i.parentReference,this._dirtyTree(e,n))},_dirtyTree:function(e,n){e.add(n),t(this,"serializer").eachEmbeddedRecord(n,function(t,n){"always"===n&&(e.has(t)||this._dirtyTree(e,t))},this);var i=n.get("_reference");if(i.parent){var r=t(n,"store"),a=r.recordForReference(i.parent);this._dirtyTree(e,a)}},createRecord:function(t,n,i){var r=this.rootForType(n),a=this,s={};return s[r]=this.serialize(i,{includeId:!0}),this.ajax(this.buildURL(r),"POST",{data:s}).then(function(e){a.didCreateRecord(t,n,i,e)},function(e){throw a.didError(t,n,i,e),e}).then(null,e)},createRecords:function(n,i,r){var a=this;if(t(this,"bulkCommit")===!1)return this._super(n,i,r);var s=this.rootForType(i),o=this.pluralize(s),l={};return l[o]=[],r.forEach(function(e){l[o].push(this.serialize(e,{includeId:!0}))},this),this.ajax(this.buildURL(s),"POST",{data:l}).then(function(e){a.didCreateRecords(n,i,r,e)}).then(null,e)},updateRecord:function(n,i,r){var a,s,o,l;return a=t(r,"id"),s=this.rootForType(i),o=this,l={},l[s]=this.serialize(r),this.ajax(this.buildURL(s,a),"PUT",{data:l}).then(function(e){o.didUpdateRecord(n,i,r,e)},function(e){throw o.didError(n,i,r,e),e}).then(null,e)},updateRecords:function(n,i,r){var a,s,o,l;return t(this,"bulkCommit")===!1?this._super(n,i,r):(a=this.rootForType(i),s=this.pluralize(a),o=this,l={},l[s]=[],r.forEach(function(e){l[s].push(this.serialize(e,{includeId:!0}))},this),this.ajax(this.buildURL(a,"bulk"),"PUT",{data:l}).then(function(e){o.didUpdateRecords(n,i,r,e)}).then(null,e))},deleteRecord:function(n,i,r){var a,s,o;return a=t(r,"id"),s=this.rootForType(i),o=this,this.ajax(this.buildURL(s,a),"DELETE").then(function(e){o.didDeleteRecord(n,i,r,e)},function(e){throw o.didError(n,i,r,e),e}).then(null,e)},deleteRecords:function(n,i,r){var a,s,o,l,c;return t(this,"bulkCommit")===!1?this._super(n,i,r):(a=this.rootForType(i),s=this.pluralize(a),o=t(this,"serializer"),l=this,c={},c[s]=[],r.forEach(function(e){c[s].push(o.serializeId(t(e,"id")))}),this.ajax(this.buildURL(a,"bulk"),"DELETE",{data:c}).then(function(e){l.didDeleteRecords(n,i,r,e)}).then(null,e))},find:function(t,n,i){var r=this.rootForType(n),a=this;return this.ajax(this.buildURL(r,i),"GET").then(function(e){a.didFindRecord(t,n,e,i)}).then(null,e)},findAll:function(t,n,i){var r,a;return r=this.rootForType(n),a=this,this.ajax(this.buildURL(r),"GET",{data:this.sinceQuery(i)}).then(function(e){a.didFindAll(t,n,e)}).then(null,e)},findQuery:function(t,n,i,r){var a=this.rootForType(n),s=this;return this.ajax(this.buildURL(a),"GET",{data:i}).then(function(e){s.didFindQuery(t,n,e,r)}).then(null,e)},findMany:function(t,n,i){var r=this.rootForType(n),a=this;return i=this.serializeIds(i),this.ajax(this.buildURL(r),"GET",{data:{ids:i}}).then(function(e){a.didFindMany(t,n,e)}).then(null,e)},serializeIds:function(e){var n=t(this,"serializer");return Ember.EnumerableUtils.map(e,function(e){return n.serializeId(e)})},didError:function(e,n,i,r){if(422===r.status){var a=JSON.parse(r.responseText),s=t(this,"serializer"),o=s.extractValidationErrors(n,a);e.recordWasInvalid(i,o)}else this._super.apply(this,arguments)},ajax:function(e,t,n){var i=this;return new Ember.RSVP.Promise(function(r,a){n=n||{},n.url=e,n.type=t,n.dataType="json",n.context=i,n.data&&"GET"!==t&&(n.contentType="application/json; charset=utf-8",n.data=JSON.stringify(n.data)),n.success=function(e){Ember.run(null,r,e)},n.error=function(e){Ember.run(null,a,e)},Ember.$.ajax(n)})},url:"",rootForType:function(e){var n=t(this,"serializer");return n.rootForType(e)},pluralize:function(e){var n=t(this,"serializer");return n.pluralize(e)},buildURL:function(e,t){var n=[this.url];return Ember.isNone(this.namespace)||n.push(this.namespace),n.push(this.pluralize(e)),void 0!==t&&n.push(t),n.join("/")},sinceQuery:function(e){var n={};return n[t(this,"since")]=e,e?n:null}})}()}(),"undefined"==typeof location||"localhost"!==location.hostname&&"127.0.0.1"!==location.hostname||Ember.Logger.warn("You are running a production build of Ember on localhost and won't receive detailed error messages. If you want full error messages please use the non-minified build provided on the Ember website.");var get$=Ember.get,set$=Ember.set;set$(Em,"Auth",get$(Em,"Object").extend(get$(Em,"Evented"),{init:function(){return null!=get$(this,"_request")||set$(this,"_request",get$(get$(Em,"Auth"),"Request").create({auth:this})),null!=get$(this,"_response")||set$(this,"_response",get$(get$(Em,"Auth"),"Response").create({auth:this})),null!=get$(this,"_strategy")||set$(this,"_strategy",get$(get$(Em,"Auth"),"Strategy").create({auth:this})),null!=get$(this,"_session")||set$(this,"_session",get$(get$(Em,"Auth"),"Session").create({auth:this})),null!=get$(this,"_module")||set$(this,"_module",get$(get$(Em,"Auth"),"Module").create({auth:this}))},trigger:function(){return get$(this,"syncEvent").apply(this,arguments),this._super.apply(this,arguments)},syncEvent:function(){return get$(get$(this,"_request"),"syncEvent").apply(get$(this,"_request"),arguments),get$(get$(this,"_response"),"syncEvent").apply(get$(this,"_response"),arguments),get$(get$(this,"_strategy"),"syncEvent").apply(get$(this,"_strategy"),arguments),get$(get$(this,"_session"),"syncEvent").apply(get$(this,"_session"),arguments),get$(get$(this,"_module"),"syncEvent").apply(get$(this,"_module"),arguments)},ensurePromise:function(e){var t,n,i;return null!=(null!=(t=i=e())?get$(t,"then"):void 0)?i:(n=get$(Em,"Deferred").create(),n.resolve(n),n)},followPromise:function(e,t){return null!=(null!=e?get$(e,"then"):void 0)?e.then(function(){return t()}):this.ensurePromise(function(){return t()})},wrapDeferred:function(e){var t,n,i;return t=get$(Em,"Deferred").create(),i=function(){return t.resolve(t)},n=function(){return t.reject(t)},e(i,n),t},requestAdapter:"jquery",responseAdapter:"json",strategyAdapter:"token",sessionAdapter:"cookie",modules:["emberData"],signInEndPoint:null,signOutEndPoint:null,baseUrl:null,userModel:null,tokenKey:null,tokenIdKey:null,tokenLocation:"param",tokenHeaderKey:null,rememberable:{tokenKey:null,period:14,autoRecall:!0},urlAuthenticatable:{paramsKey:null},authRedirectable:{route:null},actionRedirectable:{signInRoute:!1,signOutRoute:!1,signInSmart:!1,signOutSmart:!1,signInBlacklist:[],signOutBlacklist:[]}}));var get$=Ember.get,set$=Ember.set;set$(get$(Em,"Auth"),"Request",Ember.Object.extend({init:function(){var e;if(null==get$(this,"adapter")){if(e=get$(Em,"String").capitalize(get$(Em,"String").camelize(get$(get$(this,"auth"),"requestAdapter"))),null==get$(get$(Em,"Auth"),"Request")[e])throw"Adapter not found: Em.Auth.Request."+e;set$(this,"adapter",get$(get$(Em,"Auth"),"Request")[e].create({auth:get$(this,"auth")}))}return this.inject()},syncEvent:function(){return null!=get$(get$(this,"adapter"),"syncEvent")?get$(get$(this,"adapter"),"syncEvent").apply(get$(this,"adapter"),arguments):void 0},signIn:function(e){var t;return get$(this,"auth").ensurePromise((t=this,function(){var n;return n=t.resolveUrl(get$(get$(t,"auth"),"signInEndPoint")),get$(t,"adapter").signIn(n,get$(get$(t,"auth"),"_strategy").serialize(e))}))},signOut:function(e){var t;return get$(this,"auth").ensurePromise((t=this,function(){var n;return n=t.resolveUrl(get$(get$(t,"auth"),"signOutEndPoint")),get$(t,"adapter").signOut(n,get$(get$(t,"auth"),"_strategy").serialize(e))}))},send:function(e){var t;return get$(this,"auth").ensurePromise((t=this,function(){return get$(t,"adapter").send(get$(get$(t,"auth"),"_strategy").serialize(e))}))},resolveUrl:function(e){var t;return t=get$(get$(this,"auth"),"baseUrl"),t&&"/"===t[get$(t,"length")-1]&&(t=t.substr(0,get$(t,"length")-1)),"/"===(null!=e?e[0]:void 0)&&(e=e.substr(1,get$(e,"length"))),[t,e].join("/")},inject:function(){var e,t,n;return get$(this,"auth").reopen({signIn:(e=this,function(t){return e.signIn(t)}),signOut:(t=this,function(e){return t.signOut(e)}),send:(n=this,function(e){return n.send(e)})})}}));var get$=Ember.get,set$=Ember.set;set$(get$(get$(Em,"Auth"),"Request"),"Dummy",Ember.Object.extend({signIn:function(e,t){switch(null==t&&(t={}),this.send(t),get$(t,"status")){case"success":get$(this,"auth").trigger("signInsuccess");break;case"error":get$(this,"auth").trigger("signInError")}return get$(this,"auth").trigger("signInComplete")},signOut:function(e,t){switch(null==t&&(t={}),this.send(t),get$(t,"status")){case"success":get$(this,"auth").trigger("signOutsuccess");break;case"error":get$(this,"auth").trigger("signOutError")}return get$(this,"auth").trigger("signOutComplete")},send:function(e){return null==e&&(e={}),get$(get$(this,"auth"),"_response").canonicalize(e)}})),void function(){var e,t=Ember.get,n=Ember.set;e=jQuery,n(t(t(Em,"Auth"),"Request"),"Jquery",Ember.Object.extend({init:function(){return null!=t(this,"jqxhr")||n(this,"jqxhr",null),this.inject()},signIn:function(n,i){var r,a,s;return null==i&&(i={}),this.send(e.extend(!0,{url:n,type:"POST"},i)).done((r=this,function(){return t(r,"auth").trigger("signInSuccess")})).fail((a=this,function(){return t(a,"auth").trigger("signInError")})).always((s=this,function(){return t(s,"auth").trigger("signInComplete")}))},signOut:function(n,i){var r,a,s;return null==i&&(i={}),this.send(e.extend(!0,{url:n,type:"DELETE"},i)).done((r=this,function(){return t(r,"auth").trigger("signOutSuccess")})).fail((a=this,function(){return t(a,"auth").trigger("signOutError")})).always((s=this,function(){return t(s,"auth").trigger("signOutComplete")}))},send:function(i){var r,a,s,o;return null==i&&(i={}),r={},n(r,"dataType","json"),t(i,"data")&&null==t(i,"contentType")&&(null!=t(i,"type")&&"GET"!==t(i,"type").toUpperCase()&&n(i,"data",JSON.stringify(t(i,"data"))),"GET"!==(null!=t(i,"type")?t(i,"type").toUpperCase():void 0)&&n(r,"contentType","application/json; charset=utf-8")),i=e.extend(r,i),e.ajax(i).done((a=this,function(e,i,r){return t(t(a,"auth"),"_response").canonicalize(e),n(a,"jqxhr",r)})).fail((s=this,function(e){return t(t(s,"auth"),"_response").canonicalize(t(e,"responseText")),n(s,"jqxhr",e)})).always((o=this,function(e){return n(o,"jqxhr",e)}))},inject:function(){var e;return t(this,"auth").reopen({jqxhr:Em.computed((e=this,function(){return t(e,"jqxhr")})).property("_request.adapter.jqxhr")})}}))}.call(this);var get$=Ember.get,set$=Ember.set;set$(get$(Em,"Auth"),"Response",Ember.Object.extend({init:function(){var e;if(null!=get$(this,"response")||set$(this,"response",{}),null==get$(this,"adapter")){if(e=get$(Em,"String").capitalize(get$(Em,"String").camelize(get$(get$(this,"auth"),"responseAdapter"))),null==get$(get$(Em,"Auth"),"Response")[e])throw"Adapter not found: Em.Auth.Response."+e;set$(this,"adapter",get$(get$(Em,"Auth"),"Response")[e].create({auth:get$(this,"auth")}))}return this.inject()},syncEvent:function(){return null!=get$(get$(this,"adapter"),"syncEvent")?get$(get$(this,"adapter"),"syncEvent").apply(get$(this,"adapter"),arguments):void 0},canonicalize:function(e){return set$(this,"response",get$(this,"adapter").canonicalize(e))},inject:function(){var e;return get$(this,"auth").reopen({response:Em.computed((e=this,function(){return get$(e,"response")})).property("_response.response")})}}));var get$=Ember.get,set$=Ember.set;set$(get$(get$(Em,"Auth"),"Response"),"Dummy",Ember.Object.extend({canonicalize:function(e){return e}}));var get$=Ember.get,set$=Ember.set;set$(get$(get$(Em,"Auth"),"Response"),"Json",Ember.Object.extend({canonicalize:function(e){var t;if(!e)return{};switch(typeof e){case"object":return e;case"string":try{return JSON.parse(e)}catch(n){throw t=n,"Invalid JSON format"}default:throw"Invalid JSON format"}}}));var get$=Ember.get,set$=Ember.set;set$(get$(Em,"Auth"),"Strategy",Ember.Object.extend({init:function(){var e;if(null==get$(this,"adapter")){if(e=get$(Em,"String").capitalize(get$(Em,"String").camelize(get$(get$(this,"auth"),"strategyAdapter"))),null!=get$(get$(Em,"Auth"),"Strategy")[e])return set$(this,"adapter",get$(get$(Em,"Auth"),"Strategy")[e].create({auth:get$(this,"auth")}));throw"Adapter not found: Em.Auth.Strategy."+e}},syncEvent:function(e,t){switch(t=2<=arguments.length?[].slice.call(arguments,1):[],e){case"signInSuccess":this.deserialize()}return null!=get$(get$(this,"adapter"),"syncEvent")?get$(get$(this,"adapter"),"syncEvent").apply(get$(this,"adapter"),arguments):void 0},serialize:function(e){return get$(this,"adapter").serialize(e)},deserialize:function(){return get$(this,"adapter").deserialize(get$(get$(this,"auth"),"response"))}}));var get$=Ember.get,set$=Ember.set;set$(get$(get$(Em,"Auth"),"Strategy"),"Dummy",Ember.Object.extend({serialize:function(e){return null==e&&(e={}),e},deserialize:function(e){return null==e&&(e={}),function(t){var n,i;for(n in e)i=e[n],t.push(get$(this,"auth").set(n,i));return t}.call(this,[])}}));var get$=Ember.get,set$=Ember.set;set$(get$(get$(Em,"Auth"),"Strategy"),"Token",Ember.Object.extend({init:function(){return null!=get$(this,"authToken")||set$(this,"authToken",null),this.inject()},serialize:function(e){if(null==e&&(e={}),!get$(get$(this,"auth"),"signedIn"))return e;switch(get$(get$(this,"auth"),"tokenLocation")){case"param":e.data||(e.data={}),"undefined"!=typeof FormData&&null!=FormData&&get$(e,"data")instanceof FormData?get$(e,"data").append(get$(get$(this,"auth"),"tokenKey"),get$(this,"authToken")):get$(e,"data")[get$(get$(this,"auth"),"tokenKey")]||(get$(e,"data")[get$(get$(this,"auth"),"tokenKey")]=get$(this,"authToken"));break;case"authHeader":e.headers||(e.headers={}),get$(e,"headers").Authorization||(get$(e,"headers").Authorization=""+get$(get$(this,"auth"),"tokenHeaderKey")+" "+get$(this,"authToken"));break;case"customHeader":e.headers||(e.headers={}),get$(e,"headers")[get$(get$(this,"auth"),"tokenHeaderKey")]||(get$(e,"headers")[get$(get$(this,"auth"),"tokenHeaderKey")]=get$(this,"authToken"))}return e},deserialize:function(e){return null==e&&(e={}),set$(this,"authToken",e[get$(get$(this,"auth"),"tokenKey")]),get$(get$(this,"auth"),"tokenIdKey")?set$(get$(get$(this,"auth"),"_session"),"userId",e[get$(get$(this,"auth"),"tokenIdKey")]):void 0},inject:function(){var e;return get$(this,"auth").reopen({authToken:Em.computed((e=this,function(){return get$(e,"authToken")})).property("_strategy.adapter.authToken")})}}));var get$=Ember.get,set$=Ember.set;set$(get$(Em,"Auth"),"Session",Ember.Object.extend({init:function(){var e,t,n;if(null!=get$(this,"signedIn")||set$(this,"signedIn",!1),null!=get$(this,"userId")||set$(this,"userId",null),null!=get$(this,"user")||set$(this,"user",null),null==get$(this,"adapter")){if(e=get$(Em,"String").capitalize(get$(Em,"String").camelize(get$(get$(this,"auth"),"sessionAdapter"))),null==get$(get$(Em,"Auth"),"Session")[e])throw"Adapter not found: Em.Auth.Session."+e;
set$(this,"adapter",get$(get$(Em,"Auth"),"Session")[e].create({auth:get$(this,"auth")}))}return get$(this,"auth").on("signInSuccess",(t=this,function(){return t.start()})),get$(this,"auth").on("signOutSuccess",(n=this,function(){return n.clear()})),this.inject()},syncEvent:function(e,t){return t=2<=arguments.length?[].slice.call(arguments,1):[],null!=get$(get$(this,"adapter"),"syncEvent")?get$(get$(this,"adapter"),"syncEvent").apply(get$(this,"adapter"),arguments):void 0},findUser:function(){var e,t;return get$(this,"userId")&&(t=get$(get$(this,"auth"),"userModel"))&&(e=Ember.get(t))?set$(this,"user",e.find(get$(this,"userId"))):void 0},start:function(){return set$(this,"signedIn",!0),this.findUser()},clear:function(){return set$(this,"signedIn",!1),set$(this,"userId",null),set$(this,"user",null)},retrieve:function(e,t){return get$(this,"adapter").retrieve(e,t)},store:function(e,t,n){return get$(this,"adapter").store(e,t,n)},remove:function(e,t){return get$(this,"adapter").remove(e,t)},inject:function(){var e,t,n;return get$(this,"auth").reopen({signedIn:Em.computed((e=this,function(){return get$(e,"signedIn")})).property("_session.signedIn"),userId:Em.computed((t=this,function(){return get$(t,"userId")})).property("_session.userId"),user:Em.computed((n=this,function(){return get$(n,"user")})).property("_session.user")})}})),/*!
 * jQuery Cookie Plugin v1.3.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e(jQuery)}(function(e){function t(e){return e}function n(e){return decodeURIComponent(e.replace(r," "))}function i(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return a.json?JSON.parse(e):e}catch(t){}}var r=/\+/g,a=e.cookie=function(r,s,o){if(void 0!==s){if(o=e.extend({},a.defaults,o),"number"==typeof o.expires){var l=o.expires,c=o.expires=new Date;c.setDate(c.getDate()+l)}return s=a.json?JSON.stringify(s):String(s),document.cookie=[encodeURIComponent(r),"=",a.raw?s:encodeURIComponent(s),o.expires?"; expires="+o.expires.toUTCString():"",o.path?"; path="+o.path:"",o.domain?"; domain="+o.domain:"",o.secure?"; secure":""].join("")}for(var h=a.raw?t:n,u=document.cookie.split("; "),d=r?void 0:{},p=0,f=u.length;f>p;p++){var g=u[p].split("="),m=h(g.shift()),v=h(g.join("="));if(r&&r===m){d=i(v);break}r||(d[m]=i(v))}return d};a.defaults={},e.removeCookie=function(t,n){return void 0!==e.cookie(t)?(e.cookie(t,"",e.extend(n,{expires:-1})),!0):!1}}),void function(){var e,t=Ember.get,n=Ember.set;e=jQuery,n(t(t(Em,"Auth"),"Session"),"Cookie",Ember.Object.extend({retrieve:function(t){return e.cookie(t)},store:function(t,n,i){return e.cookie(t,n,e.extend(!0,{path:"/"},i))},remove:function(t,n){return e.removeCookie(t,e.extend(!0,{path:"/"},n))}}))}.call(this);var get$=Ember.get,set$=Ember.set;set$(get$(get$(Em,"Auth"),"Session"),"Dummy",Ember.Object.extend({init:function(){return set$(this,"session",{})},retrieve:function(e){return this.get("session."+e)},store:function(e,t){return this.set("session."+e,t)},remove:function(e){return delete get$(this,"session")[e]}}));var get$=Ember.get,set$=Ember.set;set$(get$(get$(Em,"Auth"),"Session"),"LocalStorage",Ember.Object.extend({retrieve:function(e){return localStorage.getItem(e)},store:function(e,t){return localStorage.setItem(e,t)},remove:function(e){return localStorage.removeItem(e)}}));var get$=Ember.get,set$=Ember.set;set$(get$(Em,"Auth"),"Module",Ember.Object.extend({init:function(){var e,t;if(null==get$(this,"module")){set$(this,"module",{});for(var n=0,i=get$(get$(this,"auth"),"modules").length;i>n;++n){if(e=get$(get$(this,"auth"),"modules")[n],e=get$(Em,"String").camelize(e),t=get$(Em,"String").capitalize(get$(Em,"String").camelize(e)),null==get$(get$(Em,"Auth"),"Module")[t])throw"Module not found: Em.Auth.Module."+t;this.set("module."+e,get$(get$(Em,"Auth"),"Module")[t].create({auth:get$(this,"auth")}))}}return this.inject()},syncEvent:function(){var e;return e=arguments,function(t){var n,i;for(n in get$(this,"module"))i=get$(this,"module")[n],t.push(null!=get$(i,"syncEvent")?get$(i,"syncEvent").apply(i,e):void 0);return t}.call(this,[])},inject:function(){var e;return get$(this,"auth").reopen({module:Em.computed((e=this,function(){return get$(e,"module")})).property("_module.module")})}})),void function(){var e,t=Ember.get,n=Ember.set;e=jQuery,n(t(t(Em,"Auth"),"Module"),"ActionRedirectable",Ember.Object.extend({init:function(){return null!=t(this,"config")||n(this,"config",t(t(this,"auth"),"actionRedirectable")),null!=t(this,"signInRedir")||n(this,"signInRedir",null),null!=t(this,"signOutRedir")||n(this,"signOutRedir",null),null!=t(this,"router")||n(this,"router",null),this.patch()},canonicalizeRoute:function(e){var n;return"string"!=typeof e?"":(n=function(e,n){var i;return i=t(e,"length")-t(n,"length"),i>=0&&e.lastIndexOf(n)===i},n(e,".index")?e.substr(0,e.lastIndexOf(".index")):e)},getBlacklist:function(e){var n;return(n=t(this,"config")[""+e+"Blacklist"])?function(e){for(var t,i=0,r=n.length;r>i;++i)t=n[i],e.push(this.canonicalizeRoute(t));return e}.call(this,[]):[]},resolveRedirect:function(e){var n,i;return"signIn"!==e&&"signOut"!==e?null:(i=t(this,"config")[""+e+"Smart"],n=this.canonicalizeRoute(t(this,"config")[""+e+"Route"]),n?i?this.get(""+e+"Redir")||n:n:null)},registerRedirect:function(i){var r;return r=this.canonicalizeRoute(t(i,"targetName")),-1===e.inArray(r,this.getBlacklist("signIn"))&&n(this,"signInRedir",i),-1===e.inArray(r,this.getBlacklist("signOut"))?n(this,"signOutRedir",i):void 0},redirect:Ember.observer(function(){var e,n;if(e=t(t(this,"auth"),"signedIn")?"signIn":"signOut",n=this.resolveRedirect(e))switch(typeof n){case"object":return n.retry();case"string":return t(this,"router").transitionTo(n)}},"auth.signedIn"),patch:function(){var e;return e=this,t(Em,"Route").reopen({init:function(){return e.router||(e.router=t(this,"router")),this._super.apply(this,arguments)},beforeModel:function(n){return t(e,"auth").followPromise(this._super.apply(this,arguments),function(){return e.registerRedirect(n),null})}})}}))}.call(this);var get$=Ember.get,set$=Ember.set;set$(get$(get$(Em,"Auth"),"Module"),"AuthRedirectable",Ember.Object.extend({init:function(){return null!=get$(this,"config")||set$(this,"config",get$(get$(this,"auth"),"authRedirectable")),this.patch()},patch:function(){var e;return e=this,set$(this,"AuthRedirectable",Ember.Mixin.create({beforeModel:function(){var t;return get$(e,"auth").followPromise(this._super.apply(this,arguments),(t=this,function(){return get$(get$(e,"auth"),"signedIn")?void 0:(get$(e,"auth").trigger("authAccess"),t.transitionTo(get$(get$(e,"config"),"route")))}))}})),set$(get$(this,"auth"),"AuthRedirectable",get$(this,"AuthRedirectable"))}}));var get$=Ember.get,set$=Ember.set;set$(get$(get$(Em,"Auth"),"Module"),"EmberData",Ember.Object.extend({init:function(){return this.patch()},patch:function(){var e;return e=this,"undefined"!=typeof DS&&null!=DS&&null!=get$(DS,"RESTAdapter")?get$(DS,"RESTAdapter").reopen({ajax:function(t,n,i){return i||(i={}),set$(i,"url",t),set$(i,"type",n),set$(i,"context",this),get$(get$(e,"auth"),"_request").send(i)}}):void 0}}));var get$=Ember.get,set$=Ember.set;set$(get$(get$(Em,"Auth"),"Module"),"Rememberable",Ember.Object.extend({init:function(){return null!=get$(this,"config")||set$(this,"config",get$(get$(this,"auth"),"rememberable")),this.patch()},syncEvent:function(e,t){switch(t=2<=arguments.length?[].slice.call(arguments,1):[],e){case"signInSuccess":return this.remember();case"signInError":return this.forget();case"signOutSuccess":return this.forget()}},recall:function(e){var t;return null==e&&(e={}),get$(this,"auth").wrapDeferred((t=this,function(n,i){var r;return!get$(get$(t,"auth"),"signedIn")&&(r=t.retrieveToken())?(set$(t,"fromRecall",!0),e.data||(e.data={}),get$(e,"data")[get$(get$(t,"config"),"tokenKey")]=r,get$(t,"auth").signIn(e).then(function(){return n()},function(){return i()})):n()}))},remember:function(){var e;return(e=null!=get$(get$(this,"auth"),"response")?get$(get$(this,"auth"),"response")[get$(get$(this,"config"),"tokenKey")]:void 0)?e!==this.retrieveToken()&&this.storeToken(e):get$(this,"fromRecall")||this.forget(),set$(this,"fromRecall",!1)},forget:function(){return this.removeToken()},retrieveToken:function(){return get$(get$(this,"auth"),"_session").retrieve("ember-auth-rememberable")},storeToken:function(e){return get$(get$(this,"auth"),"_session").store("ember-auth-rememberable",e,{expires:get$(get$(this,"config"),"period")})},removeToken:function(){return get$(get$(this,"auth"),"_session").remove("ember-auth-rememberable")},patch:function(){var e;return e=this,get$(Em,"Route").reopen({beforeModel:function(){return get$(e,"auth").followPromise(this._super.apply(this,arguments),function(){return get$(get$(e,"config"),"autoRecall")&&!get$(get$(e,"auth"),"signedIn")?e.recall():void 0})}})}})),function(e){"function"==typeof define&&define.amd?"undefined"!=typeof jQuery?define(["jquery"],e):define([],e):"undefined"!=typeof jQuery?e(jQuery):e()}(function(e,t){function n(e,t){for(var n=decodeURI(e),i=v[t?"strict":"loose"].exec(n),r={attr:{},param:{},seg:{}},a=14;a--;)r.attr[g[a]]=i[a]||"";return r.param.query=o(r.attr.query),r.param.fragment=o(r.attr.fragment),r.seg.path=r.attr.path.replace(/^\/+|\/+$/g,"").split("/"),r.seg.fragment=r.attr.fragment.replace(/^\/+|\/+$/g,"").split("/"),r.attr.base=r.attr.host?(r.attr.protocol?r.attr.protocol+"://"+r.attr.host:r.attr.host)+(r.attr.port?":"+r.attr.port:""):"",r}function i(e){var t=e.tagName;return"undefined"!=typeof t?f[t.toLowerCase()]:t}function r(e,t){if(0==e[t].length)return e[t]={};var n={};for(var i in e[t])n[i]=e[t][i];return e[t]=n,n}function a(e,t,n,i){var s=e.shift();if(s){var o=t[n]=t[n]||[];"]"==s?u(o)?""!=i&&o.push(i):"object"==typeof o?o[d(o).length]=i:o=t[n]=[t[n],i]:~s.indexOf("]")?(s=s.substr(0,s.length-1),!b.test(s)&&u(o)&&(o=r(t,n)),a(e,o,s,i)):(!b.test(s)&&u(o)&&(o=r(t,n)),a(e,o,s,i))}else u(t[n])?t[n].push(i):t[n]="object"==typeof t[n]?i:"undefined"==typeof t[n]?i:[t[n],i]}function s(e,t,n){if(~t.indexOf("]")){var i=t.split("[");i.length,a(i,e,"base",n)}else{if(!b.test(t)&&u(e.base)){var r={};for(var s in e.base)r[s]=e.base[s];e.base=r}l(e.base,t,n)}return e}function o(e){return h(String(e).split(/&|;/),function(e,t){try{t=decodeURIComponent(t.replace(/\+/g," "))}catch(n){}var i=t.indexOf("="),r=c(t),a=t.substr(0,r||i),o=t.substr(r||i,t.length),o=o.substr(o.indexOf("=")+1,o.length);return""==a&&(a=t,o=""),s(e,a,o)},{base:{}}).base}function l(e,n,i){var r=e[n];t===r?e[n]=i:u(r)?r.push(i):e[n]=[r,i]}function c(e){for(var t,n,i=e.length,r=0;i>r;++r)if(n=e[r],"]"==n&&(t=!1),"["==n&&(t=!0),"="==n&&!t)return r}function h(e,n){for(var i=0,r=e.length>>0,a=arguments[2];r>i;)i in e&&(a=n.call(t,a,e[i],i,e)),++i;return a}function u(e){return"[object Array]"===Object.prototype.toString.call(e)}function d(e){var t=[];for(prop in e)e.hasOwnProperty(prop)&&t.push(prop);return t}function p(e,i){return 1===arguments.length&&e===!0&&(i=!0,e=t),i=i||!1,e=e||window.location.toString(),{data:n(e,i),attr:function(e){return e=m[e]||e,"undefined"!=typeof e?this.data.attr[e]:this.data.attr},param:function(e){return"undefined"!=typeof e?this.data.param.query[e]:this.data.param.query},fparam:function(e){return"undefined"!=typeof e?this.data.param.fragment[e]:this.data.param.fragment},segment:function(e){return"undefined"==typeof e?this.data.seg.path:(e=0>e?this.data.seg.path.length+e:e-1,this.data.seg.path[e])},fsegment:function(e){return"undefined"==typeof e?this.data.seg.fragment:(e=0>e?this.data.seg.fragment.length+e:e-1,this.data.seg.fragment[e])}}}var f={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href"},g=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],m={anchor:"fragment"},v={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},b=(Object.prototype.toString,/^[0-9]+$/);"undefined"!=typeof e?(e.fn.url=function(t){var n="";return this.length&&(n=e(this).attr(i(this[0]))||""),p(n,t)},e.url=p):window.purl=p}),void function(){var e,t=Ember.get,n=Ember.set;e=jQuery,n(t(t(Em,"Auth"),"Module"),"UrlAuthenticatable",Ember.Object.extend({init:function(){return null!=t(this,"params")||n(this,"params",{}),null!=t(this,"config")||n(this,"config",t(t(this,"auth"),"urlAuthenticatable")),this.patch()},authenticate:function(i){var r;return null==i&&(i={}),t(this,"auth").wrapDeferred((r=this,function(a,s){return t(t(r,"auth"),"signedIn")?a():(r.canonicalizeParams(),e.isEmptyObject(t(r,"params"))?a():(n(i,"data",e.extend(!0,t(r,"params"),t(i,"data")||{})),t(r,"auth").signIn(i).then(function(){return a()},function(){return s()})))}))},retrieveParams:function(){return n(this,"params",e.url().param(t(t(this,"config"),"paramsKey")))},canonicalizeParams:function(i){var r,a,s,o;if(null==i&&(i=t(this,"params")),s={},null==i)s={};else if(e.isArray(i))for(var l=0,c=i.length;c>l;++l)o=i[l],a=l,s[a]=o;else"object"!=typeof i?s[String(i)]=String(i):s=i;r={};for(a in s)o=s[a],a=String(a),a&&"/"===a.charAt(t(a,"length")-1)&&(a=a.slice(0,-1)),"object"==typeof o?r[a]=this.canonicalizeParams(o):(o=String(o),o&&"/"===o.charAt(t(o,"length")-1)&&(o=o.slice(0,-1)),r[a]=o);return n(this,"params",r)},patch:function(){var e;return e=this,t(Em,"Route").reopen({beforeModel:function(){return t(e,"auth").followPromise(this._super.apply(this,arguments),function(){return e.authenticate()})}}),t(Em,"Router").reopen({init:function(){return e.retrieveParams(),this._super.apply(this,arguments)}})}}))}.call(this),topojson=function(){function e(e,t){function n(t){var n=e.arcs[t],i=n[0],r=[0,0];return n.forEach(function(e){r[0]+=e[0],r[1]+=e[1]}),[i,r]}var i={},r={},a={};t.forEach(function(e){var t=n(e);(i[t[0]]||(i[t[0]]=[])).push(e),(i[t[1]]||(i[t[1]]=[])).push(~e)}),t.forEach(function(e){var t,i,s=n(e),o=s[0],l=s[1];if(t=a[o])if(delete a[t.end],t.push(e),t.end=l,i=r[l]){delete r[i.start];var c=i===t?t:t.concat(i);r[c.start=t.start]=a[c.end=i.end]=c}else if(i=a[l]){delete r[i.start],delete a[i.end];var c=t.concat(i.map(function(e){return~e}).reverse());r[c.start=t.start]=a[c.end=i.start]=c}else r[t.start]=a[t.end]=t;else if(t=r[l])if(delete r[t.start],t.unshift(e),t.start=o,i=a[o]){delete a[i.end];var h=i===t?t:i.concat(t);r[h.start=i.start]=a[h.end=t.end]=h}else if(i=r[o]){delete r[i.start],delete a[i.end];var h=i.map(function(e){return~e}).reverse().concat(t);r[h.start=i.end]=a[h.end=t.end]=h}else r[t.start]=a[t.end]=t;else if(t=r[o])if(delete r[t.start],t.unshift(~e),t.start=l,i=a[l]){delete a[i.end];var h=i===t?t:i.concat(t);r[h.start=i.start]=a[h.end=t.end]=h}else if(i=r[l]){delete r[i.start],delete a[i.end];var h=i.map(function(e){return~e}).reverse().concat(t);r[h.start=i.end]=a[h.end=t.end]=h}else r[t.start]=a[t.end]=t;else if(t=a[l])if(delete a[t.end],t.push(~e),t.end=o,i=a[o]){delete r[i.start];var c=i===t?t:t.concat(i);r[c.start=t.start]=a[c.end=i.end]=c}else if(i=r[o]){delete r[i.start],delete a[i.end];var c=t.concat(i.map(function(e){return~e}).reverse());r[c.start=t.start]=a[c.end=i.start]=c}else r[t.start]=a[t.end]=t;else t=[e],r[t.start=o]=a[t.end=l]=t});var s=[];for(var o in a)s.push(a[o]);return s}function t(t,i,r){function a(e){0>e&&(e=~e),(u[e]||(u[e]=[])).push(h)}function s(e){e.forEach(a)}function o(e){e.forEach(s)}function l(e){"GeometryCollection"===e.type?e.geometries.forEach(l):e.type in d&&(h=e,d[e.type](e.arcs))}var c=[];if(arguments.length>1){var h,u=[],d={LineString:s,MultiLineString:o,Polygon:o,MultiPolygon:function(e){e.forEach(o)}};l(i),u.forEach(arguments.length<3?function(e,t){c.push([t])}:function(e,t){r(e[0],e[e.length-1])&&c.push([t])})}else for(var p=0,f=t.arcs.length;f>p;++p)c.push([p]);return n(t,{type:"MultiLineString",arcs:e(t,c)})}function n(e,t){function n(e,t){t.length&&t.pop();for(var n,r=f[0>e?~e:e],a=0,s=r.length,o=0,l=0;s>a;++a)t.push([(o+=(n=r[a])[0])*h+d,(l+=n[1])*u+p]);0>e&&i(t,s)}function r(e){return[e[0]*h+d,e[1]*u+p]}function a(e){for(var t=[],i=0,r=e.length;r>i;++i)n(e[i],t);return t.length<2&&t.push(t[0]),t}function s(e){for(var t=a(e);t.length<4;)t.push(t[0]);return t}function o(e){return e.map(s)}function l(e){var t=e.type,n="GeometryCollection"===t?{type:t,geometries:e.geometries.map(l)}:t in g?{type:t,coordinates:g[t](e)}:{type:null};return"id"in e&&(n.id=e.id),"properties"in e&&(n.properties=e.properties),n}var c=e.transform,h=c.scale[0],u=c.scale[1],d=c.translate[0],p=c.translate[1],f=e.arcs,g={Point:function(e){return r(e.coordinates)},MultiPoint:function(e){return e.coordinates.map(r)},LineString:function(e){return a(e.arcs)},MultiLineString:function(e){return e.arcs.map(a)},Polygon:function(e){return o(e.arcs)},MultiPolygon:function(e){return e.arcs.map(o)}};return l(t)}function i(e,t){for(var n,i=e.length,r=i-t;r<--i;)n=e[r],e[r++]=e[i],e[i]=n}function r(e,t){for(var n=0,i=e.length;i>n;){var r=n+i>>>1;e[r]<t?n=r+1:i=r}return n}function a(e){function t(e,t){e.forEach(function(e){0>e&&(e=~e);var n=a[e]||(a[e]=[]);n[t]||(n.forEach(function(e){var n,i;i=r(n=s[t],e),n[i]!==e&&n.splice(i,0,e),i=r(n=s[e],t),n[i]!==t&&n.splice(i,0,t)}),n[t]=t)})}function n(e,n){e.forEach(function(e){t(e,n)})}function i(e,t){"GeometryCollection"===e.type?e.geometries.forEach(function(e){i(e,t)}):e.type in o&&o[e.type](e.arcs,t)}var a=[],s=e.map(function(){return[]}),o={LineString:t,MultiLineString:n,Polygon:n,MultiPolygon:function(e,t){e.forEach(function(e){n(e,t)})}};return e.forEach(i),s}return{version:"0.0.32",mesh:t,object:n,neighbors:a}}(),Cibi=Ember.Application.create({}),document.ontouchmove=function(e){e.preventDefault()},Cibi.Store=DS.Store.extend({}),Cibi.Chart=DS.Model.extend({title:DS.attr("string"),subtitle:DS.attr("string"),description:DS.attr("string"),chartType:DS.attr("string"),configs:DS.attr("string"),axesConfigs:DS.attr("string"),cssClassName:DS.attr("string"),marginTop:DS.attr("number"),marginLeft:DS.attr("number"),marginRight:DS.attr("number"),marginBottom:DS.attr("number"),secondaryDimension:DS.attr("string"),modalEnabled:DS.attr("boolean"),modalTitle:DS.attr("string"),chartsDataSourcesStr:DS.attr("string"),sortByKey:DS.attr("string"),descOrder:DS.attr("boolean"),orientationType:DS.attr("number"),drillThroughFields:DS.attr("string"),excludedRows:DS.attr("string"),chartDimensionsStr:DS.attr("string"),chartMeasuresStr:DS.attr("string"),rows:DS.attr("number"),columns:DS.attr("number"),displayRank:DS.attr("number"),createdAt:DS.attr("date"),updatedAt:DS.attr("date"),updatedBy:DS.attr("string"),isolated:DS.attr("boolean"),dashboard:DS.belongsTo("Cibi.Dashboard"),highlightRule:DS.belongsTo("Cibi.HighlightRule"),dimensions:DS.hasMany("Cibi.Dimension"),measures:DS.hasMany("Cibi.Measure"),comments:DS.hasMany("Cibi.Comment"),chartsDataSources:DS.hasMany("Cibi.ChartsDataSource"),chartFilters:DS.hasMany("Cibi.ChartFilter"),dataSources:DS.hasMany("Cibi.DataSource"),accountTemplate:DS.belongsTo("Cibi.AccountTemplate"),filteredChartFilters:function(){var e=this.get("chartFilters");if(e&&e.get("length")>0){var t=[];for(i=0;i<e.get("length");i++){var n=e.objectAt(i);n.get("isLoaded")&&(n.get("isGlobal")||n.get("user")==Cibi.Auth.currentUser)&&t.push(n)}return t}return[]}.property("chartFilters.@each.isLoaded"),height:function(){var e=this,t=e.get("dashboard");return t.getChartHeight(t.get("rows"),e.get("rows"),e.get("hasLegend"),e.get("hasTimeToggle"))}.property("hasLegend","dashboard.rows","dashboard.columns"),columnLimit:function(){var e=this,t=e.get("dashboard");return t?t.get("columns"):void 0}.property("dashboard.columns"),rowLimit:function(){var e=this,t=e.get("dashboard");return t?t.get("rows"):void 0}.property("dashboard.rows"),width:function(){var e=this,t=e.get("dashboard");return t.getChartWidth(t.get("columns"),e.get("columns"))}.property("hasLegend","dashboard.rows","dashboard.columns"),ntitle:function(){var e=this.get("title"),t=this.get("width"),n=.05*t,i=e.substring(0,n);return e!=i?i+"...":i}.property("title","width","title"),nsubtitle:function(){var e=this.get("subtitle"),t=this.get("width"),n=.05*t,i=e.substring(0,n);return e!=i?i+"...":i}.property("subtitle","width"),checkSetup:function(){var e=this;if(this.get("isLoaded")&&!this.get("isSetup")){var t=this.get("filteredChartFilters"),n=this.get("chartsDataSources"),i=this.get("dimensions"),r=this.get("measures"),a=this.get("dashboard");if(data_sources=this.get("dataSources"),highlight_rule=this.get("highlightRule"),isSetup=!0,isSetup=a&&a.get("isLoaded"),!isSetup)return;if(highlight_rule&&(isSetup=highlight_rule.get("isLoaded"),!isSetup))return;if(n.forEach(function(e){isSetup=isSetup&&e.get("isLoaded")}),!isSetup)return;if(data_sources.forEach(function(e){isSetup=isSetup&&e.get("isLoaded")}),!isSetup)return;if(i.forEach(function(e){isSetup=isSetup&&e.get("isLoaded")}),!isSetup)return;if(r.forEach(function(e){isSetup=isSetup&&e.get("isLoaded")}),!isSetup)return;t.forEach(function(e){isSetup=isSetup&&e.get("isLoaded")}),isSetup&&(this.set("isSetup",isSetup),e.draw())}}.observes("isLoaded","dashboard.isLoaded","highlightRule.isLoaded","chartsDataSources.@each.isLoaded","measures.@each.isLoaded","dimensions.@each.isLoaded","dataSources.@each.isLoaded","chartFilters.@each.isLoaded"),configObj:function(){if(this.get("isSetup")){var e=this.get("configs"),t=null;e&&(t=JSON.parse(e)),t=t?t:{};var n=this.get("dashboard");return this.get("chartsDataSources").objectAt(0),t.element=this.get("elemId"),t.dashboard=n,t.chart=this,t.cds=this.get("chartsDataSources"),t}return!1}.property("isSetup","configs"),axesConfigsObj:function(){var e=this,t=e.get("axesConfigs")?JSON.parse(e.get("axesConfigs")):null;return t=t?t:{}}.property("isSetup","axesConfigs"),hasAxes:function(){var e=this.get("chartType");return"1"==e||"6"==e||"8"==e||"9"==e||"10"==e||"horizontal-bar"==e||"11"==e||"12"==e||"13"==e?!0:!1}.property("chartType"),set_config_property:function(e,t){var n=JSON.parse(this.get("configs"))||{};n[e]=t,this.set("configs",JSON.stringify(n)),this.get("transaction").commit()},chartDataTotalId:function(){return"chart-data-total-"+this.get("id")}.property("id"),elemId:function(){return"chart-"+this.get("id")}.property("id"),orientationRadioId:function(){return"orientationRadio-"+this.get("id")}.property("id"),legendId:function(){return"chart-legend-"+this.get("id")}.property("id"),containerId:function(){return"chart-container-"+this.get("id")}.property("id"),commentContainerId:function(){return"chart-comments-"+this.get("id")}.property("id"),className:function(){return"row resizable ui-box chart-container "+this.get("cssClassName")}.property("configObj"),chartObj:function(){var e=this.get("configObj"),t=this.get("chartType");if(e&&t)switch(this.get("chartType")){case"1":return Cibi.BarChart.create(e);case"horizontal-bar":return Cibi.HorizontalBarChart.create(e);case"2":return Cibi.PieChart.create(e);case"7":return Cibi.Table.create(e);case"3":return Cibi.CTree.create(e);case"0":return Cibi.CTable.create(e);case"5":return Cibi.HeatMap.create(e);case"4":return Cibi.GeoMap.create(e);case"6":return Cibi.ComboChart.create(e);case"8":return Cibi.LineChart.create(e);case"9":return Cibi.MultilineChart.create(e);case"10":return Cibi.HorizontalBarChart.create(e);case"11":return Cibi.AreaChart.create(e);case"12":return Cibi.StackedAreaChart.create(e);case"13":return Cibi.ScatterPlot.create(e);case"14":return Cibi.PivotTableChart.create(e);case"15":return Cibi.SingleValueChart.create(e);case"16":return Cibi.GeoMapIndia.create(e);case"17":return Cibi.DonutChart.create(e);case"18":return Cibi.FunnelChart.create(e);case"19":return Cibi.GeoMapUSA.create(e);case"20":return Cibi.GaugeChart.create(e)}}.property("isSetup","configObj","chartType",this),resetLegendFilter:function(){this.set("legendFilter",!1),this.get("dashboard").drawAll()},clearChart:function(){var e=this.get("elemId");$("#"+e).html("")},draw:function(){var e=this,t=this.get("dashboard");if(this.set("errorMessage",null),this.get("isSetup")&&t&&t.get("drawCharts")){var n=this.get("chartObj");n&&(e.set("noDimensions",!1),this.get("chartsDataSources"),e.get("noDimensions")||n.draw(),this.set("isSetup",!0),t.highlightFilters())}},drawPreviewChart:function(){var e=this.get("chartObj");e&&e.draw(!0)}.observes(""),chartElementOnMouseExit:function(){var e=d3.select("#chart-tooltip");e.html(""),e.transition().duration(500).style("opacity",0)},chartElementOnClick:function(e,t,n,i,r,a){var s=this,o=s.get("dashboard"),l=_.clone(t);if(1!=s.get("isFullScreen"))if(s.get("modalEnabled")){s.applyChartElementOnClick(e,l,"=");var c=s.get("chartsDataSources").objectAt(0);o.set("filterOn",!0);var h=s.get("drillThroughFields"),u=s.getFilters(),d=10,p=c.rawData(u,d,0,h),f=p.count;p=p.results,s.createModal(p,t.length>1?t[0].value:t.value,null,f,d,t)}else{s.set("notToHideTip","true");var g="<div style='text-align:right;margin-top:-12px; margin-right: -12px; height:15px;margin-bottom: 5px;'>";g+="<span style='vertical-align:top;'><a class='cancel' style='font-size: large; margin-right: 4px;'>&times;</a></span>",g+="</div>",g+=s.getChartElementTipData(n,i,r,a);var m=JSON.parse(s.get("configs"))||{},v=m.detailsDashboardId;v?(g+="<div class='row'>",g+="<div class='span' style='width:33%; text-align: center; text-decoration: underline;'>",g+="<a id='include-"+e+"'>Include</a>",g+="</div>",g+="<div class='span' style='width:33%; text-align: center; text-decoration: underline;'>",g+="<a id='exclude-"+e+"'>Exclude</a>",g+="</div>",g+="<div class='span' style='width:33%; text-align: center; text-decoration: underline;'>",g+="<a id='details-"+e+"'>Details</a>",g+="</div>"):(g+="<div class='row'>",g+="<div class='span' style='width:50%; text-align: center; text-decoration: underline;'>",g+="<a id='include-"+e+"'>Include</a>",g+="</div>",g+="<div class='span' style='width:50%; text-align: center; text-decoration: underline;'>",g+="<a id='exclude-"+e+"'>Exclude</a>",g+="</div>"),g+="</div>",r.html(g),r.show(),$('[id="include-'+e+'"]').on("click",function(){s.applyChartElementOnClick(e,l,"IN"),o.set("filterOn",!0);var t=o.get("filterKeys")||[];t.push(e),o.set("filterKeys",t),o.drawAll(s.get("id")),o.highlightFilters(),s.set("notToHideTip",!1),r.html(""),r.hide()}),$('[id="exclude-'+e+'"]').on("click",function(){s.applyChartElementOnClick(e,l,"NOT IN"),o.set("filterOn",!0);var t=o.get("filterKeys")||[];t.push(e),o.set("filterKeys",t),o.drawAll(s.get("id")),o.highlightFilters(),s.set("notToHideTip",!1),r.html(""),r.hide()}),$('[id="details-'+e+'"]').on("click",function(){s.linkToDashboard(e,l,"IN"),s.set("notToHideTip",!1),r.html(""),r.hide()}),$(".d3-tip").on("click","a.cancel",function(){s.set("notToHideTip",!1),r.html(""),r.hide()})}},applyChartElementOnClick:function(e,t,n){var i=this,r=i.get("dashboard"),a=_.clone(t),s=i.get("formatDate"),o=i.get("parseDate"),l=r.get("chartFilterObj");if(a instanceof Array)if(a[0].display_str=s?s(o(a[0].value)):a[0].value,a[1].display_str=a[1].value,_.each(a,function(e){e.display_str=e.display_str&&e.display_str.length>15?e.display_str.substr(0,15)+" ..":e.display_str,e.chart_id=i.get("id"),e.operator=n}),l)_.each(a,function(e){var t=_.find(l,function(t){return t.dimension==e.dimension&&t.operator==e.operator?t:void 0});if(t)if(t.value instanceof Array)t.value.push(e.value);else{var n=[];n.push(t.value),n.push(e.value),t.value=n}else{if("string"==typeof e.value){var i=[];i.push(e.value),e.value=i}l.addObject(e)}}),r.set("chartFilterObj",l),r.notifyPropertyChange("chartFilterObj");else{var l=[];if("string"==typeof a[0].value){var c=[];c.push(a[0].value),a[0].value=c}if(l.addObject(a[0]),"string"==typeof a[1].value){var c=[];c.push(a[1].value),a[1].value=c}l.addObject(a[1]),r.set("chartFilterObj",l),r.notifyPropertyChange("chartFilterObj")}else if(a.display_str=s?s(o(a.value)):a.value,a.display_str=a.display_str.length>15?a.display_str.substr(0,15)+" ..":a.display_str,a.chart_id=i.get("id"),a.operator=n,l){var h=_.find(l,function(e){return e.dimension==a.dimension&&e.operator==a.operator?e:void 0});if(h)if(h.value&&h.value instanceof Array)h.value.push(a.value);else{var u=[];u.push(h.value),u.push(a.value),h.value=u}else{if("string"==typeof a.value){var c=[];c.push(a.value),a.value=c}l.addObject(a)}r.set("chartFilterObj",l),r.notifyPropertyChange("chartFilterObj")}else{var l=[];if("string"==typeof a.value){var c=[];c.push(a.value),a.value=c}l.addObject(a),r.set("chartFilterObj",l),r.notifyPropertyChange("chartFilterObj")}},linkToDashboard:function(e,t,n){var i=this,r=JSON.parse(i.get("configs")),a=r.detailsDashboardId,s=e;if(a){var o=Cibi.Dashboard.find(a),l=i.get("formatDate"),c=i.get("parseDate"),h=_.clone(t),u=o.get("chartFilterObj");if(h instanceof Array)if(h[0].display_str=l?l(c(h[0].value)):h[0].value,h[1].display_str=h[1].value,_.each(h,function(e){e.display_str=e.display_str&&e.display_str.length>15?e.display_str.substr(0,15)+" ..":e.display_str,e.chart_id=i.get("id"),e.operator=n}),u)_.each(h,function(e){var t=_.find(u,function(t){return t.dimension==e.dimension&&t.operator==e.operator?t:void 0});if(t)if(t.value instanceof Array)t.value.push(e.value);else{var n=[];n.push(t.value),n.push(e.value),t.value=n}else{if("string"==typeof e.value){var i=[];i.push(e.value),e.value=i}u.addObject(e)}});else{if(u=[],"string"==typeof h[0].value){var d=[];d.push(h[0].value),h[0].value=d}if(u.addObject(h[0]),"string"==typeof h[1].value){var d=[];d.push(h[1].value),h[1].value=d}u.addObject(h[1])}else if(h.display_str=l?l(c(h.value)):h.value,h.display_str=h.display_str.length>15?h.display_str.substr(0,15)+" ..":h.display_str,h.chart_id=i.get("id"),h.operator=n,u){var p=_.find(u,function(e){return e.dimension==h.dimension&&e.operator==h.operator?e:void 0});if(p)if(p.value&&p.value instanceof Array)p.value.push(h.value);else{var f=[];f.push(p.value),f.push(h.value),p.value=f}else{if("string"==typeof h.value){var d=[];d.push(h.value),h.value=d}u.addObject(h)}}else{if(u=[],"string"==typeof h.value){var d=[];d.push(h.value),h.value=d}u.addObject(h)}o.set("chartFilterObj",u),Cibi.Auth.set("linked_dashboard",a),Cibi.Auth.set("calling_dashboard",this.get("dashboard"));var g=o.get("filterKeys")||[];g.push(s),o.set("filterKeys",g),o.notifyPropertyChange("chartFilterObj"),Cibi.Router.router.transitionTo("dashboard.charts",o)}},createChartElementOnClickTooltip:function(e,t,n,i,r,a){var s,o=this,l=o.get("dashboard"),c=o.get("dimensions");c.forEach(function(t){t.get("displayName")==e&&(s=t)});var h=$("#chart-tooltip"),u={};u.dimension=s.get("fieldName"),u.formatAs=s.get("formatAs"),u.value=t;var d=_.clone(u);if(o.get("modalEnabled")){o.applyChartElementOnClick(n,d,"=");var p=o.get("chartsDataSources").objectAt(0);l.set("filterOn",!0);var f=o.get("drillThroughFields"),g=o.getFilters(),m=10,v=p.rawData(g,m,0,f),b=v.count;v=v.results,o.createModal(v,u.length>1?u[0].value:u.value,null,b,m,u)}else{var y="<div style='text-align:right;margin-top:-12px; margin-right: -12px; height:15px;margin-bottom: 5px;'>";y+="<span style='vertical-align:top;'><a class='cancel' style='font-size: large; margin-right: 4px;'>&times;</a></span>",y+="</div>",y+="<table style='text-align:left;'>",e&&(y+="<tr><td>"+e+"</td><td>&nbsp;&nbsp;:&nbsp;&nbsp;</td><td>"+a+"</td></tr>"),y+="</table>";var x=JSON.parse(o.get("configs"))||{},w=x.detailsDashboardId;w?(y+="<div class='row'>",y+="<div class='span' style='width:33%; text-align: center; text-decoration: underline;'>",y+="<a id='include-"+n+"'>Include</a>",y+="</div>",y+="<div class='span' style='width:33%; text-align: center; text-decoration: underline;'>",y+="<a id='exclude-"+n+"'>Exclude</a>",y+="</div>",y+="<div class='span' style='width:33%; text-align: center; text-decoration: underline;'>",y+="<a id='details-"+n+"'>Details</a>",y+="</div>"):(y+="<div class='row'>",y+="<div class='span' style='width:50%; text-align: center; text-decoration: underline;'>",y+="<a id='include-"+n+"'>Include</a>",y+="</div>",y+="<div class='span' style='width:50%; text-align: center; text-decoration: underline;'>",y+="<a id='exclude-"+n+"'>Exclude</a>",y+="</div>"),y+="</div>",h.html(y);var C=$("#main-tab"),T=C.position().left,D=T+C.width(),S=h.width();i+S>D&&(i-=S),h.css("left",i+"px"),h.css("top",r-28+"px"),h.css("pointer-events","all"),h.css("opacity","0.9"),$("#chart-tooltip").find('a[id="include-'+n+'"]').on("click",function(){o.applyChartElementOnClick(n,d,"IN"),l.set("filterOn",!0);var e=l.get("filterKeys")||[];e.push(n),l.set("filterKeys",e),l.drawAll(o.get("id")),l.highlightFilters(),h.html(""),h.css("opacity","0")}),$("#chart-tooltip").find('a[id="exclude-'+n+'"]').on("click",function(){o.applyChartElementOnClick(n,d,"NOT IN"),l.set("filterOn",!0);var e=l.get("filterKeys")||[];e.push(n),l.set("filterKeys",e),l.drawAll(o.get("id")),l.highlightFilters(),h.html("").css("opacity","0")}),$("#chart-tooltip").find('a[id="details-'+n+'"]').on("click",function(){o.linkToDashboard(n,d,"IN"),h.html("").css("opacity","0")}),$("#chart-tooltip").on("click","a.cancel",function(){h.html("").css("opacity","0")})}},createModal:function(e,t,n,i,r,a){var s=this,o=s.get("dashboard"),l=n?pruneStr(n):pruneStr(t),c=s.get("id"),h="modal-"+c+"-"+l,u=$("#"+h),d=s.get("modalTitle")||(t?t+" : Details":"Details"),p=Cibi.Auth.get("authToken"),f=encodeURIComponent(JSON.stringify(this.get("dashboard").getAllFilters())),g=Math.ceil(i/r),m="<div id='"+h+"' class='modal large-modal hide fade'>";m+='<div class="modal-header">',m+='<div class="row">',m+='<button type="button" class="close" data-dismiss="modal" aria-hidden="true" style="margin-top: 0px;">×</button>',m+='<span class="pull-right muted"> &nbsp;&nbsp; | &nbsp;&nbsp; </span>',m+='<a id="sample_link" class="pull-right" href="/charts/'+this.get("id")+"/download_csv?auth_token="+p+"&filters="+f+'" target="_self">Download as Text file</a>',m+='<span class="pull-right muted"> &nbsp;&nbsp; | &nbsp;&nbsp; </span>',m+='<a id="underlying_data_link" class="pull-right">View underlying data</a>',m+='<h3 id="myModalLabel">'+d+"</h3>",m+="</div>",m+='<div class="row" style="margin-bottom: 10px;">',o.get("filterOn")&&(m+="<div class='span filterDiv' style='width:90%; border:none; text-align: start;'>",_.each(o.get("chartFilterObj"),function(e){m+="<div class='btn btn-mini btn-info button-label' style='margin-right: 5px; color:#fff; pointer-events: none;'>",m+=e.value,m+="</div>"
}),m+="</div>"),m+="<div class='span optionsDiv' style='width:90%; display:none;'>",m+="<label class='pull-left radio' style='margin-right: 20px;'>",m+="<input type='radio' name='excludeOptionsRadios' value='hideExcludedRows'>Hide Excluded Rows",m+="</label>",m+="<label class='pull-left radio' style='margin-right: 20px;'>",m+="<input type='radio' name='excludeOptionsRadios' value='showOnlyExcludedRows'>Show Only Excluded Rows",m+="</label>",m+="<label class='pull-left radio' style='margin-right: 20px;'>",m+="<input type='radio' name='excludeOptionsRadios' value='showAll'>Show All",m+="</label>",m+="<div class='pull-right'><label class='rows-count' style='color: #aaa;'></label></div>",m+="</div>",m+="<div class='span' style='width:10%;'>",m+='<button id="save_excluded_ids'+c+'" class="btn btn-info flat-button pull-right" type="button" style="background-color:#4093cd;">Save</button>',m+="</div>",m+="</div>",m+="</div><!-- modal-header -->",m+='<div class="modal-body" id="dvData'+h+'">',m+="</div><!-- modal-body -->";var v=s.generateHtml(h,p,f,e,g);u.length>1?u.html(m):($("#"+s.get("elemId")).append(m),u=$("#"+h)),$("#dvData"+h).html(v);for(var b=1;g>=b;b++)$("#"+h).find("#pagination"+h).on("click","#pg_"+b,function(e){return function(){s.gotoPage(e,i,h,r)}}(b));$("#"+h).find("#pagination"+h).on("click","#previous",function(){var e=$("#current_page").val();parseInt(e)>1&&s.gotoPage(parseInt(e)-1,i,h,r)}),$("#"+h).find("#pagination"+h).on("click","#next",function(){var e=$("#current_page").val();parseInt(e)<g&&s.gotoPage(parseInt(e)+1,i,h,r)}),$("#"+h).find("#underlying_data_link").on("click",function(){$("#"+h).find(".modal-header").find(".filterDiv").hide(),$("#"+h).find(".modal-header").find(".optionsDiv").find('input[value="showAll"]:radio').prop("checked",!0),$("#"+h).find(".modal-header").find(".optionsDiv").show(),s.set("is_underlying_data",!0);var e=encodeURIComponent(JSON.stringify([])),t="/charts/"+s.get("id")+"/download_csv?auth_token="+Cibi.Auth.get("authToken")+"&filters="+e+"&is_underlying_data="+s.get("is_underlying_data");$("#"+h).find(".modal-header").find("#sample_link").attr("href",t);var n=s.get("chartsDataSources").objectAt(0).rawData(null,r,0,null,s.get("is_underlying_data")),a=n.count;n=n.results,g=Math.ceil(a/r);var o=s.generateHtml(h,p,f,n,g);$("#dvData"+h).html(o);for(var l=1;g>=l;l++)$("#pagination"+h).on("click","#pg_"+l,function(e){return function(){s.gotoPage(e,i,h,r)}}(l));$("#pagination"+h).on("click","#previous",function(){var e=$("#current_page").val();parseInt(e)>1&&s.gotoPage(parseInt(e)-1,i,h,r)}),$("#pagination"+h).on("click","#next",function(){var e=$("#current_page").val();parseInt(e)<g&&s.gotoPage(parseInt(e)+1,i,h,r)}),$('input[name="exclude_id"]:checkbox').on("click",function(){var e=s.get("excluded_ids");this.checked?e.push(this.id):e.removeObject(this.id)}),$("#"+h).find(".modal-header").find(".optionsDiv").find('input[name="excludeOptionsRadios"]:radio').on("click",function(){if(s.get("excluded_ids").length>0||"showOnlyExcludedRows"!=this.value){var e,t,n,a,o;e=encodeURIComponent(JSON.stringify([])),t="/charts/"+s.get("id")+"/download_csv?auth_token="+Cibi.Auth.get("authToken")+"&filters="+e+"&is_underlying_data="+s.get("is_underlying_data")+"&option_value="+this.value,$("#"+h).find(".modal-header").find("#sample_link").attr("href",t),n=s.get("chartsDataSources").objectAt(0).rawData(null,r,0,null,s.get("is_underlying_data"),this.value),a=n.count,n=n.results,g=Math.ceil(a/r),o=s.generateHtml(h,p,f,n,g),$("#dvData"+h).html(o);for(var l=1;g>=l;l++)$("#pagination"+h).on("click","#pg_"+l,function(e){return function(){s.gotoPage(e,i,h,r)}}(l));$("#pagination"+h).on("click","#previous",function(){var e=$("#current_page").val();parseInt(e)>1&&s.gotoPage(parseInt(e)-1,i,h,r)}),$("#pagination"+h).on("click","#next",function(){var e=$("#current_page").val();parseInt(e)<g&&s.gotoPage(parseInt(e)+1,i,h,r)}),$('input[name="exclude_id"]:checkbox').on("click",function(){var e=s.get("excluded_ids");this.checked?e.push(this.id):e.removeObject(this.id)})}else if("showOnlyExcludedRows"==this.value){var o="No rows have been excluded";$("#dvData"+h).html(o)}})}),$("#"+h).find("#save_excluded_ids"+c).on("click",function(){var e=$('input[name="exclude_id"]:checkbox');_.each(e,function(e){$(e.parentElement.parentElement).removeAttr("style")});var t=$('input[name="exclude_id"]:checkbox:checked'),n=s.get("excluded_ids");_.each(t,function(e){$(e.parentElement.parentElement).attr("style","background-color:grey")});var i={};i.fieldname="cibi_id",i.operator="NOT IN",i.values=n,s.set("excludedRows",JSON.stringify(i));var r="/charts/"+s.get("id")+"/update_excluded_rows?auth_token="+p;$.ajax({url:r,type:"post",data:{excluded_rows:s.get("excludedRows")},async:!1,success:function(){$("#"+h).find(".modal-header").find(".optionsDiv").find(".rows-count").text(s.get("excluded_ids").length+" rows excluded")}})}),$("#"+h).find('input[name="exclude_id"]:checkbox').on("click",function(){var e=s.get("excluded_ids");this.checked?e.push(this.id):e.removeObject(this.id)}),u.modal("toggle"),$("#"+h).on("shown",function(){var e=JSON.parse(s.get("excludedRows"));e=e?e.values:[],s.set("excluded_ids",e),$("#"+h).find(".modal-header").find(".optionsDiv").find(".rows-count").text(s.get("excluded_ids").length+" rows excluded"),s.set("is_underlying_data",!1)}),$("#"+h).on("hidden",function(){$("#"+h).find(".modal-header").find(".filterDiv").show(),$("#"+h).find(".modal-header").find(".optionsDiv").hide(),s.get("transaction").commit(),s.set("is_underlying_data",!1),s.removeFilterValueFromChartFilterObj(a),o.set("filterOn",!1),o.set("filterKeys",null)})},removeFilterValueFromChartFilterObj:function(e){var t=this,n=t.get("dashboard"),i=n.get("chartFilterObj");if(i){if(e instanceof Array)_.each(e,function(e){var t=_.find(i,function(t){return t.dimension==e.dimension&&"="==t.operator?t:void 0});t&&(t.value instanceof Array&&t.value.length>1?t.value.removeObject(e.value):i=i.removeObject(t))});else{var r=_.find(i,function(t){return t.dimension==e.dimension&&"="==t.operator?t:void 0});r&&(r.value instanceof Array&&r.value.length>1?r.value.removeObject(e.value):i=i.removeObject(r))}n.set("chartFilterObj",i),n.notifyPropertyChange("chartFilterObj"),n.drawAll()}},generateHtml:function(e,t,n,i,r){var a=this,s="<div class='table-body' style='padding: 0px;'>";s+='<table class="table table-bordered">';var o=i[0];s+="<tr>";for(var l in o)l&&"x"!=l&&"y"!=l&&"parent"!=l&&"depth"!=l&&"id"!=l&&"sum"!=l&&(s+="<th>"+l+"</th>");a.get("is_underlying_data")&&(s+="<th> Exclude </th>"),s+="</tr>";for(var c=0;c<i.length;c++){var o=i[c];s+=a.get("is_underlying_data")?"<tr "+a.isExcluded(o.cibi_id,"tr")+">":"<tr>";for(var l in o)l&&"x"!=l&&"y"!=l&&"parent"!=l&&"depth"!=l&&"id"!=l&&"sum"!=l&&(s+="<td>"+displayTick(o[l])+"</td>");a.get("is_underlying_data")&&(s+="<td><input type='checkbox' name='exclude_id' id='"+o.cibi_id+"' "+a.isExcluded(o.cibi_id,"checkbox")+"></td>"),s+="</tr>"}s+="</table>",s+="</div>",s+='<div id="pagination'+e+'" class="pagination pagination-centered">',s+='<input class="hidden" style="width:0px;" type="text" value="1" id="current_page"></input>',s+="<ul>",s+='<li class="disabled"><a href="javascript:void(0);" id="previous">&laquo;</a></li>',s+='<li class="active"><a href="javascript:void(0);" id="pg_1">1</a></li>';for(var c=2;c<=Math.min(r,5);c++)s+='<li class=""><a href="javascript:void(0);" id="pg_'+c+'">'+c+"</a></li>";return Math.ceil(r)>=5&&(s+='<li class="active"><a href="javascript:void(0);" id="pg_'+c+'">..</a></li>'),r>1&&(s+='<li class=""><a href="javascript:void(0);" id="next">&raquo</a></li>'),s+="</ul>",s+='<span class="pull-right" style="padding-right:10px;">Page 1 of '+r+"</span>",s+="</div>"},isExcluded:function(e,t){var n=this,i=n.get("excluded_ids");return i.contains(e)?"checkbox"==t?"checked":"style='background-color:gray;'":""},gotoPage:function(e,t,n,i){var r=this.get("is_underlying_data")?null:this.getFilters(),a=this.get("chartsDataSources").objectAt(0),s=i*(e-1),o=this.get("is_underlying_data")?null:this.get("drillThroughFields"),l=$("#"+n).find(".modal-header").find(".optionsDiv").find('input[name="excludeOptionsRadios"]:radio:checked').prop("value"),c=a.rawData(r,i,s,o,this.get("is_underlying_data"),l);t=c.count,c=c.results,a.get("dataSource"),a.get("dimensionFormatAs"),this.generateTable(c,n),this.generatePagination(e,t,n,i)},generateTable:function(e,t){var n=this,i="";i+='<table class="table table-bordered">';var r=e[0];i+="<tr>";for(var a in r)a&&"x"!=a&&"y"!=a&&"parent"!=a&&"depth"!=a&&"id"!=a&&"sum"!=a&&(i+="<th>"+a+"</th>");n.get("is_underlying_data")&&(i+="<th> Exclude </th>"),i+="</tr>";for(var s=0;s<e.length;s++){var r=e[s];i+=n.get("is_underlying_data")?"<tr "+n.isExcluded(r.cibi_id,"tr")+">":"<tr>";for(var a in r)a&&"x"!=a&&"y"!=a&&"parent"!=a&&"depth"!=a&&"id"!=a&&"sum"!=a&&(i+="<td>"+r[a]+"</td>");n.get("is_underlying_data")&&(i+="<td><input type='checkbox' name='exclude_id' id='"+r.cibi_id+"' "+n.isExcluded(r.cibi_id,"checkbox")+"></td>"),i+="</tr>"}i+="</table>",$("#dvData"+t).find(".table-body").html(i),$('input[name="exclude_id"]:checkbox').on("click",function(){var e=n.get("excluded_ids");this.checked?e.push(this.id):e.removeObject(this.id)})},generatePagination:function(e,t,n,i){var r=Math.ceil(t/i);if(3>=e)var a=1,s=5>r?r:5;else if(e>=r-2)var a=5>r?1:r-4,s=r;else var a=Math.max(1,e-2),s=Math.min(r,e+2);var o=1==e||e==r?"disabled":"";html="",html+='<input class="hidden" style="width:0px;" type="text" value="'+e+'" id="current_page"></input>',html+="<ul>",html+='<li class="'+o+'"><a href="javascript:void(0);" id="previous">&laquo;</a></li>',e>3&&r>5&&(html+='<li class="disabled"><a href="javascript:void(0);">..</a></li>');for(var l=a;s>=l;l++){var c=l==e?"active":"";html+="<li class="+c+'><a href="javascript:void(0);" id="pg_'+l+'">'+l+"</a></li>"}r>5&&r>e+2&&(html+='<li class="disabled"><a href="javascript:void(0);">..</a></li>'),html+='<li class="'+o+'"><a href="javascript:void(0);" id="next">&raquo</a></li>',html+="</ul>",html+='<span class="pull-right" style="padding-right:10px;">Page '+e+" of "+r+"</span>",$("#pagination"+n).html(html)},setChartDomain:function(e){var t=this;t.set("chart_domain",e)},drawXAxis:function(e,t,n,i){var r,a,s,o,l,c=this,h=this.get("marginBottom"),u=this.get("width")-this.get("marginLeft")-this.get("marginRight"),d=this.get("height")-h-this.get("marginTop"),p=this.get("chartsDataSources").objectAt(0).get("dimensionName");this.get("dimensions").objectAt(0).get("formatAs");var f=this.get("chartsDataSources").objectAt(0).get("dataSource").getDataType(p);if(c.get("axesConfigsObj")&&c.get("axesConfigsObj").xDomainMinValue&&c.get("axesConfigsObj").xDomainMaxValue&&c.get("axesConfigsObj").xDomainMaxValue>c.get("axesConfigsObj").xDomainMinValue?(r=[c.get("axesConfigsObj").xDomainMinValue,c.get("axesConfigsObj").xDomainMaxValue],a=Math.abs(t.indexOf(r[0].toString())-t.indexOf(r[1].toString()))+1):(r=t,a=Math.floor(.05*u),a=t.length<a?t.length:a),c.setDateFormats(),"date"==f||"datetime"==f?(o=c.get("formatDate"),l=c.get("parseDate"),l&&"1"!=this.get("chartType")&&"6"!=this.get("chartType")?(this.set("scale_type","time"),s=d3.time.scale().range([0,u]).domain(d3.extent(r,function(e){return l?l(e.toString()):e.toString()}))):(s=d3.scale.ordinal().rangeRoundBands([0,u],.2).domain(t),this.set("scale_type","ordinal"))):isNumericDataType(f)&&!i?(s=d3.scale.linear().range([0,u]).domain(d3.extent(r,function(e){return parseInt(e)})).nice(),this.set("scale_type","linear")):"linear"==i||(s=d3.scale.ordinal().rangeRoundBands([0,u],.2).domain(t),this.set("scale_type","ordinal")),n=n||d,"time"==this.get("scale_type"))var g=d3.svg.axis().scale(s).ticks(a).tickFormat(o).orient("bottom");else if("linear"==this.get("scale_type"))var g=d3.svg.axis().scale(s).tickFormat(function(e){return formatValue(e,c.get("axesConfigsObj")&&c.get("axesConfigsObj").xAxisDisplayUnit?c.get("axesConfigsObj").xAxisDisplayUnit:"")}).orient("bottom");else var g=d3.svg.axis().scale(s).tickFormat(function(e){if(o)return o(l(e));var t=displayTick(e);return t.length>12?t.substr(0,12)+"...":t}).orient("bottom");var m=this.getTextFormatting();e.append("g").attr("class","x axis").style("shape-rendering","crispEdges").style("fill","none").style("stroke","black").style("font-family","'Helvetica Neue', Helvetica, Arial, sans-serif").attr("transform","translate(0,"+n+")").call(g.tickSize(6,0,0)).selectAll("text").style("text-anchor",m.text_anchor).attr("dx",m.dx).attr("dy",m.dy).attr("transform",function(){var e=c.get("axesConfigsObj")&&c.get("axesConfigsObj").xAxisRotateAngle?c.get("axesConfigsObj").xAxisRotateAngle:45;return"rotate(-"+e+")"}).on("mouseover",function(e){var t=d3.select("#chart-tooltip");t.transition().duration(500).style("opacity",.9);var n;n=o?"string"==typeof e?o(l(e)):o(e):displayTick(e),t.html(n).style("left",d3.event.pageX+"px").style("top",d3.event.pageY-28+"px")}).on("mouseout",function(){c.chartElementOnMouseExit()}),e.selectAll("g.x").selectAll("text").style("font-family","'Helvetica Neue', Helvetica, Arial, sans-serif").style("font-size","11px").style("letter-spacing","0px").style("fill","black").style("stroke","none").style("word-wrap","break-word");var v=c.get("axesConfigsObj")&&c.get("axesConfigsObj").xAxisLabel?c.get("axesConfigsObj").xAxisLabel:"";return e.selectAll("g.x").append("text").attr("y",h-5).attr("x",u/2).style("text-anchor","middle").style("font-family","'Helvetica Neue', Helvetica, Arial, sans-serif").style("font-weight","bold").style("fill","black").style("stroke","none").text(v.length>20?v.substr(0,20):v).on("mouseover",function(){var e=d3.select("#chart-tooltip");e.transition().duration(500).style("opacity",.9);var t=displayTick(v);e.html(t).style("left",d3.event.pageX+"px").style("top",d3.event.pageY-28+"px")}).on("mouseout",function(){c.chartElementOnMouseExit()}),e.append("g").attr("class","x grid").attr("transform","translate(0,"+n+")").style("shape-rendering","crispEdges").style("fill","none").style("stroke","black").call(g.tickSize(-d,0,0).tickFormat("")),e.selectAll(".x.grid").selectAll("line").style("stroke","#ebebeb").style("stroke-dasharray","2"),e.selectAll(".x.grid").select(".tick")[0]&&"0"==$(e.selectAll(".x.grid").select(".tick")[0]).attr("transform").split("(")[1].split(",")[0]&&e.selectAll(".x.grid").select("line").style("stroke","black").style("stroke-dasharray","0"),e.selectAll(".x.grid").selectAll("path").style("opacity",0),s},setDateFormats:function(){var e,t,n=this,i=n.get("chartsDataSources").objectAt(0).get("dimensionName"),r=n.get("chartsDataSources").objectAt(0).get("dimensionFormatAs"),a=n.get("chartsDataSources").objectAt(0).get("dataSource").getDataType(i);"date"==a||"datetime"==a?"Year"==r?(e=d3.time.format("%Y"),t=d3.time.format("%Y").parse):"Month"==r?(e=d3.time.format("%b"),t=d3.time.format("%m").parse):"Quarter"==r?(e=formatDateAsQuarter,t=parseDateAsQuarter):"Month Year"==r?(e=d3.time.format("%Y %b"),t=d3.time.format("%Y %m").parse):"Hours"==r?(e=d3.time.format("%H"),t=d3.time.format("%H").parse):"Day"==r||"Week"==r?(e=null,t=null):(e=d3.time.format("%d-%m-%Y"),t=d3.time.format("%Y-%m-%d").parse):(e=!1,t=!1),n.set("formatDate",e),n.set("parseDate",t)},drawYAxis:function(e,t){var n=this,i=this.get("height")-this.get("marginBottom")-this.get("marginTop"),r=this.get("width")-this.get("marginLeft")-this.get("marginRight"),a=.1*i;a=a>10?10:a;var s;s=n.get("axesConfigsObj")&&n.get("axesConfigsObj").yDomainMinValue&&n.get("axesConfigsObj").yDomainMaxValue&&n.get("axesConfigsObj").yDomainMinValue<n.get("axesConfigsObj").yDomainMaxValue?n.get("axesConfigsObj").yDomainMinValue<t[0]?[t[0],n.get("axesConfigsObj").yDomainMaxValue]:[n.get("axesConfigsObj").yDomainMinValue,n.get("axesConfigsObj").yDomainMaxValue]:t;var o=Cibi.Auth.get("globalSetting"),l=d3.scale.linear().range([i,0]).domain(s),c=d3.svg.axis().scale(l).tickFormat(function(e){return number_format=n.get("axesConfigsObj")&&n.get("axesConfigsObj").yAxisDisplayUnit&&"No Units"!=n.get("axesConfigsObj").yAxisDisplayUnit?n.get("axesConfigsObj").yAxisDisplayUnit:o?o.get("numberFormat"):"",formatValue(e,number_format)}).ticks(a).orient("left");e.append("g").attr("class","y axis").style("shape-rendering","crispEdges").style("stroke","black").style("fill","none").style("font-weight","200").attr("transform","translate(0,0)").call(c.tickSize(6,0,0)),e.selectAll("g.y").selectAll("text").style("font-family","'Helvetica Neue', Helvetica, Arial, sans-serif").style("font-size","11px").style("letter-spacing","0px").style("fill","black").style("stroke","none").style("word-wrap","break-word"),e.selectAll("g.y").selectAll("path").style("stroke","black");var h=n.get("axesConfigsObj")&&n.get("axesConfigsObj").yAxisLabel?n.get("axesConfigsObj").yAxisLabel:"";return e.selectAll("g.y").append("text").attr("transform","rotate(-90)").attr("y",-20).attr("x",-(i/2)).attr("dy","-3em").style("text-anchor","middle").style("font-family","'Helvetica Neue', Helvetica, Arial, sans-serif").style("font-weight","bold").style("fill","black").style("stroke","none").text(h.length>20?h.substr(0,20):h).on("mouseover",function(){var e=d3.select("#chart-tooltip");e.transition().duration(500).style("opacity",.9);var t=displayTick(h);e.html(t).style("left",d3.event.pageX+"px").style("top",d3.event.pageY-28+"px")}).on("mouseout",function(){n.chartElementOnMouseExit()}),e.append("g").attr("class","y grid").style("shape-rendering","crispEdges").style("fill","none").style("stroke","black").call(c.tickSize(-r,0,0).tickFormat("")),e.selectAll(".y.grid").selectAll("line").style("stroke","#ebebeb").style("stroke-dasharray","2"),e.selectAll(".y.grid").selectAll("path").style("opacity",0),l},getSvgElement:function(e,t){var n,i;n=e||0==e?e:this.get("marginLeft")||0,i=t||0==t?t:this.get("marginTop")||0;var r=d3.select("#"+this.get("elemId")).append("svg").attr("width",this.get("width")).attr("height",this.get("height")).append("g").attr("transform","translate("+n+","+i+")");return r},colorScale:function(){var e=Cibi.Auth.get("currentUser"),t=e.getColors(),n=d3.scale.ordinal().range(t);return n},getChartTip:function(){var e=d3.tip().attr("class","d3-tip");return e},bar:function(){var e=Cibi.Auth.get("currentUser"),t=e.barColor();return t},line:function(){var e=Cibi.Auth.get("currentUser"),t=e.lineColor();return t},area:function(){var e=Cibi.Auth.get("currentUser"),t=e.areaColor();return t},errorBar:function(){var e=Cibi.Auth.get("currentUser"),t=e.errorBarColor();return t},controlKey:function(){var e=Cibi.Auth.get("currentUser"),t=e.controlKeyColor();return t},statisticalRelevance:function(){var e=Cibi.Auth.get("currentUser"),t=e.statisticalRelevanceColor();return t},hasTimeToggle:function(){var e,t=this,n=t.get("chartType"),i=t.get("dimensions").objectAt(0);if("8"==n||"9"==n||"12"==n||"11"==n){var r=t.get("chartsDataSources").objectAt(0).get("dataSource"),a=r.getDataType(i.get("fieldName"));e="date"==a||"datetime"==a?!0:!1}else e=!1;return e}.property("chartType","isSetup"),hasLegend:function(){var e=this.get("chartType"),t=!["0","3","7","8","11","14","15","19"].contains(e);if(!t||"1"!=e&&"13"!=e){if("8"==e||"11"==e){var n=JSON.parse(this.get("configs"));n&&n.forecastObject&&n.forecastObject.enableForecast&&(t=!0)}else if("10"==e){var i=this.get("chartsDataSources").objectAt(0),r=i.get("depth");r||(t=!1)}}else{var a=this.get("measures").get("length");if(t=a>1,1==a){var i=this.get("chartsDataSources").objectAt(0);t=i.get("depth")?!0:!1,t||(t=this.get("configObj").highlight_statistical_relevance)}}return t}.property("chartType","isSetup","forecast"),drawChartLegend:function(e,t,n,i){var r=this,a=r.get("id"),s="legend-"+a,o=(r.get("height"),r.get("width")),l=$("#"+this.get("legendId")),c=i?!0:!1;if(r.get("chartsDataSources").objectAt(0).get("depth"))var h=r.get("dimensions").objectAt(1);else var h=r.get("dimensions").objectAt(0);var u,d,p;r.forecast||(u=r.getDateFormatFunctions(h),d=u.formatDate,p=u.parseDate);var f="";f+='<div id = "chart-legend" style="max-width:'+o+'px; overflow:auto; font-size:11px;">',f+="<table>";var g;for(f+="<tr>",g=0;g<=e.length/2;g++){var m=i?i[g]:e[g],v=[6,10].contains(r.get("chartType"));m=c||!d||v||6==r.get("chartType")?m:d(p(m)),f+='<td class="legend_rect"><div id="rect_'+s+g+'" class="rect" data-toggle="tooltip" data-placement="bottom" title="'+m+'" style=" background-color:'+t(e[g])+'" ></div></td>',f+='<td class="legend_label">'+m+"</td>"}f+="</tr>",f+="<tr>";for(var b=g;b<e.length;b++){var m=i?i[b]:e[b],v=[6,10].contains(r.get("chartType"));m=c||!d||v?m:d(p(m)),f+='<td class="legend_rect"><div id="rect_'+s+b+'" class="rect" data-toggle="tooltip" data-placement="bottom" title="'+m+'" style=" background-color:'+t(e[b])+'" ></div></td>',f+='<td class="legend_label">'+m+"</td>"}if(f+="</tr>",f+="</table>",f+="</div>",l.html(f),$(".rect").tooltip(),n&&0==r.get("isFullScreen"))for(var g=0;g<e.length;g++){var y=i?i[g]:!1;$("#rect_"+s+g).on("click",r.getOnClickFunction(e[g],g,r,n,y))}},getOnClickFunction:function(e,t,n,i,r){var a=function(){if(i){var a=r?r:e,s=r?!0:!1;if(n.get("chartsDataSources").objectAt(0).get("depth"))var o=n.get("dimensions").objectAt(1);else var o=n.get("dimensions").objectAt(0);var l=n.getDateFormatFunctions(o),c=l.formatDate,h=l.parseDate;display_str=!s&&c?c(h(a)):a,display_str=display_str.length>14?display_str.substr(0,15)+" ..":display_str,n.set("legendFilter",{key:a,index:t,display_str:display_str}),n.draw()}};return a},displayChartError:function(e){error_msg="<h4 class='alert alert-error'>"+e+"</h4>",$("#"+this.get("elemId")).html(error_msg),this.set("error",!0)},yellow:function(){return"#FFFF00"},green:function(){return"#00E600"},red:function(){return"#FF3D3D"},can_edit:function(){var e=this.get("dashboard");return e.get("can_edit")}.property("Cibi.Auth.currentUser.isLoaded"),can_destroy:function(){var e=this.get("dashboard");return e.get("can_destroy")}.property("Cibi.Auth.currentUser.isLoaded"),current_page:function(){var e=this;return e.get("offset")||e.set("offset",0),parseInt(e.get("offset"))+1}.property("offset"),getFilters:function(){var e=this,t=e.get("dashboard").getAllFilters();return t},getTextFormatting:function(){var e=this,t=e.get("axesConfigsObj")&&e.get("axesConfigsObj").xAxisRotateAngle?e.get("axesConfigsObj").xAxisRotateAngle:45,n=new Object;return 90==t?(n.dy="-0.50em",n.dx="-0.75em",n.text_anchor="end"):0==t?(n.dy="0.50em",n.dx="0em",n.text_anchor="middle"):(n.dy="0.75em",n.dx="-0.2em",n.text_anchor="end"),n},addClipPathElement:function(e){var t=this;t.get("axesConfigsObj")&&(6==t.get("chartType")?(t.get("axesConfigsObj").yDomainMinValue&&t.get("axesConfigsObj").yDomainMaxValue&&t.get("axesConfigsObj").yDomainMinValue<t.get("axesConfigsObj").yDomainMaxValue||t.get("axesConfigsObj").rightYDomainMinValue&&t.get("axesConfigsObj").rightYDomainMaxValue&&t.get("axesConfigsObj").rightYDomainMinValue<t.get("axesConfigsObj").rightYDomainMaxValue)&&e.append("defs").append("svg:clipPath").attr("id","clip-"+t.get("elemId")).append("svg:rect").attr("width",t.get("width")-t.get("marginLeft")-t.get("marginRight")).attr("height",t.get("height")-t.get("marginTop")-t.get("marginBottom")):"horizontal-bar"==t.get("chartType")||10==t.get("chartType")?t.get("axesConfigsObj")&&t.get("axesConfigsObj").xDomainMinValue&&t.get("axesConfigsObj").xDomainMaxValue&&t.get("axesConfigsObj").xDomainMinValue<t.get("axesConfigsObj").xDomainMaxValue&&e.append("defs").append("svg:clipPath").attr("id","clip-"+t.get("elemId")).append("svg:rect").attr("width",t.get("width")-t.get("marginLeft")-t.get("marginRight")).attr("height",t.get("height")-t.get("marginTop")-t.get("marginBottom")):t.get("axesConfigsObj").yDomainMinValue&&t.get("axesConfigsObj").yDomainMaxValue&&t.get("axesConfigsObj").yDomainMinValue<t.get("axesConfigsObj").yDomainMaxValue&&e.append("defs").append("svg:clipPath").attr("id","clip-"+t.get("elemId")).append("svg:rect").attr("width",t.get("width")-t.get("marginLeft")-t.get("marginRight")).attr("height",t.get("height")-t.get("marginTop")-t.get("marginBottom")))},getClipPathUrl:function(){var e=this;return e.get("axesConfigsObj")?"horizontal-bar"==e.get("chartType")||10==e.get("chartType")?e.get("axesConfigsObj").xDomainMinValue&&e.get("axesConfigsObj").xDomainMaxValue&&e.get("axesConfigsObj").xDomainMinValue<e.get("axesConfigsObj").xDomainMaxValue?"url(#clip-"+e.get("elemId")+")":"":e.get("axesConfigsObj").yDomainMinValue&&e.get("axesConfigsObj").yDomainMaxValue&&e.get("axesConfigsObj").yDomainMinValue<e.get("axesConfigsObj").yDomainMaxValue?"url(#clip-"+e.get("elemId")+")":"":""},getChartElementData:function(e,t,n,i){var r=this,a=r.getChartElementTipData(e,t,n,i);n.html(a)},getChartElementTipData:function(e,t,n,i){var r=this,a=r.get("chartsDataSources").objectAt(0),s=t.fact||a.get("factDisplay")||a.get("fact");t.factType||a.get("factType");var o,l=t.factUnit||a.get("factUnit"),c=t.index,h=t.details,u=t.total_val,d=e.key;o=e.value||0==e.value?e.value:e[s]||0==e[s]?e[s]:e.y||0==e.y?e.y:null;var p,f=displayTick(e.zkey),g=r.get("highlightRule");r.statsData&&(p=r.statsData);var m;g&&g.get("enable_highlight")&&(m=d==JSON.parse(g.get("configs")).control_field?null:p[c].pValue);var v=null;g&&g.get("enable_highlight")&&g.get("enable_sem")&&(v=p[c].sem),i.call(n),a.get("dimensionFormatAs");var b="",y="<table style='text-align:left;'>";if(d&&(y+="<tr><td>",y+=r.get("chartsDataSources").objectAt(0).get("dimensionDisplay"),y+="</td><td>&nbsp;&nbsp;:&nbsp;&nbsp;</td><td>",y+=d.length>20?r.get("formatDate")?r.get("formatDate")(r.get("parseDate")(d)):d.substr(0,20)+"<br>"+d.substr(20):r.get("formatDate")?r.get("formatDate")(r.get("parseDate")(d)):d,y+="</td></tr>"),f){var x=r.get("dimensions").objectAt(1),w=r.getDateFormatFunctions(x),_=w.formatDate,C=w.parseDate;y+="<tr><td>",y+=r.get("chartsDataSources").objectAt(0).get("depthDisplay"),y+="</td><td>&nbsp;&nbsp;:&nbsp;&nbsp;</td><td>",y+=f.length>20?_?_(C(f)):f.substr(0,20)+"<br>"+f.substr(20):_?_(C(f)):f,y+="</td></tr>"}if(o||0==o){var T=r.get("axesConfigsObj").yAxisDisplayUnit;if("count"==a.get("factFormat")||"count,distinct"==a.get("factFormat"))var b=CommaFormatted(o,T,a.get("factFormat"));else var b=CommaFormatted(o,T);var D="";u&&(D=d3.format(".2%")(o/u)),l&&("USD"==l.prefix?b=" $ "+b:"Rs"==l.prefix?b=" ₹ "+b:"Euro"==l.prefix&&(b="€"+b),l.suffix&&(b=b+" "+l.suffix+" ")),s&&(y+="<tr><td>",y+=s,y+="</td><td>&nbsp;&nbsp;:&nbsp;&nbsp;</td><td>",y+=b,y+="</td></tr>",D&&(y+="<tr><td>&nbsp;</td><td>",y+="&nbsp;",y+="</td><td>",y+=D,y+="</td></tr>"))}return(m||0==m)&&(y+="<tr><td>",y+=r.get("highlightRule").get("comparison_function"),y+="</td><td>&nbsp;&nbsp;:&nbsp;&nbsp;</td><td>",y+=d3.format(".5f")(m),y+="</td></tr>"),(v||0==v)&&(y+="<tr><td>",y+="Standard error of mean",y+="</td><td>&nbsp;&nbsp;:&nbsp;&nbsp;</td><td>",y+=d3.format(".5f")(v),y+="</td></tr>"),h&&(y+="<tr><td colspan='2'>",y+=h,y+="</td></tr>"),y+="</table>"},getDateFormatFunctions:function(e){var t,n,i=this,r=e.get("fieldName"),a=e.get("formatAs"),s=i.get("chartsDataSources").objectAt(0).get("dataSource").getDataType(r);return"date"==s&&("Year"==a?(t=d3.time.format("%Y"),n=d3.time.format("%Y").parse):"Month"==a?(t=d3.time.format("%b"),n=d3.time.format("%m").parse):"Quarter"==a?(t=formatDateAsQuarter,n=parseDateAsQuarter):"Month Year"==a?(t=d3.time.format("%Y %b"),n=d3.time.format("%Y %m").parse):"Day"==a||"Week"==a?(t=null,n=null):(t=d3.time.format("%d-%m-%Y"),n=d3.time.format("%Y-%m-%d").parse)),{formatDate:t,parseDate:n}}}),Cibi.Dashboard=DS.Model.extend({title:DS.attr("string"),displayName:DS.attr("string"),subtitle:DS.attr("string"),rows:DS.attr("number"),columns:DS.attr("number"),updatedAt:DS.attr("date"),autoRefresh:DS.attr("boolean"),refreshInterval:DS.attr("number"),description:DS.attr("string"),vertical:DS.belongsTo("Cibi.Vertical"),charts:DS.hasMany("Cibi.Chart"),dashboardFilters:DS.hasMany("Cibi.DashboardFilter"),accountTemplate:DS.belongsTo("Cibi.AccountTemplate"),tabId:function(){return"dashboards_"+this.id}.property("id"),currentVertical:function(){var e=this.get("vertical");return e?e.get("id"):void 0}.property("vertical"),tabLink:function(){return"#dashboards_"+this.id}.property("id"),drawAll:function(e){this.get("charts").forEach(function(t){e&&e===t.get("id")||t.draw()});var t=this.get("filterKeys")||[];t.length>0?this.highlightFilters():this.clearHighlights()}.observes("charts"),isFiltered:function(){var e=this.get("charts");return e.filterProperty("filterOn",!0).get("length")}.property("charts.@each.filterOn"),can_edit:function(){var e=Cibi.Auth.get("currentUser").get("isAdmin");if(e)return e;var t=Cibi.Auth.get("currentUser").get_role("Dashboard",this.get("id"));return t&&("admin"==t||"manager"==t)}.property("Cibi.Auth.currentUser.isLoaded"),can_destroy:function(){var e=Cibi.Auth.get("currentUser").get("isAdmin");if(e)return e;var t=Cibi.Auth.get("currentUser").get_role("Dashboard",this.get("id"));return t&&"admin"==t}.property("Cibi.Auth.currentUser.isLoaded"),getAllFilters:function(){var e=this.get("charts"),t=[];return this.get("chartFilterObj")?_.each(this.get("chartFilterObj"),function(e){t.push(e)}):e.forEach(function(e){filter_values={},e.get("chartFilter")&&(filter_values.dimension=e.get("chartsDataSources").objectAt(0).get("dimensionName"),filter_values.formatAs=e.get("chartsDataSources").objectAt(0).get("dimensionFormatAs"),filter_values.value=e.get("chartFilter"),t.push(filter_values))}),t},chartsOnClickFilters:function(){this.get("charts");var e=[];return this.get("chartFilterObj")&&_.each(this.get("chartFilterObj"),function(t){t.value instanceof Array&&Ember.set(t,"value",t.value.uniq()),e.push(t)}),e}.property("chartFilterObj.length","chartFilterObj"),isSetup:function(){var e=!0,t=this.get("charts");return t.forEach(function(t){e=e&&t.get("isSetup")}),e}.property("charts.@each.isSetup"),dashboardFieldsArr:function(){if(1==this.get("isSetup")){var e=this,t={},n=e.get("charts");n.forEach(function(e){var n=e.get("chartsDataSources");n.forEach(function(e){var n=e.get("dataSource").get("fieldsHash");_.each(n,function(e){t[e.name]=e.data_type})})});var i=[];return _.each(t,function(e,t){i.push({text:t,value:e})}),i.sort(function(e,t){return e.text==t.text?0:+(e.text>t.text)||-1}),this.set("filter_hash",i),[""].concat(i)}return[""]}.property("isSetup"),getChartHeight:function(e,t,n,i){var r=10,a=this.getBlockHeight(e),s=96,o=n?0:51,l=50*(t-1),c=i?41:0;return a*t+o+l-s+(t-1)*r-c},getChartWidth:function(e,t){var n=10,i=this.getBlockWidth(e);return i*t+(t-1)*n-10},getBlockWidth:function(e){var t=this,n=e||t.get("columns"),i=t.get("totalWidth")-30,r=n,a=10,s=(i-(r-1)*a)/r;return s},getBlockHeight:function(e){var t=this,n=e||t.get("rows"),i=$(window).height(),r=n,a=10,s=(i-(r-1)*a)/r;return s},highlightFilters:function(){var e=this.get("filterKeys");e&&e.length>0&&_.each(e,function(e){var t=$('[id="'+e+'"]').attr("class");void 0!=t?$('[id="'+e+'"]').attr("class",t+" selected"):$('[id="'+e+'"]').attr("class","selected")})}.observes("filterKeys.length"),clearHighlights:function(){var e=this.get("filterKeys");e&&e.length>0&&_.each(e,function(e){var t=$('[id="'+e+'"]').attr("class");void 0!=t&&-1!==t.indexOf("selected")&&$('[id="'+e+'"]').attr("class",t.replace(/(\s)*selected/,""))})},reset:function(e,t,n){var i=this.get("chartFilterObj");if(i){if(e){var r=i.indexOf(e);if(-1!=r){e.value.removeObject(t),e.value.length>0?(i[r]=e,this.notifyPropertyChange("chartFilterObj")):i.removeAt(r);var a="chart-"+e.chart_id+"-"+t;this.get("filterKeys").removeObject(a)}this.get("filterKeys").length>0?this.highlightFilters():this.clearHighlights()}else this.set("chartFilterObj",[]),this.set("filterOn",!1),this.set("filterKeys",null);n||(i.length>0?this.drawAll():(this.set("filterOn",!1),this.set("filterKeys",null),this.drawAll()))}}}),Cibi.Account=DS.Model.extend({name:DS.attr("string"),accountType:DS.attr("string"),adminUsersLimit:DS.attr("number"),basicUsersLimit:DS.attr("number"),dataSourcesLimit:DS.attr("number"),verticalsLimit:DS.attr("number"),timeLimit:DS.attr("date"),users:DS.hasMany("Cibi.User"),accountTemplates:DS.hasMany("Cibi.AccountTemplate"),accountSetting:DS.belongsTo("Cibi.AccountSetting")}),Cibi.AccountSetting=DS.Model.extend({timezone:DS.attr("string"),numberFormat:DS.attr("string"),currency:DS.attr("string"),fiscalYearStartDay:DS.attr("number"),fiscalYearStartMonth:DS.attr("number"),accountId:DS.attr("number"),topBarColor:DS.attr("string"),workspaceColor:DS.attr("string"),dashboardBarColor:DS.attr("string"),companyLogo:DS.attr("string"),companyNewLogo:DS.attr("string"),logoWidth:DS.attr("number"),collapseNavbar:DS.attr("boolean"),account:DS.belongsTo("Cibi.Account")}),Cibi.AccountTemplate=DS.Model.extend({accountId:DS.attr("number"),status:DS.attr("number"),templateInputs:DS.attr("string"),templateName:DS.attr("string"),account:DS.belongsTo("Cibi.Account"),dataSources:DS.hasMany("Cibi.DataSource"),workspaces:DS.hasMany("Cibi.Vertical"),dashboards:DS.hasMany("Cibi.Dashboard"),charts:DS.hasMany("Cibi.Chart"),dimensions:DS.hasMany("Cibi.Dimension"),measures:DS.hasMany("Cibi.Measure"),chartsDataSources:DS.hasMany("Cibi.ChartsDataSource")}),Cibi.Auth=Em.Auth.create({signInEndPoint:"/users/sign_in",signOutEndPoint:"/users/sign_out",tokenKey:"auth_token",tokenIdKey:"user_id",modules:["emberData","urlAuthenticatable","authRedirectable","actionRedirectable","rememberable"],authRedirectable:{route:"verticals"},actionRedirectable:{signInSmart:!0,signInBlacklist:["sign-in"],signOutRoute:"verticals"},rememberable:{tokenKey:"remember_token",period:7,autoRecall:!0}}),Cibi.ChartFilter=DS.Model.extend({fieldName:DS.attr("string"),formatAs:DS.attr("string"),comparisonOperator:DS.attr("number"),fieldValues:DS.attr("string"),exclude:DS.attr("boolean"),disabled:DS.attr("boolean"),fieldDataType:DS.attr("string"),dateRange:DS.attr("boolean"),upperRange:DS.attr("date"),lowerRange:DS.attr("date"),referenceDirection:DS.attr("string"),referenceCount:DS.attr("number"),referenceUnit:DS.attr("string"),referenceDateToday:DS.attr("string"),referenceDate:DS.attr("date"),displayName:DS.attr("string"),isGlobal:DS.attr("boolean"),chart:DS.belongsTo("Cibi.Chart"),user:DS.belongsTo("Cibi.User"),operatorsMap:[{display:"",value:null},{display:"in",value:0},{display:"less than",value:1},{display:"greater than",value:2},{display:"not in",value:3},{display:"not null",value:4},{display:"max",value:6},{display:"min",value:7}],values:function(){var e=this.get("fieldValues");
return e?JSON.parse(e):[]}.property("fieldValues"),values_str:function(){var e=this.get("values");return 4==this.get("comparisonOperator")?"NOT NULL":(e=_.map(e,function(e){return displayTick(e)}),e.join(","))}.property("values"),operator:function(){var e=this.get("comparisonOperator");if(4==e||6==e||7==e)return"is";if(5==e)return"range";if(void 0!==e&&null!==e){var t=this.get("operatorsMap").filter(function(t){return t.value==e});return t[0].display}}.property("comparisonOperator","isLoaded"),comparison:function(){var e=this.get("comparisonOperator");switch(e){case 4:return"NOT NULL";case 6:return"MAX";case 7:return"MIN"}}.property("comparisonOperator","isLoaded"),apply:function(e){var t=this;if(t.get("isLoaded")){var n=t.get("fieldName"),i=t.get("values"),r=t.get("comparisonOperator");switch(r){case 0:e=_.filter(e,function(e){return i?-1!=i.indexOf(e[n]):!0});break;case 1:e=_.filter(e,function(e){var t=toFloat(e[n]);return t<toFloat(i)});break;case 2:e=_.filter(e,function(e){var t=toFloat(e[n]);return t>toFloat(i)});break;case 3:e=_.filter(e,function(e){return i?-1==i.indexOf(e[n]):!0});break;case 4:e=_.filter(e,function(e){return e[n]});break;default:alert("operator default")}}return e}}),Cibi.AreaChart=Ember.Object.extend({draw:function(){var e=this,t=e.chart.getFilters(),n=e.cds.objectAt(0);e.chart.set("dataLoading",!0),n.chartData(e._drawAreaChart,e,t),e.chart.set("isSetup",!1)},_drawAreaChart:function(e,t){var n,i,r=t.get("chart");r.clearChart();var a=t.cds.objectAt(0),s={top:r.get("marginTop"),right:r.get("marginRight"),bottom:r.get("marginBottom"),left:r.get("marginLeft")};t.chart.get("height")-s.top-s.bottom,t.chart.get("width")-s.left-s.right;var o=e.map(function(e){return e.key}),l=d3.max(e,function(e){return e[a.get("factDisplay")]}),c=d3.min(e,function(e){return e[a.get("factDisplay")]});if(t.chart.forecast){t.chart.forecast.forEach(function(e){o.push(e.key)});var h=d3.max(t.chart.forecast,function(e){return e.upper});l=d3.max([l,h]);var u=d3.min(t.chart.forecast,function(e){return e.lower});c=d3.min([c,u])}c>0&&(c=0);var d=t.chart.getSvgElement(),p=t.chart.drawYAxis(d,[c,l],t.y_axis_label_right),f=p(c);t.chart.get("axesConfigsObj")&&t.chart.get("axesConfigsObj").yDomainMinValue&&t.chart.get("axesConfigsObj").yDomainMaxValue&&t.chart.get("axesConfigsObj").yDomainMinValue<t.chart.get("axesConfigsObj").yDomainMaxValue&&t.chart.get("axesConfigsObj").yDomainMinValue>c&&(f=p(t.chart.get("axesConfigsObj").yDomainMinValue));var g=t.chart.drawXAxis(d,o,f),m=t.chart.colorScale(),v=a.get("dimensionName");a.get("dimensionFormatAs"),a.get("dataSource").getDataType(v),n=t.chart.get("formatDate"),i=t.chart.get("parseDate"),t.chart.addClipPathElement(d);var b=d3.svg.area().x(function(e){return"time"==t.chart.get("scale_type")?g(i?i(e.key):e.key):g(e.key)+g.rangeBand()/2}).y0(p(0)).y1(function(e){return p(e[a.get("factDisplay")])});if("time"==t.chart.get("scale_type")?b.interpolate("cardinal"):"linear"==t.chart.get("scale_type")&&b.interpolate("linear"),"time"==r.get("scale_type")){var y=function(e){var n=t.chart.get("axesConfigsObj").yAxisDisplayUnit,i=CommaFormatted(e,n),r=a.get("factUnit");return r&&("USD"==r.prefix?i=" $ "+i:"Rs"==r.prefix?i=" ₹ "+i:"Euro"==r.prefix&&(i="€"+i),r.suffix&&(i=i+" "+r.suffix+" ")),i},x=d.append("g").attr("class","focus").style("display","true");x.append("text").attr("class","y0").attr("dy","-1em").style("opacity",0),d.append("path").datum(e).attr("class","area").attr("d",b).attr("height",11).attr("clip-path",t.chart.getClipPathUrl()).on("mouseover",function(){x.style("display",null)}).on("mouseout",function(){x.style("display","none")}).on("mousemove",function(){var e=d3.mouse(this)[0],t=d3.mouse(this)[1],n=g.invert(e),i=p.invert(t),r=n.formatDateMonth()+" - "+y(i);x.select("text.y0").style("opacity",1),x.select("circle.y0").style("opacity",1),x.select("text.y0").attr("transform","translate("+e+","+t+")").text(r),x.select("circle.y0").attr("transform","translate("+e+","+t+")")}).style("fill",t.chart.area()).style("fill-opacity",.7).style("stroke",d3.rgb(t.chart.area()).darker()),t.plotCircles(d,e,g,p,a,i),x.append("circle").attr("class","y0").style("fill","#FFFFFF").style("stroke","red").attr("r",4).style("opacity",0)}if("ordinal"==r.get("scale_type")&&(d.append("path").datum(e).attr("class","area").attr("d",b).attr("height",11).attr("clip-path",t.chart.getClipPathUrl()).style("fill",t.chart.area()).style("fill-opacity",.7).style("stroke",d3.rgb(t.chart.area()).darker()),t.plotCircles(d,e,g,p,a,i)),t.chart.forecast){Cibi.Forecast.draw(t.chart,d,g,p);var m=t.chart.colorScale();m.domain(["Base Line","Predicted Line","Lower Bound","Upper Bound"]),m.range([t.chart.line(),"green","red","blue"]),t.chart.drawChartLegend(["Base Line","Predicted Line","Lower Bound","Upper Bound"],m)}t.chart.set("dataLoading",!1),t.chart.get("dashboard").highlightFilters()},plotCircles:function(e,t,n,i,r,a){var s=this,o=s.chart;o.get("formatDate");var l,a=o.get("parseDate"),c="ordinal"==o.get("scale_type"),h=o.get("highlightRule");o.statsData&&(l=o.statsData);var u=s.chart.getChartTip();e.selectAll("circle").data(t).enter().append("circle").attr("id",function(e){return"chart-"+s.chart.id+"-"+pruneStr(e.key)}).attr("cx",function(e){return c?n(e.key)+n.rangeBand()/2:n(a?a(e.key):e.key)}).attr("cy",function(e){return void 0!==e[r.get("factDisplay")]?i(e[r.get("factDisplay")]):void 0}).attr("r",function(){var e=20,t=n.range()[1],i=t>e?e:t;return i/5}).attr("clip-path",s.chart.getClipPathUrl()).style("fill",function(e){return e.to_highlight?e.fill_color:"white"}).style("stroke",function(){return"#0000ff"}).on("mouseover",function(t,n){if(!s.chart.get("notToHideTip")){var i={};i.index=n,u.offset([-10,0]),s.chart.getChartElementData(t,i,u,e),u.show()}}).on("mouseout",function(){s.chart.get("notToHideTip")||u.hide()}).on("click",function(t,n){var i={};i.dimension=r.get("dimensionName"),i.formatAs=r.get("dimensionFormatAs")?r.get("dimensionFormatAs"):"",i.value=t.key;var a={};a.index=n,s.chart.chartElementOnClick(this.id,i,t,a,u,e),u.offset([-10,0])}),h&&h.get("enable_highlight")&&h.get("enable_sem")&&Cibi.ErrorBars.draw(s.chart,t,l,e,n,i)}}),Cibi.BarChart=Ember.Object.extend({init:function(){if(!this.element)throw new Error("Need to specify element id");if(this.stacked&&!this.depth)throw new Error("Need to specify depth for Stacked Graph");this.set("currentFilterKey",null)},draw:function(){var e=this,t=e.chart.get("chartsDataSources"),n=e.chart.getFilters(),i=e.chart.get("measures"),r=t.objectAt(0);1==i.get("length")?(e.set("cds_properties",r.getProperties(["depth","fact","dimensionName","dimensionFormatAs","factFormat"])),e.chart.set("dataLoading",!0),r.chartData(e._chartDataCallback,e,n),r.get("depth"),r.get("depthFormat")):(e.chart.set("dataLoading",!0),r.chartData(e._dataCallback,e,n))},_chartDataCallback:function(e,t){t.set("chartData",e),t.set("uniqueKeys",t.chart.get("depth_unique_values")),t.checkDataAndDrawChart()},_depthKeysCallback:function(e,t){t.set("uniqueKeys",e),t.checkDataAndDrawChart()},checkDataAndDrawChart:function(){var e=this,t=e.chart.get("chartsDataSources").objectAt(0),n=e.get("chartData"),i=e.get("uniqueKeys"),r=t.get("depth");if(r){if(n&&i){var a=this.get("chartData");e._drawSimpleBarChart(a,e)}}else if(n){var a=this.get("chartData");e._drawSimpleBarChart(a,e)}},_dataCallback:function(e,t){var n=t.get("data")||[],i=t.get("keys")||[];i.push(e.map(function(e){return e.key})),n.push(e),n=_.sortBy(n,function(e){return e.cds_id}),t.set("data",n),t.set("keys",i),t._drawGrouped(),t.set("data",[]),t.set("keys",[])},_drawSimpleBarChart:function(e,t){var n=t;$("#"+n.element).html("");var i=n.chart.get("legendFilter");i=i?i.index:i;var r=void 0!==i&&i!==!1&&null!==i;n.chart.getFilters();var a=n.get("chart");a.clearChart();var s,o,l,c=n.cds,h=80,u=a.get("axesConfigsObj").yDomainMaxValue||0,d=a.get("highlightRule");a.statsData&&(l=a.statsData);var p=n.chart.get("measures"),f=p.objectAt(0).get("displayName");if(1!=p.get("length"))return n.drawGrouped(),void 0;e.get("factType"),e.get("factUnit");var g={top:a.get("marginTop"),right:a.get("marginRight"),bottom:a.get("marginBottom"),left:a.get("marginLeft")},m=a.get("width")-g.left-g.right,v=a.get("height")-g.top-g.bottom,b=e.map(function(e){return e.key}),y=d3.max(e,function(e){return e[f]}),x=d3.min(e,function(e){return e[f]});x>0&&(x=0);var w=n.chart.getSvgElement();n.chart.get("dashboard").getBlockHeight();var C=n.chart.getChartTip(),T=n.chart.colorScale(),D=n.chart.get("chartsDataSources").objectAt(0).get("depth");if(D){var c=c.objectAt(0),S=T;c.get("fact");var E=n.get("uniqueKeys"),k=n.chart.get("original_zkeys");if(E.length,k?S.domain(k):S.domain(E),r){var I=E[i],N=[],A=e.map(function(e){if(!e.key||!e[f])return{x:"",y:0};var t=e.values.filter(function(e){return e.key==I});return t.length>0?{x:e.key,key:e.key,value:+t[0][f],y:+t[0][f],zkey:I}:{x:"",y:0}});N.push(A);var y=d3.max(A,function(e){return e.value}),x=d3.min(A,function(e){return e.value});x>0&&(x=0)}else var N=E.map(function(t){return e.map(function(e){if(!e.key||!e[f])return{x:"",y:0};var n=e.values.filter(function(e){return e.key==t});return n.length>0?{x:e.key,key:e.key,value:+n[0][f],y:+n[0][f],zkey:t}:{x:"",y:0}})});var R=n.chart.drawYAxis(w,[x,y],n.y_axis_label),M=R(x);if(n.chart.get("axesConfigsObj")&&n.chart.get("axesConfigsObj").yDomainMinValue&&n.chart.get("axesConfigsObj").yDomainMaxValue&&n.chart.get("axesConfigsObj").yDomainMinValue<n.chart.get("axesConfigsObj").yDomainMaxValue&&n.chart.get("axesConfigsObj").yDomainMinValue>x){var x=n.chart.get("axesConfigsObj").yDomainMinValue,y=n.chart.get("axesConfigsObj").yDomainMaxValue||y;M=R(n.chart.get("axesConfigsObj").yDomainMinValue)}var P=n.chart.drawXAxis(w,b,M,"ordinal");s=n.chart.get("formatDate"),o=n.chart.get("parseDate");var O=d3.layout.stack()(N);O[0].map(function(e){return e.key?e.key:void 0}),n.chart.addClipPathElement(w);var F=w.selectAll("g.zKey").data(O).enter().append("svg:g").attr("class","zKey").attr("clip-path",n.chart.getClipPathUrl()).style("fill",function(e){for(var t=0;t<e.length;t++)if(e[t].zkey)return S(e[t].zkey)}).style("stroke",function(e){for(var t=0;t<e.length;t++)if(e[t].zkey)return d3.rgb(S(e[t].zkey)).darker()});F.selectAll("rect").data(Object).enter().append("svg:rect").attr("x",function(e){if(e.key){var t=0,n=P.rangeBand();return n>h&&(t=(n-h)/2),P(e.key)+t}}).attr("y",function(e){var t=e.y+e.y0;return t>y||x>t?0:R(t)}).attr("height",function(e){if(e.value&&e.value>0){var t=e.y+e.y0;if(x>t)return 0;if(e.y0>y)return 0;if(0==e.y0){var n=R(x)-R(e.y);return n>v?v:n}if(e.y0<x){var n=v-R(t);return n>v?v:n}return t>y?R(e.y0):R(e.y0)-R(t)}}).attr("id",function(e){return e.key?"chart-"+n.chart.id+"-"+pruneStr(e.key)+"-"+pruneStr(e.zkey):void 0}).attr("width",function(){var e=P.rangeBand();return e>h?h:e}).attr("clip-path",n.chart.getClipPathUrl()).on("mouseover",function(e){if(!n.chart.get("notToHideTip")){var t={};if(n.chart.getChartElementData(e,t,C,w),u<e.y+e.y0&&0!=u){var i=e.y+e.y0-u;C.offset(function(){return[v-R(i)-5,0]})}else C.offset([-10,0]);C.direction("n"),C.show()}}).on("mouseout",function(){n.chart.get("notToHideTip")||C.hide()}).on("click",function(e){var t=[],i={};i.dimension=c.get("dimensionName"),i.formatAs=c.get("dimensionFormatAs")?c.get("dimensionFormatAs"):"",i.value=e.key,t.push(i);var r={};r.dimension=c.get("depth"),r.formatAs=c.get("depthFormat")?c.get("depthFormat"):"",r.value=e.zkey,t.push(r);var a={};if(n.chart.chartElementOnClick(this.id,t,e,a,C,w),u<e.y+e.y0&&0!=u){var s=e.y+e.y0-u;C.offset(function(){return[v-R(s)-5,0]})}else C.offset([-10,0]);C.direction("n")}),n.chart.drawChartLegend(E,S,!0)}else{var O=e;if(n.control_key){var B,j,L,V,H,G=Cibi.Stats.getRelevanceStats(e,n.control_key);if(B=G.control_mean,j=G.control_stddev,L=G.control_count,H=G.control_sem,control_val=G.control_val,V=G.control_key_found,V&&n.highlight_statistical_relevance){var z=B+1.96*H,U=B-1.96*H;w.append("svg:line").attr("stroke-dasharray","5,5").attr("y1",v-v*z/y).attr("x2",m).attr("y2",v-v*z/y).attr("clip-path",n.chart.getClipPathUrl()).style("stroke","red"),w.append("svg:line").attr("stroke-dasharray","5,5").attr("y1",v-v*U/y).attr("x2",m).attr("y2",v-v*U/y).attr("clip-path",n.chart.getClipPathUrl()).style("stroke","red");var W=["Control Key","Statistically Irrelevant","Statistically Relevant","Error Range"],T=d3.scale.ordinal().range([n.chart.controlKey(),n.chart.bar(),n.chart.statisticalRelevance(),n.chart.errorBar()]).domain(W);n.chart.drawChartLegend(W,T)}V&&n.plot_pc&&_.each(e,function(e){e[f]=100*(e[f]-control_val)/control_val})}n.plot_abs_values&&_.each(e,function(e){e[f]=Math.abs(e[f])}),y=d3.max(e,function(e){return e[f]}),x=d3.min(e,function(e){return e[f]}),y=0>y?0:y,x=x>0?0:x,0!=x&&(x-=Math.abs((Math.abs(y)-Math.abs(x))/10));var R=n.chart.drawYAxis(w,[x,y],n.y_axis_label),M=R(x);n.chart.get("axesConfigsObj")&&n.chart.get("axesConfigsObj").yDomainMinValue&&n.chart.get("axesConfigsObj").yDomainMaxValue&&n.chart.get("axesConfigsObj").yDomainMinValue<n.chart.get("axesConfigsObj").yDomainMaxValue&&n.chart.get("axesConfigsObj").yDomainMinValue>x&&(M=R(n.chart.get("axesConfigsObj").yDomainMinValue));var P=n.chart.drawXAxis(w,b,M,"ordinal");s=n.chart.get("formatDate"),o=n.chart.get("parseDate"),n.chart.addClipPathElement(w),w.selectAll(".bar").data(O).enter().append("svg:rect").attr("class","bar").style("fill",function(e){return e.to_highlight?e.fill_color:n.chart.bar()}).style("stroke",function(e){var t=n.chart.bar();return e.to_highlight?e.fill_color:d3.rgb(t).darker()}).attr("id",function(e){return"chart-"+n.chart.id+"-"+pruneStr(e.key)}).attr("x",function(e){var t=0,n=P.rangeBand();return n>h&&(t=(n-h)/2),P(e.key)+t}).attr("width",function(){var e=P.rangeBand();return e>h?h:e}).attr("y",function(e){return e[f]<0?R(0):R(e[f])}).attr("height",function(e){return e[f]?n.chart.get("axesConfigsObj")&&n.chart.get("axesConfigsObj").yDomainMinValue&&n.chart.get("axesConfigsObj").yDomainMaxValue&&n.chart.get("axesConfigsObj").yDomainMinValue<n.chart.get("axesConfigsObj").yDomainMaxValue&&n.chart.get("axesConfigsObj").yDomainMinValue>x&&!(n.chart.get("axesConfigsObj").yDomainMinValue<0&&n.chart.get("axesConfigsObj").yDomainMaxValue>0)?n.chart.get("axesConfigsObj").yDomainMinValue<0&&n.chart.get("axesConfigsObj").yDomainMaxValue<0?e[f]>0?0:Math.abs(R(0)-R(e[f])):Math.abs(R(n.chart.get("axesConfigsObj").yDomainMinValue))-R(e[f]):Math.abs(R(0)-R(e[f])):void 0}).attr("clip-path",n.chart.getClipPathUrl()).on("mouseover",function(e,t){if(!n.chart.get("notToHideTip")){var i;n.display_rank&&(i="Rank : "+e.rank);var r={};r.index=t,r.details=i,n.chart.getChartElementData(e,r,C,w);var a=this;a.getBBox().height<v?C.offset([-10,0]):C.offset(function(){return[a.getBBox().height-v-10,0]}),C.direction("n"),C.show()}}).on("mouseout",function(){n.chart.get("notToHideTip")||C.hide()}).on("click",function(e,t){var i;n.display_rank&&(i="Rank : "+e.rank);var r={};r.index=t,r.details=i;var a=n.cds.objectAt(0),s={};s.dimension=a.get("dimensionName"),s.formatAs=a.get("dimensionFormatAs")?a.get("dimensionFormatAs"):"",s.value=e.key,n.chart.chartElementOnClick(this.id,s,e,r,C,w);var o=this;o.getBBox().height<v?C.offset([-10,0]):C.offset(function(){return[o.getBBox().height-v-10,0]}),C.direction("n")}),d&&d.get("enable_highlight")&&d.get("enable_sem")&&Cibi.ErrorBars.draw(n.chart,e,l,w,P,R)}n.chart.set("dataLoading",!1),n.chart.get("dashboard").highlightFilters()},_drawGrouped:function(){var e=this;e.get("chart");var t,n,i=e.chart.get("legendFilter");i=i?i.index:i;var r=void 0!==i&&i!==!1&&null!==i;$("#"+e.element).html(""),e.cds;var a=[],s=[],o=e.chart.get("measures");for(p=0;p<o.get("length");p++)a.push(o.objectAt(p).get("fieldName")),s.push(o.objectAt(p).get("displayName")||o.objectAt(p).get("fieldName"));for(var l=e.get("data"),c=e.get("keys"),h=l,u=c||[],d=u[0],p=1;p<u.length;p++)d=_.intersection(d,u[p]);var f=[];_.each(h,function(e){e=_.filter(e,function(e){return-1!=d.indexOf(e.key)}),f.push(e)});var h=f,g=0;_.each(h,function(e){var t=d3.max(e,function(e){var t=[];return o.forEach(function(n){t.push(e[n.get("displayName")])}),d3.max(t)});g=g>t?g:t});var m=0;_.each(h,function(e){var t=d3.min(e,function(e){var t=[];return o.forEach(function(n){t.push(e[n.get("displayName")])}),d3.min(t)});m=t>m?m:t}),g=0>g?0:g,m=m>0?0:m,0!=m&&(m-=Math.abs((Math.abs(g)-Math.abs(m))/10));var v=_.flatten(h),b=e.chart.get("height")-e.chart.get("marginBottom")-e.chart.get("marginTop"),y=e.chart.getSvgElement(),x=e.chart.drawYAxis(y,[m,g],e.y_axis_label),w=e.chart.drawXAxis(y,d,null,"ordinal");t=e.chart.get("formatDate"),n=e.chart.get("parseDate");var C=e.chart.colorScale().domain(a);e.chart.get("dashboard").getBlockHeight(),e.chart.addClipPathElement(y);var T=e.chart.getChartTip(),D=o.get("length");o.forEach(function(t,n){if(!r||n==i){var s=t.get("displayName");y.selectAll(".bar"+n).data(v).enter().append("rect").attr("class","bar "+n).style("fill",function(){var e=n%D;return r&&(e=parseInt(i)),C(a[e])}).attr("id",function(t){var i=n%D;return"chart-"+e.chart.id+"-"+pruneStr(t.key)+"-"+i}).attr("x",function(e){var t=n%D,i=w.rangeBand()/D;return w(e.key)+t*i}).attr("width",w.rangeBand()/D).attr("y",function(e){return e[s]<0?x(0):x(e[s])}).attr("height",function(t){return t[s]?e.chart.get("axesConfigsObj")&&e.chart.get("axesConfigsObj").yDomainMinValue&&e.chart.get("axesConfigsObj").yDomainMaxValue&&e.chart.get("axesConfigsObj").yDomainMinValue<e.chart.get("axesConfigsObj").yDomainMaxValue&&e.chart.get("axesConfigsObj").yDomainMinValue>m&&!(e.chart.get("axesConfigsObj").yDomainMinValue<0&&e.chart.get("axesConfigsObj").yDomainMaxValue>0)?e.chart.get("axesConfigsObj").yDomainMinValue<0&&e.chart.get("axesConfigsObj").yDomainMaxValue<0?t[s]>0?0:Math.abs(x(0)-x(t[s])):Math.abs(x(e.chart.get("axesConfigsObj").yDomainMinValue))-x(t[s]):Math.abs(x(0)-x(t[s])):void 0}).attr("clip-path",e.chart.getClipPathUrl()).on("mouseover",function(t){if(!e.chart.get("notToHideTip")){var a=n%D;r&&(a=i);var s=e.chart.get("measures").objectAt(a),o=s.get("displayName")||s.get("fieldName"),l=s.get("formatAs"),c=s.get("factUnit"),h={};h.fact=o,h.factType=l,h.factUnit=c,e.chart.getChartElementData(t,h,T,y);var u=this;u.getBBox().height<b?T.offset([-10,0]):T.offset(function(){return[u.getBBox().height-b-10,0]}),T.direction("n"),T.show()}}).on("mouseout",function(){e.chart.get("notToHideTip")||T.hide()}).on("click",function(t){var a=n%D,s=e.cds.objectAt(0),o={};o.dimension=s.get("dimensionName"),o.formatAs=s.get("dimensionFormatAs")?s.get("dimensionFormatAs"):"",o.value=t.key,r&&(a=i);var l=e.chart.get("measures").objectAt(a),c=l.get("displayName")||l.get("fieldName"),h=l.get("formatAs"),u=l.get("factUnit"),d={};d.fact=c,d.factType=h,d.factUnit=u,e.chart.chartElementOnClick(this.id,o,t,d,T,y);var p=this;p.getBBox().height<b?T.offset([-10,0]):T.offset(function(){return[p.getBBox().height-b-10,0]}),T.direction("n")})}}),e.chart.drawChartLegend(a,C,!0,s),e.chart.set("dataLoading",!1),e.chart.get("dashboard").highlightFilters()}}),Cibi.CTable=Ember.Object.extend({init:function(){this.set("idCounter",0),this.set("root",{})},treeData:function(e,t){var n=t.cds.objectAt(0),i=t.chart.get("measures"),r=d3.layout.tree().children(function(e){return e.values&&0!==e.values.length?e.values:null}),a=[];t.chart.get("dimensions").forEach(function(e){a.push(e.get("fieldName"))}),t.root.key=a[0],t.root.values=e,"count"==n.get("factFormat");var n=t.chart.get("chartsDataSources").objectAt(0),s=n.get("factType"),o=n.get("factUnit");n.get("factDisplay");var l=r.nodes(t.root),c=0;return l.map(function(e){e.depth==a.length&&(e.isLeafNode=!0,e.dataValues=e.values),e.values&&(e.id=c++),e.depth>t.expansion_depth&&(e._collapsed=!0),i.forEach(function(n){var i=n.get("displayName");e[i]=d3.format(",.2f")(e[i]),t.displayUnit&&("k, M, B"==t.displayUnit||"k, L, Cr"==t.displayUnit?e[i]=formatValue(e[i].replace(/,/g,""),t.displayUnit):"No Units (Indian)"==t.displayUnit?e[i]=CommaFormatted(e[i].replace(/,/g,""),"Indian"):"No Units (American)"==t.displayUnit&&(e[i]=CommaFormatted(e[i].replace(/,/g,""),"American"))),"money"==s&&("USD"==o?e[i]=" $ "+e[i]:"Rs"==o?e[i]=" ₹ "+e[i]:"Euro"==o&&(e[i]=" € "+e[i]))})}),l=_.filter(l,function(e){return e.key&&e.values}),l.splice(1,l.length)},draw:function(){var e=this,t=e.chart.get("chartsDataSources"),n=t.objectAt(0),i=e.chart.getFilters();e.set("cds_properties",n.getProperties(["depth","fact","dimensionName","dimensionFormatAs","factFormat"])),e.chart.set("dataLoading",!0),n.chartData(e._drawCTable,e,i),e.chart.set("isSetup",!1)},_drawCTable:function(e,t){function n(e){if(null!=e.parent)for(var t=e.parent;t;){if(t._collapsed)return!1;t=t.parent}return!0}function i(e,t){return _.each(e,function(e){t=e.dataValues?t.concat(e.dataValues):t.concat(i(e.values,t))}),t}var r=t.chart.get("width"),a=t.chart.get("height")-24;t.chart.clearChart();var s="<div class='row'><button id = '"+t.element+"-expand' class='pull-right btn' style='margin-left: 5px;height: 25px;padding: 3px;padding-top: 1px;'><a>Expand All</a></button><button id = '"+t.element+"-collapse' class='pull-right btn' style='height: 25px;padding: 3px;padding-top: 1px;'><a>Collapse All</a></button></div>";s+="<div id='"+t.element+"-grid' style=\"width:"+r+"px;height: "+a+'px"></div>',$("#"+t.element).html(s);var o=$("#"+t.element+"-grid");if(o&&0!=o.length){var l=[];t.chart.get("dimensions").forEach(function(e){l.push(e.get("fieldName"))});var c=t.treeData(e,t),h=function(e,t,n,i,r){n=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");var a="<span style='display:inline-block;height:1px;width:"+15*r.depth+"px'></span>",s=g.getIdxById(r.id);return c[s]&&c[s].isLeafNode===!0&&(n="<a class='leafNode'>"+n+"</a>"),c[s+1]&&c[s+1].depth>c[s].depth?r._collapsed?a+" <span class='toggle expand'></span>&nbsp;"+n:a+" <span class='toggle collapse'></span>&nbsp;"+n:a+" <span class='toggle'></span>&nbsp;"+n},u=l.join(" > ");t.cds.objectAt(0);var d=[{id:"key",name:u,field:"key",width:r-200,resizable:!0,sortable:!0,cssClass:"cell-selection-left",formatter:h}],p=t.chart.get("measures");p.forEach(function(e){var t=e.get("fieldName"),n=e.get("displayName");d.push({id:t,name:n,field:n,width:200,resizable:!0,sortable:!0,cssClass:"cell-selection"})});var f={editable:!0,enableAddRow:!0,enableCellNavigation:!0,asyncEditorLoading:!1,fullWidthRows:!0},g=new Slick.Data.DataView;g.beginUpdate(),g.setItems(c),g.setFilter(n),g.endUpdate();var m=new Slick.Grid(o,g,d,f);m.onCellChange.subscribe(function(e,t){g.updateItem(t.item.id,t.item)}),m.onAddNewRow.subscribe(function(e,t){var n={id:"new_"+Math.round(1e4*Math.random()),indent:0,key:"New Key",val:"0"};$.extend(n,t.item),g.addItem(n)}),m.onClick.subscribe(function(e,n){if($(e.target).hasClass("toggle")){var r=g.getItem(n.row);r&&(r._collapsed=r._collapsed?!1:!0,g.updateItem(r.id,r)),e.stopImmediatePropagation()}else{var r=g.getItem(n.row),a=[];a=r.dataValues?a.concat(r.dataValues):i(r.values,a),a=a.uniq(),_.each(a,function(e){delete e.count,p.forEach(function(t){var n=t.get("displayName");delete e[n]})}),t.chart.createModal(a,r.key,r.id.toString()),e.stopImmediatePropagation()}}),g.onRowCountChanged.subscribe(function(){m.updateRowCount(),m.render()}),g.onRowsChanged.subscribe(function(e,t){m.invalidateRows(t.rows),m.render()}),$("#"+t.element).find("#"+t.element+"-expand").on("click",function(){var e=g.getItems();g.beginUpdate();for(var t=0;t<e.length;t++)e[t]._collapsed=!1,g.updateItem(e[t].id,e[t]);g.endUpdate()}),$("#"+t.element).find("#"+t.element+"-collapse").on("click",function(){var e=g.getItems();g.beginUpdate();for(var t=0;t<e.length;t++)e[t]._collapsed=!0,g.updateItem(e[t].id,e[t]);g.endUpdate()}),t.chart.set("dataLoading",!1),$("#"+t.element).css("text-align","left"),t.chart.get("dashboard").highlightFilters()}}}),Cibi.CTree=Ember.Object.extend({init:function(){this.set("idCounter",0),this.set("root",{})},generateData:function(){var e=this,t=this.dimension.top(this.count),n=d3.nest();this.hierarchy.forEach(function(e){n.key(function(t){return t[e]})}),e.fact&&n.rollup(function(t){return d3.sum(t,function(t){return parseFloat(t[e.fact].replace(/,/g,""))})}),this.set("data",n.entries(t))},draw:function(){for(var e=this,t=[],n=0;n<e.chart.get("dimensions").get("length");n++)t.push(e.chart.get("dimensions").objectAt(n).get("displayName"));this.set("hierarchy",t),$("#"+this.element).html("");var i=e.chart.get("chartsDataSources"),r=i.objectAt(0),a=e.chart.getFilters();e.set("cds_properties",r.getProperties(["depth","fact","dimensionName","dimensionFormatAs","factFormat"])),e.chart.set("dataLoading",!0),r.chartData(e._drawChart,e,a),e.chart.set("isSetup",!1)},_drawChart:function(e,t){function n(e){e.values instanceof Array&&(e.values.forEach(n),i.toggle(e))}var i=t,r=i.chart.get("marginTop"),a=i.chart.get("marginBottom"),s=i.chart.get("marginLeft"),o=i.chart.get("marginRight"),l=i.chart.get("width"),c=i.chart.get("height"),h=[r,o,a,s],u=l-h[1]-h[3],d=c-h[0]-h[2];i.set("tree",d3.layout.tree().size([d,u]).children(function(e){return e.values&&0!==e.values.length?e.values:null})),i.set("diagonal",d3.svg.diagonal().projection(function(e){return[e.y,e.x]})),i.set("vis",d3.select("#"+i.element).append("svg:svg").attr("width",u+h[1]+h[3]).attr("height",d+h[0]+h[2]).append("svg:g").attr("transform","translate("+h[3]+","+h[0]+")")),i.root.key=i.hierarchy[0],i.root.values=e,i.root.x0=d/2,i.root.y0=0,i.root.values=_.sortBy(i.root.values,function(e){return e.key}),i.root.values.forEach(n),i.update(i.root),i.chart.set("dataLoading",!1),i.chart.get("dashboard").highlightFilters()},update:function(e){var t=this,n=d3.event&&d3.event.altKey?5e3:500,i=t.tree.nodes(t.root).reverse();i.forEach(function(e){e.y=180*e.depth});var r=t.vis.selectAll("g.node").data(i,function(e){var n=e.id||(e.id=++t.idCounter+t.element);return n}),a=r.enter().append("svg:g").attr("class","node").attr("transform",function(){return"translate("+e.y0+","+e.x0+")"}).on("click",function(e){e.depth!=t.hierarchy.length?(t.toggle(e),t.update(e)):($("#"+t.element).append(t.chart.createModal(e._values,e.key)),$("#modal-"+e.id).modal())});a.append("svg:circle").attr("r",1e-6).style("fill",function(e){return e._values?"lightsteelblue":"#fff"}).style("stroke","steelblue").style("stroke-width","1.5px"),a.append("svg:text").attr("y",function(e){return e.values||e._values?-7:7}).attr("x",function(e){return 2*-e.key.length}).attr("dy",".15em").attr("id",function(e){return e.id}).attr("text-anchor",function(){return"start"}).text(function(e){return e.key}).style("fill-opacity",1e-6).style("font-size","11px").style("fill","#222222");var s=r.transition().duration(n).attr("transform",function(e){return"translate("+e.y+","+e.x+")"});s.select("circle").attr("r",4.5).style("fill",function(e){return e._values&&e._values[0]._values?"lightsteelblue":"#fff"}),s.select("text").style("fill-opacity",1);var o=r.exit().transition().duration(n).attr("transform",function(){return"translate("+e.y+","+e.x+")"}).remove();o.select("circle").attr("r",1e-6),o.select("text").style("fill-opacity",1e-6);var l=t.vis.selectAll("path.link").data(t.tree.links(i),function(e){return e.target.id});l.enter().insert("svg:path","g").style("fill","none").style("stroke","#CCCCCC").attr("class","link").attr("d",function(){var n={x:e.x0,y:e.y0};return t.diagonal({source:n,target:n})}).transition().duration(n).attr("d",t.diagonal),l.transition().duration(n).attr("d",t.diagonal),l.exit().transition().duration(n).attr("d",function(){var n={x:e.x,y:e.y};return t.diagonal({source:n,target:n})}).remove(),i.forEach(function(e){e.x0=e.x,e.y0=e.y})},toggle:function(e){e.values instanceof Array?(e._values=e.values,e.values=null,e.children=null):(e.values=_.sortBy(e._values,function(e){return e.key}),e._values=null)}}),Cibi.ComboChart=Ember.Object.extend({init:function(){if(!this.element)throw new Error("Need to specify element id");this.set("currentFilterKey",null)},draw:function(){var e=this,t=e.chart.get("chartsDataSources").objectAt(0),n=e.chart.getFilters();e.chart.set("dataLoading",!0),t.chartData(e._dataCallback,e,n);var i=t.get("depth"),r=t.get("depthFormat");i&&t.getUniqueKeys(i,r,e._depthKeysCallback,e)},_depthKeysCallback:function(e,t){t.set("uniqueKeys",e),t.checkDataAndDrawChart()},checkDataAndDrawChart:function(){var e=this,t=e.chart.get("chartsDataSources").objectAt(0),n=e.get("data"),i=e.get("uniqueKeys"),r=t.get("depth");if(r){if(n&&i){var a=this.get("data");e._drawComboChart(a,e)}}else if(n){var a=this.get("data");e._drawComboChart(a,e)}},_dataCallback:function(e,t){var n=t.get("data")||[];n.push(e),n=_.sortBy(n,function(e){return e.cds_id}),t.set("data",n),n.length==t.cds.get("length")&&(t.checkDataAndDrawChart(),t.set("data",null))},_drawComboChart:function(e,t){$("#"+this.element).html("");var t=this,n=t.get("data"),i=n[0],r=n[n.length-1],a=t.chart.get("measures");this.set("fact1",a.objectAt(0).get("fieldName")),this.set("fact2",a.objectAt(1).get("fieldName")),this.set("factType1",a.objectAt(0).get("formatAs")),this.set("factType2",a.objectAt(1).get("formatAs"));var s={top:this.chart.get("marginTop"),right:this.chart.get("marginRight"),bottom:this.chart.get("marginBottom"),left:this.chart.get("marginLeft")},o=(this.chart.get("width")-s.left-s.right,this.chart.get("height")-s.top-s.bottom),l=0;this.get("chart").get("chartsDataSources").objectAt(0).get("depth"),l=d3.max(i,function(e){return e[t.chart.get("measures").objectAt(0).get("displayName")]}),"percentage"==this.get("factType1")&&(l=100);var c=d3.max(r,function(e){return e[t.chart.get("measures").get("lastObject").get("displayName")]});"percentage"==this.get("factType2")&&(c=100),l=l||0,c=c||0;var h=d3.scale.linear().range([o,0]),u=t.chart.getSvgElement(),d=t.chart.getChartTip(),p=i.map(function(e){return e.key}),f=t.chart.get("chartsDataSources").objectAt(0).get("dimensionName"),g=t.chart.get("chartsDataSources").objectAt(0).get("dimensionFormatAs"),m=t.chart.get("chartsDataSources").objectAt(0).get("dataSource").getDataType(f);this.set("dimension",f),this.set("dimensionFormat",g),this.set("dimensionDataType",m);var v=t.chart.drawYAxis(u,[0,l],t.y_axis_label_left),b=t.chart.drawXAxis(u,p,null,"ordinal");t.chart.addClipPathElement(u),this.drawBarChart(u,b,v,l,i,p,d),this.drawLine(u,b,h,c,r,p,d);var y=a.objectAt(0).get("displayName")||a.objectAt(0).get("fieldName"),x=a.objectAt(1).get("displayName")||a.objectAt(1).get("fieldName"),w=d3.scale.ordinal().domain([y,x]).range([t.chart.bar(),t.chart.line()]);this.chart.drawChartLegend([y,x],w),t.chart.set("dataLoading",!1),t.chart.get("dashboard").highlightFilters()},drawLine:function(e,t,n,i,r,a,s){var o=80;r=_.filter(r,function(e){return-1!=a.indexOf(e.key)});var l=this,c=l.chart.get("chartsDataSources").objectAt(0);c.get("depth");var h,u=l.chart.get("measures").get("lastObject").get("displayName"),d={top:this.chart.get("marginTop"),right:this.chart.get("marginRight"),bottom:this.chart.get("marginBottom"),left:this.chart.get("marginLeft")},p=this.chart.get("width")-d.left-d.right,f=this.chart.get("height")-d.top-d.bottom;l.chart.get("formatDate"),l.chart.get("parseDate"),h=l.chart.get("axesConfigsObj")&&l.chart.get("axesConfigsObj").rightYDomainMinValue&&l.chart.get("axesConfigsObj").rightYDomainMaxValue&&l.chart.get("axesConfigsObj").rightYDomainMinValue<l.chart.get("axesConfigsObj").rightYDomainMaxValue?l.chart.get("axesConfigsObj").rightYDomainMinValue>0?[l.chart.get("axesConfigsObj").rightYDomainMinValue,l.chart.get("axesConfigsObj").rightYDomainMaxValue]:[0,l.chart.get("axesConfigsObj").rightYDomainMaxValue]:[0,i];var g=l.chart.get("axesConfigsObj").rightYAxisLabel||"";n.domain(h);var m=d3.svg.axis().scale(n).tickFormat(function(e){return formatValue(e,l.chart.get("axesConfigsObj")&&l.chart.get("axesConfigsObj").rightYAxisDisplayUnit?l.chart.get("axesConfigsObj").rightYAxisDisplayUnit:"")}).orient("right");e.append("g").attr("class","y axis").style("shape-rendering","crispEdges").style("fill","none").style("stroke","black").style("font-weight","200").attr("transform","translate("+p+",0)").call(m).append("text").attr("transform","rotate(-90)").attr("y",22).attr("x",-f/2).attr("dy","3em").style("text-anchor","middle").style("font-family","'Helvetica Neue', Helvetica, Arial, sans-serif").style("font-weight","bold").style("fill","black").style("stroke","none").text(g.length>20?g.substr(0,20):g).on("mouseover",function(){var e=d3.select("#chart-tooltip");e.transition().duration(500).style("opacity",.9);var t=displayTick(g);e.html(t).style("left",d3.event.pageX+"px").style("top",d3.event.pageY-28+"px")}).on("mouseout",function(){l.chart.chartElementOnMouseExit()}),e.selectAll("g.axis").selectAll("text").style("font-family","'Helvetica Neue', Helvetica, Arial, sans-serif").style("font-size","11px").style("letter-spacing","0px").style("fill","black").style("stroke","none"),e.selectAll("circle").data(r).enter().append("circle").attr("id",function(e){return"chart-"+l.chart.id+"-"+pruneStr(e.key)
}).attr("cx",function(e){return t(e.key)+t.rangeBand()/2}).attr("cy",function(e){return e[u]||0==e[u]?n(e[u]):void 0}).attr("r",function(){var e=t.rangeBand(),n=e>o?o:e;return n/5}).attr("clip-path",function(){return l.chart.get("axesConfigsObj")&&l.chart.get("axesConfigsObj").rightYDomainMinValue&&l.chart.get("axesConfigsObj").rightYDomainMaxValue&&l.chart.get("axesConfigsObj").rightYDomainMinValue<l.chart.get("axesConfigsObj").rightYDomainMaxValue?"url(#clip-"+l.chart.get("elemId")+")":""}).style("fill",l.chart.line()).style("stroke",d3.rgb(l.chart.line()).darker()).on("mouseover",function(t){if(!l.chart.get("notToHideTip")){var n={},i=l.chart.get("measures").get("lastObject"),r=i.get("displayName")||i.get("fieldName"),a=i.get("formatAs"),o=i.get("factUnit");n.fact=r,n.factType=a,n.factUnit=o,l.chart.getChartElementData(t,n,s,e);var c=this;c.getBBox().height<f?s.offset([-10,0]):s.offset(function(){return[c.getBBox().height-f-10,0]}),s.direction("n"),s.show()}}).on("mouseout",function(){l.chart.get("notToHideTip")||s.hide()}).on("click",function(t){var n={};n.dimension=c.get("dimensionName"),n.formatAs=c.get("dimensionFormatAs")?c.get("dimensionFormatAs"):"",n.value=t.key;var i={},r=l.chart.get("measures").get("lastObject"),a=r.get("displayName")||r.get("fieldName"),o=r.get("formatAs"),h=r.get("factUnit");i.fact=a,i.factType=o,i.factUnit=h,l.chart.chartElementOnClick(this.id,n,t,i,s,e);var u=this;u.getBBox().height<f?s.offset([-10,0]):s.offset(function(){return[u.getBBox().height-f-10,0]}),s.direction("n")});var v=d3.svg.line().interpolate("linear").x(function(e){return t(e.key)+t.rangeBand()/2}).y(function(e){return e[u]||0==e[u]?n(e[u]):0});e.append("svg:path").attr("d",v(r)).attr("clip-path",function(){return l.chart.get("axesConfigsObj")&&l.chart.get("axesConfigsObj").rightYDomainMinValue&&l.chart.get("axesConfigsObj").rightYDomainMaxValue&&l.chart.get("axesConfigsObj").rightYDomainMinValue<l.chart.get("axesConfigsObj").rightYDomainMaxValue?"url(#clip-"+l.chart.get("elemId")+")":""}).style("fill","none").style("stroke",l.chart.line())},drawBarChart:function(e,t,n,i,r,a,s){var o=80,l=this;l.chart.colorScale();var c={top:this.chart.get("marginTop"),right:this.chart.get("marginRight"),bottom:this.chart.get("marginBottom"),left:this.chart.get("marginLeft")},h=(this.chart.get("width")-c.left-c.right,this.chart.get("height")-c.top-c.bottom),u=this.chart.get("chartsDataSources").objectAt(0),d=u.get("depth"),p=l.chart.get("measures").objectAt(0).get("displayName");if(d){var f=l.chart.colorScale(),g=l.get("uniqueKeys"),m=g.length,v=g.map(function(e){return r.map(function(t){if(!t.key||!t[p])return{x:"",y:0};var n=t.values.filter(function(t){return t.key==e});return n.length>0?{x:t.key,key:t.key,value:+n[0][p],y:+n[0][p],zkey:e}:{x:"",y:0}})}),b=d3.layout.stack()(v),y=e.selectAll("g.zKey").data(b).enter().append("svg:g").attr("class","zKey").style("fill",function(e,t){return f(t)}).style("stroke",function(e,t){return d3.rgb(f(t)).darker()});y.selectAll("rect").data(Object).enter().append("svg:rect").attr("x",function(e){if(e.key){var n=0,i=t.rangeBand();return i>o&&(n=(i-o)/2),t(e.key)+n}}).attr("y",function(e){if(l.chart.get("axesConfigsObj")&&l.chart.get("axesConfigsObj").yDomainMinValue&&l.chart.get("axesConfigsObj").yDomainMaxValue&&l.chart.get("axesConfigsObj").yDomainMinValue<l.chart.get("axesConfigsObj").yDomainMaxValue){var t,i=e.y+e.y0;return i>l.chart.get("axesConfigsObj").yDomainMaxValue||i<l.chart.get("axesConfigsObj").yDomainMinValue?0:n(i)}var t=-h+n(e.y0)+n(e.y);return t=t||0}).attr("height",function(e){if(e.value&&e.value>0){if(l.chart.get("axesConfigsObj")&&l.chart.get("axesConfigsObj").yDomainMinValue&&l.chart.get("axesConfigsObj").yDomainMaxValue&&l.chart.get("axesConfigsObj").yDomainMinValue<l.chart.get("axesConfigsObj").yDomainMaxValue){var t=e.y+e.y0;if(t<l.chart.get("axesConfigsObj").yDomainMinValue)return 0;if(e.y0>l.chart.get("axesConfigsObj").yDomainMaxValue)return 0;if(0==e.y0){var i=n(l.chart.get("axesConfigsObj").yDomainMinValue)-n(e.y);return i>h?h:i}if(e.y0<l.chart.get("axesConfigsObj").yDomainMinValue){var i=h-n(t);return i>h?h:i}return t>l.chart.get("axesConfigsObj").yDomainMaxValue?n(e.y0):n(e.y0)-n(t)}return h-n(e.y)}}).attr("id",function(e){return e.key?"chart-"+l.chart.id+"-"+pruneStr(e.key):void 0}).attr("width",function(){var e=t.rangeBand();return e>o?o:e}).attr("clip-path",l.chart.getClipPathUrl()).on("mouseover",function(t){if(!l.chart.get("notToHideTip")){var n={};l.chart.getChartElementData(t,n,s,e),s.offset([-10,0]),s.show()}}).on("mouseout",function(){l.chart.get("notToHideTip")||s.hide()}).on("click",function(t){var n=[],i={};i.dimension=u.get("dimensionName"),i.formatAs=u.get("dimensionFormatAs")?u.get("dimensionFormatAs"):"",i.value=t.key,n.push(i);var r={};r.dimension=u.get("depth"),r.formatAs="",r.value=t.zkey,n.push(r);var a={};l.chart.chartElementOnClick(this.id,n,t,a,s,e),s.offset([-10,0])}),e.selectAll("text").data(t.domain()).enter().append("svg:text").attr("x",function(e){return xAxis(e)+xAxis.rangeBand()/2}).attr("y",6).attr("text-anchor","middle").attr("dy",".71em").text(r.map(function(e){return e.key?e.key:""})),l.chart.drawChartLegend(g,f),$("#"+this.element+"-stacked").click(function(i){var r=e.selectAll("rect");i.target.checked?r.transition().attr("x",function(e){if(e.key){var n=t(e.key);if(n)return n}}).attr("y",function(e){var t=n(e.y0)-n(e.y);return t=t||-n(e[p]),t=t||0}).attr("width",t.rangeBand()):r.transition().delay(function(e,t){return 10*t}).attr("height",function(e){return e[p]&&e[p]>0?n(e[p]):void 0}).attr("x",function(e,n){return t(e.x)+t.rangeBand()/m*Math.floor(n/m)}).attr("y",function(e){var t=h-n(e.y);return t=t||0}).attr("width",t.rangeBand()/m)})}else{var p=l.chart.get("measures").objectAt(0).get("displayName");e.selectAll(".bar").data(r).enter().append("rect").attr("class","bar").attr("clip-path",l.chart.getClipPathUrl()).style("fill",function(){return l.chart.bar()}).style("stroke",function(){return d3.rgb(l.chart.bar()).darker()}).attr("id",function(e){return"chart-"+l.chart.id+"-"+pruneStr(e.key)}).attr("x",function(e){if(e.key){var n=0,i=t.rangeBand();return i>o&&(n=(i-o)/2),t(e.key)+n}}).attr("width",function(){var e=t.rangeBand();return e>o?o:e}).attr("y",function(e){return e[p]<0?Math.abs(n(0)):n(e[p])}).attr("height",function(e){return e[p]?l.chart.get("axesConfigsObj")&&l.chart.get("axesConfigsObj").yDomainMinValue&&l.chart.get("axesConfigsObj").yDomainMaxValue&&l.chart.get("axesConfigsObj").yDomainMinValue<l.chart.get("axesConfigsObj").yDomainMaxValue?Math.abs(n(l.chart.get("axesConfigsObj").yDomainMinValue))-n(e[p]):Math.abs(n(0)-n(e[p])):void 0}).on("mouseover",function(t){if(!l.chart.get("notToHideTip")){var n={};l.chart.getChartElementData(t,n,s,e);var i=this;i.getBBox().height<h?s.offset([-10,0]):s.offset(function(){return[i.getBBox().height-h-10,0]}),s.direction("n"),s.show()}}).on("mouseout",function(){l.chart.get("notToHideTip")||s.hide()}).on("click",function(t){var n={};n.dimension=u.get("dimensionName"),n.formatAs=u.get("dimensionFormatAs")?u.get("dimensionFormatAs"):"",n.value=t.key;var i={};l.chart.chartElementOnClick(this.id,n,t,i,s,e);var r=this;r.getBBox().height<h?s.offset([-10,0]):s.offset(function(){return[r.getBBox().height-h-10,0]}),s.direction("n")})}}}),Cibi.DonutChart=Ember.Object.extend({init:function(){if(!this.element)throw new Error("Need to specify element id");this.set("currentFilterKey",null)},draw:function(){var e=this,t=e.chart.getFilters(),n=e.chart.get("chartsDataSources").objectAt(0);n.chartData(e._drawChart,e,t),e.chart.set("isSetup",!1)},_drawChart:function(e,t){$("#"+t.element).html("");var n=t.chart.get("legendFilter");n=n?n.index:n;var i=void 0!==n&&n!==!1&&null!==n;e=_.sortBy(e,function(e){return e.key});var r=t.get("chart");r.clearChart(),r.setDateFormats();var a=r.get("dashboard");0==a.get("chartsOnClickFilters").length&&r.set("original_keys",e.map(function(e){return e.key}));var s=e.map(function(e){return e.key}),o=r.get("original_keys");if(t.chart.setChartDomain(s),i){var l=s[n],c=e.map(function(e){return e.key==l?e:void 0});e=c.filter(function(e){return!(""===e||"undefined"==typeof e||null===e)})}var h={top:0,right:0,bottom:0,left:0},u=t.chart.get("width")-h.left-h.right,d=t.chart.get("height")-h.top-h.bottom,p={y:(d-h.top-h.bottom)/2,x:(u-h.left-h.right)/2},f=Math.min(p.x,p.y);color=t.chart.colorScale(),o?color.domain(o):color.domain(s);var g=0,m=t.chart.get("chartsDataSources").objectAt(0),v=m.get("factDisplay");e.map(function(e){g+=e[v]});var b="Total sum";b="money"==m.get("factType")?"USD"==m.get("factUnit")?b+"<br/> $"+d3.format(",.2f")(g):"Rs"==m.get("factUnit")?b+"<br/> ₹"+d3.format(",.2f")(g):"Euro"==m.get("factUnit")?b+"<br/> €"+d3.format(",.2f")(g):b+"<br/>"+d3.format(",.2f")(g):b+"<br/>"+d3.format(",.2f")(g);var y=r.getChartTip(),x=d3.select("#"+t.element).append("svg:svg").data([e]).attr("width",u).attr("height",d).attr("style","display:inline;").append("svg:g").attr("transform","translate("+p.x+","+p.y+")"),w=d3.svg.arc().outerRadius(f);w.innerRadius(.5*f);var C=d3.layout.pie().value(function(e){return e[v]}),T=x.selectAll("g.slice").data(C).enter().append("svg:g").attr("class","slice");T.append("svg:path").attr("fill",function(e){return color(e.data.key)}).attr("stroke",function(e){return d3.rgb(color(e.data.key)).darker()}).attr("d",w).attr("id",function(e){return"chart-"+t.chart.id+"-"+pruneStr(e.data.key)}).on("mouseover",function(e){if(!t.chart.get("notToHideTip")){var n={};n.total_val=g,r.getChartElementData(e.data,n,y,x),y.show()}}).on("mouseout",function(){t.chart.get("notToHideTip")||y.hide()}).on("click",function(e){var n={};n.dimension=m.get("dimensionName"),n.formatAs=m.get("dimensionFormatAs")?m.get("dimensionFormatAs"):"",n.value=e.data.key;var i={};i.total_val=g,t.chart.chartElementOnClick(this.id,n,e.data,i,y,x)}),t.chart.drawChartLegend(s,color,!0),t.chart.get("dashboard").highlightFilters()}}),Cibi.FunnelChart=Ember.Object.extend({init:function(){if(!this.element)throw new Error("Need to specify element id");this.set("currentFilterKey",null)},draw:function(){var e=this,t=e.chart.getFilters();e.chart.set("dataLoading",!0);var n=e.chart.get("chartsDataSources").objectAt(0);n.chartData(e._drawChart,e,t),e.chart.set("isSetup",!1)},_drawChart:function(e,t){$("#"+t.element).html("");var n=t.chart.get("legendFilter");n=n?n.index:n;var i=void 0!==n&&n!==!1&&null!==n,r=t.get("chart"),a=r.get("dimensions").objectAt(0).get("displayName"),s=r.get("measures").objectAt(0).get("displayName"),o=r.get("dashboard");0==o.get("chartsOnClickFilters").length&&r.set("original_keys",e.map(function(e){return e[a]}));var l=e.map(function(e){return e[a]});if(i){var c=l[n],h=e.map(function(e){var t=e[a];return t==c?e:void 0});e=h.filter(function(e){return!(""===e||"undefined"==typeof e||null===e)})}var e=_.map(e,function(e){return[e[a],Math.round(100*parseFloat(e[s]))/100]}),u=r.get("original_keys");color=t.chart.colorScale(),u?color.domain(u):color.domain(l);var d={top:0,right:0,bottom:0,left:0},p=r.get("width")-d.left-d.right,f=r.get("height")-d.top-d.bottom,g={};g.data=e,g.totalEngagement=0;for(var m=0;m<g.data.length;m++)g.totalEngagement+=g.data[m][1];var v=65*p/100;g.width=v,g.height=f;var b=.2;g._slope=2*f/(v-b*v),g._totalArea=(v+b*v)*f/2;var y=0,x=t.chart.get("chartsDataSources").objectAt(0);x.get("factDisplay"),r.setDateFormats(),e.map(function(e){y+=e[1]});var w=r.getChartTip(),C=new D3Funnel("#"+t.element),T={width:p,height:f,bottomWidth:2/3,bottomPinch:0,isCurved:!0,curveHeight:30,fillType:"gradient",isInverted:!1,hoverEffects:!0,dynamicArea:!0,colorScale:color};C.draw(e,T,t,w,y,x),t.chart.drawChartLegend(l,color,!0),t.chart.set("dataLoading",!1),t.chart.get("dashboard").highlightFilters()}}),Cibi.GaugeChart=Ember.Object.extend({draw:function(){var e=this,t=e.chart.getFilters(),n=e.chart.get("chartsDataSources").objectAt(0);e.chart.set("dataLoading",!0),n.chartData(e._drawChart,e,t)},_drawChart:function(e,t){var n=t.chart.get("measures").get("lastObject").get("displayName"),i=t.get("chart");i.clearChart(),i.setDateFormats(),i.get("dashboard");var r={top:0,right:0,bottom:0,left:0},a=t.chart.get("width")-r.left-r.right,s=t.chart.get("height")-r.top-r.bottom;({y:(s-r.top-r.bottom)/2,x:(a-r.left-r.right)/2});var o;o=a>s?.8*s:.8*a;var l=e[0][n];radialProgress("#"+t.chart.get("elemId")).height(s).width(a).margin(r).diameter(o).value(l).render(),t.chart.set("dataLoading",!1)}}),Cibi.GeoMap=Ember.Object.extend({init:function(){if(!this.element)throw new Error("Need to specify element id");this.set("currentFilterKey",null)},draw:function(){var e=this,t=e.chart.get("chartsDataSources"),n=t.objectAt(0),i=e.chart.getFilters();e.set("cds_properties",n.getProperties(["depth","fact","dimensionName","dimensionFormatAs","factFormat"])),e.chart.set("dataLoading",!0),n.chartData(e._drawGeoChart,e,i),e.chart.set("isSetup",!1),d3.tsv("/data/country-names.tsv",function(t){e.set("country_names",t),country_names=t})},_drawGeoChart:function(e,t){var n=t;n.chart.clearChart(),n.set("data",e);var i=n.chart.get("width");height=n.chart.get("height");var r=n.cds.objectAt(0),a=r.get("factDisplay"),s=e.map(function(e){for(var t=e.values,i=[],r=0;r<t.length;r++){var s=t[r],o={};o.val=s[a],o.lat=n.cds.objectAt(0).get("depth")?s.values[0].LAT:toFloat(s.LAT),o.lon=n.cds.objectAt(0).get("depth")?s.values[0].LON:toFloat(s.LON),i.push({key:s.key?s.key:s[n.get("dimensionName")],value:o})}return i});s=_.flatten(s),s=_.filter(s,function(e){return e.key&&e.value.lat&&e.value.lon});var o=d3.max(s,function(e){return e.value.val});n.set("places",s);var l=d3.geo.mercator().center([-5,40]).scale(125),c=d3.select("#"+n.element).append("svg").attr("width",i).attr("height",height),h=d3.geo.path().projection(l),u=c.append("g"),d="/data/world-110m2.json";d3.json(d,function(e,t){n.drawWorld(u,l,h,t)});var p=d3.behavior.zoom().on("zoom",function(){u.attr("transform","translate("+d3.event.translate.join(",")+")scale("+d3.event.scale+")"),u.selectAll("circle").attr("d",h.projection(l)).attr("r",function(e){var t=.75*d3.event.scale,n=parseInt(4*e.value.val/(o*t));return n=n>4?4:n,n=1>n?1:n}),u.selectAll("path").attr("d",h.projection(l))});c.call(p),n.chart.set("dataLoading",!1),n.chart.get("dashboard").highlightFilters()},drawWorld:function(e,t,n,i){var r=this;r.get("country_names");var a=e.append("g").attr("id","countries"),s=e.append("g").attr("id","cities");r.drawShapes(a,topojson.object(i,i.objects.countries).geometries,n),r.drawPlaces(s,t)},drawShapes:function(e,t,n){var i=this,r=i.get("data"),a=i.cds.objectAt(0),s=a.get("factDisplay"),o=d3.max(r,function(e){return e[s]}),l=d3.min(r,function(e){return e[s]}),c=d3.mean(r,function(e){return e[s]});i.chart.setDateFormats();var h=["#9ECAE1","#4292C6","#084594"],u=d3.scale.linear().domain([l,c,o]).range(h),d=i.chart.getChartTip();e.selectAll("path").data(t).enter().append("path").style("fill",function(e){var t=i.lookupShape(e);return t[0]?u(t[0][s]):"#666666"}).style("stroke","#CCCCCC").style("stroke-width","0.1px").attr("id",function(e){return"chart-"+i.chart.get("id")+"-object-"+e.id}).attr("d",n).on("mouseover",function(t){if(!i.chart.get("notToHideTip")){var n=i.lookupShape(t);if(n[0]){var r=i.getShapeName(t),a=r.long_name,o=n[0][s],l={};l.key=a,l.value=o;var c={};d.offset([-10,0]),i.chart.getChartElementData(l,c,d,e),d.show()}}}).on("mouseout",function(){i.chart.get("notToHideTip")||d.hide()}).on("click",function(t){var n=i.lookupShape(t);if(n[0]){var r=i.cds.objectAt(0),a=r.get("dimensionName");formatAs=r.get("dimensionFormatAs"),key=n[0].key,value=n[0][s];var o={};o.dimension=a,o.formatAs=formatAs?formatAs:"",o.value=key;var l=i.getShapeName(t),c=l.long_name,h=n[0][s],u={};u.key=c,u.value=h;var p={};i.chart.chartElementOnClick(this.id,o,u,p,d,e),d.offset([-10,0])}});var p=[],f=d3.format(",.2f")(l),g=d3.format(",.2f")(c),m=d3.format(",.2f")(o);p.push(f+" - "+g),p.push(g+" - "+m),p.push(">= "+m),i.chart.drawChartLegend([l,c,o],u,!1,p)},getShapeName:function(e){var t=this,n=t.get("country_names"),i=_.filter(n,function(t){return t.NUM==e.id}),r=i[0]?i[0].Country.trim().toLowerCase():"",a=i[0]?i[0].ISO2?i[0].ISO2.trim().toLowerCase():"":"";return{long_name:r,short_name:a}},lookupShape:function(e){var t=this,n=t.get("data"),i=t.getShapeName(e),r=i.long_name,a=i.short_name,s=_.filter(n,function(e){return r===e.key.toLowerCase().trim()||a&&a===e.key.toLowerCase().trim()});return s},drawPlaces:function(e,t){var n=this;n.get("data");var i=n.cds.objectAt(0);i.get("factDisplay");var r=n.get("places"),a=d3.max(r,function(e){return e.value.val});n.chart.setDateFormats();var s=n.chart.getChartTip();e.selectAll("circle").data(r).enter().append("circle").attr("id",function(e){var t=n.chart.get("id");return"chart-"+t+"-place-"+pruneStr(e.key)}).attr("cx",function(e){return e.value.lon&&e.value.lat?t([e.value.lon,e.value.lat])[0]:void 0}).attr("cy",function(e){return e.value.lon&&e.value.lat?t([e.value.lon,e.value.lat])[1]:void 0}).attr("r",function(e){var t=parseInt(4*e.value.val/a);return t=t>4?4:t,t=2>t?2:t}).style("fill",function(){return n.chart.yellow()}).style("stroke",function(){return"red"}).style("stroke-width","0.5px").style("cursor","pointer").on("click",function(t){n.chart.get("id");var r=n.chart.get("filterKey");r&&$("#"+r).css("fill",n.chart.yellow()),this.style.fill=n.chart.red();var a=i.get("depth"),o=i.get("dimensionFormatAs"),l=[],c={};c.dimension=n.dimensionName,c.formatAs=o?o:"",c.value=t.key,l.push(c);var h={};h.dimension=a,h.formatAs="",h.value=t.zkey,l.push(h);var u=t.key,d=t.value.val,p={};p.key=u,p.value=d;var f={};n.chart.chartElementOnClick(this.id,l,p,f,s,e),s.offset([-10,0])}).on("mouseover",function(t){if(!n.chart.get("notToHideTip")){var i=t.key,r=t.value.val,a={};a.key=i,a.value=r;var o={};s.offset([-10,0]),n.chart.getChartElementData(a,o,s,e),s.show()}}).on("mouseout",function(){n.chart.get("notToHideTip")||s.hide()})}}),Cibi.GeoMapIndia=Ember.Object.extend({init:function(){if(!this.element)throw new Error("Need to specify element id");this.set("currentFilterKey",null)},draw:function(){var e=this,t=e.chart.get("chartsDataSources"),n=t.objectAt(0),i=e.chart.getFilters();e.set("cds_properties",n.getProperties(["depth","fact","dimensionName","dimensionFormatAs","factFormat"])),n.chartData(e._drawGeoChart,e,i),e.chart.set("isSetup",!1)},_drawGeoChart:function(e,t){var n=t;n.chart.clearChart(),n.set("data",e);var i=n.chart.get("width");height=n.chart.get("height");var r=n.cds.objectAt(0),a=r.get("factDisplay"),s=e.map(function(e){for(var t=e.values,i=[],r=0;r<t.length;r++){var s=t[r],o={};o.val=s[a],o.lat=n.cds.objectAt(0).get("depth")?s.values[0].LAT:toFloat(s.LAT),o.lon=n.cds.objectAt(0).get("depth")?s.values[0].LON:toFloat(s.LON),i.push({key:s.key?s.key:s[n.get("dimensionName")],value:o})}return i});s=_.flatten(s),s=_.filter(s,function(e){return e.key&&e.value.lat&&e.value.lon});var o=d3.max(s,function(e){return e.value.val});n.set("places",s);var l=d3.geo.mercator().center([-5,40]).scale(125),c=d3.select("#"+n.element).append("svg").attr("width",i).attr("height",height),h=n.chart.getChartTip();h.offset([-10,0]);var u=d3.geo.path().projection(l),d=c.append("g"),p="/data/india-states.json";d3.json(p,function(e,t){n.drawIndia(d,l,u,t,h)});var f=d3.behavior.zoom().on("zoom",function(){d.attr("transform","translate("+d3.event.translate.join(",")+")scale("+d3.event.scale+")"),d.selectAll("circle").attr("d",u.projection(l)).attr("r",function(e){var t=.75*d3.event.scale,n=parseInt(4*e.value.val/(o*t));return n=n>4?4:n,n=1>n?1:n}),d.selectAll("path").attr("d",u.projection(l))});c.call(f),n.chart.get("dashboard").highlightFilters()},drawIndia:function(e,t,n,i,r){var a=this,s=620;t.center([s/6.8,25]).scale(1200);var o=e.append("g").attr("id","states"),l=e.append("g").attr("id","places");a.drawShapes(o,topojson.object(i,i.objects.states).geometries,n,r),a.drawPlaces(l,t,r)},drawShapes:function(e,t,n,i){var r=this,a=r.get("data"),s=r.cds.objectAt(0),o=s.get("factDisplay"),l=d3.max(a,function(e){return e[o]}),c=d3.min(a,function(e){return e[o]}),h=d3.mean(a,function(e){return e[o]}),u=["#9ECAE1","#4292C6","#084594"],d=d3.scale.linear().domain([c,h,l]).range(u);e.selectAll("path").data(t).enter().append("path").style("fill",function(e){var t=r.lookupShape(e);return t[0]?d(t[0][o]):"#666666"}).style("stroke","#CCCCCC").style("stroke-width","0.1px").attr("id",function(e){return"chart-"+r.chart.get("id")+"-object-"+e.id}).attr("d",n).on("mouseover",function(t){if(!r.chart.get("notToHideTip")){var n=r.lookupShape(t);if(n[0]){var a=r.getShapeName(t),s=a.long_name,l=n[0][o],c={};c.key=s,c.value=l;var h={};r.chart.getChartElementData(c,h,i,e),i.show()}}}).on("mouseout",function(){r.chart.get("notToHideTip")||i.hide()}).on("click",function(t){var n=r.lookupShape(t);if(n[0]){var a=r.cds.objectAt(0),s=a.get("dimensionName");formatAs=a.get("dimensionFormatAs"),key=n[0].key,value=n[0][o];var l={};l.dimension=s,l.formatAs=formatAs?formatAs:"",l.value=key;var c=r.getShapeName(t),h=c.long_name,u=n[0][o],d={};d.key=h,d.value=u;var p={};r.chart.chartElementOnClick(this.id,l,d,p,i,e)}});var p=[],f=d3.format(",.2f")(c),g=d3.format(",.2f")(h),m=d3.format(",.2f")(l);p.push(f+" - "+g),p.push(g+" - "+m),p.push(">= "+m),r.chart.drawChartLegend([c,h,l],d,!1,p)},getShapeName:function(e){var t=e.properties.name.toLowerCase(),n=e.id.toLowerCase();return{long_name:t,short_name:n}},lookupShape:function(e){var t=this,n=t.get("data"),i=t.getShapeName(e),r=i.long_name,a=i.short_name,s=_.filter(n,function(e){return r===e.key.toLowerCase().trim()||a&&a===e.key.toLowerCase().trim()});return s},drawPlaces:function(e,t,n){var i=this;i.get("data");var r=i.cds.objectAt(0);r.get("factDisplay");var a=i.get("places"),s=d3.max(a,function(e){return e.value.val});e.selectAll("circle").data(a).enter().append("circle").attr("id",function(e){var t=i.chart.get("id");return"chart-"+t+"-place-"+pruneStr(e.key)}).attr("cx",function(e){return e.value.lon&&e.value.lat?t([e.value.lon,e.value.lat])[0]:void 0}).attr("cy",function(e){return e.value.lon&&e.value.lat?t([e.value.lon,e.value.lat])[1]:void 0}).attr("r",function(e){var t=parseInt(4*e.value.val/s);return t=t>4?4:t,t=2>t?2:t}).style("fill",function(){return i.chart.yellow()}).style("stroke",function(){return"red"}).style("stroke-width","0.5px").style("cursor","pointer").on("click",function(t){i.chart.get("id");var a=i.chart.get("filterKey");a&&$("#"+a).css("fill",i.chart.yellow()),this.style.fill=i.chart.red();var s=r.get("depth"),o=r.get("dimensionFormatAs"),l=[],c={};c.dimension=i.dimensionName,c.formatAs=o?o:"",c.value=t.key,l.push(c);var h={};h.dimension=s,h.formatAs="",h.value=t.zkey,l.push(h);var u=t.key,d=t.value.val,p={};p.key=u,p.value=d;var f={};i.chart.chartElementOnClick(this.id,l,p,f,n,e)}).on("mouseover",function(t){if(!i.chart.get("notToHideTip")){var r=t.key,a=t.value.val,s={};s.key=r,s.value=a;var o={};i.chart.getChartElementData(s,o,n,e),n.show()}}).on("mouseout",function(){i.chart.get("notToHideTip")||n.hide()})}}),Cibi.GeoMapUSA=Ember.Object.extend({init:function(){if(!this.element)throw new Error("Need to specify element id");this.set("currentFilterKey",null)},draw:function(){var e=this,t=e.chart.get("chartsDataSources"),n=t.objectAt(0),i=e.chart.getFilters();e.set("cds_properties",n.getProperties(["depth","fact","dimensionName","dimensionFormatAs","factFormat"])),n.chartData(e._drawGeoChart,e,i),e.chart.set("isSetup",!1)},_drawGeoChart:function(e,t){var n=t;n.chart.clearChart(),n.set("data",e);var i=n.chart.get("width");height=n.chart.get("height");var r=n.cds.objectAt(0),a=r.get("factDisplay"),s=e.map(function(e){for(var t=e.values,i=[],r=0;r<t.length;r++){var s=t[r],o={};o.val=s[a],o.lat=n.cds.objectAt(0).get("depth")?s.values[0].LAT:toFloat(s.LAT),o.lon=n.cds.objectAt(0).get("depth")?s.values[0].LON:toFloat(s.LON),i.push({key:s.key?s.key:s[n.get("dimensionName")],value:o})}return i});s=_.flatten(s),s=_.filter(s,function(e){return e.key&&e.value.lat&&e.value.lon});var o=d3.max(s,function(e){return e.value.val});n.set("places",s);var l=d3.geo.albersUsa().translate([i/2,height/2]).scale(200),c=d3.select("#"+n.element).append("svg").attr("width",i).attr("height",height),h=n.chart.getChartTip();h.offset([-10,0]);var u=d3.geo.path().projection(l),d=c.append("g"),p="/data/usa-states.json";d3.json(p,function(e,t){n.drawUSA(d,l,u,t,h)});var f=d3.behavior.zoom().on("zoom",function(){d.attr("transform","translate("+d3.event.translate.join(",")+")scale("+d3.event.scale+")"),d.selectAll("circle").attr("d",u.projection(l)).attr("r",function(e){var t=.75*d3.event.scale,n=parseInt(4*e.value.val/(o*t));return n=n>4?4:n,n=1>n?1:n}),d.selectAll("path").attr("d",u.projection(l))});c.call(f)},drawUSA:function(e,t,n,i,r){var a=this;t.scale(.8*a.chart.get("width"));var s=e.append("g").attr("id","states"),o=e.append("g").attr("id","places");a.drawShapes(s,topojson.object(i,i.objects.states).geometries,n,r),a.drawPlaces(o,t,r)},drawShapes:function(e,t,n,i){var r=this,a=r.get("data"),s=r.cds.objectAt(0),o=s.get("factDisplay"),l=d3.max(a,function(e){return e[o]}),c=d3.min(a,function(e){return e[o]}),h=d3.mean(a,function(e){return e[o]}),u=["#9ECAE1","#4292C6","#084594"],d=d3.scale.linear().domain([c,h,l]).range(u);e.selectAll("path").data(t).enter().append("path").style("fill",function(e){var t=r.lookupShape(e);return t[0]?d(t[0][o]):"#666666"}).style("stroke","#CCCCCC").style("stroke-width","0.1px").attr("id",function(e){return"chart-"+r.chart.get("id")+"-object-"+e.id}).attr("d",n).on("mouseover",function(t){var n=r.lookupShape(t);if(n[0]){var a=r.getShapeName(t),s=a.long_name,l=n[0][o],c={};c.key=s,c.value=l;var h={};r.chart.getChartElementData(c,h,i,e),i.show()}}).on("mouseout",i.hide).on("click",function(e){var t=r.lookupShape(e);if(t[0]){var n=r.cds.objectAt(0),i=n.get("dimensionName");formatAs=n.get("dimensionFormatAs"),key=t[0].key,value=t[0][o];var a={};a.dimension=i,a.formatAs=formatAs?formatAs:"",a.value=key,r.chart.chartElementOnClick(this.id,a)}});var p=[],f=d3.format(",.2f")(c),g=d3.format(",.2f")(h),m=d3.format(",.2f")(l);p.push(f+" - "+g),p.push(g+" - "+m),p.push(">= "+m),r.chart.drawChartLegend([c,h,l],d,!1,p)},getShapeName:function(e){var t=e.properties.name.toLowerCase(),n=e.properties.short_code.toLowerCase();return{long_name:t,short_name:n}},lookupShape:function(e){var t=this,n=t.get("data"),i=t.getShapeName(e),r=i.long_name,a=i.short_name,s=_.filter(n,function(e){return r===e.key.toLowerCase().trim()||a&&a===e.key.toLowerCase().trim()});return s},drawPlaces:function(e,t,n){var i=this;i.get("data");var r=i.cds.objectAt(0);r.get("factDisplay");var a=i.get("places"),s=d3.max(a,function(e){return e.value.val});e.selectAll("circle").data(a).enter().append("circle").attr("id",function(e){var t=i.chart.get("id");return"chart-"+t+"-place-"+pruneStr(e.key)}).attr("cx",function(e){return e.value.lon&&e.value.lat?t([e.value.lon,e.value.lat])[0]:void 0}).attr("cy",function(e){return e.value.lon&&e.value.lat?t([e.value.lon,e.value.lat])[1]:void 0}).attr("r",function(e){var t=parseInt(4*e.value.val/s);return t=t>4?4:t,t=2>t?2:t}).style("fill",function(){return i.chart.yellow()}).style("stroke",function(){return"red"}).style("stroke-width","0.5px").style("cursor","pointer").on("click",function(e){i.chart.get("id");var t=i.chart.get("filterKey");t&&$("#"+t).css("fill",i.chart.yellow()),this.style.fill=i.chart.red();var n=r.get("depth"),a=r.get("dimensionFormatAs"),s=[],o={};o.dimension=i.dimensionName,o.formatAs=a?a:"",o.value=e.key,s.push(o);var l={};l.dimension=n,l.formatAs="",l.value=e.zkey,s.push(l),i.chart.chartElementOnClick(this.id,s)}).on("mouseover",function(t){var r=t.key,a=t.value.val,s={};s.key=r,s.value=a;var o={};i.chart.getChartElementData(s,o,n,e),n.show()}).on("mouseout",n.hide)}}),Cibi.GroupedTableChart=Em.Object.extend({init:function(){if(!this.hierarchy)throw new Error("Need to define hierarchy");this.set("idCounter",0),this.set("root",{})},treeData:function(e,t){var n=t.cds.objectAt(0),i=d3.layout.tree().children(function(e){return e.values&&0!==e.values.length?e.values:null});new_hierarchy=t.hierarchy.concat(t.column_fields);var r=new_hierarchy.length;t.root.key=new_hierarchy[0],t.root.values=e,"count"==n.get("factFormat");var n=t.chart.get("chartsDataSources").objectAt(0),a=n.get("factType"),s=n.get("factUnit");n.get("factFormat");var o=i.nodes(t.root);group=o.filter(function(e){return e.depth==r?e:void 0});var l=group.map(function(e){return e.key}).uniq();t.set("col_names",l.slice(0,l.length-1));var c=0;o.map(function(e){if(e.depth==new_hierarchy.length)for(var n=e.parent;n;)n[e.key]=e.val,n=n.parent;e.values&&(e.id=c++),e.depth>t.expansion_depth&&(e._collapsed=!1)});var h=l.slice(0,l.length-1);return o.map(function(e){e.depth>1&&(p=e.parent,$.each(h,function(e,t){void 0===p[t]&&(p[t]="-")})),$.each(h,function(t,n){void 0!==e[n]&&(e[n]=d3.format(",.2f")(e[n]),"money"==a&&("USD"==s?e[n]=" $ "+e[n]:"Rs"==s?e[n]=" ₹ "+e[n]:"Euro"==s&&(e[n]=" € "+e[n])))}),"undefined"==e.key&&(e.depth>1?(p=e.parent,$.each(h,function(t,n){p[n]=e[n]?e[n]:"-"}),delete e.key):e.key="--")}),o=_.filter(o,function(e){return e.key&&e.values&&e.depth!==new_hierarchy.length}),o.splice(1,o.length)},draw:function(){var e=this,t=e.chart.get("chartsDataSources"),n=t.objectAt(0),i=e.chart.getFilters();e.set("cds_properties",n.getProperties(["depth","fact","dimensionName","dimensionFormatAs","factFormat"])),e.chart.set("dataLoading",!0),n.chartData(e._drawGroupedTable,e,i)},_drawGroupedTable:function(e,t){function n(e){if(null!=e.parent)for(var t=e.parent;t;){if(t._collapsed)return!1;t=t.parent}return!0}var i=t.chart.get("width"),r=t.chart.get("height");t.chart.clearChart();var a="<div id='"+t.element+"-grid' style=\"width:"+i+"px;height: "+r+'px"></div>';$("#"+t.element).html(a);var s=$("#"+t.element+"-grid");if(s&&0!=s.length){var o=t.cds.objectAt(0),l=t.treeData(e,t),c=t.get("col_names"),h=function(e,t,n,i,r){n=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");var a="<span style='display:inline-block;height:1px;width:"+15*r.depth+"px'></span>",s=m.getIdxById(r.id);return l[s]&&l[s].isLeafNode===!0&&(n="<a class='leafNode'>"+n+"</a>"),l[s+1]&&l[s+1].depth>l[s].depth?r._collapsed?a+" <span class='toggle expand'></span>&nbsp;"+n:a+" <span class='toggle collapse'></span>&nbsp;"+n:a+" <span class='toggle'></span>&nbsp;"+n};t.hierarchy.length;var u=t.hierarchy.join(" > ");o.factDisplayStr();for(var d=[{id:"key",name:u,field:"key",width:i-300,resizable:!0,sortable:!0,cssClass:"cell-selection-left",headerCssClass:"header-left",formatter:h}],p=0;p<c.length;p++)if("id"!=c[p]){var f={id:c[p],cssClass:"cell-selection",headerCssClass:"header-right",width:100,resizable:!0,name:c[p],field:c[p],sortable:!0};d.push(f)}var g={editable:!0,enableAddRow:!0,enableCellNavigation:!0,asyncEditorLoading:!1,forceFitColumns:!0,forceSyncScrolling:!0},m=new Slick.Data.DataView;m.beginUpdate(),m.setItems(l),m.setFilter(n),m.endUpdate();var v=new Slick.Grid(s,m,d,g);v.onCellChange.subscribe(function(e,t){m.updateItem(t.item.id,t.item)}),v.onAddNewRow.subscribe(function(e,t){var n={id:"new_"+Math.round(1e4*Math.random()),indent:0,key:"New Key",val:"0"};$.extend(n,t.item),m.addItem(n)}),v.onClick.subscribe(function(e,n){if($(e.target).hasClass("toggle")){var i=m.getItem(n.row);i&&(i._collapsed=i._collapsed?!1:!0,m.updateItem(i.id,i)),e.stopImmediatePropagation()}else if($(e.target).hasClass("leafNode")){var i=m.getItem(n.row);t.chart.createModal(i.dataValues,i.key,i.id.toString()),e.stopImmediatePropagation()}}),m.onRowCountChanged.subscribe(function(){v.updateRowCount(),v.render()}),m.onRowsChanged.subscribe(function(e,t){v.invalidateRows(t.rows),v.render()}),t.chart.set("dataLoading",!1),t.chart.get("dashboard").highlightFilters()}}}),Cibi.HeatMap=Ember.Object.extend({init:function(){if(!this.element)throw new Error("Need to specify element id");this.set("currentFilterKey",null)},draw:function(){var e=this,t=e.chart.getFilters(),n=e.cds.objectAt(0);n.get("depth"),e.chart.set("dataLoading",!0),n.chartData(e._dataCallback,e,t),n.get("depthFormat")},_dataCallback:function(e,t){var n=t.get("data")||[];n.push(e),n=_.sortBy(n,function(e){return e.cds_id}),t.set("data",n),t.set("uniqueKeys",t.chart.get("depth_unique_values")),t.checkDataAndDrawChart()},checkDataAndDrawChart:function(){var e=this;e.chart.get("chartsDataSources").objectAt(0);var t=e.get("data"),n=e.get("uniqueKeys");t&&t.length==e.cds.get("length")&&n&&(e._drawHeatMap(),e.set("data",[]))},_drawHeatMap:function(){function e(e){a=_.map(e,function(e){return o?o(l(e.x)):e.x});var n=t.chart.get("configObj").colorSchemeLow?t.chart.get("configObj").colorSchemeLow.toLowerCase():"red",c=t.chart.get("configObj").colorSchemeHigh?t.chart.get("configObj").colorSchemeHigh.toLowerCase():"green",u=t.chart.get("configObj").colorDomainLow,d=t.chart.get("configObj").colorDomainHigh,p={top:t.chart.get("marginTop"),right:t.chart.get("marginRight"),bottom:t.chart.get("marginBottom"),left:t.chart.get("marginLeft")},f=t.chart.get("width"),g=t.chart.get("height");
w=Math.floor((f-p.right-p.left)/r),h=Math.floor((g-p.top-p.bottom)/i),rectPadding=1;var m=u&&d?parseInt(u):d3.min(e,function(e){return e.score}),v=d&&u?parseInt(d):d3.max(e,function(e){return e.score}),b=d3.scale.linear().domain([m,v]).range([n,c]),y=t.chart.getSvgElement(),x=t.chart.getChartTip();x.offset([-10,0]);var C=d3.scale.ordinal().rangeRoundBands([0,w*r],0),T=d3.scale.ordinal().rangeRoundBands([0,h*i],0),D=d3.svg.axis().scale(C).orient("bottom").ticks(a.length).tickFormat(function(e){var t=displayTick(e);return t.length>12?t.substr(0,12)+"...":t}),S=d3.svg.axis().scale(T).orient("left");C.domain(a),T.domain(s),y.append("g").attr("class","x axis").attr("transform","translate(0,"+i*h+")").style("shape-rendering","crispEdges").style("fill","none").style("stroke","black").style("font-family","'Helvetica Neue', Helvetica, Arial, sans-serif").style("font-weight","200").call(D).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy","1.25em").attr("transform",function(){return"rotate(-45)"}).on("mouseover",function(e){var t=d3.select("#chart-tooltip");t.transition().duration(500).style("opacity",.9);var n=displayTick(e);t.html(n).style("left",d3.event.pageX+"px").style("top",d3.event.pageY-28+"px")}).on("mouseout",function(){t.chart.chartElementOnMouseExit()}),y.append("g").attr("class","y axis").style("shape-rendering","crispEdges").style("fill","none").style("stroke","black").style("font","sans-serif").style("font-weight","200").call(S);var E=y.selectAll(".heatmap").data(e).enter().append("svg:rect").style("stroke","#E6E6E6").style("stroke-width","2px").attr("x",function(e){return e.row*w}).attr("y",function(e){return e.col*h}).attr("width",function(){return(t.chart.get("width")-t.chart.get("marginLeft")-t.chart.get("marginRight"))/r}).attr("height",function(){return h}).attr("id",function(e){return e.x&&e.y?"chart-"+t.chart.id+"-"+e.x+e.y:void 0}).style("fill",function(e){return parseInt(d)&&parseInt(u)?e.score<parseInt(u)?b(parseInt(u)):e.score>parseInt(d)?b(parseInt(d)):b(e.score):b(e.score)});E.on("click",function(e){var n=t.element+"-hm-modal",i=$("#"+n);if(0==i.length&&(i=$("<div id='"+n+"'></div>").appendTo($("#"+t.element))),i.html(""),t.chart.get("modalEnabled")&&2==t.cds.get("length"))return i.append(t.modalDrillDown(e)),$("#modal-"+e.row+e.col).modal("toggle"),void 0;var r=t.cds.objectAt(0),a=[],s={};s.dimension=r.get("dimensionName"),s.formatAs=r.get("dimensionFormatAs")?r.get("dimensionFormatAs"):"",s.value=e.x,a.push(s);var o={};o.dimension=r.get("depth"),o.formatAs="",o.value=e.y,a.push(o);var l=e.x,c=e.y,h=e.score,u=t.mouseover_key,d={};d.key=l,d.value=h,d.zkey=c;var p={};p.fact=u,t.chart.chartElementOnClick(t.element+"-"+e.x+e.y,a,d,p,x,y)}).on("mouseover",function(e){if(!t.chart.get("notToHideTip")){var n=e.x,i=e.y,r=e.score,a=t.mouseover_key,s={};s.key=n,s.value=r,s.zkey=i;var o={};o.fact=a,t.chart.getChartElementData(s,o,x,y),x.show()}}).on("mouseout",function(){t.chart.get("notToHideTip")||x.hide()}),d3.select("body").append("div").attr("class","chart_tooltip").style("opacity",0),y.selectAll("g.axis").selectAll("text").style("font-family","'Helvetica Neue', Helvetica, Arial, sans-serif").style("font-size","11px").style("letter-spacing","0px").style("fill","black").style("stroke","none").style("word-wrap","break-word")}var t=this;$("#"+t.element).html("");var n=t.get("data"),i=0,r=0,a=[],s=[];t.chart.setDateFormats();var o=t.chart.get("formatDate"),l=t.chart.get("parseDate"),c=this.cds.objectAt(0),u=n[0];r=u.length;var d=c.get("measures");2==d.get("length")?t.set("mouseover_key",d.objectAt(0).get("displayName")+" / "+d.objectAt(1).get("displayName")):t.set("mouseover_key",d.objectAt(0).get("displayName"));var p=[];u.forEach(function(e){var t=_.sortBy(e.values,function(e){return e.key}),n={};n.key=e.key,n.values={};for(var i=0;i<t.length;i++){var r=t[i].values[0];n.values[i]={},n.values[i].key=t[i].key;var a;d.forEach(function(e,t){m_blob=r[e.get("displayName")],n.values[i][e.get("displayName")]=toFloat(m_blob),a=0==t?toFloat(m_blob):0==toFloat(m_blob)?0:a/toFloat(m_blob)}),n.values[i].val=a}p.push(n)}),p&&(_.each(p,function(e){_.each(e.values,function(e){s.push(e.key)})}),s=s.uniq(),i=s.length);for(var n=[],f=0;r>f;f++)for(var g=0;i>g;g++)if(p[f].values[g]){var m={};m.row=f,m.col=g,m.x=p[f].key,m.y=s[g],m.score=p[f].values[g].val,p[f].actualData&&(m.actual=p[f].actualData[g].toFixed(3)),p[f].targetData&&(m.target=p[f].targetData[g].toFixed(3)),n.push(m)}e(n),t.chart.set("dataLoading",!1),t.chart.get("dashboard").highlightFilters()},modalDrillDown:function(e){var t=this,n=t.cds.objectAt(0),i=t.cds.objectAt(1),r=t.chart.get("modalTitle")||"Summary",a="<div id='modal-"+e.row+e.col+"' class='modal hide fade'>";return a+='<div class="modal-header">',a+='<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>',a+='<h3 id="myModalLabel">'+r+"</h3>",a+="</div><!-- modal-header -->",a+='<div class="modal-body">',a+='<table class="table table-bordered">',a+="<tr>",a+="<th>"+t.get("dimensionName")+"</th>",a+="<th>"+n.get("depth")+"</th>",a+="<th>"+n.get("fact")+"</th>",a+="<th>"+i.get("fact")+"</th>",a+="<th>"+i.get("fact")+"/"+n.get("fact")+"</th>",a+="</tr>",a+="<tr>",a+="<td>"+e.x+"</td>",a+="<td>"+e.y+"</td>",a+="<td>"+e.target+"</td>",a+="<td>"+e.actual+"</td>",a+=0==e.actual?"<td> NA </td>":"<td>"+d3.format(",.2f")(e.score)+"</td>",a+="<tr>",a+="</table>",a+="</div><!-- modal-body -->",a+="</div>"}}),Cibi.HorizontalBarChart=Ember.Object.extend({_chart:null,init:function(){if(!this.element)throw new Error("Need to specify element id");this.plot_pc&&(this.control_key||(error_msg="<h4 class='alert alert-error'>Need to specify a control key to plot Percent Change in Value</h4>",$("#"+this.element).html(error_msg),this.set("error",!0)))},draw:function(){if(!this.get("error")){var e=this,t=e.chart.getFilters(),n=e.cds.objectAt(0);e.chart.set("dataLoading",!0),n.chartData(e._chartDataCallback,e,t),n.get("depth"),n.get("depthFormat"),e.chart.set("isSetup",!1)}},_chartDataCallback:function(e,t){t.set("chartData",e),t.set("uniqueKeys",t.chart.get("depth_unique_values")),t.checkDataAndDrawChart()},checkDataAndDrawChart:function(){var e=this,t=e.chart.get("chartsDataSources").objectAt(0),n=e.get("chartData"),i=e.get("uniqueKeys"),r=t.get("depth");if(r){if(n&&i){var a=n;a=t.stackData(a,i),e._drawHorizontalBarChart(a,e)}}else if(n){var a=this.get("chartData");e._drawHorizontalBarChart(a,e)}},_drawHorizontalBarChart:function(e,t){var n,i,r=t,a=30;$("#"+r.element).html("");var s=r.chart;r.chart.getFilters();var o=r.chart.get("legendFilter");o=o?o.index:o;var l=void 0!==o&&o!==!1&&null!==o,c={top:r.chart.get("marginTop"),right:r.chart.get("marginRight"),bottom:r.chart.get("marginBottom"),left:r.chart.get("marginLeft")},h=r.chart.get("width")-c.left-c.right,u=r.chart.get("height")-c.top-c.bottom,d=d3.scale.linear().range([0,h]),p=d3.scale.ordinal().rangeRoundBands([0,u],.1),f=d3.svg.axis().scale(d).tickFormat(function(e){return formatValue(e,r.chart.get("axesConfigsObj")&&r.chart.get("axesConfigsObj").xAxisDisplayUnit?r.chart.get("axesConfigsObj").xAxisDisplayUnit:"")}).orient("top"),g=r.chart.getSvgElement(),m=r.cds.objectAt(0),v=m.get("depth"),b=e,y=[],x=r.chart.get("measures").objectAt(0).get("displayName"),w=r.chart.getChartTip();if(w.offset([-10,0]),v&&(y=_.map(b,function(e){return e.zkey}),y=y.uniq(),n=r.get("uniqueKeys"),i=r.chart.get("original_zkeys")),l&&(b=_.filter(b,function(e){return e.zkey==y[o]})),r.plot_pc&&b.length>0){var C=_.filter(b,function(e){return e.key==r.control_key}),T=0;if(!(C&&C.length>0))return r.chart.displayChartError("Chart can not be rendered with current settings / filters!"),void 0;if(1===C.length)T=C[0][x];else{T={};for(var D=0;D<C.length;D++)T[C[D].zkey]=C[D][x]}_.each(b,function(e){var t;t=e.zkey&&1!==C.length?T[e.zkey]:T,t&&(e[x]=100*(e[x]-t)/t)})}m.get("factFormat");var S=r.chart.colorScale();v&&(S.domain(i),r.chart.drawChartLegend(n,S,!0));var E=d3.extent(b,function(e){return e[x]});E[0]>0&&(E[0]=0),r.chart.get("axesConfigsObj")&&r.chart.get("axesConfigsObj").xDomainMinValue&&r.chart.get("axesConfigsObj").xDomainMaxValue&&r.chart.get("axesConfigsObj").xDomainMinValue<r.chart.get("axesConfigsObj").xDomainMaxValue?r.chart.get("axesConfigsObj").xDomainMinValue>E[0]?d.domain([r.chart.get("axesConfigsObj").xDomainMinValue,r.chart.get("axesConfigsObj").xDomainMaxValue]).nice():d.domain([E[0],r.chart.get("axesConfigsObj").xDomainMaxValue]).nice():d.domain(E).nice(),p.domain(b.map(function(e){return e.key}));var k=r.chart.get("axesConfigsObj")&&r.chart.get("axesConfigsObj").xAxisLabel?r.chart.get("axesConfigsObj").xAxisLabel:"",I=s.getTextFormatting(),N=g.append("g").attr("class","x axis").style("shape-rendering","crispEdges").style("fill","none").style("stroke","black").style("font-family","'Helvetica Neue', Helvetica, Arial, sans-serif").call(f);N.append("text").style("font-weight","bold").attr("y",5).attr("x",h/2).attr("dy",I.dy).style("text-anchor",I.text_anchor).text(k.length>20?k.substr(0,20):k),N.selectAll("text").style("text-anchor","start").attr("dx",I.dx).attr("transform",function(){var e=r.chart.get("axesConfigsObj")&&r.chart.get("axesConfigsObj").xAxisRotateAngle?r.chart.get("axesConfigsObj").xAxisRotateAngle:45;return"rotate(-"+e+")"}).on("mouseover",function(e){var t={};r.chart.getChartElementData(e,t,w,g),w.show()}).on("mouseout",w.hide),g.append("g").attr("class","x grid").style("shape-rendering","crispEdges").style("fill","none").style("stroke","black").call(f.tickSize(-u,0,0).tickFormat("")),g.selectAll(".x.grid").selectAll("line").style("stroke","#ebebeb").style("stroke-dasharray","2,2"),g.selectAll(".x.grid").selectAll("path").style("opacity",0);var A;r.chart.addClipPathElement(g),r.chart.setDateFormats(),A=r.chart.get("axesConfigsObj")&&r.chart.get("axesConfigsObj").xDomainMinValue&&r.chart.get("axesConfigsObj").xDomainMaxValue&&r.chart.get("axesConfigsObj").xDomainMinValue<r.chart.get("axesConfigsObj").xDomainMaxValue?r.chart.get("axesConfigsObj").xDomainMinValue>0?r.chart.get("axesConfigsObj").xDomainMinValue:r.chart.get("axesConfigsObj").xDomainMaxValue<0?r.chart.get("axesConfigsObj").xDomainMaxValue:0:0,g.append("g").attr("class","y axis").style("shape-rendering","crispEdges").style("stroke","black").style("fill","none").style("font-weight","200").append("line").attr("x1",A).attr("x2",A).attr("y2",u),g.selectAll(".axis").selectAll("text").style("font-family","'Helvetica Neue', Helvetica, Arial, sans-serif").style("font-size","11px").style("letter-spacing","0px").style("fill","black").style("stroke","none").style("word-wrap","break-word"),g.selectAll(".bar").data(b).enter().append("svg:rect").attr("class",function(e){return e[x]<0?"bar negative":"bar positive"}).attr("id",function(e){return"chart-"+r.chart.id+"-"+pruneStr(e.key)}).attr("clip-path",r.chart.getClipPathUrl()).style("fill",function(e){return r.control_key&&e.key==r.control_key?r.chart.controlKey():e.zkey?(y.indexOf(e.zkey),S(e.zkey)):e[x]<0?r.chart.red():r.chart.green()}).attr("x",function(e){return r.chart.get("axesConfigsObj")&&r.chart.get("axesConfigsObj").xDomainMinValue&&r.chart.get("axesConfigsObj").xDomainMaxValue&&r.chart.get("axesConfigsObj").xDomainMinValue<r.chart.get("axesConfigsObj").xDomainMaxValue&&e[x]<r.chart.get("axesConfigsObj").xDomainMinValue?r.chart.get("axesConfigsObj").xDomainMinValue>E[0]?d(r.chart.get("axesConfigsObj").xDomainMinValue):d(E[0]):d(Math.min(A,e[x]))}).attr("y",function(e,t){if(e.zkey&&!l){var n=t%y.length,i=p.rangeBand()/y.length;return p(e.key)+n*i}return p(e.key)}).attr("width",function(e){return e[x]?r.chart.get("axesConfigsObj")&&r.chart.get("axesConfigsObj").xDomainMinValue&&r.chart.get("axesConfigsObj").xDomainMaxValue&&r.chart.get("axesConfigsObj").xDomainMinValue<r.chart.get("axesConfigsObj").xDomainMaxValue?e[x]>0?e[x]<r.chart.get("axesConfigsObj").xDomainMinValue?0:e[x]>r.chart.get("axesConfigsObj").xDomainMinValue&&e[x]<r.chart.get("axesConfigsObj").xDomainMaxValue?Math.abs(d(e[x])-d(A)):e[x]>r.chart.get("axesConfigsObj").xDomainMaxValue?Math.abs(d(r.chart.get("axesConfigsObj").xDomainMaxValue)-d(r.chart.get("axesConfigsObj").xDomainMinValue)):Math.abs(d(e[x])-d(0)):e[x]<0?e[x]<r.chart.get("axesConfigsObj").xDomainMinValue?Math.abs(d(r.chart.get("axesConfigsObj").xDomainMinValue)-d(A)):e[x]>r.chart.get("axesConfigsObj").xDomainMinValue&&e[x]<r.chart.get("axesConfigsObj").xDomainMaxValue?Math.abs(d(e[x])-d(A)):e[x]>r.chart.get("axesConfigsObj").xDomainMaxValue?0:Math.abs(d(e[x])-d(0)):Math.abs(d(e[x])-d(0)):Math.abs(d(e[x])-d(0)):void 0}).attr("height",function(e){var t=p.rangeBand();return e.zkey&&!l&&(t=p.rangeBand()/y.length),t>a?a:t}).on("mouseover",function(e){if(!r.chart.get("notToHideTip")){var t={};r.chart.getChartElementData(e,t,w,g),w.show()}}).on("mouseout",function(){r.chart.get("notToHideTip")||w.hide()}).on("click",function(e){var t={};if(m.get("depth")){var n=[],i={};i.dimension=m.get("dimensionName"),i.formatAs=m.get("dimensionFormatAs")?m.get("dimensionFormatAs"):"",i.value=e.key,n.push(i);var a={};a.dimension=m.get("depth"),a.formatAs="",a.value=e.zkey,n.push(a),r.chart.chartElementOnClick(this.id,n,e,t,w,g)}else{var s={};s.dimension=m.get("dimensionName"),s.formatAs=m.get("dimensionFormatAs")?m.get("dimensionFormatAs"):"",s.value=e.key,r.chart.chartElementOnClick(this.id,s,e,t,w,g)}}),r.display_error_range&&g.selectAll(".error_bars").data(b).enter().append("svg:line").style("fill",function(e){return e.zkey&&!l?r.chart.errorBar():r.chart.errorBar()}).style("stroke",function(e){return e.zkey&&!l?r.chart.errorBar():r.chart.errorBar()}).attr("x1",function(e){return d(Math.min(0,e[x]-1.96*e.sem))}).attr("y1",function(e,t){if(e.zkey&&!l){var n=t%y.length,i=p.rangeBand();return p(e.key)+n*i+i/2}return p(e.key)+p.rangeBand()}).attr("y2",function(e,t){if(e.zkey&&!l){var n=t%y.length,i=p.rangeBand();return p(e.key)+n*i+i/2}return p(e.key)+p.rangeBand()}).attr("x2",function(e){return d(Math.min(0,e[x]+1.96*e.sem))}).on("mouseover",function(e){var t="<br>Error Range: "+1.96*e.sem+"/ -"+1.96*e.sem,n={};n.details=t,r.chart.getChartElementData(e,n,w,g),w.show()}).on("mouseout",w.hide),p.rangeBand()>4&&g.selectAll(".bar_labels").data(b).enter().append("svg:text").style("text-anchor","end").attr("x",function(e){return-12}).attr("y",function(e,t){var n=p.rangeBand()>a?a:p.rangeBand();if(e.zkey&&!l){var i=t%y.length,r=n/y.length;return p(e.key)+i*r+r/1.2}return p(e.key)+n/2}).attr("dy","0.35em").attr("clip-path",r.chart.getClipPathUrl()).style("fill",function(e){return r.control_key&&e.key==r.control_key?"#222222":e.zkey?"#666666":"#000000"}).style("font-family","'Helvetica Neue', Helvetica, Arial, sans-serif").style("font-size",function(e){var t=11,n=11;return n=e.zkey&&!l?p.rangeBand()/(1.5*y.length):p.rangeBand()/1.5,n=n>t?t:n,n+"px"}).style("font-weight","200").text(function(e){var t=e.key;return e.zkey&&!l&&(t=e.key+" : "+e.zkey),t&&t.length>12&&(t=t.substr(0,12)+"..."),t}).on("mouseover",function(e){var t={};r.chart.getChartElementData(e,t,w,g),w.show()}).on("mouseout",w.hide),r.chart.set("dataLoading",!1),r.chart.get("dashboard").highlightFilters()}}),Cibi.LineChart=Ember.Object.extend({init:function(){if(!this.element)throw new Error("Need to specify element id")},draw:function(){var e=this,t=e.chart.get("chartsDataSources"),n=t.objectAt(0),i=e.chart.getFilters();e.set("cds_properties",n.getProperties(["depth","fact","dimensionName","dimensionFormatAs","factFormat"])),e.chart.set("dataLoading",!0),1==n.get("dimensions").get("length")&&1==n.get("measures").get("length")?(n.chartData(e._drawLineChart,e,i),e.chart.set("isSetup",!1)):$("#"+e.element).html("<div class='alert alert-error'>Improper Configuration</div>")},_drawLineChart:function(e,t){var n,i,r=t,a=r.chart;a.clearChart();var s,o=r.chart.get("chartsDataSources").objectAt(0),l=a.get("highlightRule");a.statsData&&(s=a.statsData);var c=d3.bisector(function(e){return i?i(e.key):e.key}).left,h=o.get("factDisplay"),u=d3.max(e,function(e){return e[h]}),p=d3.min(e,function(e){return e[h]}),f=new Array;if(e.forEach(function(e){f.push(e.key)}),a.forecast){var g=d3.max(a.forecast,function(e){return e.upper});u=d3.max([u,g]);var m=d3.min(a.forecast,function(e){return e.lower});p=d3.min([p,m]),a.forecast.forEach(function(e){f.push(e.key)})}p>0&&(p=0);var v=r.chart.getSvgElement(),b=r.chart.drawYAxis(v,[p,u],r.y_axis_label),y=b(p);r.chart.get("axesConfigsObj")&&r.chart.get("axesConfigsObj").yDomainMinValue&&r.chart.get("axesConfigsObj").yDomainMinValue>p&&r.chart.get("axesConfigsObj").yDomainMaxValue&&r.chart.get("axesConfigsObj").yDomainMinValue<r.chart.get("axesConfigsObj").yDomainMaxValue&&(y=b(r.chart.get("axesConfigsObj").yDomainMinValue));var x=r.chart.drawXAxis(v,f,y),w=o.get("dimensionName");o.get("dimensionFormatAs"),o.get("dataSource").getDataType(w),n=r.chart.get("formatDate"),i=r.chart.get("parseDate");var _,C,T,D,S=function(e){return n(i(e.key))},E=function(e){var t=r.chart.get("axesConfigsObj").yAxisDisplayUnit,n=CommaFormatted(e[h],t),i=o.get("factUnit");return i&&("USD"==i.prefix?n=" $ "+n:"Rs"==i.prefix?n=" ₹ "+n:"Euro"==i.prefix&&(n=" € "+n),i.suffix&&(n=n+" "+i.suffix+" ")),n};if(r.control_key&&r.highlight_statistical_relevance){var k=Cibi.Stats.getRelevanceStats(e,r.control_key);_=k.control_mean,C=k.stddev,T=k.control_count,D=k.control_key_found}var I=r.chart.getChartTip(),N=d3.svg.line().x(function(e){return"time"==r.chart.get("scale_type")?x(i?i(e.key):e.key):x(e.key)+("ordinal"==r.chart.get("scale_type")?x.rangeBand()/2:0)}).y(function(e){return e[h]?b(e[h]):b(0)});if(r.step_function?N.interpolate("step-after"):"time"==r.chart.get("scale_type")?N.interpolate("cardinal"):"linear"==r.chart.get("scale_type")&&N.interpolate("linear"),r.chart.addClipPathElement(v),v.append("svg:path").attr("d",N(e)).attr("clip-path",r.chart.getClipPathUrl()).style("fill","none").style("stroke",r.chart.line()),"time"==a.get("scale_type")){var A=v.append("g").attr("class","focus").style("display","none");A.append("line").attr("class","x").attr("y1",b(0)-6).attr("y2",b(0)+6),A.append("line").attr("class","y0").attr("x1",r.chart.get("width")-6).attr("x2",r.chart.get("width")+6),A.append("circle").attr("class","y0").attr("r",6),A.append("text").attr("class","y0").attr("dy","-1em").style("font-size","12px"),v.append("rect").attr("width",r.chart.get("width")-40).attr("height",r.chart.get("height")-60).attr("clip-path",r.chart.getClipPathUrl()).on("mouseover",function(){A.style("display",null)}).on("mouseout",function(){A.style("display","none")}).on("mousemove",function(){var t=d3.mouse(this)[0],n=(d3.mouse(this)[1],x.invert(t));r.chart.forecast&&r.chart.forecast.forEach(function(t){var n={};n.key=t.key,n[h]=t.mean,e.push(n)});var a,s,o=c(e,n,1);o>0&&o<e.length?(a=e[o-1],s=e[o]):o>=e.length?(a=e[e.length-2],s=e[e.length-1]):(a=e[0],s=e[1]),d=n-a[h]>s[h]-n?s:a,A.select(".x").attr("transform","translate("+x(i(d.key))+",0)"),A.select(".y0").attr("transform","translate("+-1*r.chart.get("width")+", "+b(d[h])+")").attr("x2",r.chart.get("width")+x(i(d.key))),A.select("circle.y0").attr("transform","translate("+x(i(d.key))+","+b(d[h])+")"),A.select("text.y0").attr("transform","translate("+x(i(d.key))+","+b(d[h])+")").text(S(d)+" - "+E(d))}).style("fill","none").style("pointer-events","all")}if("ordinal"==a.get("scale_type")&&(v.selectAll("circle").data(e).enter().append("circle").attr("id",function(e){return"chart-"+r.chart.id+"-"+pruneStr(e.key)}).attr("cx",function(e){return x(e.key)+x.rangeBand()/2}).attr("cy",function(e){return e[h]||0==e[h]?b(e[h]):void 0}).attr("r",function(){var e=40,t=x.rangeBand(),n=t>e?e:t;return n/10}).attr("clip-path",r.chart.getClipPathUrl()).style("fill",function(e){return e.to_highlight?e.fill_color:r.chart.line()}).on("mouseover",function(e,t){if(!r.chart.get("notToHideTip")){var n={};n.index=t,I.offset([-10,0]),r.chart.getChartElementData(e,n,I,v),I.show()}}).on("mouseout",function(){r.chart.get("notToHideTip")||I.hide()}).on("click",function(e,t){var n={};n.dimension=o.get("dimensionName"),n.formatAs=o.get("dimensionFormatAs")?o.get("dimensionFormatAs"):"",n.value=e.key;var i={};i.index=t,r.chart.chartElementOnClick(this.id,n,e,i,I,v),I.offset([-10,0])}),l&&l.get("enable_highlight")&&l.get("enable_sem")&&Cibi.ErrorBars.draw(r.chart,e,s,v,x,b)),a.forecast){Cibi.Forecast.draw(r.chart,v,x,b);var R=r.chart.colorScale();R.domain(["Base Line","Predicted Line","Lower Bound","Upper Bound"]),R.range([r.chart.line(),"green","red","blue"]),r.chart.drawChartLegend(["Base Line","Predicted Line","Lower Bound","Upper Bound"],R)}r.chart.set("dataLoading",!1),r.chart.get("dashboard").highlightFilters()}}),Cibi.MultilineChart=Ember.Object.extend({init:function(){if(!this.element)throw new Error("Need to specify element id")},draw:function(){var e=this,t=e.chart.get("chartsDataSources"),n=t.objectAt(0),i=e.chart.getFilters();e.set("cds_properties",n.getProperties(["depth","fact","dimensionName","dimensionFormatAs","factFormat"])),e.chart.set("dataLoading",!0),n.chartData(e._chartDataCallback,e,i),n.get("depth"),n.get("depthFormat"),e.chart.set("isSetup",!1)},_chartDataCallback:function(e,t){t.set("chartData",e),t.set("uniqueKeys",t.chart.get("depth_unique_values")),t.checkDataAndDrawChart()},checkDataAndDrawChart:function(){var e=this,t=e.chart.get("chartsDataSources").objectAt(0),n=e.get("chartData"),i=e.get("uniqueKeys"),r=t.get("depth");if(r){if(n&&i){var a=this.get("chartData");e._drawMultilineChart(a,e)}}else if(n){var a=this.get("chartData");e._drawMultilineChart(a,e)}},_drawMultilineChart:function(e,t){var n,r,a,s=t,o=null,l=0,c=e;s.chart.clearChart();var h=s.chart.get("legendFilter");h=h?h.index:h;var u=void 0!==h&&h!==!1&&null!==h,p=[],f=[],g=s.chart.get("measures");for(i=0;i<g.get("length");i++)p.push(g.objectAt(i).get("fieldName")),f.push(g.objectAt(i).get("displayName")||g.objectAt(i).get("fieldName"));var n,r,m,v,b=s.chart,o=null,l=0,y=.25;d3.bisector(function(e){return e.key?v(e.key):void 0}).left;var x=s.chart.get("measures").objectAt(0).get("displayName");if(1===g.get("length")){o=s.cds.objectAt(0),l=d3.max(e,function(e){var t=e.values.map(function(e){return e[x]});return d3.max(t)}),k=d3.min(e,function(e){var t=e.values.map(function(e){return e[x]});return d3.min(t)}),k>0&&(k=0),n=s.get("uniqueKeys"),n=_.sortBy(n,function(e){return e}),r=n.length;var w=_.map(e,function(e){return e.key}),C=s.chart.getSvgElement();a=s.chart.get("original_zkeys");var T=s.chart.getChartTip();if(T.offset([-10,0]),u){var D=n[h],S=[],E=c.map(function(e){if(!e.key||void 0===e[x]||null===e[x])return{x:"",y:0};var t=e.values.filter(function(e){return e.key==D});return t.length>0?{x:e.key,key:e.key,value:+t[0][x],y:+t[0][x],zkey:D}:{x:"",y:0}});S.push(E);var l=d3.max(E,function(e){return e.value}),k=d3.min(E,function(e){return e.value});k>0&&(k=0)}else var S=n.map(function(t){return e.map(function(e){if(!e.key||void 0===e[x]||null===e[x])return{x:"",y:0};var n=e.values.filter(function(e){return e.key==t});return n.length>0?{x:e.key,key:e.key,value:+n[0][x],y:+n[0][x],zkey:t}:{x:"",y:0}})});var I=s.chart.drawYAxis(C,[k,l],s.y_axis_label),N=I(k);s.chart.get("axesConfigsObj")&&s.chart.get("axesConfigsObj").yDomainMinValue&&s.chart.get("axesConfigsObj").yDomainMinValue>k&&s.chart.get("axesConfigsObj").yDomainMaxValue&&s.chart.get("axesConfigsObj").yDomainMinValue<s.chart.get("axesConfigsObj").yDomainMaxValue&&(N=I(s.chart.get("axesConfigsObj").yDomainMinValue));var A=s.chart.drawXAxis(C,w,N);m=b.get("formatDate"),v=b.get("parseDate");var e=d3.layout.stack()(S),R=s.chart.colorScale();a?R.domain(a):R.domain(n);var M=d3.svg.line().x(function(e){return m?A(v(e.key)):A(e.key)+("ordinal"==s.chart.get("scale_type")?A.rangeBand()/2:0)}).y(function(e){if(e.value){var t=n.indexOf(e.zkey);return I(e.value+t*y)}});s.step_function?M.interpolate("step-after"):"time"==s.chart.get("scale_type")?M.interpolate("cardinal"):M.interpolate("linear");var P=function(e){return e.key?m(v(e.key)):void 0},O=function(e){var t=s.chart.get("axesConfigsObj").yAxisDisplayUnit,n=CommaFormatted(e.value,t),i=o.get("factUnit");return i&&("USD"==i.prefix?n=" $ "+n:"Rs"==i.prefix?n=" ₹ "+n:"Euro"==i.prefix&&(n=" € "+n),i.suffix&&(n=n+" "+i.suffix+" ")),n};s.chart.addClipPathElement(C);var F=C.selectAll(".fact").data(e).enter().append("g").attr("class","fact");if(F.append("path").attr("class","line").attr("d",function(e){return e=_.filter(e,function(e){return e.value}),M(e)}).attr("clip-path",s.chart.getClipPathUrl()).style("stroke",function(e){var t=_.filter(e.map(function(e){return e.zkey}).uniq(),function(e){return e})[0];return t?R(t):void 0}).style("shape-rendering","auto").style("fill","none").style("font-weight","200").style("stroke-width","2"),"time"==b.get("scale_type")){C.append("rect").attr("width",s.chart.get("width")-40).attr("height",s.chart.get("height")-60).attr("clip-path",s.chart.getClipPathUrl()).on("mouseover",function(){B.style("display",null)}).on("mouseout",function(){B.style("display","none")}).on("mousemove",function(){var t=d3.mouse(this)[0],n=(d3.mouse(this)[1],A.invert(t)),i=0;_.each(e,function(e){i++,d0=e.filter(function(e){return e.key?e.key&&m(v(e.key))==m(n):void 0}),d0.length>0?(d=d0[0],B.select(".y"+i).style("opacity",1),B.select("circle.y"+i).style("opacity",1),B.select("text.y"+i).style("opacity",1),B.select(".y"+i).attr("transform","translate("+-1*b.get("width")+", "+I(d.value)+")").attr("x2",s.chart.get("width")+A(v(d.key))),B.select("circle.y"+i).attr("transform","translate("+A(v(d.key))+","+I(d.value)+")"),B.select("text.y"+i).attr("transform","translate("+A(v(d.key))+","+I(d.value)+")").text(P(d)+" - "+O(d))):(B.select(".y"+i).style("opacity",0),B.select("circle.y"+i).style("opacity",0),B.select("text.y"+i).style("opacity",0))}),B.select(".x").attr("transform","translate("+A(v(d.key))+",0)")}).style("fill","none").style("pointer-events","all");var B=C.append("g").attr("class","focus").attr("clip-path",s.chart.getClipPathUrl()).style("display","none");B.append("line").attr("class","x").attr("y1",I(k)-6).attr("y2",I(k)+6);var j=0;_.each(e,function(e){j++,B.append("line").attr("class","y"+j).attr("x1",s.chart.get("width")).attr("x2",s.chart.get("width")+6).style("stroke",function(){for(var t=0;t<e.length;t++)if(e[t].zkey)return d3.rgb(R(e[t].zkey)).darker()}),B.append("circle").attr("class","y"+j).attr("r",6).style("stroke",function(){for(var t=0;t<e.length;t++)if(e[t].zkey)return d3.rgb(R(e[t].zkey)).darker()}),B.append("text").attr("class","y"+j).attr("dy","-1em").style("fill",function(){for(var t=0;t<e.length;t++)if(e[t].zkey)return d3.rgb(R(e[t].zkey)).darker()}).style("font-size","12px").on("mouseover",function(){var e=d3.select(this);e.style("font-size","20px"),e.style("opacity",1)}).on("mouseout",function(){var e=d3.select(this);setTimeout(function(){e.style("font-size","10px")},1500)})}),C.append("rect").attr("width",s.chart.get("width")-40).attr("height",s.chart.get("height")-60).on("mouseover",function(){B.style("display",null)}).on("mouseout",function(){B.style("display","none")}).on("mousemove",function(){B.selectAll("line").style("opacity",0),B.selectAll("circle").style("opacity",0),B.selectAll("text").style("opacity",0);var t=d3.mouse(this)[0],n=(d3.mouse(this)[1],A.invert(t)),i=0;_.each(e,function(e){i++,d0=e.filter(function(e){return null!=e.key||"null"!=e.key?e.key&&m(v(e.key))==m(n):void 0}),d0.length>0&&(d=d0[0],B.select(".y"+i).style("opacity",1),B.select("circle.y"+i).style("opacity",1),B.select("text.y"+i).style("opacity",1),B.select(".y"+i).attr("transform","translate("+-1*b.get("width")+", "+I(d.value)+")").attr("x2",s.chart.get("width")+A(v(d.key))),B.select("circle.y"+i).attr("transform","translate("+A(v(d.key))+","+I(d.value)+")"),B.select("text.y"+i).attr("transform","translate("+A(v(d.key))+","+I(d.value)+")").text(P(d)+" - "+O(d)))}),B.select(".x").attr("transform","translate("+A(v(d.key))+",0)"),B.select(".x").style("opacity",1)}).style("fill","none").style("pointer-events","all")}"ordinal"==b.get("scale_type")&&(e=_.flatten(e),e=_.filter(e,function(e){return e.value}),C.selectAll("circle").data(e).enter().append("circle").attr("id",function(e){return"chart-"+s.chart.id+"-"+pruneStr(e.key)}).attr("cx",function(e){return A(e.key)+A.rangeBand()/2}).attr("cy",function(e){if(e.value){var t=n.indexOf(e.zkey);return I(e.value+t*y)}}).attr("r",function(){var e=20,t=A.rangeBand(),n=t>e?e:t;return n/5}).attr("clip-path",s.chart.getClipPathUrl()).style("fill",function(e){return R(e.zkey)}).style("stroke",function(e){return d3.rgb(R(e.zkey)).darker()}).on("mouseover",function(e){if(!s.chart.get("notToHideTip")){var t={};s.chart.getChartElementData(e,t,T,C),T.show()}}).on("mouseout",function(){s.chart.get("notToHideTip")||T.hide()}).on("click",function(e){var t=[],n={},i={};n.dimension=o.get("dimensionName"),n.formatAs=o.get("dimensionFormatAs")?o.get("dimensionFormatAs"):"",n.value=e.key,t.push(n),i.dimension=o.get("depth"),i.formatAs="",i.value=e.zkey,t.push(i);var r={};s.chart.chartElementOnClick(this.id,t,e,r,T,C)})),s.chart.drawChartLegend(n,R,!0),s.chart.set("dataLoading",!1),s.chart.get("dashboard").highlightFilters()}else{var b=s.get("chart");b.get("chartFiltersObj");var g=s.chart.get("measures");b.clearChart();var L=[],f=[];g.forEach(function(e){L.push(e.get("displayName"))}),f=L;var h=s.chart.get("legendFilter");h=h?h.index:h;var u=void 0!==h&&h!==!1&&null!==h,o=s.cds.objectAt(0),w=c.map(function(e){return e.key}),l=d3.max(c,function(e){var t=[];return g.forEach(function(n){t.push(e[n.get("displayName")])}),d3.max(t)}),k=d3.min(c,function(e){var t=[];return g.forEach(function(n){t.push(e[n.get("displayName")])}),d3.min(t)});if(s.chart.forecast){s.chart.forecast.forEach(function(e){w.push(e.key)});var V=d3.max(s.chart.forecast,function(e){return e.upper});l=d3.max([l,V]);var $=d3.min(s.chart.forecast,function(e){return e.lower});k=d3.min([k,$])}k>0&&(k=0);var C=s.chart.getSvgElement(),I=s.chart.drawYAxis(C,[k,l],s.y_axis_label_right),N=I(k);s.chart.get("axesConfigsObj")&&s.chart.get("axesConfigsObj").yDomainMinValue&&s.chart.get("axesConfigsObj").yDomainMaxValue&&s.chart.get("axesConfigsObj").yDomainMinValue<s.chart.get("axesConfigsObj").yDomainMaxValue&&s.chart.get("axesConfigsObj").yDomainMinValue>k&&(N=I(s.chart.get("axesConfigsObj").yDomainMinValue));var A=s.chart.drawXAxis(C,w,N),m=b.get("formatDate"),v=b.get("parseDate"),H=s.chart.colorScale().domain(L);if(s.chart.addClipPathElement(C),u){var D=L[h],S=[],E=c.map(function(e){return e.values.length>0?{x:e.key,key:e.key,value:+e.values[0][D],y:+e.values[0][D],factkey:D}:{x:"",y:0}});S.push(E);var l=d3.max(E,function(e){return e.value}),k=d3.min(E,function(e){return e.value});k>0&&(k=0)}else var S=L.map(function(e){return c.map(function(t){return t.values.length>0?{x:t.key,key:t.key,value:+t.values[0][e],y:+t.values[0][e],factkey:e}:{x:"",y:0}})});var e=d3.layout.stack()(S),M=d3.svg.line().x(function(e){return m&&"time"==s.chart.get("scale_type")?A(v(e.key)):A(e.key)+("ordinal"==s.chart.get("scale_type")?A.rangeBand()/2:0)}).y(function(e){if(e.value){var t=L.indexOf(e.factkey);return I(e.value+t*y)}});s.step_function?M.interpolate("step-after"):"time"==s.chart.get("scale_type")?M.interpolate("cardinal"):M.interpolate("linear");var P=function(e){return e.key?m(v(e.key)):void 0},O=function(e){if(o.get("factType")){if("money"==o.get("factType")){var t=d3.format(",.2f")(e.value);return o.get("factUnit")&&("USD"==o.get("factUnit")?t=" $ "+t:"Rs"==o.get("factUnit")?t=" ₹ "+t:"Euro"==o.get("factUnit")&&(t=" € "+t)),t}if("percentage"==o.get("factType")){var t=d3.format(",.2f")(e.value);return t+="%"}return e.value}return e.value};s.chart.addClipPathElement(C);var T=s.chart.getChartTip();T.offset([-10,0]);var F=C.selectAll(".fact").data(e).enter().append("g").attr("class","fact");if(F.append("path").attr("class","line").attr("d",function(e){return e=_.filter(e,function(e){return e.value}),M(e)}).attr("clip-path",s.chart.getClipPathUrl()).style("stroke",function(e){var t=_.filter(e.map(function(e){return e.factkey}).uniq(),function(e){return e})[0];return t?H(t):void 0}).style("shape-rendering","auto").style("fill","none").style("font-weight","200").style("stroke-width","2"),"time"==b.get("scale_type")){C.append("rect").attr("width",s.chart.get("width")-40).attr("height",s.chart.get("height")-60).attr("clip-path",s.chart.getClipPathUrl()).on("mouseover",function(){B.style("display",null)}).on("mouseout",function(){B.style("display","none")}).on("mousemove",function(){var t=d3.mouse(this)[0],n=(d3.mouse(this)[1],A.invert(t)),i=0;_.each(e,function(e){i++,d0=e.filter(function(e){return e.key?e.key&&m(v(e.key))==m(n):void 0}),d0.length>0?(d=d0[0],B.select(".y"+i).style("opacity",1),B.select("circle.y"+i).style("opacity",1),B.select("text.y"+i).style("opacity",1),B.select(".y"+i).attr("transform","translate("+-1*b.get("width")+", "+I(d.value)+")").attr("x2",s.chart.get("width")+A(v(d.key))),B.select("circle.y"+i).attr("transform","translate("+A(v(d.key))+","+I(d.value)+")"),B.select("text.y"+i).attr("transform","translate("+A(v(d.key))+","+I(d.value)+")").text(P(d)+" - "+O(d))):(B.select(".y"+i).style("opacity",0),B.select("circle.y"+i).style("opacity",0),B.select("text.y"+i).style("opacity",0))
}),B.select(".x").attr("transform","translate("+A(v(d.key))+",0)")}).style("fill","none").style("pointer-events","all");var B=C.append("g").attr("class","focus").attr("clip-path",s.chart.getClipPathUrl()).style("display","none");B.append("line").attr("class","x").attr("y1",I(k)-6).attr("y2",I(k)+6);var j=0;_.each(e,function(e){j++,B.append("line").attr("class","y"+j).attr("x1",s.chart.get("width")).attr("x2",s.chart.get("width")+6).style("stroke",function(){for(var t=0;t<e.length;t++)if(e[t].factkey)return d3.rgb(H(e[t].factkey)).darker()}),B.append("circle").attr("class","y"+j).attr("r",6).style("stroke",function(){for(var t=0;t<e.length;t++)if(e[t].factkey)return d3.rgb(H(e[t].factkey)).darker()}),B.append("text").attr("class","y"+j).attr("dy","-1em").style("fill",function(){for(var t=0;t<e.length;t++)if(e[t].factkey)return d3.rgb(H(e[t].factkey)).darker()}).on("mouseover",function(){var e=d3.select(this);e.style("font-size","20px"),e.style("opacity",1)}).on("mouseout",function(){var e=d3.select(this);setTimeout(function(){e.style("font-size","10px")},1500)})}),C.append("rect").attr("width",s.chart.get("width")-40).attr("height",s.chart.get("height")-60).on("mouseover",function(){B.style("display",null)}).on("mouseout",function(){B.style("display","none")}).on("mousemove",function(){B.selectAll("line").style("opacity",0),B.selectAll("circle").style("opacity",0),B.selectAll("text").style("opacity",0);var t=d3.mouse(this)[0],n=(d3.mouse(this)[1],A.invert(t)),i=0;_.each(e,function(e){i++,d0=e.filter(function(e){return e.key?e.key&&m(v(e.key))==m(n):void 0}),d0.length>0&&(d=d0[0],B.select(".y"+i).style("opacity",1),B.select("circle.y"+i).style("opacity",1),B.select("text.y"+i).style("opacity",1),B.select(".y"+i).attr("transform","translate("+-1*b.get("width")+", "+I(d.value)+")").attr("x2",s.chart.get("width")+A(v(d.key))),B.select("circle.y"+i).attr("transform","translate("+A(v(d.key))+","+I(d.value)+")"),B.select("text.y"+i).attr("transform","translate("+A(v(d.key))+","+I(d.value)+")").text(P(d)+" - "+O(d)))}),B.select(".x").attr("transform","translate("+A(v(d.key))+",0)"),B.select(".x").style("opacity",1)}).style("fill","none").style("pointer-events","all")}"ordinal"==b.get("scale_type")&&(e=_.flatten(e),e=_.filter(e,function(e){return e.value}),C.selectAll("circle").data(e).enter().append("circle").attr("id",function(e){return"chart-"+s.chart.id+"-"+pruneStr(e.key)}).attr("cx",function(e){return A(e.key)+A.rangeBand()/2}).attr("cy",function(e){if(e.value){var t=L.indexOf(e.factkey);return I(e.value+t*y)}}).attr("r",function(){var e=20,t=A.rangeBand(),n=t>e?e:t;return n/5}).attr("clip-path",s.chart.getClipPathUrl()).style("fill",function(e){return H(e.factkey)}).style("stroke",function(e){return d3.rgb(H(e.factkey)).darker()}).on("mouseover",function(e){if(!s.chart.get("notToHideTip")){e.key,e.y;var t,n,i=e.factkey,r={};g.forEach(function(e){e.get("displayName")==i&&(t=e.get("formatAs"),n=e.get("factUnit"))}),r.fact=i,r.factType=t,r.factUnit=n,s.chart.getChartElementData(e,r,T,C),T.show()}}).on("mouseout",function(){s.chart.get("notToHideTip")||T.hide()}).on("click",function(e){var t=[],n={},i={};n.dimension=o.get("dimensionName"),n.formatAs=o.get("dimensionFormatAs")?o.get("dimensionFormatAs"):"",n.value=e.key,t.push(n),i.dimension=o.get("depth"),i.formatAs="",i.value=e.factkey,t.push(i),e.key,e.y;var r,a,l=e.factkey,c={};g.forEach(function(e){e.get("displayName")==l&&(r=e.get("formatAs"),a=e.get("factUnit"))}),c.fact=l,c.factType=r,c.factUnit=a,s.chart.chartElementOnClick(this.id,t,e,c,T,C)})),s.chart.drawChartLegend(L,H,!0,f),s.chart.set("dataLoading",!1),s.chart.get("dashboard").highlightFilters()}}}),Cibi.PieChart=Ember.Object.extend({init:function(){if(!this.element)throw new Error("Need to specify element id");this.set("currentFilterKey",null)},draw:function(){var e=this,t=e.chart.getFilters();e.chart.set("dataLoading",!0);var n=e.chart.get("chartsDataSources").objectAt(0);n.chartData(e._drawChart,e,t),e.chart.set("isSetup",!1)},_drawChart:function(e,t){$("#"+t.element).html("");var n=t.chart.get("legendFilter");n=n?n.index:n;var i=void 0!==n&&n!==!1&&null!==n;e=_.sortBy(e,function(e){return e.key});var r=t.get("chart");r.clearChart(),r.setDateFormats();var a=r.get("dashboard");0==a.get("chartsOnClickFilters").length&&r.set("original_keys",e.map(function(e){return e.key}));var s=r.get("formatDate"),o=r.get("parseDate"),l=r.get("original_keys"),c=e.map(function(e){return e.key});if(t.chart.setChartDomain(c),i){var h=c[n],u=e.map(function(e){var t=e.key;return t==h?e:void 0});e=u.filter(function(e){return!(""===e||"undefined"==typeof e||null===e)})}var d={top:0,right:0,bottom:0,left:0},p=r.get("width")-d.left-d.right,f=r.get("height")-d.top-d.bottom,g={y:(f-d.top-d.bottom)/2,x:(p-d.left-d.right)/2},m=Math.min(g.x,g.y);color=t.chart.colorScale(),l?color.domain(l):color.domain(c);var v=0,b=t.chart.get("chartsDataSources").objectAt(0),y=b.get("factDisplay");e.map(function(e){v+=e[y]});var x="Total sum";x="money"==b.get("factType")?"USD"==b.get("factUnit")?x+"<br/> $"+d3.format(",.2f")(v):"Rs"==b.get("factUnit")?x+"<br/> ₹"+d3.format(",.2f")(v):"Euro"==b.get("factUnit")?x+"<br/> €"+d3.format(",.2f")(v):x+"<br/>"+d3.format(",.2f")(v):x+"<br/>"+d3.format(",.2f")(v);var w=r.getChartTip(),C=d3.select("#"+t.element).append("svg:svg").data([e]).attr("width",p).attr("height",f).attr("style","display:inline;").append("svg:g").attr("transform","translate("+g.x+","+g.y+")"),T=d3.svg.arc().outerRadius(m),D=d3.layout.pie().value(function(e){return e[y]}),S=C.selectAll("g.slice").data(D).enter().append("svg:g").attr("class","slice");S.append("svg:path").attr("fill",function(e){return color(e.data.key)}).attr("stroke",function(e){return d3.rgb(color(e.data.key)).darker()}).attr("d",T).attr("id",function(e){return"chart-"+t.chart.id+"-"+(s?pruneStr(s(o(e.data.key))):pruneStr(e.data.key))}).on("mouseover",function(e){if(!t.chart.get("notToHideTip")){var n={};n.total_val=v,r.getChartElementData(e.data,n,w,C),w.show()}}).on("mouseout",function(){t.chart.get("notToHideTip")||w.hide()}).on("click",function(e){var n={};n.dimension=b.get("dimensionName"),n.formatAs=b.get("dimensionFormatAs")?b.get("dimensionFormatAs"):"",n.value=e.data.key;var i={};i.total_val=v,t.chart.chartElementOnClick(this.id,n,e.data,i,w,C)}),t.chart.drawChartLegend(c,color,!0),t.chart.set("dataLoading",!1),t.chart.get("dashboard").highlightFilters()}}),Cibi.PivotTableChart=Em.Object.extend({init:function(){this.set("root",{})},draw:function(){var e=this,t=e.chart.get("chartsDataSources"),n=t.objectAt(0),i=e.chart.getFilters();e.set("cds_properties",n.getProperties(["depth","fact","dimensionName","dimensionFormatAs","factFormat"])),e.chart.set("dataLoading",!0);var r=JSON.parse(e.chart.get("configs")).limit;e.chart.get("offset")||e.chart.set("offset",0);var a=parseInt(r)*parseInt(e.chart.get("offset"));n.chartData(e._drawPivotTable,e,i,r,a)},hierarchy_exists:function(){return this.hierarchy&&this.hierarchy.length>0},measures_exist:function(){return this.measure_fields&&this.measure_fields.length>0},column_fields_exist:function(){return this.column_fields&&this.column_fields.length>0},_drawPivotTable:function(e,t){var n=JSON.parse(t.chart.get("configs")).draw_with_heatmap,i=t.chart.get("chartsDataSources"),r=i.objectAt(0),a={top:t.chart.get("marginTop"),right:t.chart.get("marginRight"),bottom:t.chart.get("marginBottom"),left:t.chart.get("marginLeft")};if(t.hierarchy_exists()||t.measures_exist()){t.chart.clearChart();var s=JSON.parse(t.chart.get("configs")).limit,o="<div style='margin-left:"+a.left+"px; margin-right:"+a.right+"px; margin-top:"+a.top+"px; margin-bottom:"+a.bottom+"px;'>";if(o+="<div id='pivot-table-"+t.element+"'></div>",s&&parseInt(s)>0&&(o+="<div class='pagination pagination-centered' style='margin-bottom:0px; margin-top:4px;'>",o+="<ul>",o+="<li><a id='prev_link'>prev</a></li>",o+="<li class='active'>",o+="<a>"+t.chart.get("current_page")+"</a>",o+="</li>",o+="<li><a id='next_link'>next</a></li>",o+="</ul>",o+="</div>"),o+="</div>",$("#"+t.element).html(o),$("#"+t.element).find("#prev_link").on("click",function(){var e=t.chart,n=t.chart.get("offset");0!=parseInt(n)&&(n-=1,e.set("offset",n),e.draw())}),$("#"+t.element).find("#next_link").on("click",function(){var e=t.chart,n=t.chart.get("offset");n+=1,e.set("offset",n),e.draw()}),1==t.chart.get("pageLimitExceeded"))$("#"+t.element).find("#pivot-table-"+t.element).attr("style","height:"+(parseFloat(t.chart.get("height"))-35)+"px;width:"+t.chart.get("width")+"px; overflow: auto;").html("<h4 class='alert alert-warning'>No More records found!</h4>");else{new_hierarchy=t.hierarchy?t.hierarchy.concat(t.column_fields?t.column_fields:""):"";var l=new_hierarchy;new_hierarchy.length+1;var c=[],h=Cibi.Auth.globalSetting.get("numberFormat");if(t.measure_fields){for(var u=0;u<e.length;u++)for(var d=e[u],p=0;p<t.measure_fields.length;p++){for(var f={},g=t.measure_fields[p].displayName,m=t.chart.get("dimensions"),v=0;v<t.hierarchy.length;v++){var b=t.hierarchy[v],y=t.chart.getDateFormatFunctions(m.objectAt(v)),x=y.formatDate,w=y.parseDate;f[b]=x?x(w(d[b])):d[b]}for(var v=0;v<t.column_fields.length;v++){var b=t.column_fields[v],y=t.chart.getDateFormatFunctions(m.objectAt(t.hierarchy.length+v)),x=y.formatDate,w=y.parseDate;f[b]=x?x(w(d[b])):d[b]}f.Measure=g;var C=d[g];if("count"==r.get("factFormat")||"count,distinct"==r.get("factFormat"))var T=isNaN(+C)?C:CommaFormatted(C,h,r.get("factFormat"));else var T=isNaN(+C)?C:CommaFormatted(C,h);var D=t.measure_fields[p].prefix,S=t.measure_fields[p].suffix;T&&t.displayUnit&&(["k, M, B","k, L, Cr","Only Lakhs","Only Crores","Only Millions","Only Billions"].contains(t.displayUnit)?T=formatValue(T.replace(/,/g,""),t.displayUnit):"No Units (Indian)"==t.displayUnit?T=CommaFormatted(T.replace(/,/g,""),"Indian"):"No Units (American)"==t.displayUnit&&(T=CommaFormatted(T.replace(/,/g,""),"American"))),D&&D.trim().length>0&&("USD"==D?T=" $ "+T:"Rs"==D?T=" ₹ "+T:"Euro"==D&&(T=" € "+T)),S&&S.trim().length>0&&(T=T+" "+S+" "),f.Measure_Val=T,c.push(f)}var E=t.chart.rowTotals;if(E&&!t.hide_row_total)for(var u=0;u<E.length;u++)for(var d=E[u],p=0;p<t.measure_fields.length;p++){for(var k=null,f={},g=t.measure_fields[p].displayName,m=t.chart.get("dimensions"),v=0;v<t.hierarchy.length;v++){var b=t.hierarchy[v],y=t.chart.getDateFormatFunctions(m.objectAt(v)),x=y.formatDate,w=y.parseDate;f[b]=x?x(w(d[b])):d[b],k=0==v?_.filter(c,function(e){return d[b]==e[b]}):_.filter(k,function(e){return e[b]==d[b]})}k=k.length>0?!0:!1;for(var v=0;v<t.column_fields.length;v++){var b=t.column_fields[v];f[b]=0==v?"Totals":"-"}f.Measure=g;var C=d[g];if("count"==r.get("factFormat")||"count,distinct"==r.get("factFormat"))var T=isNaN(+C)?C:CommaFormatted(C,h,r.get("factFormat"));else var T=isNaN(+C)?C:CommaFormatted(toFloat(C),h);var D=t.measure_fields[p].prefix,S=t.measure_fields[p].suffix;T&&t.displayUnit&&(["k, M, B","k, L, Cr","Only Lakhs","Only Crores","Only Millions","Only Billions"].contains(t.displayUnit)?T=formatValue(T.replace(/,/g,""),t.displayUnit):"No Units (Indian)"==t.displayUnit?T=CommaFormatted(T.replace(/,/g,""),"Indian"):"No Units (American)"==t.displayUnit&&(T=CommaFormatted(T.replace(/,/g,""),"American"))),D&&D.trim().length>0&&("USD"==D?T=" $ "+T:"Rs"==D?T=" ₹ "+T:"Euro"==D&&(T=" € "+T)),S&&S.trim().length>0&&(T=T+" "+S+" "),f.Measure_Val=T,k&&c.push(f)}}else c=e;var I={};if(!t.hide_column_total){var N=t.hierarchy,A=t.chart.columnTotals,R=t.column_fields;_.each(A,function(e){_.each(t.measure_fields,function(n){var i="";if(_.each(R,function(n,r){var a=t.chart.getDateFormatFunctions(m.objectAt(N.length+r)),s=a.formatDate,o=a.parseDate;i=i.concat(s?s(o(e[n])):e[n])}),i=i.concat(n.displayName),"count"==r.get("factFormat")||"count,distinct"==r.get("factFormat"))var a=CommaFormatted(e[n.displayName],h,r.get("factFormat"));else var a=CommaFormatted(toFloat(e[n.displayName]),h);var s=n.prefix,o=n.suffix;if(e[n.displayName]&&t.displayUnit){var a=formatValue(e[n.displayName].replace(/,/g,""),t.displayUnit);"No Units (Indian)"==t.displayUnit?a=CommaFormatted(e[n.displayName].replace(/,/g,""),"Indian"):"No Units (American)"==t.displayUnit&&(a=CommaFormatted(e[n.displayName].replace(/,/g,""),"American"))}s&&s.trim().length>0&&("USD"==s?a=" $ "+a:"Rs"==s?a=" ₹ "+a:"Euro"==s&&(a=" € "+a)),o&&o.trim().length>0&&(a=a+" "+o+" "),I[i]=a})})}if(!t.hide_row_total&&!t.hide_column_total){for(var M="Totals",v=1;v<t.column_fields.length;v++)M=M.concat("-");var P=t.chart.grandTotals?t.chart.grandTotals[0]:null;_.each(P,function(e,n){var i=_.find(t.measure_fields,function(e){return e.displayName==n});if("count"==r.get("factFormat")||"count,distinct"==r.get("factFormat"))var a=CommaFormatted(e,h,r.get("factFormat"));else var a=CommaFormatted(toFloat(e),h);var s=i.prefix,o=i.suffix;a&&t.displayUnit&&(["k, M, B","k, L, Cr","Only Lakhs","Only Crores","Only Millions","Only Billions"].contains(t.displayUnit)?a=formatValue(a.replace(/,/g,""),t.displayUnit):"No Units (Indian)"==t.displayUnit?a=CommaFormatted(a.replace(/,/g,""),"Indian"):"No Units (American)"==t.displayUnit&&(a=CommaFormatted(a.replace(/,/g,""),"American"))),s&&s.trim().length>0&&("USD"==s?a=" $ "+a:"Rs"==s?a=" ₹ "+a:"Euro"==s&&(a=" € "+a)),o&&o.trim().length>0&&(a=a+" "+o+" "),n=M+n,I[n]=a})}var l=t.chart.get("dimensions"),O=t.column_fields,F=[];l.forEach(function(e){O.contains(e.get("displayName"))&&F.push(e)});var B=s&&parseInt(s)>0?parseFloat(t.chart.get("height"))-35:parseFloat(t.chart.get("height"))+4;B=B-a.top-a.bottom;var j=t.chart.get("width");if(j=j-a.left-a.right,$("#"+t.element).find("#pivot-table-"+t.element).attr("style","height:"+B+"px;width:"+j+"px; overflow: auto;").pivot(c,{rows:t.hierarchy,cols:t.measure_fields?t.column_fields.concat(["Measure"]):t.column_fields,aggregator:function(){return{val:0,push:function(e){this.val=e.Measure_Val},value:function(){return this.val},format:function(e){return e},label:"Count"}},col_totals:I,col_dims:F,chart:t.chart}),t.hide_column_total&&($("#"+t.element).find(".pvtTotalLabel.totalCell").hide(),$("#"+t.element).find(".pvtTotal.colTotal.totalCell").hide()),n){t.hierarchy.length;var L=t.measure_fields?t.column_fields.concat(["Measure"]):t.column_fields;L.length,$("#"+t.element).find("#pivot-table-"+t.element).attr("style","height:"+(parseFloat(t.chart.get("height"))-35)+"px;width:"+t.chart.get("width")+"px; overflow: auto;").heatmap(c,t.displayUnit)}$("table.pvtTable").floatThead({scrollContainer:function(e){return e.closest("#pivot-table-"+t.element)},useAbsolutePositioning:!1}),$("table.pvtTable").floatThead("reflow")}}else t.hierarchy_exists()||t.column_fields_exist()||t.measures_exist()?t.hierarchy_exists()||t.measures_exist()?t.hierarchy_exists()?t.measures_exist()||$("#"+t.element).html("<div class='alert alert-info'>Please specify measures</div>"):$("#"+t.element).html("<div class='alert alert-info'>Please specify rows</div>"):$("#"+t.element).html("<div class='alert alert-info'>Please specify rows and measures</div>"):($("#"+t.element).html("<span>To build this report, click on the <a>Configure Report</a> link and select the rows and measures.</span>"),$("#"+t.element).find("a").on("click",function(){$("#"+t.chart.get("containerId")).find("#modal-pivot-configs").modal(),$("#"+t.chart.get("containerId")).find("#modal-pivot-configs").find(".draggableElement").draggable({appendTo:$("#"+t.chart.get("containerId")).find("#modal-pivot-configs"),helper:"clone",revert:"invalid"}),$("#"+t.chart.get("containerId")).find("#modal-pivot-configs").find(".droppableElement ul").droppable({drop:function(e,n){if($(this).find(".placeholder").remove(),n.draggable.parent().attr("id")!=this.id){var i=JSON.parse(t.chart.get("configs")?t.chart.get("configs"):"{}"),r=n.draggable.find("label").text();if("row_fields"==n.draggable.parent().attr("id"))r=n.draggable.find("label").text(),i.hierarchy=_.without(i.hierarchy,r);else if("column_fields"==n.draggable.parent().attr("id"))r=n.draggable.find("label").text(),i.column_fields=_.without(i.column_fields,r);else if("measure_fields"==n.draggable.parent().attr("id")){var a=n.draggable.find("select").val();r=a.split("(")[1].replace(")","");var s=_.find(i.measure_fields,function(e){return e.format+"("+e.field+")"==a});i.measure_fields=_.without(i.measure_fields,s)}if("row_fields"==this.id)i.hierarchy||(i.hierarchy=[]),i.hierarchy.push(r);else if("column_fields"==this.id)i.column_fields||(i.column_fields=[]),i.column_fields.push(r);else if("measure_fields"==this.id){var o={};o.field=r,o.format="Sum",i.measure_fields||(i.measure_fields=[]),i.measure_fields.push(o)}t.chart.set("configs",JSON.stringify(i))}}}).sortable({revert:!0})}));t.chart.set("dataLoading",!1),t.chart.get("dashboard").highlightFilters()}}),Cibi.ScatterPlot=Ember.Object.extend({draw:function(){var e=this,t=e.chart.get("chartsDataSources").objectAt(0),n=e.chart.getFilters();e.chart.set("dataLoading",!0),t.chartData(e._chartDataCallback,e,n),t.get("depth"),t.get("depthFormat"),e.chart.set("isSetup",!1)},_chartDataCallback:function(e,t){t.set("chartData",e),t.set("uniqueKeys",t.chart.get("depth_unique_values")),t.checkDataAndDrawChart()},checkDataAndDrawChart:function(){var e=this,t=e.chart.get("chartsDataSources").objectAt(0),n=e.get("chartData"),i=e.get("uniqueKeys"),r=t.get("depth");if(r){if(n&&i){var a=this.get("chartData");e._drawChart(a,e)}}else if(n){var a=this.get("chartData");e._drawChart(a,e)}},_drawChart:function(e,t){var n=e,i=t.get("chart");i.clearChart();var r=t.cds.objectAt(0),a=t.chart.get("legendFilter");a=a?a.index:a;var s=void 0!==a&&a!==!1&&null!==a,o={top:i.get("marginTop"),right:i.get("marginRight"),bottom:i.get("marginBottom"),left:i.get("marginLeft")};t.chart.get("height")-o.top-o.bottom;var l=r.get("factDisplay"),c=n.map(function(e){return e.key});n.map(function(e){return e[l]});var h=d3.max(e,function(e){var t=e.values.map(function(e){return toFloat(e[l])});return d3.max(t)}),u=d3.min(e,function(e){var t=e.values.map(function(e){return toFloat(e[l])});return d3.min(t)});u>0&&(u=0);var d=t.chart.getSvgElement(),p=t.chart.getChartTip();p.offset([-10,0]);var f=t.chart.colorScale(),g=t.get("chart").get("chartsDataSources").objectAt(0).get("depth");if(""!=r.get("factFormat")||g){var m,v=t.chart.drawYAxis(d,[u,h],t.y_axis_label),b=v(u);t.chart.get("axesConfigsObj")&&t.chart.get("axesConfigsObj").yDomainMinValue&&t.chart.get("axesConfigsObj").yDomainMinValue>u&&t.chart.get("axesConfigsObj").yDomainMaxValue&&t.chart.get("axesConfigsObj").yDomainMinValue<t.chart.get("axesConfigsObj").yDomainMaxValue&&(b=v(t.chart.get("axesConfigsObj").yDomainMinValue));var y=t.chart.drawXAxis(d,c,b,m,n)}if(g){var x,w,C,i=t.chart;if(1===t.cds.get("length")&&(r=t.cds.objectAt(0),w=t.get("uniqueKeys"),x=t.chart.get("original_zkeys"),C=w.length,x?f.domain(x):f.domain(w)),""==r.get("factFormat")){var T=r.get("factDisplay")||r.get("fact");if(new_data=[],e.forEach(function(e){_.each(e.values,function(t){_.each(t.values,function(n){noformatData={},noformatData.key=e.key,noformatData[l]=toFloat(n[T]),noformatData.zkey=t.key,new_data.push(noformatData)})})}),s){var D=w[a];new_data=new_data.filter(function(e){return e.zkey==D})}e=new_data}else{if(s){var D=w[a],S=[],E=n.map(function(e){if(!e.key||void 0===e[l]||null===e[l])return{x:"",y:0};var t=e.values.filter(function(e){return e.key==D});return t.length>0?{x:e.key,key:e.key,value:+t[0][l],y:+t[0][l],zkey:D}:{x:"",y:0}});S.push(E)}else var S=w.map(function(e){return n.map(function(t){if(!t.key||void 0===t[l]||null===t[l])return{x:"",y:0};var n=t.values.filter(function(t){return t.key==e});return n.length>0?{x:t.key,key:t.key,value:+n[0][l],y:+n[0][l],zkey:e}:{x:"",y:0}})});var e=d3.layout.stack()(S)}t.chart.addClipPathElement(d);var T=d.selectAll(".fact").data(e).enter().append("g").attr("class","fact");e=_.flatten(e),e=_.filter(e,function(e){return e.value||e[l]}),d.selectAll("dot").data(e).enter().append("circle").attr("class","dot").attr("id",function(e){return"chart-"+t.chart.id+"-"+pruneStr(e.key)+"-"+pruneStr(e.zkey)}).attr("cx",function(e){return"time"==t.chart.get("scale_type")?y(t.chart.get("parseDate")(e.key)):"linear"==t.chart.get("scale_type")?y(e.key):y(e.key)+y.rangeBand()/2}).attr("cy",function(e){return e.value||e[l]?v(e.value||e[l]):void 0}).attr("r",5).attr("clip-path",t.chart.getClipPathUrl()).style("fill",function(e){return f(e.zkey)}).style("fill-opacity",.8).style("stroke-width",.4).on("mouseover",function(e){if(!t.chart.get("notToHideTip")){var n={};t.chart.getChartElementData(e,n,p,d),p.show(),d3.select(this).attr("r",8)}}).on("mouseout",function(){t.chart.get("notToHideTip")||(p.hide(),d3.select(this).attr("r",5))}).on("click",function(e){var n={};if(r.get("depth")){var i=[],a={};a.dimension=r.get("dimensionName"),a.formatAs=r.get("dimensionFormatAs")?r.get("dimensionFormatAs"):"",a.value=e.key,i.push(a);var s={};s.dimension=r.get("depth"),s.formatAs="",s.value=e.zkey,i.push(s),t.chart.chartElementOnClick(this.id,i,e,n,p,d)}else{var o={};o.dimension=r.get("dimensionName"),o.formatAs=r.get("dimensionFormatAs")?r.get("dimensionFormatAs"):"",o.value=e.key,t.chart.chartElementOnClick(this.id,o,e,n,p,d)}d3.select(this).attr("r",8)}),t.chart.drawChartLegend(w,f,!0)}else{if(""==r.get("factFormat")){var T=r.get("factDisplay")||r.get("fact");new_data=[],e.forEach(function(e){_.each(e.values,function(t){noformatData={},noformatData.key=e.key,noformatData[l]=toFloat(t[T]),new_data.push(noformatData)})}),e=new_data;var m,h=d3.max(e,function(e){return e[l]}),u=d3.min(e,function(e){return e[l]}),v=t.chart.drawYAxis(d,[u,h],t.y_axis_label),b=v(u);t.chart.get("axesConfigsObj")&&t.chart.get("axesConfigsObj").yDomainMinValue&&t.chart.get("axesConfigsObj").yDomainMinValue>u&&t.chart.get("axesConfigsObj").yDomainMaxValue&&t.chart.get("axesConfigsObj").yDomainMinValue<t.chart.get("axesConfigsObj").yDomainMaxValue&&(b=v(t.chart.get("axesConfigsObj").yDomainMinValue));var y=t.chart.drawXAxis(d,c,b,m,n)}d.selectAll("dot").data(e).enter().append("circle").attr("class","dot").attr("id",function(e){return"chart-"+t.chart.id+"-"+pruneStr(e.key)}).attr("cx",function(e){return"time"==t.chart.get("scale_type")?y(t.chart.get("parseDate")(e.key)):"linear"==t.chart.get("scale_type")?y(e.key):y(e.key)+y.rangeBand()/2}).attr("cy",function(e){return e[l]||void 0!==e[l]?e[l]instanceof Array?v(e[l]):v(e[l]):void 0}).attr("r",5).attr("clip-path",t.chart.getClipPathUrl()).style("fill",function(e){return f(e)}).style("fill-opacity",.8).style("stroke-width",.4).on("click",function(e){var n={};n.dimension=r.get("dimensionName"),n.formatAs=r.get("dimensionFormatAs")?r.get("dimensionFormatAs"):"",n.value=e.key;var i={};t.chart.chartElementOnClick(this.id,n,e,i,p,d),d3.select(this).attr("r",8)}).on("mouseover",function(e){if(!t.chart.get("notToHideTip")){var n={};t.chart.getChartElementData(e,n,p,d),p.show(),d3.select(this).attr("r",8)}}).on("mouseout",function(){t.chart.get("notToHideTip")||(p.hide(),d3.select(this).attr("r",5))})}t.chart.set("dataLoading",!1),t.chart.get("dashboard").highlightFilters()}}),Cibi.SingleValueChart=Ember.Object.extend({init:function(){},draw:function(){var e=this,t=e.chart.getFilters(),n=e.chart.get("chartsDataSources").objectAt(0);e.chart.set("dataLoading",!0),n.chartData(e._drawSingleValueChart,e,t)},_drawSingleValueChart:function(e,t){$("#"+t.element).html("");var n=t.chart.get("chartsDataSources").objectAt(0),i=t.get("chart");t.chart.get("measures"),i.clearChart();var r=n.get("dimensionName"),a=n.get("dimensionFormatAs"),s=n.get("dataSource").getDataType(r);i.get("formatDate"),i.get("parseDate");var o={x:i.get("width")/2,y:i.get("height")/2};if(r){if("date"==s){i.get("width"),i.get("height");var l,c,h,u=t.chart.get("measures").get("lastObject").get("displayName");if(e.length>0&&e.length>1)l=e[0][u],c=e[1][u],h="count"==n.get("factFormat")||"count,distinct"==n.get("factFormat")?t.displayUnit?formatValue(e[0][u],t.displayUnit,".3f"):d3.format(",")(e[0][u]):t.displayUnit?formatValue(e[0][u],t.displayUnit,".3f"):d3.format(",.2f")(e[0][u]),factUnit=n.get("factUnit"),isNaN(e[0][n.get("factDisplay")])?h=e[0][n.get("factDisplay")]:"No Units (Indian)"==t.displayUnit?h=CommaFormatted(e[0][n.get("factDisplay")],"Indian"):"No Units (American)"==t.displayUnit&&(h=d3.format(",.2f")(e[0][n.get("factDisplay")]));else if(1==e.length)l=e[0][u],h=t.displayUnit?formatValue(e[0][u],t.displayUnit,".3f"):d3.format(",.2f")(e[0][u]),factUnit=n.get("factUnit"),isNaN(e[0][n.get("factDisplay")])?h=e[0][n.get("factDisplay")]:"No Units (Indian)"==t.displayUnit?h=CommaFormatted(e[0][n.get("factDisplay")],"Indian"):"No Units (American)"==t.displayUnit&&(h=d3.format(",.2f")(e[0][n.get("factDisplay")]));else var d="0.00";if(factUnit&&("USD"==factUnit.prefix?h="$"+h:"Rs"==factUnit.prefix?h="₹"+h:"Euro"==factUnit.prefix&&(h="€"+h),factUnit.suffix&&(h=h+" "+factUnit.suffix+" ")),c){var p=l-c;if("count"==n.get("factFormat")||"count,distinct"==n.get("factFormat")){var f=p;f=t.displayUnit?formatValue(f,t.displayUnit,".3f"):d3.format(",")(f)}else{var f=d3.format(".2f")(p);f=t.displayUnit?formatValue(f,t.displayUnit,".3f"):d3.format(",.2f")(f)}var g=100*(p/c);if(g=d3.format(",.2f")(g),g+="%","No Units (Indian)"==t.displayUnit)f=CommaFormatted(p,"Indian");else if("No Units (American)"==t.displayUnit)f=d3.format(",.2f")(p);else var d="0.00";p>0&&(f="+"+f,g="+"+g)}else var f="-",g="-";var m;"Month"==a?m="MoM":"Month Year"==a?m="MoM":"Quarter"==a?m="QoQ":"Year"==a?m="YoY":"Week"==a?m="WoW":"Day"==a&&(m="DoD");var v=f+"   "+g+"   "+m,b=t.chart.get("width");b=parseInt(1/8*b)>50?50:parseInt(1/8*b),b=h.length>13?b-8:b;var y=13,x=t.chart.getSvgElement(0,0);x.append("text").text(h).attr("x",o.x).attr("y",o.y).attr("text-anchor","middle").attr("font-size",b+"px").attr("font-family","Roboto-Medium").attr("fill","black"),x.append("text").text(v).attr("x",o.x).attr("y",o.y+o.y/2).attr("text-anchor","middle").attr("xml:space","preserve").attr("font-size",y+"px").attr("font-family","Roboto-Medium").attr("fill",function(){return 0>p?"red":"green"})}}else{var u=t.chart.get("measures").get("lastObject").get("displayName");if(e.length>0){if("count"==n.get("factFormat")||"count,distinct"==n.get("factFormat"))var d=t.displayUnit?formatValue(e[0][u],t.displayUnit,".3f"):d3.format(",")(e[0][u]);else var d=t.displayUnit?formatValue(e[0][u],t.displayUnit,".3f"):d3.format(",.2f")(e[0][u]);factUnit=n.get("factUnit"),isNaN(e[0][n.get("factDisplay")])?d=e[0][n.get("factDisplay")]:"No Units (Indian)"==t.displayUnit?d=CommaFormatted(e[0][n.get("factDisplay")],"Indian"):"No Units (American)"==t.displayUnit&&(d=d3.format(",.2f")(e[0][n.get("factDisplay")]))}else var d="0.00";factUnit&&("USD"==factUnit.prefix?d=" $ "+d:"Rs"==factUnit.prefix?d=" ₹ "+d:"Euro"==factUnit.prefix&&(d="€"+d),"%"==factUnit.suffix&&(d=d+"  "+factUnit.suffix+" "));var b=t.chart.get("width");b=parseInt(1/8*b)>40?40:parseInt(1/8*b);var x=t.chart.getSvgElement(0,0);x.append("text").text(d).attr("x",o.x).attr("y",o.y).attr("text-anchor","middle").attr("font-size",b+"px").attr("font-family","Roboto-Medium").attr("fill","black")}t.chart.set("dataLoading",!1),t.chart.get("dashboard").highlightFilters()}}),Cibi.StackedAreaChart=Ember.Object.extend({init:function(){if(!this.element)throw new error("Need to Specify element id");if(this.stacked&&!this.depth)throw new error("Need to Specify depth for Stacked Graph")},draw:function(){var e=this,t=e.chart.getFilters(),n=e.cds.objectAt(0),i=e.get("chart");e.chart.set("dataLoading",!0);var r=i.get("measures"),a=i.get("dimensions"),s=e.chart.get("chartsDataSources").objectAt(0).get("depth");s&&1==r.get("length")?n.chartData(e._drawStackedAreaForDepth,e,t):r.get("length")>1&&1==a.get("length")&&n.chartData(e._drawStackedAreaForMultipleMeasures,e,t),e.chart.set("isSetup",!1)},_drawStackedAreaForDepth:function(e,t){var n,i;t.chart.getFilters();var r=t.get("chart"),a=t.chart.get("original_zkeys");r.get("chartFiltersObj");var s=r.get("measures"),o=s.objectAt(0).get("displayName");r.clearChart();var l=t.chart.get("legendFilter");l=l?l.index:l;var c=void 0!==l&&l!==!1&&null!==l,h=t.cds.objectAt(0);t.chart.get("chartsDataSources").objectAt(0).get("depth"),h.get("depthFormat");var u={top:r.get("marginTop"),right:r.get("marginRight"),bottom:r.get("marginBottom"),left:r.get("marginLeft")};t.chart.get("height")-u.top-u.bottom,t.chart.get("width")-u.left-u.right;var d=e.map(function(e){return e.key});if(t.chart.forecast){t.chart.forecast.forEach(function(e){d.push(e.key)});var p=d3.max(t.chart.forecast,function(e){return e.upper});x=d3.max([x,p]);var f=d3.min(t.chart.forecast,function(e){return e.lower});w=d3.min([w,f])}w>0&&(w=0);var g=t.chart.get("depth_unique_values"),a=t.chart.get("original_zkeys"),m=t.chart.colorScale();if(a?m.domain(a):m.domain(g),"ordinal"==r.get("scale_type"),t.chart.addClipPathElement(D),c){var v=g[l],b=[],y=e.map(function(e){if(e.values.length>0){var t=_.find(e.values,function(e){return v==e.key});return t?{x:e.key,key:e.key,value:+e.values[0][o],y:+e.values[0][o],zkey:v}:{x:e.key,key:e.key,value:0,y:0,zkey:v}}});b.push(y);var x=d3.max(y,function(e){return e.value}),w=d3.min(y,function(e){return e.value});w>0&&(w=0)}else var b=g.map(function(t){return e.map(function(e){if(e.values.length>0){var n=_.find(e.values,function(e){return t==e.key});return n?{x:e.key,key:e.key,value:+e.values[0][o],y:+e.values[0][o],zkey:t}:{x:e.key,key:e.key,value:0,y:0,zkey:t}}})});var C=d3.layout.stack()(b),T=_.flatten(C),x=d3.max(T,function(e){return e.y0+e.y}),w=d3.min(e,function(e){var t=[];return s.forEach(function(n){t.push(e[n.get("displayName")])}),d3.min(t)});w>0&&(w=0);var D=t.chart.getSvgElement(),S=t.chart.drawYAxis(D,[w,x],t.y_axis_label_right),E=S(w);t.chart.get("axesConfigsObj")&&t.chart.get("axesConfigsObj").yDomainMinValue&&t.chart.get("axesConfigsObj").yDomainMaxValue&&t.chart.get("axesConfigsObj").yDomainMinValue<t.chart.get("axesConfigsObj").yDomainMaxValue&&t.chart.get("axesConfigsObj").yDomainMinValue>w&&(E=S(t.chart.get("axesConfigsObj").yDomainMinValue));var k=t.chart.drawXAxis(D,d,E,"ordinal",e);i=t.chart.get("formatDate"),n=t.chart.get("parseDate");var I=d3.svg.area().x(function(e){return"time"==t.chart.get("scale_type")?k(n?n(e.key):e.key):k(e.key)+k.rangeBand()/2}).y0(function(e){return S(e.y0)}).y1(function(e){return S(e.y+e.y0)});if("time"==t.chart.get("scale_type")?I.interpolate("cardinal"):"linear"==t.chart.get("scale_type")&&I.interpolate("linear"),"time"==t.chart.get("scale_type")){var N=D.append("g").attr("class","focus").style("display","true");N.append("text").attr("class","y0").attr("dy","-1em").style("opacity",0),D.selectAll(".layer").data(C).enter().append("path").attr("class","layer").attr("d",I).style("fill",function(e){for(var t=0;t<e.length;t++)if(e[t].zkey)return m(e[t].zkey)}).style("fill-opacity",.7).attr("clip-path",t.chart.getClipPathUrl()).on("mouseover",function(){N.style("display",null)}).on("mouseout",function(){N.style("display","none")}).on("mousemove",function(){var e=d3.mouse(this)[0],t=d3.mouse(this)[1],n=k.invert(e),i=S.invert(t);display_text=n.formatDateMonth()+" - "+i.formatMoney(),N.select("text.y0").style("opacity",1),N.select("circle.y0").style("opacity",1),N.select("text.y0").attr("transform","translate("+e+","+t+")").text(display_text),N.select("circle.y0").attr("transform","translate("+e+","+t+")")}),t.plotCircles(D,_.flatten(b),k,S,h,n),N.append("circle").attr("class","y0").style("fill","#FFFFFF").style("stroke","red").attr("r",4).style("opacity",0)}"ordinal"==r.get("scale_type")&&(D.selectAll(".layer").data(C).enter().append("path").attr("class","layer").attr("d",I).style("fill",function(e){for(var t=0;t<e.length;t++)if(e[t].zkey)return m(e[t].zkey)}).style("fill-opacity",.7).style("stroke",function(e){for(var t=0;t<e.length;t++)if(e[t].zkey)return d3.rgb(m(e[t].zkey)).darker()}),t.plotCircles(D,_.flatten(b),k,S,h,n)),t.chart.drawChartLegend(g,m,!0),t.chart.set("dataLoading",!1),t.chart.get("dashboard").highlightFilters()},_drawStackedAreaForMultipleMeasures:function(e,t){var n=t.get("chart");n.get("chartFiltersObj");var i=t.chart.get("measures");n.clearChart();var r=[];i.forEach(function(e){r.push(e.get("displayName"))});var a=t.chart.get("legendFilter");a=a?a.index:a;var s=void 0!==a&&a!==!1&&null!==a,o=t.cds.objectAt(0),l=e.map(function(e){return e.key});if(t.chart.forecast){t.chart.forecast.forEach(function(e){l.push(e.key)});var c=d3.max(t.chart.forecast,function(e){return e.upper});m=d3.max([m,c]);var h=d3.min(t.chart.forecast,function(e){return e.lower});v=d3.min([v,h])}v>0&&(v=0);var u=t.chart.getSvgElement(),d=t.chart.colorScale().domain(r);if(t.chart.addClipPathElement(u),s){var p=r[a],f=[],g=e.map(function(e){return e.values.length>0?{x:e.key,key:e.key,value:+e.values[0][p],y:+e.values[0][p],factkey:p}:{x:"",y:0}
});f.push(g);var m=d3.max(g,function(e){return e.value}),v=d3.min(g,function(e){return e.value});v>0&&(v=0)}else var f=r.map(function(t){return e.map(function(e){return e.values.length>0?{x:e.key,key:e.key,value:+e.values[0][t],y:+e.values[0][t],factkey:t}:{x:"",y:0}})});var b=d3.layout.stack()(f),y=_.flatten(b),m=d3.max(y,function(e){return e.y0+e.y}),v=d3.min(e,function(e){var t=[];return i.forEach(function(n){t.push(e[n.get("displayName")])}),d3.min(t)});v>0&&(v=0);var x=t.chart.drawYAxis(u,[v,m],t.y_axis_label_right),w=x(v);t.chart.get("axesConfigsObj")&&t.chart.get("axesConfigsObj").yDomainMinValue&&t.chart.get("axesConfigsObj").yDomainMaxValue&&t.chart.get("axesConfigsObj").yDomainMinValue<t.chart.get("axesConfigsObj").yDomainMaxValue&&t.chart.get("axesConfigsObj").yDomainMinValue>v&&(w=x(t.chart.get("axesConfigsObj").yDomainMinValue));var C=t.chart.drawXAxis(u,l,w,"ordinal",e);n.get("formatDate");var T=n.get("parseDate"),D=d3.svg.area().x(function(e){return"time"==t.chart.get("scale_type")?C(T?T(e.key):e.key):C(e.key)+C.rangeBand()/2}).y0(function(e){return x(e.y0)}).y1(function(e){return x(e.y+e.y0)});if("time"==t.chart.get("scale_type")?D.interpolate("cardinal"):"linear"==t.chart.get("scale_type")&&D.interpolate("linear"),"time"==t.chart.get("scale_type")){var S=u.append("g").attr("class","focus").style("display","true");S.append("text").attr("class","y0").attr("dy","-1em").style("opacity",0),u.selectAll(".layer").data(b).enter().append("path").attr("class","layer").attr("d",D).style("fill",function(e){for(var t=0;t<e.length;t++)if(e[t].factkey)return d(e[t].factkey)}).style("fill-opacity",.7).attr("clip-path",t.chart.getClipPathUrl()).on("mouseover",function(){S.style("display",null)}).on("mouseout",function(){S.style("display","none")}).on("mousemove",function(){var e=d3.mouse(this)[0],t=d3.mouse(this)[1],n=C.invert(e),i=x.invert(t);display_text=n.formatDateMonth()+" - "+i.formatMoney(),S.select("text.y0").style("opacity",1),S.select("circle.y0").style("opacity",1),S.select("text.y0").attr("transform","translate("+e+","+t+")").text(display_text),S.select("circle.y0").attr("transform","translate("+e+","+t+")")}),t.plotCircles(u,_.flatten(f),C,x,o,T),S.append("circle").attr("class","y0").style("fill","#FFFFFF").style("stroke","red").attr("r",4).style("opacity",0)}"ordinal"==n.get("scale_type")&&(u.selectAll(".layer").data(b).enter().append("path").attr("class","layer").attr("d",D).style("fill",function(e){for(var t=0;t<e.length;t++)if(e[t].factkey)return d(e[t].factkey)}).style("fill-opacity",.7).style("stroke",function(e){for(var t=0;t<e.length;t++)if(e[t].factkey)return d3.rgb(d(e[t].factkey)).darker()}),t.plotCircles(u,_.flatten(f),C,x,o)),t.chart.drawChartLegend(r,d,!0,r),t.chart.set("dataLoading",!1),t.chart.get("dashboard").highlightFilters()},plotCircles:function(e,t,n,i,r,a){var s=this,o=s.chart,l=s.chart.get("chartsDataSources").objectAt(0).get("depth"),c="ordinal"==o.get("scale_type");o.get("highlightRule");var h,u=o.get("measures");u.get("length"),o.statsData&&(h=o.statsData),d3.max(t,function(e){return e.value});var d=d3.min(t,function(e){return e.value});d>0&&(d=0);var p=_.filter(t,function(e){return 0!=e.value}),f=s.chart.getChartTip();f.offset([-10,0]),l?p&&e.selectAll("circle").data(p).enter().append("circle").attr("id",function(e){return"chart-"+s.chart.id+"-"+pruneStr(e.key)}).attr("cx",function(e){return c?n(e.key)+n.rangeBand()/2:n(a?a(e.key):e.key)}).attr("cy",function(e){var t=e.y0+e.y;return i(t)}).attr("r",function(){var e=20,t=n.range()[1],i=t>e?e:t;return i/10}).attr("clip-path",s.chart.getClipPathUrl()).style("fill",function(e){return e.to_highlight?e.fill_color:"white"}).style("stroke",function(){return"#0000ff"}).on("mouseover",function(t){if(!s.chart.get("notToHideTip")){$(this).attr("r",4);var n=r.get("factDisplay")||r.get("fact"),i=r.get("factType"),a=r.get("factUnit"),o={};o.fact=n,o.factType=i,o.factUnit=a,s.chart.getChartElementData(t,o,f,e),f.show()}}).on("mouseout",function(){if(!s.chart.get("notToHideTip")){var e=20,t=n.range()[1],i=t>e?e:t;$(this).attr("r",i/10),f.hide()}}).on("click",function(t){var n=[],i={};i.dimension=r.get("dimensionName"),i.formatAs=r.get("dimensionFormatAs")?r.get("dimensionFormatAs"):"",i.value=t.key,n.push(i);var a={};a.dimension=r.get("depth"),a.formatAs=r.get("depthFormat")?r.get("depthFormat"):"",a.value=t.zkey,n.push(a);var o=r.get("factDisplay")||r.get("fact"),l=r.get("factType"),c=r.get("factUnit"),h={};h.fact=o,h.factType=l,h.factUnit=c,s.chart.chartElementOnClick(this.id,n,t,h,f,e)}):u.get("length")>1&&p&&e.selectAll("circle").data(p).enter().append("circle").attr("id",function(e){return"chart-"+s.chart.id+"-"+pruneStr(e.key)}).attr("cx",function(e){return c?n(e.key)+n.rangeBand()/2:n(a?a(e.key):e.key)}).attr("cy",function(e){var t=e.y0+e.y;return i(t)}).attr("r",function(){var e=20,t=n.range()[1];if(void 0==t)return i=2;var i=t>e?e:t;return i/10}).attr("clip-path",s.chart.getClipPathUrl()).style("fill",function(e){return e.to_highlight?e.fill_color:"white"}).style("stroke",function(){return"#0000ff"}).on("mouseover",function(t){if(!s.chart.get("notToHideTip")){$(this).attr("r",4);var n,i,r=t.factkey,a={};u.forEach(function(e){e.get("displayName")==r&&(n=e.get("formatAs"),i=e.get("factUnit"))}),a.fact=r,a.factType=n,a.factUnit=i,s.chart.getChartElementData(t,a,f,e),f.show()}}).on("mouseout",function(){if(!s.chart.get("notToHideTip")){var e=20,t=n.range()[1];if(void 0==t)$(this).attr("r",2);else{var i=t>e?e:t;$(this).attr("r",i/10)}f.hide()}}).on("click",function(t){var n={};n.dimension=r.get("dimensionName"),n.formatAs=r.get("dimensionFormatAs")?r.get("dimensionFormatAs"):"",n.value=t.key;var i,a,o=t.factkey,l={};u.forEach(function(e){e.get("displayName")==o&&(i=e.get("formatAs"),a=e.get("factUnit"))}),l.fact=o,l.factType=i,l.factUnit=a,s.chart.chartElementOnClick(this.id,n,t,l,f,e)})}}),Cibi.Table=Ember.Object.extend({draw:function(){var e=this,t=e.cds.objectAt(0);$("#"+e.element).html(""),e.chart.set("isSetup",!0);var n=e.chart.get("width"),i=e.chart.get("height"),r=e.element,a=[];e.chart.get("measures").forEach(function(e){a.push(e.get("fieldName"))}),html="",html+="<div id='"+r+"' style=\"width:"+n+"px;height: "+i+'px;overflow:auto;">',html+="<table id='table-"+e.element+"'class='display compact' cellspacing='0' width='"+n+"px;'>",html+="<thead>",html+="<tr>";for(var s=0;s<a.length;s++)html+="<th>"+a[s]+"</th>";html+="</tr>",html+="</thead>",html+="<tfoot>",html+="<tr>";for(var s=0;s<a.length;s++)html+="<th>"+a[s]+"</th>";html+="</tr>",html+="</tfoot>",html+="</table>",html+="</div>",$("#"+e.element).html(html);var o=Cibi.Auth.get("authToken"),l="/charts_data_sources/"+t.id+"/chartData?auth_token="+o;$("#table-"+e.element).dataTable({processing:!0,serverSide:!0,sDom:'<"top"l>rt<"bottom"ip><"clear">',ajax:l})}}),Cibi.ChartsDataSource=DS.Model.extend({count:DS.attr("number"),factType:DS.attr("string"),isolated:DS.attr("boolean"),chart:DS.belongsTo("Cibi.Chart"),dataSource:DS.belongsTo("Cibi.DataSource"),accountTemplate:DS.belongsTo("Cibi.AccountTemplate"),dimensions:function(){return this.get("chart")?this.get("chart").get("dimensions"):void 0}.property("chart.isSetup","chart.dimensions"),measures:function(){return this.get("chart")?this.get("chart").get("measures"):void 0}.property("chart.isSetup","chart.measures"),dimensionName:function(){return this.get("dimensions")&&this.get("dimensions").get("length")>0?this.get("dimensions").objectAt(0).get("fieldName"):void 0}.property("chart.dimensions"),dimensionFormatAs:function(){return this.get("dimensions")&&this.get("dimensions").get("length")>0?this.get("dimensions").objectAt(0).get("formatAs"):void 0}.property("chart.isSetup","chart.dimensions"),dimensionDisplay:function(){return this.get("dimensions")&&this.get("dimensions").get("length")>0?this.get("dimensions").objectAt(0).get("displayName"):void 0}.property("chart.dimensions"),depth:function(){return this.get("dimensions")&&this.get("dimensions").get("length")>0&&this.get("dimensions").objectAt(1)&&this.get("dimensions").objectAt(1).get("isLoaded")?this.get("dimensions").objectAt(1).get("fieldName"):void 0}.property("chart.dimensions","chart.dimensions.@each.isLoaded"),depthFormat:function(){return this.get("dimensions")&&this.get("dimensions").get("length")>0&&this.get("dimensions").objectAt(1)&&this.get("dimensions").objectAt(1).get("isLoaded")?this.get("dimensions").objectAt(1).get("formatAs"):void 0}.property("chart.dimensions","chart.dimensions.@each.isLoaded"),depthDisplay:function(){return this.get("dimensions")&&this.get("dimensions").get("length")>0&&this.get("dimensions").objectAt(1)?this.get("dimensions").objectAt(1).get("displayName"):void 0}.property("chart.dimensions"),fact:function(){return this.get("measures")&&this.get("measures").get("length")>0?this.get("measures").objectAt(0).get("fieldName"):void 0}.property("chart.measures"),factDisplay:function(){return this.get("measures")&&this.get("measures").get("length")>0?this.get("measures").objectAt(0).get("displayName"):void 0}.property("chart.measures"),factUnit:function(){return this.get("measures")&&this.get("measures").get("length")>0?(unit={},unit.prefix=this.get("measures").objectAt(0).get("prefix"),unit.suffix=this.get("measures").objectAt(0).get("suffix"),unit):void 0}.property("chart.measures"),factFormat:function(){return this.get("measures")&&this.get("measures").get("length")>0?this.get("measures").objectAt(0).get("formatAs"):void 0}.property("chart.measures"),isCalculated:function(){return this.get("measures")&&this.get("measures").get("length")>0?this.get("measures").objectAt(0).get("isCalculated"):void 0}.property("chart.measures"),dimensionsSupportedFormats:function(){var e=this.get("dimensionName"),t=this.get("dataSource").getDataType(e);if("date"==t){var n=["","Month","Quarter","Year","Month Year"];return n}return[]}.property("dimensionName"),dimension:function(){var e=this.get("dataSource");this.get("dimensionFormatAs");var t=this.get("dimensionName");return e&&e.get("isSetup")?e.getDimension(t):!1}.property("dimensionName"),depthDimension:function(){var e=this,t=e.get("depth"),n=this.get("dataSource");return n&&t?n.getDimension(t):[]},getFormattedDimensionKey:function(e,t){if("Quarter"===t){var n=new Date(e);return n&&"Invalid Date"!=n?n.formatQuarter():""}if("Month"===t){var n=new Date(e);return n&&"Invalid Date"!=n?n.formatMonth():""}if("Date String"===t){var n=new Date(e);return n&&"Invalid Date"!=n?n.shortDate():""}if("Number Group"===t){var i=parseInt(e);if(!i)return"";var r=10*Math.floor(i/10),a=r+10;return r+"-"+a}return""},chartData:function(e,t,n,i,r,a,s){var o=this,l=this.get("chart"),c=Cibi.Auth.get("authToken"),h=l.get("chartType"),u=o.get("dimensionName"),d=o.get("depth"),p=o.get("fact"),f=o.get("factFormat"),f="noopspc"==f||"opspc"==f?"count":f,g=o.get("dimensionFormatAs"),m="/charts_data_sources/"+this.get("id")+"/chartData?auth_token="+c;if(1==this.get("chart").get("preview")){m+="&preview=true";var v=this.get("chart").get("preview_data");m=m+"&chart_type="+h,m=m+"&preview_data="+encodeURIComponent(JSON.stringify(v)),m=m+"&data_source_id="+this.get("chart").get("data_source_id")}if(i&&(m=m+"&limit="+i),r&&(m=m+"&offset="+r),a){var b={};b[""],m=m+"&sort_key="+encodeURIComponent(a),s&&(m=m+"&sort_order="+s)}n&&0!==n.length&&(m=m+"&filters="+encodeURIComponent(JSON.stringify(n)));var y=null,x=o.get("data_request");return x&&x.abort(),console.log(m),x=$.ajax({url:m,type:"get",async:!0,success:function(n){if(n.charts_data_sources?(y=n.charts_data_sources,t.chart.set("forecast",void 0),t.chart.set("forecastModel",void 0),t.chart.set("statsData",void 0)):(y=n.result,n.forecast&&(t.chart.set("forecast",n.forecast),t.chart.set("forecastModel",n.forecastModel)),n.statsData&&t.chart.set("statsData",n.statsData),n.row_totals&&t.chart.set("rowTotals",n.row_totals),n.column_totals&&t.chart.set("columnTotals",n.column_totals),n.grand_totals&&t.chart.set("grandTotals",n.grand_totals)),l.set("dbAggregatedData",y),y=o.formatData(y,u,d,p,f,g,h),l.set("dimension_unique_values",o.get_dimension_unique_values(y)),0!=y.length||n.page_limit_exceeded||l.set("errorMessage","This report returned zero results with current settings"),1==n.page_limit_exceeded?l.set("pageLimitExceeded",!0):l.set("pageLimitExceeded",void 0),d){var i=l.get("dashboard"),r=o.get_depth_unique_values(y);l.set("depth_unique_values",r),0==i.get("chartsOnClickFilters").length&&l.set("original_zkeys",r)}n.statsData&&(y=l.get("highlightRule").highlightData(y,n.statsData)),y.cds_id=o.get("id"),e(y,t)},error:function(e,t){var n=" ";"abort"!=t&&(n="Something went wrong! Try refreshing the browser"),e.responseJSON&&e.responseJSON.message&&(n=e.responseJSON.message),l.set("errorMessage",n),l.set("dataLoading",!1)}}),this.set("data_request",x),y},get_dimension_unique_values:function(e){return e?_.map(e,function(e){return e.key}):[]},get_depth_unique_values:function(e){if(!e)return[];var t=_.map(e,function(e){return e.values?_.map(e.values,function(e){return e.key}):void 0});return t&&(t=_.flatten(t)),t&&(t=_.uniq(t)),t},noFormatData:function(e,t,n){e.forEach(function(e){var i=e[t];e.val=toFloat(i[n])})},formatData:function(e,t,n,i,r,a,s){var o=this.get("dimensions"),l=this.get("measures"),c=[];o.forEach(function(e){c.push(e.get("displayName"))});var h=d3.nest();c.forEach(function(e){h.key(function(t){return t[e]})});var s=this.get("chart").get("chartType");if("7"==s||"15"==s||"14"==s||"18"==s||"20"==s)return e;if(e=h.entries(e),"3"==s||"5"==s||"15"==s)e=e;else if("0"==s){var u=this;l.forEach(function(t){u.populateSum({values:e},t)})}else this.getFactVals(e,o,i,r,l);return e},populateSum:function(e,t){var n=this;t.get("formatAs")||"",t.get("fieldName");var i=t.get("displayName");return e.values instanceof Array?(e[i]=e[i]||0,e.count=0,e.values.forEach(function(r){e[i]+=n.populateSum(r,t),e.count+=r.count}),e[i]):(e[i]=toFloat(e[i])||0,e.count=1,e[i])},getFactVals:function(e,t,n,i,r){e.forEach(function(e){if(t.objectAt(1)){var n=[];e.values.forEach(function(e){r.forEach(function(t,i){n[i]||(n[i]=[]);var r=e.values[0][t.get("displayName")];e[t.get("displayName")]=toFloat(r),n[i].push(toFloat(r))})}),n.forEach(function(t,n){m=r.objectAt(n),e[m.get("displayName")]=d3.sum(t)})}else r.forEach(function(t){var n=e.values[0][t.get("displayName")];e[t.get("displayName")]=toFloat(n)})})},stackData:function(e,t){var n=this,i=n.get("measures").objectAt(0).get("displayName"),r=e,a=t.map(function(e){return r.map(function(t){if(!t.key)return{x:"",y:0};var n=t.values.filter(function(t){return t.key==e});if(n.length>0){var r={};return r.x=t.key,r.key=t.key,r.val=+n[0][i],r[i]=+n[0][i],r.y=+n[0][i],r.zkey=e,r.sem=n[0].sem,r}return{x:"",y:0}})});return a=_.flatten(a)},getFactValue:function(v,tokens){obj=this;var fact=obj.get("fact");if(tokens&&tokens.length>0){var fact_str=fact,invalid_vals=!1;return tokens.forEach(function(e){var t=e.replace(/[\[\]]/g,""),n=v[t];n?"-"==n.trim()?fact_str="-":jStat.utils.isNumber(toFloat(n))&&(fact_str=fact_str.replace(e,n)):invalid_vals=!0}),invalid_vals?0:"-"==fact_str?fact_str:eval(fact_str)}if(v[fact]&&"-"===v[fact].trim())return"-";var val=toFloat(v[fact]);return isNaN(val)?1:val},getDimensionData:function(e){var t=this,n=t.get("dimension");if(!n)return[];var i=n.top(e),r=t.get("chart"),a=r.get("filteredChartFilters");return a.forEach(function(e){i=e.apply(i)}),i},rawData:function(e,t,n,i,r,a){var s=this,o=Cibi.Auth.get("authToken");this.get("chart").get("chartType");var l="/charts_data_sources/"+this.get("id")+"/rawData?auth_token="+o;t&&(l=l+"&limit="+t),n&&(l=l+"&offset="+n),e&&0!==e.length&&(l=l+"&filters="+encodeURIComponent(JSON.stringify(e))),i&&0!==i.length&&(l=l+"&fields="+encodeURIComponent(JSON.stringify(i.split(",")))),r&&(l=l+"&is_underlying_data="+r),a&&(l=l+"&option_value="+a),console.log(l);var c=null,h=s.get("data_request");return h&&h.abort(),h=$.ajax({url:l,type:"get",async:!1,success:function(e){c=e.charts_data_sources[0]}}),this.set("data_request",h),c},getHierarchialData:function(e){function t(e){return e.values instanceof Array?(e.val=e.val||0,e.count=0,e.values.forEach(function(n){e.val+=t(n),e.count+=n.count}),e.val):(e.val=toFloat(e[l])||0,e.count=1,e.val)}var n=this,i=this.get("chart"),r=this.get("chart").get("chartType"),a=this.get("dimension"),s=this.get("factFormat")||"",o=this.get("fact"),l=s+"(`"+o+"`)",c=this.get("count")||"Infinity",h=i.get("configs")?JSON.parse(i.get("configs")).hierarchy:"";if(14==r&&i.get("configs")){var u=JSON.parse(i.get("configs"));h=h.concat(u.column_fields);var d=u.measure_fields[0];d&&(l="Count,Distinct"==d.format?"Count(Distinct(`"+d.field+"`))":d.format+"(`"+d.field+"`)")}var p=[];$.each(h,function(e,t){t.toLowerCase().indexOf("year")>=0||t.toLowerCase().indexOf("month")>=0?p.push(t.replace("(","(`").replace(")","`)")):p.push(t)}),h=p;var f=e||a.top(c),g=i.get("configObj").sort_by_key,m=d3.nest();return h.forEach(function(e){m.key(function(t){return t[e]?t[e]:void 0}),g&&m.sortKeys(d3.ascending)}),data=m.entries(f),"0"==r||"14"==r?t({values:data}):"1"==r&&n.fact&&m.rollup(function(e){return d3.sum(e,function(e){return parseFloat(e[l].replace(/,/g,""))})}),data},getGeoData:function(){var e=this.get("depth"),t=this.get("dataSource"),n=this.get("dimension"),i=this.get("factFormat");if(t&&t.get("isSetup")&&n){var r=this.get("fact");this.get("count");var a=e||this.get("dimensionName"),s=n.group().reduce(function(e,t){var n=e.cities[t[a]]||{};return n.sum=n.sum?n.sum+toFloat(t[r]):toFloat(t[r]),n.count=n.count?n.count+1:1,n.avg=n.sum/n.count,n.val=n[i],t.LAT&&(n.lat=t.LAT),t.LON&&(n.lon=t.LON),e.cities[t[a]]=n,e.sum=e.sum?e.sum+toFloat(t[r]):toFloat(t[r]),e.count+=1,e.avg=e.sum/e.count,e.val=e[i],e},function(e,t){var n=e.cities[t[a]]||{};return n.sum=n.sum?n.sum-toFloat(t[r]):toFloat(t[r]),n.count=n.count?n.count-1:1,n.avg=n.sum/n.count,n.val=n[i],t.LAT&&(n.lat=t.LAT),t.LON&&(n.lon=t.LON),e.cities[t[a]]=n,e.sum=e.sum?e.sum-toFloat(t[r]):toFloat(t[r]),e.count-=1,e.avg=0==e.count?0:e.sum/e.count,e.val=e[i],e},function(){return{cities:{},sum:0,avg:0,count:0,val:0}});return s.all()}return[]},filter:function(e,t){var n=this.get("dimensionName"),i=this.get("depth"),r=!1;t==n?r=this.get("dimension"):t==i&&(this.set("filtered_depth",!0),r=this.get("dataSource").getDimension(i)),r&&(this.set("currentFilter",e),e=e.trim(),r.filter(e))},reset:function(){var e=this.get("dimension");this.get("filtered_depth")&&(e=this.get("dataSource").getDimension(this.get("depth"))),e&&(this.set("currentFilter",null),e.filter(null))},sDim:function(){return this.get("sDim")}.property(""),factDisplayStr:function(){var e=this.get("factFormat"),t=this.get("fact");switch(e){case"sem":return"SEM ("+t+")";case"avg":return"MEAN ("+t+")";case"sum":return"SUM ("+t+")";case"count":return"COUNT ("+t+")";default:return t}},getUniqueKeys:function(e,t,n,i){return i||(i=this),i.get("dataSource")?data_source=i.get("dataSource"):i.get("chart")?i.get("chart").get("dataSources")&&(data_source=i.get("chart").get("dataSources").objectAt(0)):data_source=void 0,void 0!=data_source?data_source.getUniqueKeys(e,t,n,i):void 0}}),Cibi.Comment=DS.Model.extend({message:DS.attr("string"),authorName:DS.attr("string"),status:DS.attr("number"),chart:DS.belongsTo("Cibi.Chart"),commentsContainerId:function(){return"chart-comments-"+this.get("chart").get("id")}.property("id")}),Cibi.DashboardFilter=DS.Model.extend({fieldName:DS.attr("string"),comparisonOperator:DS.attr("number"),fieldValues:DS.attr("string"),fieldDataType:DS.attr("string"),formatAs:DS.attr("string"),disabled:DS.attr("boolean"),dateRange:DS.attr("boolean"),upperRange:DS.attr("date"),lowerRange:DS.attr("date"),referenceDirection:DS.attr("string"),referenceCount:DS.attr("number"),referenceUnit:DS.attr("string"),referenceDateToday:DS.attr("string"),referenceDate:DS.attr("date"),displayName:DS.attr("string"),isGlobal:DS.attr("boolean"),predefinedRange:DS.attr("string"),dashboard:DS.belongsTo("Cibi.Dashboard"),user:DS.belongsTo("Cibi.User"),dataType:function(){return this.get("fieldDataType")},can_edit:function(){var e=Cibi.Auth.get("currentUser").get("isAdmin");if(e)return e;var t=Cibi.Auth.get("currentUser").get_role("Dashboard",this.get("dashboard").id);return t&&"admin"==t}.property("Cibi.Auth.currentUser.isLoaded")}),Cibi.DataConnection=DS.Model.extend({displayName:DS.attr("string"),host:DS.attr("string"),dbname:DS.attr("string"),username:DS.attr("string"),password:DS.attr("string"),port:DS.attr("string"),socket:DS.attr("string"),useSsl:DS.attr("boolean"),queryDuration:DS.attr("number"),connectionType:DS.attr("string"),accountId:DS.attr("number"),serviceName:DS.attr("string"),dataServerName:DS.attr("string"),connectionInfoClass:function(){return"connectionInfo-"+this.get("id")}.property("")}),Cibi.DataContent=DS.Model.extend({init:function(){this._super()},filename:DS.attr("string"),content:DS.attr("string"),createdAt:DS.attr("date"),size:DS.attr("number"),format:DS.attr("string"),creationTime:DS.attr("string"),dataSource:DS.belongsTo("Cibi.DataSource")}),Cibi.DataSource=DS.Model.extend({content:DS.attr("string"),dimensionsStr:DS.attr("string"),groupsStr:DS.attr("string"),fieldsStr:DS.attr("string"),name:DS.attr("string"),dataSourceType:DS.attr("string"),accountId:DS.attr("number"),loadCount:DS.attr("number"),enabled:DS.attr("boolean"),dataTypesUpdated:DS.attr("boolean"),uniqueStr:DS.attr("string"),indexStr:DS.attr("string"),fileUploadState:DS.attr("number"),sheetsArray:DS.attr("string"),ignoredStr:DS.attr("string"),previewHeaders:DS.attr("string"),previewData:DS.attr("string"),rulesStr:DS.attr("string"),updatedAt:DS.attr("date"),chartsDataSources:DS.hasMany("Cibi.ChartsDataSource"),dataContents:DS.hasMany("Cibi.DataContent"),userFilters:DS.hasMany("Cibi.UserFilter"),queryDataSource:DS.belongsTo("Cibi.QueryDataSource"),spreeDataSource:DS.belongsTo("Cibi.SpreeDataSource"),accountTemplate:DS.belongsTo("Cibi.AccountTemplate"),rules:DS.hasMany("Cibi.Rule"),nextRun:function(){var e=this,t=e.get("dataSourceType"),n="mysql"==t||"mssql"==t||"oracle"==t?e.get("queryDataSource"):e.get("spreeDataSource");if(n){var i="mysql"==t||"mssql"==t||"oracle"==t?n.get("frequency"):n.get("frequencyOfImport"),r=n.get("lastRunAt")?n.get("lastRunAt"):n.get("createdAt"),a=new Date(r);return a.setMinutes(a.getMinutes()+(n?i:0)),new Date(a)}return!1}.property("queryDataSource.isLoaded","spreeDataSource.isLoaded","queryDataSource.lastRunAt","spreeDataSource.lastRunAt"),lastRunStatus:function(){var e=this,t=e.get("dataSourceType"),n="mysql"==t||"mssql"==t||"oracle"==t?e.get("queryDataSource"):!1;return n?n.get("last_run_status")+" on "+n.get("lastRunAt"):!1}.property("queryDataSource.isLoaded","spreeDataSource.isLoaded","queryDataSource.lastRunAt","spreeDataSource.lastRunAt"),getDataSourceFields:function(){var e=this.get("fieldsStr");if(!e)return[];var t=JSON.parse(e),n=[];t.forEach(function(e){n.push(e[Object.keys(e)[0]])});var t=n;return t}.property("fieldsHash"),fieldsArr:function(){var e=this.get("fieldsStr");if(!e)return[];var t=JSON.parse(e);return t?t.map(function(e){return e.name}):[]}.property("dimensionsStr","fieldsStr"),uniqueKeyFieldsArr:function(){var e=this.get("fieldsArr");return[""].concat(e)}.property("fieldsArr"),uniqueKeyField:function(){var e=JSON.parse(this.get("uniqueStr"));return e=_.filter(e,function(e){return e}),e.objectAt(0)}.property("uniqueStr"),fieldsHash:function(){var e=this.get("fieldsStr");if(!e)return[];var t=JSON.parse(e);return t}.property("fieldsStr","dataTypesUpdated"),dataPreviewHash:function(){var e=this.get("previewData");if(!e)return!1;var t=JSON.parse(e).data;return t}.property("previewHeaders"),totalRows:function(){var e=this.get("previewData");if(!e)return!1;var t=JSON.parse(e).length;return t}.property("previewHeaders"),previewHeadersArr:function(){var e=this.get("previewHeaders");if(!e)return[];data=JSON.parse(e);var t=[];return data.forEach(function(e){t.push(e.name)}),t}.property("previewHeaders"),uniqueKeyArr:function(){var e=this.get("uniqueStr");if(!e)return[];var t=JSON.parse(e);return t=_.filter(t,function(e){return e})}.property("uniqueStr"),save:function(){var e=this;e.get("transaction").commit({data_source:e})},createDimensionFunction:function(e){var t=function(t){return t[e]?t[e].trim():""};return t},getDimension:function(e){var t=this.get("dimensionsMap");return t?t[e]:!1},shouldReload:function(){var e=this.get("isLoaded")&&"saved"==this.stateManager.currentState.name,t=this.get("content");return!t&&e},getDataType:function(e){var t=JSON.parse(this.get("fieldsStr")),n="";return t.forEach(function(t){t.name==e&&(n=t.data_type)}),n},imageUrl:function(){var e=this.get("dataSourceType");return"/assets/"+e}.property(""),factsArr:function(){return this.get("fieldsArr")}.property("fieldsStr"),depthArr:function(){return this.get("dimensionsArr")}.property("dimensionsStr"),multipleSheets:function(){return 1==this.get("fileUploadState")}.property("fileUploadState"),uploadedToRedis:function(){return 3==this.get("fileUploadState")}.property("fileUploadState"),ruleApplied:function(){return 4==this.get("fileUploadState")}.property("fileUploadState"),headerArr:function(){var e=this.get("fieldsStr");if(!e)return[];var t=JSON.parse(e);if("object"==$.type(t[0])){var n=[];t.forEach(function(e){n.push(Object.keys(e)[0])});var t=n}var i=JSON.parse(this.get("dimensionsStr")),r=_.difference(t,i);return r=_.filter(r,function(e){return e&&""!=e.trim()})}.property(""),getUniqueKeys:function(e,t,n,i){var r=this;if(!e)return[];var a=r.get("field_unique_keys")||{};if(a[e+t])keys=a[e+t],void 0!=n&&n(keys,i);else{var s=Cibi.Auth.get("authToken"),o="/data_sources/"+this.get("id")+"/uniqueKeys?field="+e+"&auth_token="+s;if(t&&(o+="&formatAs="+t),console.log(o),req=$.ajax({url:o,type:"get",async:!0,success:function(s){keys=s.keys,a[e+t]=keys,r.set("field_unique_keys",a),void 0!=n&&n(keys,i)}}),void 0==n)return keys.sort()}}}),Cibi.Dimension=DS.Model.extend({fieldName:DS.attr("string"),formatAs:DS.attr("string"),displayName:DS.attr("string"),rank:DS.attr("number"),sortOrder:DS.attr("string"),isRow:DS.attr("boolean"),chart:DS.belongsTo("Cibi.Chart"),accountTemplate:DS.belongsTo("Cibi.AccountTemplate")}),Cibi.HighlightRule=DS.Model.extend({comparison_function:DS.attr("string"),operator:DS.attr("string"),comparison_value:DS.attr("number"),configs:DS.attr("string"),chart:DS.belongsTo("Cibi.Chart"),enable_highlight:DS.attr("boolean"),enable_sem:DS.attr("boolean"),highlightData:function(e,t){var n=this.get("chart"),i=this,r=e;return _.each(r,function(e,r){if(e.to_highlight=!1,e.fill_color=null,e.key==t[r].key&&i&&i.get("enable_highlight"))if(e.key==JSON.parse(i.get("configs")).control_field)e.to_highlight=!0,e.fill_color=n.controlKey();else{var a=t[r].pValue;if(void 0!=a&&"undefined"!=a){var s=!1;switch(i.get("operator")){case"equal":a==i.get("comparison_value")&&(s=!0);break;case"less than":a<i.get("comparison_value")&&(s=!0);break;case"greater than":a>i.get("comparison_value")&&(s=!0)}s&&(e.to_highlight=!0,e.fill_color=n.statisticalRelevance())}}}),r}}),Cibi.ErrorBars=Ember.Object.create({draw:function(e,t,n,i,r,a){var s=e,o=s.get("chartsDataSources").objectAt(0),l=o.get("factDisplay");s.get("parseDate"),_.each(t,function(e,t){e.key==n[t].key&&_.each(n[t],function(t,n){e[n]=t})}),errorBarColor=s.errorBar();var c=this.errorBar(errorBarColor).oldXScale(r).xScale(r).oldYScale(a).yScale(a).yValue(function(e){return e[l]?a(e[l]):a(0)}).xValue(function(e){return r(e.key)+("ordinal"==s.get("scale_type")?r.rangeBand()/2:0)}).xError(function(){return null}).yError(function(e){return e.sem}),h=i.append("g");h.selectAll("g").data(t).enter().append("g").attr("transform",function(e){var t=r(e.key)+r.rangeBand()/2,n=a(e[l]);return"translate("+t+","+n+")"}).call(c)},errorBar:function(e){function t(t){t.each(function(){var t,h,p,f=d3.select(this),g=g||s.exists(f.datum().errormarker),m=f.selectAll(".err").data(function(e){return null!==l(e)||null!==c(e)?[e]:[]},u);switch(g){case null:t=m.enter().append("path").attr("class","err").style("fill","none").style("shape-rendering","crispEdges").style("stroke-width","1px").style("stroke",e),h=d3.transition(m.exit()).remove(),p=d3.transition(m),errTransform=function(e,t,n){e.attr("d",function(e){var i=null===c(e)?[-o,o]:[n(d(e)-c(e))-n(d(e)),n(d(e)+c(e))-n(d(e))],r=null===l(e)?[-o,o]:[t(u(e)-l(e))-t(u(e)),t(u(e)+l(e))-t(u(e))];return"M 0,"+i[0]+" L 0,"+i[1]+" M "+r[0]+","+i[1]+" L "+r[1]+","+i[1]+" M "+r[0]+","+i[0]+" L "+r[1]+","+i[0]})};break;case g:m.append("use").attr("class",marker+" err"),m.selectAll("use").attr("xlink:href","#"+marker).attr("transform",function(e){return"scale("+l(e)+","+c(e)+")"})}if(r.ticks)t.call(errTransform,n,i),p.call(errTransform,r,a),h.call(errTransform,r,a);else{var v=r.range()[1]/2,b=function(e){return r(e)+v},y=a.range()[1]/2,x=function(e){return a(e)+y};t.call(errTransform,b,x),p.call(errTransform,b,x)}})}var n,i,r,a,s=this,o=5,l=function(e){return s.exists(e[0].s)},c=function(e){return s.exists(e[1].s)},h=null,u=function(e){return void 0===e[0].x?e[0]:e[0].x},d=function(e){return void 0===e[1].x?e[1]:e[1].x};return t.size=function(e){return arguments.length?(o=e,t):o},t.xError=function(e){return arguments.length?(l=e,t):l},t.yError=function(e){return arguments.length?(c=e,t):c},t.oldXScale=function(e){return arguments.length?(n=e,t):n},t.oldYScale=function(e){return arguments.length?(i=e,t):i},t.xScale=function(e){return arguments.length?(r=e,t):r},t.yScale=function(e){return arguments.length?(a=e,t):a},t.xValue=function(e){return arguments.length?(u=e,t):u},t.yValue=function(e){return arguments.length?(d=e,t):d},t.errormarker=function(e){return arguments.length?(h=e,t):h},t},exists:function(e){return void 0===e?null:e}}),Cibi.Forecast=Ember.Object.create({draw:function(e,t,n,i){var r=e,a=r.forecast,s=[{line:"mean",color:"green"},{line:"lower",color:"red"},{line:"upper",color:"blue"}];s.forEach(function(e){var s=d3.svg.line().x(function(e){return n(r.parseDate(e.key))}).y(function(t){return i(t[e.line])}).interpolate("cardinal");t.append("svg:path").attr("d",s(a)).attr("clip-path",r.getClipPathUrl()).style("fill","none").style("stroke",e.color)})}}),Cibi.Stats=Ember.Object.create({getRelevanceStats:function(e,t){var n,i,r,a,s,o;return e.forEach(function(e){var l=new RegExp(t,"gi"),c=e.key.match(l);c&&c.length>0&&(o=!0,i=e.avg,r=e.stddev,a=e.count,s=e.stddev/Math.sqrt(e.count),n=e.val)}),{control_key_found:o,control_stddev:r,control_mean:i,control_count:a,control_sem:s,control_val:n}}}),Cibi.Measure=DS.Model.extend({fieldName:DS.attr("string"),formatAs:DS.attr("string"),displayName:DS.attr("string"),sortOrder:DS.attr("string"),isCalculated:DS.attr("boolean"),prefix:DS.attr("string"),suffix:DS.attr("string"),unit:DS.attr("string"),chart:DS.belongsTo("Cibi.Chart"),accountTemplate:DS.belongsTo("Cibi.AccountTemplate"),factUnit:function(){return unit={},unit.prefix=this.get("prefix"),unit.suffix=this.get("suffix"),unit}.property("prefix","suffix")}),Cibi.Permission=DS.Model.extend({role:DS.attr("string"),permissibleType:DS.attr("string"),permissibleId:DS.attr("number"),user:DS.belongsTo("Cibi.User"),userName:function(){var e=this.get("user");return e?e.get("firstName")+" "+e.get("lastName"):void 0}.property("user"),userPermissions:function(){this.get("user")}.property("user"),entityName:function(){var e=this.get("permissibleType");if("Vertical"==e)return Cibi.Vertical.find(this.get("permissibleId")),"Entire Vertical";if("Dashboard"==e){var t=Cibi.Dashboard.find(this.get("permissibleId"));return t.get("displayName")}}.property("permissibleType","permissibleId","user")}),Cibi.QueryDataSource=DS.Model.extend({query:DS.attr("string"),frequency:DS.attr("number"),lastRunAt:DS.attr("string"),enabled:DS.attr("boolean"),dataSourceId:DS.attr("number"),dataConnectionId:DS.attr("number"),importType:DS.attr("number"),bookmarkKey:DS.attr("string"),bookmarkComparisonOperator:DS.attr("string"),last_run_successful:DS.attr("boolean"),last_run_status:DS.attr("string"),createdAt:DS.attr("date"),unsuccessfullCount:DS.attr("number")}),Cibi.Rule=DS.Model.extend({ruleType:DS.attr("number"),ruleInput:DS.attr("string"),ruleOutput:DS.attr("string"),queryDataSource:DS.belongsTo("Cibi.DataSource")}),Cibi.ScheduledReport=DS.Model.extend({userId:DS.attr("number"),dashboardId:DS.attr("number"),isScheduled:DS.attr("boolean"),lastSentAt:DS.attr("date"),emails:DS.attr("string"),days:DS.attr("number"),time:DS.attr("number")}),Cibi.SpreeDataSource=DS.Model.extend({storeName:DS.attr("string"),storeUrl:DS.attr("string"),apiToken:DS.attr("string"),frequencyOfImport:DS.attr("number"),dataSourceId:DS.attr("number"),importType:DS.attr("string"),enabled:DS.attr("boolean"),createdAt:DS.attr("date"),lastRunAt:DS.attr("string")}),Cibi.User=DS.Model.extend({firstName:DS.attr("string"),lastName:DS.attr("string"),isAdmin:DS.attr("boolean"),email:DS.attr("string"),userPermissions:DS.attr("string"),accountId:DS.attr("number"),confirmedAt:DS.attr("date"),password:DS.attr("string"),passwordConfirmation:DS.attr("string"),companyLogoUrl:DS.attr("string"),colorPalette:DS.attr("string"),hasApiAccess:DS.attr("boolean"),authenticationToken:DS.attr("string"),apiAccessToken:DS.attr("string"),logoWidth:DS.attr("number"),permissions:DS.hasMany("Cibi.Permission"),userFilters:DS.hasMany("Cibi.UserFilter"),userColorPreference:DS.belongsTo("Cibi.UserColorPreference"),account:DS.belongsTo("Cibi.Account"),init:function(){this._super(),this.get("userColorPreference"),this.get("account")
},fullName:function(){var e=this.get("firstName")||"",t=this.get("lastName")||"";return e+" "+t}.property("firstName","lastName"),get_company_logo_url:function(){return this.get("companyLogoUrl")?this.get("companyLogoUrl"):"/assets/logo_short.png"}.property("companyLogoUrl"),get_company_logo_width:function(){return this.get("logoWidth")?this.get("logoWidth"):void 0}.property("logoWidth"),get_top_bar_color:function(){if(this.get("colorPalette")){var e=JSON.parse(this.get("colorPalette")),t=e.topBarColor;return t}}.property("colorPalette"),get_workspace_color:function(){if(this.get("colorPalette")){var e=JSON.parse(this.get("colorPalette")),t=e.workspaceColor;return t}}.property("colorPalette"),get_dashboard_color:function(){if(this.get("colorPalette")){var e=JSON.parse(this.get("colorPalette")),t=e.dashboardBarColor;return t}}.property("colorPalette"),permissionsMap:function(){var e=this.get("userPermissions");return e?JSON.parse(e):[]}.property("userPermissions"),get_role:function(e,t){var n=this.get("isAdmin");if(n)return"admin";var i=this.get("permissionsMap"),r=_.filter(i[e],function(e){return e.permissible_id==t});return r&&r.length>0?r[0].role:!1},getDefaultTheme:function(){var e=["#0080FF","#87f788","#FF6666","#737fbe","#e072ac","#9476b4","#f7b487","#87b5f7","#999999","#A4FA75","#FF9999","#85EEAF","#FFA084","#9582F3","#FF9966"];return e},getColors:function(){var e,t=Cibi.Auth.get("colorPreference");e=t?t.getPalette():this.getDefaultTheme();var n=["#99BDE8","#89FCF5","#FFCC99","#FFCC66","#EBFF1E","#CCCC33","#CCFF66","#CC9933","#CC6633","#8DCCD9","#666666","#00FF00","#FF8000","#FF0080","#9999FF","#FF99FF","#00CC33","#C20AFF","#CC0099","#0AC2FF","#470AFF","#FFFF3D","#AA4614","#3A3DB2","#C5FF14","#F15352","#383773","#734F21","#F15352","#BD21F1","#1C455B","#AA106B"];return e.concat(n)},barColor:function(){var e,t=Cibi.Auth.get("colorPreference");return t&&(e=t.getBarColor()),e},lineColor:function(){var e,t=Cibi.Auth.get("colorPreference");return t&&(e=t.getLineColor()),e},areaColor:function(){var e,t=Cibi.Auth.get("colorPreference");return t&&(e=t.getAreaColor()),e},errorBarColor:function(){var e,t=Cibi.Auth.get("colorPreference");return t&&(e=t.getErrorBarColor()),e},controlKeyColor:function(){var e,t=Cibi.Auth.get("colorPreference");return t&&(e=t.getControlKeyColor()),e},statisticalRelevanceColor:function(){var e,t=Cibi.Auth.get("colorPreference");return t&&(e=t.getStatisticalRelevanceColor()),e}}),Cibi.UserColorPreference=DS.Model.extend({colorTheme:DS.attr("number"),bar:DS.attr("string"),line:DS.attr("string"),area:DS.attr("string"),errorBar:DS.attr("string"),controlKey:DS.attr("string"),statisticalRelevance:DS.attr("string"),user:DS.belongsTo("Cibi.User"),palette:function(){var e=this,t=this.getPalette();return e.generateBindAttrArray(t)}.property("colorTheme"),getPalette:function(){var e=this.get("colorTheme"),t=this.getColors();return e||(e=0),t[e]},getColors:function(){var e=Cibi.Auth.get("currentUser");return[e.getDefaultTheme(),["#5458C5","#C55591","#C55559","#C58955","#91C555","#59C555","#55C589","#8D55C5","#BB7D7D","#BB9C7D","#BBBB7D","#9CBB7D","#7DBB9C","#9B758C","#9C9875","#759C98","#75799C","#CA5633","#D3C63E","#968585"],["#DF7777","#AADF76","#76DF76","#76DFAA","#76DFDF","#76AADF","#7676DF","#AA76DF","#A78181","#7A4646","#63232","#11919","#3C57E","#1A268","#BAE4D","#B8535","#CBDAD","#7A87F","#09278","#07371"],["#DAC797","#B8DA96","#96DA96","#96DAB8","#96DADA","#96B8DA","#9696DA","#B896DA","#DFCE4F","#DF7777","#5677B1","#8D51BB","#B87A7A","#49B4A2","#D1B2B2","#A6D667","#9FB4A5","#DF89A4","#EBD9A0","#8BB1A3"],["#8B8880","#DAC797","#E6C677","#DBB042","#C9B138","#C5A608","#AA8F07","#ADBD99","#A6C97B","#90C74D","#85D425","#69B80A","#518315","#A2A5CA","#848CF8","#5A62CF","#3C46D6","#1F2CD6","#0913A0","#705E30"],["#5B8392","#9DB6C3","#CAD9E3","#EEEEEE","#B4CBDE","#EFCE6D","#DAC791","#F7E7BA","#BCE9E9","#85F0F0","#B2CC63","#C4D493","#E2F5AB","#80DA83","#B6E9B7","#E09363","#F8BA93","#AD87D1"],["#BA3D25","#E68D45","#D48484","#C75A5A","#FF5050","#BDA7A7","#796D6D","#669B92","#AC9C4F","#68B66F","#7C91B6","#7A5F94","#E75B5B","#DF5688","#67B0D6","#8AD2FC","#8F5E53","#689E6D"],["#BC1118","#F82930","#A32C47","#940A2A","#7CB41C","#5E7511","#EC930E","#F1BE46","#F67116","#DAD313","#1FD453","#21C0A0","#4F6BA8","#704EC9","#4AA236","#862C9C","#521C57","#09622A"],["#0F0101","#830303","#491313","#351701","#5F2003","#4D3E03","#324102","#1A6603","#055E66","#0646A7","#1D2E85","#4721BF","#8D06C2","#CA04BA","#8D0155","#DA176B","#8B0229","#FF000A"]]},colorThemes:function(){var e=this,t=e.getColors();return t=_.map(t,function(t){return e.generateBindAttrArray(t)})}.property(""),generateBindAttrArray:function(e){return _.map(e,function(e){return"background-color: "+e})},getBarColor:function(){var e=this.get("bar");return e||(e="#0099ff"),e},getLineColor:function(){var e=this.get("line");return e||(e="#ff6633"),e},getAreaColor:function(){var e=this.get("area");return e||(e="#0099ff"),e},getErrorBarColor:function(){var e=this.get("errorBar");return e||(e="#999999"),e},getControlKeyColor:function(){var e=this.get("controlKey");return e||(e="#FFFF00"),e},getStatisticalRelevanceColor:function(){var e=this.get("statisticalRelevance");return e||(e="#00E600"),e}}),Cibi.UserFilter=DS.Model.extend({fieldName:DS.attr("string"),displayName:DS.attr("string"),formatAs:DS.attr("string"),comparisonOperator:DS.attr("number"),fieldValues:DS.attr("string"),disabled:DS.attr("boolean"),hide:DS.attr("boolean"),user:DS.belongsTo("Cibi.User"),dataSource:DS.belongsTo("Cibi.DataSource"),operatorsMap:[{display:"in",value:0},{display:"less than",value:1},{display:"greater than",value:2},{display:"not in",value:3},{display:"not null",value:4}],operator:function(){var e=this.get("comparisonOperator");if(4==e)return"is";if(void 0!==e&&null!==e){var t=this.get("operatorsMap").filter(function(t){return t.value==e});return t[0].display}}.property("comparisonOperator","isLoaded"),values:function(){var e=this.get("fieldValues");return e?JSON.parse(e):[]}.property("fieldValues"),values_str:function(){var e=this.get("values");return 4==this.get("comparisonOperator")?"NOT NULL":(e=_.map(e,function(e){return displayTick(e)}),e.join(","))}.property("values")}),Cibi.Vertical=DS.Model.extend({name:DS.attr("string"),accountId:DS.attr("number"),description:DS.attr("string"),iconType:DS.attr("string"),customIcon:DS.attr("string"),customIconUrl:DS.attr("string"),dashboards:DS.hasMany("Cibi.Dashboard"),permissions:DS.hasMany("Cibi.Permission"),accountTemplate:DS.belongsTo("Cibi.AccountTemplate"),currentDashboards:function(){var e=this.get("currentPage")?this.get("currentPage"):1;this.set("currentPage",e);for(var t=this.get("dashboards"),n=[],i=4*e,r=i-4;i>r&&r<t.get("length");r++)n.push(t.objectAt(r));return n}.property("Cibi.Auth.currentUser.isLoaded","currentPage","dashboards.length"),can_edit:function(){var e=Cibi.Auth.get("currentUser").get("isAdmin");if(e)return e;var t=Cibi.Auth.get("currentUser").get_role("Vertical",this.get("id")),n=t&&"admin"==t||t&&"manager"==t;return n}.property("Cibi.Auth.currentUser.isLoaded"),can_destroy:function(){var e=Cibi.Auth.get("currentUser").get("isAdmin");if(e)return e;var t=Cibi.Auth.get("currentUser").get_role("Vertical",this.get("id"));return t&&"admin"==t}.property("Cibi.Auth.currentUser.isLoaded"),getNextDashBoards:function(){var e=this.get("dashboards").length;3*this.get("currentPage")<e&&this.get("currentPage")+1},iconUrl:function(){if(this.get("customIcon")&&"/custom_icons/original/missing.png"!=this.get("customIcon"))return this.get("customIconUrl");var e=null!==this.get("iconType")?this.get("iconType"):"folder";return"assets/"+e+".png"}.property("customIcon","customIconUrl"),titleDescription:function(){var e='<div style="height:auto; width: 200px; text-align:left;">';return e+="<h5 style='border-bottom:1px solid grey;'>"+this.get("name")+"</h5>",this.get("description")&&(e+="<p>"+this.get("description")+"</p>"),e+="</div>"}.property("")}),Cibi.AccountSettingsIndexController=Ember.ObjectController.extend({}),Cibi.AccountSettingsAccountTemplatesController=Ember.ObjectController.extend({needs:["verticals","dataSources"],accountTemplates:function(){var e=Cibi.Auth.get("currentUser");if(!e)return[];var t=e.get("account");return t?t.get("accountTemplates"):[]}.property("Cibi.Auth.currentUser.account.accountTemplates"),availableTemplates:function(){var e=["Spree Commerce","Asana","Shopify"];return e}.property("")}),Cibi.ApplicationController=Ember.Controller.extend({}),Cibi.AuthController=Em.Controller.extend({login:function(e){Cibi.Auth.signIn({data:e}),Cibi.Auth.on("signInSuccess",function(){Cibi.Auth.set("signing_in",!0),Cibi.Auth.set("errorMessage",!1),Cibi.Auth.set("infoMessage","Signed In Successfully!"),window.location.reload()}),Cibi.Auth.on("signInError",function(){Cibi.Auth.set("signing_in",!1),Cibi.Auth.set("errorMessage","Incorrect Password!")})}}),Cibi.ChartController=Ember.ObjectController.extend({"delete":function(){var e=confirm("Are you sure you want to delete this chart?");if(1==e){var t=this,n=this.get("content"),i=n.get("dashboard"),r=n.get("chartsDataSources"),a=n.get("dimensions"),s=n.get("measures"),o=this.get("store");r.get("length"),n.deleteRecord(),o&&(r.forEach(function(e){o.unloadRecord(e)}),a.forEach(function(e){o.unloadRecord(e)}),s.forEach(function(e){o.unloadRecord(e)})),n.on("didDelete",function(){t.transitionToRoute("dashboard.charts",i)}),o.commit()}},toggleDrill:function(){var e=this.get("content");1==e.get("modalEnabled")?(e.set("modalEnabled",0),e.get("store").commit(),$("#"+this.get("drillId")).parent().attr("style",""),$("#"+this.get("drillId")).attr("data-original-title","On Click Drill Through Disabled")):(e.set("modalEnabled",1),e.get("store").commit(),$("#"+this.get("drillId")).parent().attr("style","background-color:green"),$("#"+this.get("drillId")).attr("data-original-title","On Click Drill Through Enabled"))},download_table_as_image:function(){var e=this;if(id="#pivot-table-chart-"+this.get("id"),14==this.get("chartType")){var t=document.createElement("div");t.setAttribute("id","temp-img");var n=document.createElement("div");n.className="row";var i=Cibi.Auth.currentUser.get("get_company_logo_url");if(i&&i.length>0){var r=document.createElement("div");r.className="span",$(r).addClass("pull-left");var a=new Image;a.src=i,a.setAttribute("width","200px"),a.setAttribute("height","50px"),r.appendChild(a),n.appendChild(r)}var s=e.get("content").get("description");if(s&&s.length>0){var o=document.createElement("div");o.className="span",$(o).addClass("pull-right"),o.setAttribute("style","width:25%;"),$(o).html("<span><p style='text-align:right;'>"+s+"</p></span>"),n.appendChild(o)}t.appendChild(n);var l=this.get("title");l&&$(t).append("<div class='row'><div style='color:#2093cc;font-family:16px Roboto-Light;padding-bottom:5px;'>"+l+"</div></div>"),this.get("subtitle")&&$(t).append("<div class='row'><div style='color:#7c7c7c;font-family:16px Roboto-Light;padding-bottom:5px;'>"+this.get("subtitle")+"</div></div>");var c=$(id).clone(),h=c.find(".floatThead-container");h.find("thead").css("border-top","2px solid #DCDCDC"),c.find(".floatThead_container").remove(),c.find("thead").html(h.find("thead").html()),$(t).append(c),$(t).find(id).removeAttr("style"),$(t).find(id).find(".pvtTable").css("border-top","2px solid #DCDCDC"),$(t).find(id).find(".pvtTable").css("border-right","1px solid #DCDCDC"),$(t).find(id).find(".pvtTable").css("border-bottom","1px solid #DCDCDC"),$(t).find("*").removeClass("clickableCells"),$(t).find("th.pvtAxisLabel:contains('Measure')").text("Values"),$("body").append($(t)),height=$("#temp-img").find(id).find("table").height()+150,width=$("#temp-img").find(id).find("table").width()+40,t.setAttribute("style","padding:50px;background-color:white;height:"+height+"px;width:"+width+"px;"),html2canvas($(t),{onrendered:function(e){$("#temp-img").remove();var t=e.toDataURL("image/jpeg"),n=width>height?"l":"p",i=new jsPDF(n,"pt",[width+50,height+50]);i.addImage(t,"JPEG",15,10,width,height),i.save(l+".pdf")}})}},download:function(){if(["14"].contains(this.get("chartType")))return this.download_table_as_image(),void 0;var e="#chart-"+this.get("id"),t=$("#"+this.get("legendId")),n=$(t.find(".legend_rect").children());this.get("configObj");var i={ignoreAnimation:!0,ignoreMouse:!0,ignoreClear:!0,ignoreDimensions:!0,offsetX:20,offsetY:30},r=0;_.each(n,function(e){var t=$(e);t.attr("data-original-title").length>r&&(r=t.attr("data-original-title").length)});var a=17,s=this.get("width"),o=this.get("height"),l=document.createElement("canvas"),c=this.get("hasLegend");l.width=s+30,l.height=c?o+60+a*(Math.ceil((10*r+38)*n.length/s)+5):o+60;var h=l.getContext("2d");if(h.font="12pt Roboto-Light",h.translate(.5,.5),h.fillStyle="white",h.fill(),h.fillRect(0,0,l.width,l.height),h.stroke(),this.get("title")&&(h.fillStyle="#2093cc",h.font="16pt Roboto-Light",h.fillText(this.get("title"),15,30)),this.get("subtitle")&&(h.fillStyle="#7c7c7c",h.font="12pt Roboto-Light",h.fillText(this.get("subtitle"),15,50)),this.get("hasLegend"))for(var u=20,d=o+50,p=0;p<n.length;p++){var f=$(n[p]);u+13+10*r+5>l.width&&(u=20,d+=a),h.font="8pt Roboto-Light",h.fillStyle=f.attr("style").split(":")[1],h.fillRect(u,d+a-8,10,10),u+=13,h.fillStyle="black",h.fillText(f.attr("data-original-title"),u,d+a),u=u+10*r+5}h.font="9pt Roboto-Light";var g=this.get("marginTop"),m=this.get("marginLeft");2!=this.get("chartType")&&15!=this.get("chartType")&&20!=this.get("chartType")&&$($(e).find("svg").find("g")[0]).attr("transform","translate("+(m>50?m:50)+","+(g>40?g:40)+")"),canvg(l,$(e).html(),i);var v=l.toDataURL("image/png");2!=this.get("chartType")&&15!=this.get("chartType")&&20!=this.get("chartType")&&$($(e).find("svg").find("g")[0]).attr("transform","translate("+m+","+g+")");var b=document.createElement("a");b.href=v,b.download=this.get("title")+".png",document.body.appendChild(b),b.click(),document.body.removeChild(b)},downloadData:function(){var e,t=this,n=t.get("content"),i=n.get("chartsDataSources").objectAt(0),r=_.clone(n.get("dbAggregatedData")),a=n.forecast,s=n.get("formatDate"),o=n.get("parseDate");if(a){var l=[];_.each(r,function(e){var t={};t[i.get("dimensionDisplay")]=s(o(e[i.get("dimensionDisplay")])),t[i.get("factDisplay")]=e[i.get("factDisplay")],t["Value Type"]="Base Data",t["Lower Bound"]="",t["Upper Bound"]="",l.push(t)}),_.each(a,function(e){var t={};t[i.get("dimensionDisplay")]=s(o(e.key)),t[i.get("factDisplay")]=e.mean,t["Value Type"]="Predicted Data",t["Lower Bound"]=e.lower,t["Upper Bound"]=e.upper,l.push(t)}),e=l}else e=[],_.each(r,function(t){var n={};for(var i in t)"object"!=typeof t[i]&&(n[i]=t[i]);e.push(n)}),n.get("dimensions").forEach(function(t){var i=n.getDateFormatFunctions(t);s=i.formatDate,o=i.parseDate,s&&_.each(e,function(e){e[t.get("displayName")]=s(o(e[t.get("displayName")]))})});var c=t.JSON2CSV(e),h=n.get("title")+".csv";t.downloadAsCSV(c,h,"text/csv")},JSON2CSV:function(e){var t=this,n=t.get("content"),i=n.get("dimensions").toArray(),r=n.get("measures").toArray(),a=i.concat(r);a=_.map(a,function(e){return e.get("displayName")});var s="object"!=typeof e?JSON.parse(e):e,o="",l="";_.each(a,function(e){var t=e+"";l+='"'+t.replace(/"/g,'""')+'",'}),l=l.slice(0,-1),o+=l+"\r\n";for(var c=0;c<s.length;c++){var l="";_.each(a,function(e){var t=s[c][e]?s[c][e]:"";l+='"'+t.replace(/"/g,'""')+'",'}),l=l.slice(0,-1),o+=l+"\r\n"}return o},downloadAsCSV:function(e,t,n){n||(n="application/octet-stream");var i=document.createElement("a"),r=new Blob([e],{type:n});i.href=window.URL.createObjectURL(r),i.download=t,i.click()},updateChart:function(e,t){var n=Cibi.Chart.find(e),i=t.title||"",r=t.subtitle||"";n.set("title",i),n.set("subtitle",r),n.on("didUpdate",function(){n.draw()}),n.get("store").commit()},currentFilter:function(){var e=this.get("chartFilter")||"Reset";return e.length>20&&(e=e.substr(0,20)),e}.property("chartFilter"),isXAxisScaleOrdinal:function(){return"ordinal"==this.get("content").get("scale_type")?"disabled":!1}.property("content.scale_type"),isYAxisScaleOrdinal:function(){return"10"==this.get("content").get("chartType")||"horizontal-bar"==this.get("content").get("chartType")?!0:!1}.property("content.scale_type"),disabledTooltip:function(){return"ordinal"==this.get("content").get("scale_type")?($("#"+this.get("content").get("containerId")).find("div[name='xDomainMinValue']").tooltip(),$("#"+this.get("content").get("containerId")).find("div[name='xDomainMaxValue']").tooltip(),"Not valid for ordinal scale charts"):""}.property("content.scale_type"),isNotLinearScale:function(){return"linear"==this.get("content").get("scale_type")?!1:!0}.property("content.scale_type"),reset:function(e){this.get("content").reset(e)},resetLegendFilter:function(){this.get("content").resetLegendFilter()},draw:function(){try{this.set("errorMessage",null),this.get("content").draw()}catch(e){return this.set("errorMessage",e),void 0}},downloadable:function(){return $(".sample_link").tooltip(),!["0","7"].contains(this.get("chartType"))}.property("configObj"),onlyDataDownloadable:function(){return"0"==this.get("chartType")}.property("configObj"),isLineOrAreaChart:function(){var e=this.get("content").get("chartType");return console.log(e),"8"==e||"11"==e?!0:!1}.property("content.chartType"),isTimeSeriesChart:function(){var e=this.get("content").get("chartType");return console.log(e),"8"==e||"11"==e||"12"==e||"9"==e?!0:!1}.property("content.chartType"),resizeChart:function(e){var t=this.get("content"),n=t.get("hasLegend"),i=n?100:10,r=e.width-i-35,a=e.height-78;t.set("width",r),t.set("height",a),t.get("transaction").commit({chart:e})},popoverId:function(){return"margins-icon-"+this.get("id")}.property(""),dataSourcePopoverId:function(){return"data-source-popover"+this.get("id")}.property(""),configObject:function(){return JSON.parse(this.get("configs"))}.property(""),drillId:function(){return"btn-"+this.get("id")}.property(""),titleToggle:function(){return 1==this.get("modalEnabled")?"On Click Drill Through Enabled":"On Click Drill Through Disabled"}.property(""),updateMargins:function(){var e=this,t=this.get("content"),n=t.get("axesConfigsObj");n&&(n.yDomainMinValue&&"0"!=n.yDomainMinValue&&t.set("axesConfigsObj.yDomainMinValue",e.formatDomainValue(n.yDomainMinValue)),n.yDomainMaxValue&&"0"!=n.yDomainMaxValue&&t.set("axesConfigsObj.yDomainMaxValue",e.formatDomainValue(n.yDomainMaxValue)),n.xDomainMinValue&&"0"!=n.xDomainMinValue&&t.set("axesConfigsObj.xDomainMinValue",e.formatDomainValue(n.xDomainMinValue)),n.xDomainMaxValue&&"0"!=n.xDomainMaxValue&&t.set("axesConfigsObj.xDomainMaxValue",e.formatDomainValue(n.xDomainMaxValue)),n.rightYDomainMinValue&&"0"!=n.rightYDomainMinValue&&t.set("axesConfigsObj.rightYDomainMinValue",e.formatDomainValue(n.rightYDomainMinValue)),n.rightYDomainMaxValue&&"0"!=n.rightYDomainMaxValue&&t.set("axesConfigsObj.rightYDomainMaxValue",e.formatDomainValue(n.rightYDomainMaxValue)));var i=JSON.stringify(n);t.set("axesConfigs",i),t.on("didUpdate",function(){t.draw()}),t.get("store").commit()},formatDomainValue:function(e){return e=e.toString(),-1!=e.indexOf("k")?(e.replace("k",""),1e3*toFloat(e)):-1!=e.indexOf("L")?(e.replace("L",""),1e5*toFloat(e)):-1!=e.indexOf("Cr")?(e.replace("Cr",""),1e7*toFloat(e)):-1!=e.indexOf("M")?(e.replace("M",""),1e6*toFloat(e)):-1!=e.indexOf("B")?(e.replace("B",""),1e9*toFloat(e)):toFloat(e)},updateTypes:function(e){var t=this.get("content");t.get("hasLegend"),t.set("chartType",e.chartType),t.on("didUpdate",function(){t.draw()}),t.get("store").commit()},updateDataSource:function(){var e=this.get("content");e.on("didUpdate",function(){e.draw()}),e.get("transaction").commit()},updateChartConfigs:function(e){var t=this.get("content");t.get("chartsDataSources").objectAt(0),1==$.isEmptyObject(e)?t.set("configs",null):(t.set("configs",JSON.stringify(e)),void 0!==e.sort_by_key?t.set("sortByKey","true"):t.set("sortByKey","false"),e.Count&&this.updateCount(e.Count)),t.on("didUpdate",function(){t.draw()}),t.get("store").commit()},updateCount:function(e){var t=this.get("content"),n=t.get("chartsDataSources").objectAt(0);n.set("count",e),n.get("store").commit()},editType:function(){var e=this,t=this.get("content").get("chartType"),n=this.get("content").get("measures").get("content").length,i=this.get("content").get("dimensions").get("content").length,r=this.get("content").get("chartsDataSources").objectAt(0).get("depth"),a=new Array;if(t)switch(t){case"1":return a=1==n&&null==r?["2","8","11","17","18"]:1==n&&r.length>0?["9"]:["6"];case"2":return a=["1","8","11","17","18"];case"3":return a=["0"];case"0":return a=["3"];case"4":return a=["1"];case"6":return a=["1"];case"8":return a=["1","11","2"];case"9":return a=["1"];case"11":return a=["1","8","2"];case"13":var s=e.get("content").get("measures").objectAt(0).get("formatAs");if(1==n&&void 0!=s&&s.trim().length>0)return null==r?a=["1","8","11","2"]:r.length>0&&(a=["1","9","12"]),a;break;case"17":return a=["1","2","8","11","18"];case"18":return a=["1","2","8","11","17"];case"20":return a=["15"];case"15":return 0==i&&(a=["20"]),a;default:return a=[]}}.property("chartType"),getSortByKey:function(){var e=this.get("content");return"true"==e.get("sortByKey")?!0:!1}.property("sortByKey"),dimensionsGroupArr:function(){var e=this;if(!e.get("isSetup"))return[];var t=this.get("content").get("dimension_unique_values");e.set("dimensionsArray",t)}.observes("isSetup","dimension_unique_values"),fieldsArr:function(){var e=this.get("content").get("chartsDataSources").objectAt(0);if(!e)return[];var t=e.get("dataSource").get("fieldsArr").sort();return[""].concat(t)}.property("isSetup"),fieldType:function(e){var t=this.get("content").get("chartsDataSources").objectAt(0);if(!t)return!1;var n=t.get("dataSource").getDataType(e);return n},getDimensionUniqueVals:function(e,t,n,i){if(!this.get("isSetup"))return[];var r=this.get("content").get("dimension_unique_values"),a=this.get("content").get("chartsDataSources").objectAt(0);if(!a)return[];if(!e)return[];("Hours"==i||"Day"==i||"Week"==i)&&(i=null);var r=a.getUniqueKeys(e,null,function(e){t&&t(e,n)});return r},set_filters:function(e){var t=this;t.get("id");var n=Cibi.ChartFilter.createRecord(e);n.on("didCreate",function(){var e=t.get("dashboard");e&&e.drawAll()}),n.set("chart",t.get("content")),n.get("transaction").commit()},selectedFieldsForDrillThrough:function(){this.get("selectedFields")||{}}.observes("selectedFields.@each"),isPivotTable:function(){return"14"==this.get("content").get("chartType")?!0:!1}.property("content.chartType"),isTableChart:function(){return"14"==this.get("content").get("chartType")||"7"==this.get("content").get("chartType")||"0"==this.get("content").get("chartType")?!0:!1}.property("content.chartType"),openConfigModal:function(e){var t=this;$("#"+e.get("containerId")).find("#modal-pivot-configs").modal(),$("#"+e.get("containerId")).find("#modal-pivot-configs").find(".draggableElement").draggable({appendTo:$("#"+e.get("containerId")).find("#modal-pivot-configs"),helper:"clone",revert:"invalid"}),$("#"+e.get("containerId")).find("#modal-pivot-configs").find(".droppableElement ul").droppable({drop:function(e,n){if($(this).find(".placeholder").remove(),n.draggable.parent().attr("id")!=this.id){var i=JSON.parse(t.get("content").get("configs")?t.get("content").get("configs"):"{}"),r=n.draggable.find("label").text();if("row_fields"==n.draggable.parent().attr("id"))r=n.draggable.find("label").text(),i.hierarchy=_.without(i.hierarchy,r);else if("column_fields"==n.draggable.parent().attr("id"))r=n.draggable.find("label").text(),i.column_fields=_.without(i.column_fields,r);else if("measure_fields"==n.draggable.parent().attr("id")){var a=n.draggable.find("select").val();r=a.split("(")[1].replace(")","");var s=_.find(i.measure_fields,function(e){return e.format+"("+e.field+")"==a});i.measure_fields=_.without(i.measure_fields,s)}if("row_fields"==this.id)i.hierarchy||(i.hierarchy=[]),i.hierarchy.push(r);else if("column_fields"==this.id)i.column_fields||(i.column_fields=[]),i.column_fields.push(r);else if("measure_fields"==this.id){var o={};o.field=r,o.format="Sum",i.measure_fields||(i.measure_fields=[]),i.measure_fields.push(o)}t.get("content").set("configs",JSON.stringify(i))}}}).sortable({revert:!0,placeholder:"ui-state-highlight"})},singleValueChart:function(){return"15"==this.get("chartType")}.property(""),showStatisticalToolbox:function(){return"1"==this.get("chartType")||"8"==this.get("chartType")||"11"==this.get("chartType")}.property("chartType"),changeFormatAs:function(){var e=this,t=e.get("content").get("dimensions"),n=t.objectAt(0),i=n.get("fieldName");"Month Year"==$(event.target).text()?(n.set("formatAs","Month Year"),n.set("displayName","Month Year Of "+i)):"Day"==$(event.target).text()?(n.set("formatAs","Day"),n.set("displayName","Day Of "+i)):"Week"==$(event.target).text()?(n.set("formatAs","Week"),n.set("displayName","Week Of "+i)):"Hours"==$(event.target).text()?(n.set("formatAs","Hours"),n.set("displayName","Hours Of "+i)):"Date"==$(event.target).text()?(n.set("formatAs","Date"),n.set("displayName","Date Of "+i)):"Year"==$(event.target).text()?(n.set("formatAs","Year"),n.set("displayName","Year Of "+i)):"Month"==$(event.target).text()?(n.set("formatAs","Month"),n.set("displayName","Month Of "+i)):"Quarter"==$(event.target).text()&&(n.set("formatAs","Quarter"),n.set("displayName","Quarter Of "+i)),n.one("didUpdate",function(){var t=e.get("dashboard");t.drawAll()}),n.get("store").commit()},convertToFullScreen:function(){var e=this,t=e.get("content");t.set("isFullScreen",!0);var n=e.get("title"),i=$("#chart-"+this.content.id),r=$("#chart-legend-"+this.content.id),a=document.createElement("div");a.setAttribute("id","fullScreen-chart-"+this.content.id),a.setAttribute("style","position:absolute;left:0;top:0;z-index:99999;width:100%;height:110%;background-color:white"),n?$(a).append("<div id='chart-title' style='color:#2093cc;font-family:20px Roboto-Light;padding-bottom:5px;'>"+n+"</div>"):($(a).append('<div id="chart-title" style="color:#2093cc;font-family:20px Roboto-Light;padding-bottom:5px;"><h4 class="muted" style="margin-left:15px; display:inline;">Title</h4></div>'),$(a).find("#chart-title").append('<img src="/assets/Toolbaricon_vertical_bar.png" style="height:15px;"/>')),e.get("hasLegend")?(i.height("80%"),i.width("100%")):(i.height("100%"),i.width("100%"));var s=$(i).find("svg");s.attr("width","100%").attr("height","100%"),e.get("hasLegend")?$(s).each(function(){$(this)[0].setAttribute("viewBox","-50 -10 800 200")}):$(s).each(function(){$(this)[0].setAttribute("viewBox","-50 10 800 200")}),$(a).find("#chart-title").append('<div class="pull-right"><a id="exit-fullScreen" title="Exit Fullscreen"><i class ="icon-resize-small"></i></a></div>'),$(a).append(i),$(a).append(r),$(a).find("#chart-legend-"+this.content.id).find("#chart-legend").css({"font-size":"20px","max-width":"100%"}),$("body").append(a),$("#exit-fullScreen").on("click",e,function(e){return function(){var t=e.get("content"),n=t.get("dashboard"),i=$("#chart-container-"+e.content.id).find("#popUpContainer"),r=$(a).find("#chart-"+e.content.id),s=$(a).find("#chart-legend-"+e.content.id),o=$(r).find("svg");$(o).each(function(){$(this)[0].removeAttribute("viewBox")}),$(i).append(r),$(i).append(s),$(a).remove(),t.set("isFullScreen",!1),n.drawAll()}}(e))}}),Cibi.ChartFilterController=Em.ObjectController.extend({}),Cibi.ChartFiltersController=Em.ArrayController.extend({}),Cibi.ChartsDataSourcesController=Ember.ArrayController.extend({}),Cibi.CommentController=Ember.ObjectController.extend({needs:["comments"],markComplete:function(){var e=this.get("content");e.set("status",1),e.get("transaction").commit({comment:e}),$("#"+this.get("popoverId")).popover("toggle")},commentClass:function(){return 1==this.get("status")?"muted":""}.property("status"),popoverId:function(){return"comments-icon-"+this.get("content").get("chart").id}.property("content")}),Cibi.CommentsController=Ember.ArrayController.extend({attachPopover:function(){$(".comment_popover").popover({html:!0,title:function(){return"<strong>Comments</strong>"},content:function(){var e='<div style="height: 200px; width: 320px; overflow: auto;">';return e+=$(this).find("#list_comments").html(),e+=$(this).find("#new_comment").html(),e+="</div>"},placement:"bottom"}).click(function(e){var t=$(this);e.preventDefault(),$(".popover").each(function(){var e=t;if("Chart Annotations"!=$(this).find(".popover-title").text()){$(this).addClass("hidden");for(var n=$(this).children(),i=0;i<n.length;i++){var r=$(n[i]);r.addClass("hidden")}}else if($(this.parentElement).find("a")[0].id==e[0].id){$(this).removeClass("hidden");var a=$(this.parentElement).offset().left-105;1e3>a&&$(this).offset({left:a});for(var n=$(this).children(),i=0;i<n.length;i++){var r=$(n[i]);r.removeClass("hidden")}}else{$(this).addClass("hidden");for(var n=$(this).children(),i=0;i<n.length;i++){var r=$(n[i]);r.addClass("hidden")}}})}),$(".comment_popover").on("shown.bs.popover",function(){$(".comment_popover").closest("li").find(".arrow").css("left","117px")})},popoverId:function(){return"comments-icon-"+this.get("content").get("owner").get("id")}.property(""),createComment:function(e){var t=Cibi.Comment.createRecord(e);t.set("chart",Cibi.Chart.find(e.chartId)),t.get("transaction").commit({comment:e}),$("#"+this.get("popoverId")).popover("toggle")},activeComments:function(){var e=this.filter(function(e){return 0==e.get("status")});return e}.property("@each.status"),commentsCount:function(){return this.get("activeComments").get("length")}.property("activeComments"),hasComments:function(){return this.get("commentsCount")>0}.property("commentsCount")}),Cibi.DashboardNewController=Ember.ObjectController.extend({data_sources:function(){return Cibi.DataSource.find()}.property(""),show_accordian:function(e){alert(e.id)}.property(""),getFields:function(e){var t=Cibi.DataSource.find(e),n=t.get("fieldsStr"),i=JSON.parse(n);if(i&&null!=i&&"object"==$.type(i[0])){var r=[];i.forEach(function(e){r.push(e.name)});var i=r}return i}}),Cibi.DashboardUsersController=Ember.ArrayController.extend({needs:["users","dashboard","permissions"],users:function(){var e=this.get("controllers").get("users"),t=this.get("controllers").get("permissions"),n=e.get("content"),i=t.get("content"),r=i.map(function(e){var t=e.get("user");return t&&!t.get("isDeleted")?t.get("id"):void 0});r=r.filter(function(e){return e});var a=n.filter(function(e){return-1==r.indexOf(e.get("id"))});return a}.property("controllers.permissions.length"),create:function(e){var t=this,n=this.get("controllers").get("dashboard"),i=n.get("id"),r=Cibi.User.find(e.user_id),a=Cibi.Permission.createRecord({user:r,role:e.role,permissibleId:i,permissibleType:"Dashboard",didCreate:function(){var e=n.get("content"),r=t.get("controllers").get("permissions");r.set("model",Cibi.Permission.find({dashboard_id:i})),r.transitionToRoute("dashboard.users",e)}});a.get("transaction").commit()},can_edit:function(){var e=this.get("controllers").get("dashboard");return e.get("can_edit")}.property("Cibi.Auth.currentUser.isLoaded","controllers.dashboard.can_edit"),can_destroy:function(){var e=this.get("controllers").get("dashboard");return e.get("can_destroy")}.property("Cibi.Auth.currentUser.isLoaded","controllers.dashboard.can_destroy")}),Cibi.DashboardChartsController=Ember.ArrayController.extend({needs:["dashboard"],data_sources:function(){return Cibi.DataSource.find()}.property(""),getDimensions:function(e){var t=Cibi.DataSource.find(e),n=t.get("dimensionsStr");return JSON.parse(n)},getDataSource:function(e){var t=Cibi.DataSource.find(e);return t},getFields:function(e){var t=Cibi.DataSource.find(e),n=t.get("fieldsStr"),i=JSON.parse(n);if("object"==$.type(i[0])){var r=[];i.forEach(function(e){r.push(Object.keys(e)[0])});var i=r}return i},factTypes:function(){return["","money","percentage"]}.property(""),factUnits:function(){return["","USD","Rs","Euro","%"]}.property(""),refresh:function(){this.get("content").forEach(function(e){e.reload()})}}),Cibi.DashboardController=Ember.ObjectController.extend({reset:function(){var e=this.get("content");e.reset(null,null),this.transitionToRoute("dashboard.charts",e)},returnToPrevious:function(){var e=Cibi.Auth.get("calling_dashboard");this.reset(null,null),this.transitionToRoute("dashboard.charts",e)},toggleSorting:function(){var e=this,t=e.get("content"),n=$("#"+t.get("tabId")).find(".sortable");if(n.length>0){var i=n.sortable("option","disabled");n.sortable("option","disabled",!i),i?($("#"+t.get("tabId")).find(".sort-icon").attr("style","background-color:green"),$("#"+t.get("tabId")).find(".chart-control-bar").css("cursor","move")):($("#"+t.get("tabId")).find(".sort-icon").attr("style","background-color:#4093cd"),$("#"+t.get("tabId")).find(".chart-control-bar").css("cursor","default"))
}},resetChartFilter:function(e,t){var n=this.get("content");n.reset(e,t)},showNewChartForm:function(){$("#modal-new-chart").modal()},getDimensionUniqueVals:function(e,t,n){if(!e)return[];var i=[],r=this.get("content").get("charts");if(!r)return[];r.forEach(function(e){i=i.concat(e.get("chartsDataSources").objectAt(0))}),i=i.uniq();var a=i.get("length"),s=1,o={};i.forEach(function(i){i.getUniqueKeys(e,null,function(i){if(o[e]=void 0!=o[e]?o[e].concat(i):i,t&&a==s){var r=_.sortBy(o[e].uniq(),function(e){return e?e.trim():void 0});o[e]=r,t(o,n)}s+=1},i)})},set_dashboard_filter:function(e){var t=this;t.get("id");var n=Cibi.DashboardFilter.createRecord(e);n.set("dashboard",t.get("content")),n.set("user",Cibi.Auth.currentUser),n.on("didCreate",function(){t.get("content").drawAll()}),n.get("store").commit()},set_scheduled_report:function(e){var t=Cibi.ScheduledReport.createRecord(e);t.get("store").commit()},download:function(e){var t=this,n=t.get("content"),i="#dashboards_"+this.get("id"),r=$(i).width(),a=$(i).height(),s=n.get("columns");n.get("rows");var o=r/s,l=document.createElement("canvas");l.width=r+50,l.height=a+200;var c=l.getContext("2d");c.font="20pt Roboto-Medium",c.fillStyle="white",c.fill(),c.fillRect(0,0,l.width,l.height),c.strokeStyle="#666666",c.strokeWidth=.5,c.lineWidth=1,c.stroke();var h=n.get("description");if(h&&h.length>0){c.textAlign="right",c.fillStyle="#7c7c7c",c.font="14pt Roboto-Light";for(var u=l.width-30,d=30,p=l.width/3,f=20,g=h.split(" "),m="",v=0;v<g.length;v++){var b=m+g[v]+" ",y=c.measureText(b),x=y.width;x>p&&v>0?(c.fillText(m,u,d),m=g[v]+" ",d+=f):m=b}c.fillText(m,u,d)}var w=Cibi.Auth.currentUser.get("get_company_logo_url");if(w&&w.length>0){var C=new Image;C.src=w,c.drawImage(C,30,30,200,50)}c.textAlign="center",c.fillStyle="#002F6C",c.font="22pt Roboto-Medium",c.fillText(this.get("title"),l.width/2,100),c.textAlign="left";var T=this.get("content").get("charts"),D="",S=0,E=1,k=0,I=0,N=0,A=0;T.forEach(function(e){if(D="#chart-"+e.id,(0==I||e.get("rows")>1)&&(I=0),k+=e.get("columns"),(E>s||k>s)&&(I>0?(I-=1,E=N,k=A):(E=1,k=0)),offset_x=20+(E-1)*o,0==S?offset_y=110:S==$(D).offset().top&&left!=$(D).offset().left||(S!=$(D).offset().top&&left==$(D).offset().left?offset_y=offset_y+a-50:offset_y+=a),e.get("title")&&(c.fillStyle="#4093cc",c.font="16pt Roboto-Light",c.fillText(e.get("title"),offset_x+15,offset_y+40)),e.get("subtitle")&&(c.fillStyle="#7c7c7c",c.font="12pt Roboto-Light",c.fillText(e.get("subtitle"),offset_x+15,offset_y+65)),e.get("marginTop"),e.get("marginLeft"),["0","7","14"].indexOf(e.get("chartType"))>-1&&(c.fillStyle="#7c7c7c",c.font="16pt Roboto-Light",c.fillText("Table Charts not supported in dashboard download.",offset_x+50,offset_y+150)),c.fillStyle="#000000",c.font="12pt Roboto-Medium",canvg(l,$(D).html(),{offsetX:offset_x+15,offsetY:offset_y+75,ignoreDimensions:!0,ignoreClear:!0,ignoreAnimation:!0,ignoreMouse:!0}),e.get("hasLegend")){var t=$("#"+e.get("legendId")),n=$(t.find(".legend_rect").children()),i=0;_.each(n,function(e){var t=$(e);t.attr("data-original-title").length>i&&(i=t.attr("data-original-title").length)});var h=17,u=offset_x,d=offset_y+$(D).height()+70;columns=Math.round($(D).width()/(8*i+13));for(var p=10*columns,f=n.length>p?p:n.length,g=0;f>g;g++){var m=$(n[g]);u+8*i+20>$(D).width()+offset_x&&(u=offset_x,d+=h),c.font="9pt Roboto-Light",c.fillStyle=m.attr("style").split(":")[1],c.fillRect(u+20,d+h,10,10),u+=13,c.fillStyle="black",c.fillText(m.attr("data-original-title"),u+20,d+h+8),u+=8*i}a=$(D).height()+180}else a=$(D).height()+180;r=$(D).width(),S=$(D).offset().top,left=$(D).offset().left,E+=e.get("columns"),e.get("rows")>1&&s>k&&(I=e.get("rows")-1,N=E,A=k)}),"download_pdf"==e?t.download_pdf(l):t.download_png(l)},download2:function(e){var t=this,n=t.get("content"),i="#dashboards_"+this.get("id"),r=$(i).width(),a=$(i).height();n.get("columns"),n.get("rows");var s=document.createElement("canvas");s.width=r,s.height=a+500;var o=s.getContext("2d");o.font="20pt Roboto-Medium",o.fillStyle="white",o.fill(),o.fillRect(0,0,s.width,s.height),o.strokeStyle="#666666",o.strokeWidth=.5,o.lineWidth=1,o.stroke(),o.fillStyle="#222222",o.fillText(this.get("title"),30,30);var l=this.get("content").get("charts"),c="",h=0;l.forEach(function(e){c="#chart-"+e.id,0==h?(offset_x=20,offset_y=60):h==$(c).offset().top&&left!=$(c).offset().left?offset_x=r+20:h!=$(c).offset().top&&left==$(c).offset().left?offset_y=offset_y+a-50:(offset_x=20,offset_y+=a),e.get("title")&&(o.fillStyle="#4093cc",o.font="16pt Roboto-Light",o.fillText(e.get("title"),offset_x+15,offset_y+40)),e.get("subtitle")&&(o.fillStyle="#7c7c7c",o.font="12pt Roboto-Light",o.fillText(e.get("subtitle"),offset_x+15,offset_y+65));var t=e.get("marginTop"),n=e.get("marginLeft");if(2!=e.get("chartType")&&$($(c).find("svg").find("g")[0]).attr("transform","translate("+(n>50?n:50)+","+(t>40?t:40)+")"),["0","7","14"].indexOf(e.get("chartType"))>-1&&(o.fillStyle="#7c7c7c",o.font="16pt Roboto-Light",o.fillText("Table Charts not supported in dashboard download.",offset_x+50,offset_y+150)),canvg(s,$(c).html(),{offsetX:offset_x+15,offsetY:offset_y+35,ignoreDimensions:!0,ignoreClear:!0,ignoreAnimation:!0,ignoreMouse:!0}),2!=e.get("chartType")&&$($(c).find("svg").find("g")[0]).attr("transform","translate("+n+","+t+")"),e.get("hasLegend")){var i=$("#"+e.get("legendId")),l=$(i.find(".legend_rect").children()),u=0;_.each(l,function(e){var t=$(e);t.attr("data-original-title").length>u&&(u=t.attr("data-original-title").length)});var d=17,p=offset_x,f=offset_y+$(c).height()+30;columns=Math.round($(c).width()/(8*u+13));for(var g=10*columns,m=l.length>g?g:l.length,v=0;m>v;v++){var b=$(l[v]);p+6*u+20>$(c).width()+offset_x&&(p=offset_x,f+=d),o.font="9pt Roboto-Light",o.fillStyle=b.attr("style").split(":")[1],o.fillRect(p+20,f+d,10,10),p+=13,o.fillStyle="black",o.fillText(b.attr("data-original-title"),p+20,f+d+8),p+=6*u}a=$(c).height()+180}else a=$(c).height()+180;r=$(c).width(),h=$(c).offset().top,left=$(c).offset().left}),"download_pdf"==e?t.download_pdf(s):t.download_png(s)},download_png:function(e){var t=e.toDataURL("image/png").replace("image/png","image/octet-stream"),n=document.createElement("a");n.href=t,n.download=this.get("title")+".png",document.body.appendChild(n),n.click(),document.body.removeChild(n)},download_pdf:function(e){var t=this,n=Cibi.Auth.get("authToken"),i="/dashboards/"+t.get("id")+"/download_svg?auth_token="+n;$.ajax({url:i,type:"post",data:{svg:e.toDataURL("image/jpeg")},async:!1,success:function(e){var i=document.createElement("a");i.href="/"+e.filename,i.download=e.filename,document.body.appendChild(i),i.click(),document.body.removeChild(i),$.ajax({url:"/dashboards/"+t.get("id")+"/delete_temp_pdf?auth_token="+n,type:"post",data:{filename:e.filename},async:!0})},error:function(e,t){console.log(t)}})},dashboardFiltersId:function(){return"dashboard-filters-"+this.get("id")}.property("id")}),Cibi.DashboardEditChartController=Ember.ObjectController.extend({needs:["chart"],data_sources:function(){return Cibi.DataSource.find()}.property(""),getDimensions:function(e){var t=Cibi.DataSource.find(e),n=t.get("dimensionsStr");return JSON.parse(n)},getDataSource:function(e){var t=Cibi.DataSource.find(e);return t},getFields:function(e){var t=Cibi.DataSource.find(e),n=t.get("fieldsStr"),i=JSON.parse(n);if("object"==$.type(i[0])){var r=[];i.forEach(function(e){r.push(e.name)});var i=r}return i},factTypes:function(){return["","money","percentage"]}.property(""),factUnits:function(){return["","USD","Rs","Euro","%"]}.property(""),refresh:function(){this.get("content").forEach(function(e){e.reload()})}}),Cibi.DashboardEditController=Ember.ObjectController.extend({needs:"vertical"}),Cibi.DashboardFilteredChartsController=Cibi.DashboardChartsController.extend({}),Cibi.DashboardsController=Ember.ArrayController.extend({currentVertical:function(){return this.get("content").objectAt(0).get("currentVertical")}.property("content"),can_edit:function(){var e=Cibi.Auth.get("currentUser").get("isAdmin");if(e)return e;var t=Cibi.Auth.get("currentUser").get_role("Vertical",this.get("currentVertical"));return t&&("admin"==t||"manager"==t)}.property("Cibi.Auth.currentUser.isLoaded"),can_destroy:function(){var e=Cibi.Auth.get("currentUser").get("isAdmin");if(e)return e;var t=Cibi.Auth.get("currentUser").get_role("Vertical",this.get("currentVertical"));return t&&"admin"==t}.property("Cibi.Auth.currentUser.isLoaded")}),Cibi.DataConnectionsController=Ember.ArrayController.extend({testConnection:function(e){var t=this;if(e){var n=Cibi.Auth.get("authToken"),i=e.get("id"),r="/data_connections/"+i+"/test_connection?auth_token="+n;$.ajax({url:r,type:"post",async:!1,success:function(t){e.set("connectionStatus",t);var n=$("."+e.get("connectionInfoClass"));n.css("visibility","visible"),setTimeout(function(){n.css("visibility","hidden")},2e3)},error:function(e){t.set("preview_error",e.responseJSON.message),t.set("data_loading",!1)}})}},deleteConnection:function(e){var t=this,n=confirm("Are you sure you want to delete this data-connection?");if(n===!0){e.deleteRecord(),this.get("content"),e.on("didDelete",function(){}),e.on("becameInvalid",function(e){t.set("errors",e.errors.message)});var i=e.get("store");i.commit()}}}),Cibi.DataContentsController=Ember.ArrayController.extend({}),Cibi.DataSourceController=Ember.ObjectController.extend({fileDataSource:function(){var e=this.get("dataSourceType");return-1!=["csv","excel"].indexOf(e)}.property("dataSourceType"),queryDataSourceApi:function(){var e=this.get("dataSourceType");return-1!=["mysql","mssql","oracle"].indexOf(e)}.property("dataSourceType"),spreeApi:function(){var e=this.get("dataSourceType");return"spree_commerce"==e}.property("dataSourceType"),containerId:function(){return"data-source-"+this.get("id")}.property("id"),containerId1:function(){return"#data-source-content-"+this.get("id")}.property("id"),containerId2:function(){return"data-source-content-"+this.get("id")}.property("id"),createFieldsArr:function(e,t,n,i){var r=this,a=JSON.stringify(e.uniq()),s=this.get("content");s.set("fieldsStr",a),s.set("uniqueStr",JSON.stringify(t)),s.set("ignoredStr",JSON.stringify(n)),i&&(s.set("enabled",!1),s.set("dataTypesUpdated",!0),s.set("fileUploadState",4)),s.on("becameInvalid",function(e){this.set("fieldsStr",null),this.set("fileUploadState",null),r.set("uploadError",!0),"invalid date"==e.errors.name?r.set("errorMessage","We’re sorry! Looks like the date fields you specified were in an incompatible format. Please specify proper date format and try uploading the file again"):r.set("errorMessage",e.errors.name),this.get("stateManager").transitionTo("loaded")}),setTimeout(function(){r.showProgress()},3e3),s.get("transaction").commit()},save:function(){this.get("content").save()},updateGroup:function(e){var t=JSON.parse(this.get("groupsStr"))||{};t[e.key]=e.value,this.get("content").set("groupsStr",JSON.stringify(t))},deleteDataContent:function(e){var t=this,n=confirm("Are you sure you want to delete this data-content file?");if(n===!0){var i=t.get("content");Cibi.DataContent.find(e.id).then(function(t){t.deleteRecord(),t.save(),t.on("didDelete",function(){var t=i.get("data_contents");if(t.removeObject(e),0==t.length){var n=i.get("pageno");i.set("pageno",n-1)}var r=i.get("total_contents");i.set("total_contents",r-1),i.reload()}),i.set("field_unique_keys",null)})}},queryDetails:function(){var e=this.get("queryDataSource");if(e&&e.get("isLoaded")){var t={query:e.get("query"),enabled:e.get("enabled"),frequency:e.get("frequency"),import_type:e.get("importType"),data_connection_id:e.get("dataConnectionId"),bookmark_key:e.get("bookmarkKey"),bookmark_comparison:e.get("bookmarkComparisonOperator")};return t}}.property("queryDataSource.isLoaded"),createRule:function(e,t,n){var i={};i.combine_columns=e,i.keys_column=t,i.values_column=n,ds=this.get("content"),ds.set("rulesStr",JSON.stringify(i)),ds.set("fileUploadState",4);var r=_.difference(ds.get("fieldsArr"),e.split(","));r.push(t),r.push(n);var a=[];r.forEach(function(e){var t={};t.name=e,t.datatype="string",a.push(t)}),ds.set("fieldsStr",JSON.stringify(a)),ds.get("transaction").commit()},isUploadingFile:function(){return!(null==this.get("content").get("fileUploadState")||1==this.get("content").get("dataTypesUpdated"))}.property("fileUploadState"),visibilty:function(){return this.get("isUploadingFile")?"invisible":"visible"}.property("fileUploadState"),cancelUploadProcess:function(){var e=Cibi.Auth.get("authToken"),t=this,n=t.get("content"),i="/data_sources/"+n.get("id")+"/clearRedisCache?auth_token="+e;req=$.ajax({url:i,type:"post",async:!1,success:function(){}}),0==n.get("dataContents").get("length")?(n.set("fileUploadState",null),n.set("fieldsStr",null),n.set("sheetsArray",null)):n.set("fileUploadState",4),n.get("store").commit()},showProgress:function(){var e,t=this,n=Cibi.Auth.get("authToken"),i=t.get("content").get("id");if(e=parseInt($("#progressbar").text()),e>100&&$("#progressbar").text("0"),console.log("start_time: "+currentTime()),0==t.get("isError")&&100>e&&1==t.get("isAddingContent")||1==this.get("isSaving")){var r="/data_sources/"+i+"/getUploadProgress?auth_token="+n;req=$.ajax({url:r,type:"get",async:!0,success:function(t){var n=parseInt(t.count);console.log("response_time: "+currentTime());var i=e+(n-e);console.log(i),$("#progressbar").text(i),$("#progressbar").css("width",i.toString()+"%")}}),setTimeout(function(){t.showProgress()},3e3)}},progressVisible:function(){return this.get("isSaving")||this.get("isAddingContent")?"visible":"invisible"}.property("fileUploadState","isSaving","isAddingContent"),previewResults:function(e,t){var n=this;if(e&&e.trim().length>0){console.log(e);var i=Cibi.Auth.get("authToken"),r=n.get("content").get("id"),a="/data_sources/"+r+"/preview_results?auth_token="+i;$.ajax({url:a,type:"post",data:{query:e,dataConnectionId:t},async:!1,success:function(e){var t=e.data_sources;t.length>0?(n.set("preview_results",e.data_sources),n.set("preview_error",void 0)):(n.set("preview_results",void 0),n.set("preview_error","The query returned 0 records.")),n.set("data_loading",!1)},error:function(e){n.set("preview_results",void 0),n.set("preview_error",e.responseJSON.message),n.set("data_loading",!1)}})}},createTable:function(e,t,n){var i=this;if(e&&e.length>0){var r=Cibi.Auth.get("authToken"),a=i.get("content").get("id"),s="/data_sources/"+a+"/create_table?auth_token="+r;$.ajax({url:s,type:"post",data:{fields_arr:JSON.stringify(e),unique_keys:JSON.stringify(t)},async:!1,success:function(r,a){console.log(a),i.createFieldsArr(e,t,n,!0),i.set("data_loading",!1)},error:function(e){i.set("preview_error",e.responseJSON.message),i.set("data_loading",!1)}})}},fetchData:function(){var e=this;e.set("data_loading",!0);var t=Cibi.Auth.get("authToken"),n=e.get("content"),i=n.get("id"),r="/data_sources/"+i+"/fetch_data?auth_token="+t;$.ajax({url:r,type:"get",async:!1,success:function(t,i){console.log(i);var r=n.get("total_contents");n.set("total_contents",r+1),n.get("queryDataSource").then(function(e){e.reload()}),n.reload(),e.set("data_loading",!1)},error:function(t){console.log(t.responseJSON.message),e.set("data_loading",!1)}})}}),Cibi.DataSourcesController=Ember.ArrayController.extend({transitionToFirstDataSource:function(){if(Cibi.Auth.get("signedIn")&&"/data_sources"==this.target.get("url")){var e=this.get("firstObject");e&&this.transitionToRoute("data_source",e)}}.observes("firstObject")}),Cibi.ChartsDataSourcesNewController=Ember.ObjectController.extend({}),Cibi.LoginController=Ember.Controller.extend({login:function(){alert("Submit!")}}),Cibi.PermissionController=Em.ObjectController.extend({needs:["vertical"],can_destroy:function(){var e=this.get("user").get("id");if(e==Cibi.Auth.get("userId"))return!1;var t=this.get("controllers").get("vertical");return t.get("can_destroy")}.property("Cibi.Auth.currentUser.isLoaded","controllers.vertical.can_edit")}),Cibi.PermissionsController=Ember.ArrayController.extend({needs:["users","vertical"],permissions:function(){var e=this.filter(function(e){return e.get("isDeleted")||e.get("user")==Cibi.Auth.get("currentUser")?!1:!0});return e}.property("@each.isDeleted","length")}),Cibi.QueryDataSourceController=Ember.ObjectController.extend({}),Cibi.ResetPasswordController=Ember.ObjectController.extend({queryParams:["reset_password_token"]}),Cibi.SettingsColorsController=Em.ObjectController.extend({selectTheme:function(e){this.get("content").set("colorTheme",e)},save:function(){var e=Cibi.Auth.get("currentUser"),t=this.get("content");t||(t=Cibi.UserColorPreference.createRecord()),t.set("colorTheme",this.get("colorTheme")),t.set("bar",this.get("bar")),t.set("line",this.get("line")),t.set("area",this.get("area")),t.set("errorBar",this.get("errorBar")),t.set("statisticalRelevance",this.get("statisticalRelevance")),t.set("controlKey",this.get("controlKey")),t.set("user",e),t.on("didSave",function(){Cibi.Auth.set("colorPreference",t)}),t.get("store").commit()}}),Cibi.SettingsUserController=Em.ObjectController.extend({email:function(){var e=Cibi.Auth.get("currentUser");return e.get("email")}.property("Cibi.Auth.currentUser")}),Cibi.UserMgmtController=Ember.ObjectController.extend({}),Cibi.UserMgmtIndexController=Ember.ObjectController.extend({showNewUserForm:function(){$("#modal-new-user").modal()}}),Cibi.UserMgmtUserController=Ember.ObjectController.extend({dataSources:function(){return Cibi.DataSource.find()}.property(""),getDimensionUniqueVals:function(e,t,n){if(!e)return[];var i=n.get("dataSource");return i?(i.getUniqueKeys(e,null,t,n),void 0):[]}}),Cibi.UsersController=Ember.ArrayController.extend({needs:"permissions",update_user:function(e){e.transaction.commit()},delete_user:function(e){var t=confirm("Are you sure you want to delete this user?");if(t===!0){e.deleteRecord();var n=e.get("store");n.commit()}}}),Cibi.VerticalUsersController=Ember.ArrayController.extend({needs:["users","vertical","permissions"],users:function(){var e=this.get("controllers").get("users"),t=this.get("controllers").get("permissions"),n=e.get("content"),i=t.get("content"),r=i.map(function(e){var t=e.get("user");return t&&!t.get("isDeleted")?t.get("id"):void 0});r=r.filter(function(e){return e});var a=n.filter(function(e){return-1==r.indexOf(e.get("id"))});return a}.property("controllers.permissions.length","controllers.users.length"),dashboards:function(){var e=this.get("controllers").get("vertical");e.get("id");var t=e.get("content");return t.get("dashboards")}.property("controllers.vertical.id"),create:function(e){for(var t=this,n=Cibi.Auth.get("currentUser"),i=this.get("controllers").get("vertical"),r=i.get("id"),a=Cibi.User.find(e.user_id),s=n.get("permissions"),o=!1,l=0;l<s.get("length");l++)"Vertical"==s.objectAt(l).get("permissibleType")&&s.objectAt(l).get("permissibleId")==r&&"admin"==s.objectAt(l).get("role")&&(o=!0);if(n.get("isAdmin")||o)if("Vertical"==e.permissibleType){var c=Cibi.Permission.createRecord({user:a,role:e.role,permissibleId:r,permissibleType:"Vertical",didCreate:function(){var e=i.get("content"),n=t.get("controllers").get("permissions");n.set("model",Cibi.Permission.find({vertical_id:r})),n.transitionToRoute("vertical.users",e)}});c.get("transaction").commit()}else for(var l=0;l<e.permissibleDashboards.get("length");l++){var h=e.permissibleDashboards.objectAt(l),c=Cibi.Permission.createRecord({user:a,role:e.role,permissibleId:h,permissibleType:"Dashboard",didCreate:function(){var e=i.get("content"),n=t.get("controllers").get("permissions");n.set("model",Cibi.Permission.find({vertical_id:r})),n.transitionToRoute("vertical.users",e)}});c.get("transaction").commit()}else alert("Not Permissible")},can_edit:function(){var e=this.get("controllers").get("vertical");return e.get("can_edit")}.property("Cibi.Auth.currentUser.isLoaded","controllers.vertical.can_edit"),can_destroy:function(){var e=this.get("controllers").get("vertical");return e.get("can_destroy")}.property("Cibi.Auth.currentUser.isLoaded","controllers.vertical.can_destroy")}),Cibi.VerticalController=Ember.ObjectController.extend({currentVertical:function(){return this.get("id")},getNextDashBoards:function(){var e=this.get("content").get("dashboards").get("length");4*this.get("content").get("currentPage")<e&&this.get("content").set("currentPage",this.get("content").get("currentPage")+1)},getPreviousDashBoards:function(){this.get("content").get("currentPage")>1&&this.get("content").set("currentPage",this.get("content").get("currentPage")-1)}}),Cibi.VerticalEditController=Ember.ArrayController.extend({needs:["vertical"]}),Cibi.VerticalNewController=Ember.ObjectController.extend({needs:"vertical",createDashboard:function(e){var t=this,n=Cibi.Dashboard.createRecord(e),i=this.get("controllers").get("vertical").get("content");n.set("vertical",i),n.on("didCreate",function(){t.set("dashboardCreated",!0),setTimeout(function(){t.set("dashboardCreated",null)},3e3)}),n.transaction.commit({dashboard:e})}}),Cibi.VerticalsController=Ember.ArrayController.extend({transitionToFirstVertical:function(){if(Cibi.Auth.get("signedIn")&&"/verticals"==this.target.get("url")){var e=this.get("firstObject");e&&this.transitionToRoute("vertical",e)}}.observes("firstObject"),updateVertical:function(e,t){var n=Cibi.Vertical.find(e);n.set("name",t),n.get("store").commit()},createVertical:function(e){var t=this,n=Cibi.Vertical.createRecord(e);n.on("becameInvalid",function(e){this.transaction.rollback(),t.set("errors",e.errors.name)}),n.on("didCreate",function(){void 0!==t.get("content").get("lastObject")&&t.transitionToRoute("vertical",n)}),n.transaction.commit({vertical:e})}}),Cibi.VerticalsNewController=Ember.ArrayController.extend({needs:["verticals"],createVertical:function(e){var t=this,n=Cibi.Vertical.createRecord(e);n.on("becameInvalid",function(e){this.transaction.rollback(),t.set("errors",e.errors.name)}),n.on("didCreate",function(){void 0!==t.get("controllers").get("verticals").get("content").get("lastObject")&&t.transitionToRoute("vertical",n)}),n.transaction.commit({vertical:e})}}),Cibi.UsersNewView=Ember.View.extend({templateName:"users/new",submit:function(e){e.preventDefault();var t=this,n=$(e.target).find("#inputEmail").val(),i=$(e.target).find("#inputFirstName").val(),r=$(e.target).find("#inputLastName").val(),a=$(e.target).find("#checkIsAdmin").is(":checked"),s=$(e.target).find("#checkHasAPIAccess").is(":checked"),o={};o.email=n,o.firstName=i,o.lastName=r,o.isAdmin=a,o.hasApiAccess=s,o.accountId=Cibi.Auth.get("currentUser").get("account").get("id");var l=Cibi.User.createRecord(o);l.set("account",Cibi.Auth.get("currentUser").get("account")),l.on("becameInvalid",function(e){this.transaction.rollback(),t.set("noticeMessage",e.errors.name)}),l.get("transaction").commit(),$("#modal-new-user").modal("toggle")}}),Cibi.AccountSettingsIndexView=Ember.View.extend({timezonesArr:["UTC","GMT"],monthsArr:[{id:1,name:"Jan"},{id:2,name:"Feb"},{id:3,name:"Mar"},{id:4,name:"Apr"},{id:5,name:"May"},{id:6,name:"Jun"},{id:7,name:"Jul"},{id:8,name:"Aug"},{id:9,name:"Sep"},{id:10,name:"Oct"},{id:11,name:"Nov"},{id:12,name:"Dec"}],numberFormats:["No Units","k, M, B","k, L, Cr","Only Lakhs","Only Crores","Only Millions","Only Billions"],currencies:["USD","INR","EURO"],daysArr:function(){for(var e=[],t=1;31>=t;t++)e.push(t);return e}.property(""),logoUrl:function(){return Cibi.Auth.get("currentUser").get("get_company_logo_url")}.property("Cibi.Auth.currentUser.isLoaded"),logoDims:function(){var e=this;return width=e.get("controller").get("content").get("logoWidth"),height="50","width:"+width+"px;height:"+height+"px;"}.property("controller.content.logoWidth"),changeTopbarColor:function(){var e=Cibi.Auth.get("currentUser");return e?e.get("get_top_bar_color"):void 0}.property("Cibi.Auth.currentUser.isLoaded"),submit:function(e){e.preventDefault();var t=this,n=Cibi.Auth.get("currentUser"),i=Cibi.Auth.get("globalSetting");content=t.get("controller").get("content"),content.set("logoWidth",t.$(".resizable").width());var r={};r.account=Cibi.Auth.get("currentUser").get("account");var a=Cibi.AccountSetting.createRecord(r);a.on("becameInvalid",function(e){this.transaction.rollback(),t.set("noticeMessage",e.errors.name)}),a.on("didCreate",function(){new_logo=content.get("companyNewLogo"),new_logo&&$(".brand-image").attr("src",new_logo),$(".brand-image").css("width",t.$(".resizable").width());var e=content.get("collapseNavbar"),r=content.get("topBarColor");$("#top-nav-bar").css("background-color",r);var a=content.get("dashboardBarColor");$("#account-settings").css("background-color",a);var s=content.get("workspaceColor");n.set("topbarColor",r),n.set("dashboardBarColor",a),n.set("workspaceColor",s),i.set("shrinkNavbar",e)}),a.get("transaction").commit()},didInsertElement:function(){var e=this,t=e.get("controller").get("content");Cibi.Auth.get("currentUser").id,Cibi.Auth.get("authToken"),$("#logoUpload").change(function(e){var n=new FileReader;return n.onload=function(e){var n=e.target.result;$("#preview").attr("src",n),Ember.run(function(){t.set("companyNewLogo",n)})},n.readAsDataURL(e.target.files[0])}),$(".resizable").resizable({maxHeight:50,maxWidth:184,minHeight:50,minWidth:50})},removeLogo:function(){var e=Cibi.Auth.get("currentUser").id,t=Cibi.Auth.get("authToken"),n="/account_settings/remove_logo?user_id="+e+"&auth_token="+t;req=$.ajax({url:n,type:"post",data:{},async:!1,success:function(e){$(".brand-image").attr("src",e.url)},error:function(){},complete:function(){}})}}),Cibi.AccountSettingsView=Ember.View.extend({changeDashboardColor:function(){var e=Cibi.Auth.get("currentUser");return e?e.get("get_dashboard_color"):void 0}.property("Cibi.Auth.currentUser.isLoaded","Cibi.Auth.currentUser.get_dashboard_color"),accountTopNavColor:function(){Cibi.Auth.get("currentUser");var e=this.get("changeDashboardColor");return void 0!=e&&(e="background-color:"+e+";min-height:44px; max-height: 44px; padding-left:20px;"),e}.property("Cibi.Auth.currentUser.isLoaded","changeDashboardColor")}),Cibi.AccountSettingsAccountTemplatesView=Ember.View.extend({didInsertElement:function(){console.log(this);var e=$("#"+this.get("elementId"));e.find("#available_template_input").fastLiveFilter(e.find("#available_template_list"));var t={};this.set("templateInputs",t)},isSpreeCommerceTemplate:function(){return"Spree Commerce"==this.selectedTemplate?!0:void 0}.property("selectedTemplate"),applyTemplate:function(){var e=this;console.log(e);var t=$("#"+this.get("elementId")),n=e.get("templateInputs"),i=t.find(".control-group.template-inputs");if(!(Object.keys(n).length>=i.length))return i.addClass("error"),void 0;i.removeClass("error");var r=!1;if(_.each(n,function(e,n){return e&&""!=e?(t.find("#"+n+"_ctrl_grp").removeClass("error"),void 0):(t.find("#"+n+"_ctrl_grp").addClass("error"),r=!0,!1)}),!r){var a=Cibi.Auth.get("currentUser").get("account"),s={};s.accountId=a.get("id"),s.templateName=e.selectedTemplate,s.templateInputs=JSON.stringify(n),s.status=1;var o=Cibi.AccountTemplate.createRecord(s);o.set("account",a),o.on("didCreate",function(){e.set("successMessage","Template created & applied successfully!"),setTimeout(function(){e.set("successMessage",!1)},5e3)}),o.on("becameInvalid",function(t){this.transaction.rollback(),e.set("noticeMessage",t.errors.templateName),setTimeout(function(){e.set("noticeMessage",!1)},5e3)}),o.get("transaction").commit()}},deleteTemplate:function(e){var t=this,n=confirm("Are you sure you want to delete this template?");if(n===!0){Cibi.Auth.get("currentUser").get("account"),e.get("dataSources"),e.get("workspaces");var i=e.get("transaction");e.deleteRecord(),e.on("didDelete",function(){t.set("successMessage","Template deleted successfully! Refreshing your app."),t.set("noticeMessage","Please Wait!"),setTimeout(function(){window.location.reload()},1500)}),i.commit()}}}),Cibi.ApplicationView=Ember.View.extend({log_out:function(){Cibi.Auth.signOut(),Cibi.Auth.on("signOutSuccess",function(){delete localStorage.authToken,delete localStorage.email,delete localStorage.password,Cibi.Auth.set("accountExpired",!1),Cibi.Auth.set("infoMessage","Signed Out Successfully!")})},dismissGlobalError:function(){$("#myModal").addClass("hide"),$(".modal-backdrop").addClass("hide")},logoUrl:function(){var e=Cibi.Auth.get("currentUser");return e?e.get("get_company_logo_url"):void 0}.property("Cibi.Auth.currentUser.isLoaded"),logoDims:function(){var e=Cibi.Auth.get("currentUser");if(e){var t=Cibi.Auth.get("currentUser").get("get_company_logo_width"),n="50";return"width:"+t+"px;height:"+n+"px;"}}.property("Cibi.Auth.currentUser.isLoaded"),accountIconBarColor:function(){var e=Cibi.Auth.get("currentUser");if(e){var t=e.get("get_top_bar_color");return void 0!=e.get("topBarColor")&&(t=e.get("topBarColor")),t="background-color:"+t+";height:58px; line-height:58px; box-shadow: 0 3px 1px black;"}}.property("Cibi.Auth.currentUser.isLoaded"),getWorkspaceColor:function(){var e=Cibi.Auth.get("currentUser");return e?e.get("get_workspace_color"):void 0}.property("Cibi.Auth.currentUser.isLoaded"),getDashboardColor:function(){var e=Cibi.Auth.get("currentUser");return e?e.get("get_dashboard_color"):void 0}.property("Cibi.Auth.currentUser.isLoaded")}),Cibi.DateField=Ember.TextField.extend({attributeBindings:["style","type","value","size"],didInsertElement:function(){return this.$().datepicker({autoclose:!0})}}),Cibi.NewTimeField=Ember.View.extend({templateName:"date_time",attributeBindings:["style","type","value","size"],didInsertElement:function(){var e=$("#"+this.elementId).attr("value");if(e){var t=d3.time.format("%H:%M:%S");$("#"+this.elementId).find(".datetimepicker").find("input").attr("value",t(new Date(e)))}return this.$().datetimepicker({format:"hh:mm:ss",pickDate:!1,autoclose:!0})}}),Cibi.NewDateField=Ember.View.extend({templateName:"date_time",attributeBindings:["style","type","value","size"],didInsertElement:function(){var e=$("#"+this.elementId).attr("value");if(e){var t=d3.time.format("%m-%d-%Y");$("#"+this.elementId).find(".datetimepicker").find("input").attr("value",t(new Date(e)))}return this.$().datetimepicker({format:"MM-dd-yyyy",pickTime:!1,autoclose:!0})}}),Cibi.NewDateTimeField=Ember.View.extend({templateName:"date_time",attributeBindings:["style","type","value","size"],didInsertElement:function(){var e=$("#"+this.elementId).attr("value");if(e){var t=d3.time.format("%m-%d-%Y %H:%M:%S");$("#"+this.elementId).find(".datetimepicker").find("input").attr("value",t(new Date(e)))}return this.$().datetimepicker({format:"MM-dd-yyyy hh:mm:ss",autoclose:!0})}}),Cibi.NumberField=Ember.TextField.extend({type:"number",attributeBindings:["min","max","step","style"]}),Cibi.AuthSignInView=Em.View.extend({templateName:"auth/sign_in",email:null,password:null,remember:!1,submit:function(e){e.preventDefault(),e.stopPropagation();var t={email:this.get("email"),password:this.get("password"),remember:!0};this.get("controller").send("login",t)},showFreeTrialForm:function(){$("#modal-new-account").modal()},freeTrialView:Em.View.extend({templateName:"auth/free_trial",createAccount:function(){var e={};e.accountName=$("#inputAccountName").val(),e.firstName=$("#inputFirstName").val(),e.lastName=$("#inputLastName").val(),e.email=$("#inputEmail").val();var t="/accounts/create_account";req=$.ajax({url:t,type:"post",data:{data:e},async:!1,success:function(e){$("#modal-new-account").modal("toggle"),alert(e.message)},error:function(){$("#modal-new-account").modal("toggle")}})}})}),Cibi.AuthSignOutView=Em.View.create({templateName:"auth/sign_out",submit:function(e){e.preventDefault(),e.stopPropagation(),Cibi.Auth.signOut(),Cibi.Auth.on("signOutSuccess",function(){delete localStorage.authToken,delete localStorage.email,delete localStorage.password,Cibi.Auth.set("infoMessage","Signed Out Successfully!")})}}),Cibi.AuthView=Em.View.extend({templateName:"auth"}),Cibi.ChartView=Ember.View.extend({tagName:"li",classNames:["span"],didInsertElement:function(){var e=this;e.makeChartsResizable(),e.makeChartsSortable(),e.$().find(".title").tooltip(),e.$().find(".subtitle").tooltip()},date_type_dimension:function(){var e=this,t=this.get("controller").get("content"),n=t.get("dimensions"),i=n.objectAt(0);if(i){var r=t.get("chartsDataSources").objectAt(0).get("dataSource");if(r){var a=r.getDataType(i.get("fieldName"));"date"==a||"datetime"==a?e.set("isDateType",!0):e.set("isDateType",!1)}}}.observes("controller.content.isSetup"),chart_id:function(){var e=this.get("controller").get("content").get("id");return"change_format"+e}.observes("controller.content"),date_formats:function(){var e=this.get("controller").get("content"),t=e.get("dimensions"),n=e.get("chartsDataSources").objectAt(0).get("dataSource"),i=t.objectAt(0),r=n.getDataType(i.get("fieldName"));if("date"==r||"datetime"==r){var a=["Month Year","Day","Week"];
return"datetime"==r&&(a.push("Hours"),a.push("Date")),a}return[]}.property("date_type_dimension"),makeChartsSortable:function(){var e=this,t=e.get("controller").get("content").get("dashboard");$("#"+t.get("tabId")).find(".sortable").sortable({revert:!0,start:function(e,t){t.placeholder.width(t.item.width()-8),t.placeholder.height(t.item.height()),t.placeholder.css("border","2px dashed #444444"),t.placeholder.css("visibility","visible")},disabled:!0}),$("#"+t.get("tabId")).find(".sortable").on("sortstop",function(e,n){if(e.target.isSameNode($("#"+t.get("tabId")).find(".sortable")[0])){n.placeholder.css("visibility","hidden");var i=$(window).height();$("#globalOverlay").height(i),$("#globalOverlay").show();var r=!0,a=t.get("charts");a.forEach(function(e){var t=$("#"+e.get("containerId")).parent().index();-1!=t&&e.get("displayRank")!=t&&(r=!1,e.set("displayRank",t),e.get("store").commit(),e.draw())}),1==r&&$("#globalOverlay").hide()}})},isSetup:function(){var e=!0,t=this;if(!t.get("controller").get("content").get("isDeleted")){var n=t.get("controller").get("content").get("dashboard")||null;if(n){var i=n.get("charts");i.forEach(function(t){e=e&&!t.get("isSaving")})}e&&$("#globalOverlay").hide()}}.observes("controller.content.dashboard.charts.@each.isSaving"),makeChartsResizable:function(){var e=this,t=e.get("controller").get("content"),n=t.get("dashboard");$(".resizable").resizable({grid:[n.getBlockWidth(),n.getBlockHeight()]}),$("#"+t.get("containerId")).on("resizestop",function(e,i){var r=Math.floor((i.size.height+1)/n.getBlockHeight()),a=Math.floor((i.size.width+1)/n.getBlockWidth());r=1>r?1:r,a=1>a?1:a,t.set("rows",r),t.set("columns",a),t.on("didUpdate",function(){t.draw()}),t.get("store").commit()})},draw:function(){var e=this.get("controller");e.send("draw"),$("#"+this.get("controller").get("containerId"))},chartErrorDimension:function(){var e=this,t=e.get("controller").get("content");return"text-align: center;height:"+(t.get("height")+5)+"px;width:"+t.get("width")+"px;"}.property(""),chartObjectsContainerView:Ember.ContainerView.extend({viewName:"chartObjects",childViews:[]}),chartMarginsView:Em.View.extend({templateName:"charts/chart_margins",displayUnits:["No Units","k, M, B","k, L, Cr"],didInsertElement:function(){$(".margin_popover").tooltip(),$("input[name='orientation_type'][value='"+this.get("controller").get("content").get("orientationType")+"'][id='"+this.get("controller").get("content").get("orientationRadioId")+"']").attr("checked","checked"),$("#"+this.get("controller").get("content").get("containerId")).find("div[name='xDomainMinValue']").tooltip(),$("#"+this.get("controller").get("content").get("containerId")).find("div[name='xDomainMaxValue']").tooltip(),this.enableDisableDisplayUnits()},columnLimit:function(){var e=this.get("controller").get("content");return e.get("columnLimit")}.property("controller.content.columnLimit"),rowLimit:function(){var e=this.get("controller").get("content");return e.get("rowLimit")}.property("controller.content.rowLimit"),hasAxes:function(){return this.get("controller").get("content").get("hasAxes")}.property(""),hasSingleYAxis:function(){return 6==this.get("controller").get("content").get("chartType")?!1:!0}.property("controller.content.chartType"),click:function(e){var t=$("#"+this.get("elementId"));if($(".popover").each(function(){if(!$(this).is(t.find(".popover"))){$(this).addClass("hidden");for(var e=$(this).children(),n=0;n<e.length;n++){var i=$(e[n]);i.addClass("hidden")}}}),-1!=e.target.className.indexOf("icon-fullscreen")){var n=t.parent().parent().position().left,i=t.parent().offset().top+25;this.togglePopover(n,i)}},togglePopover:function(e,t){var n=$("#"+this.get("elementId"));this.get("controller").get("width");var i=n.find(".popover");i.hasClass("hidden")?(i.removeClass("hidden"),e&&i.offset({left:e}),t&&i.offset({top:t})):i.addClass("hidden");for(var r=i.children(),a=0;a<r.length;a++){var s=$(r[a]);s.toggleClass("hidden")}},submit:function(e){e.preventDefault();var t=this.$('input[name="orientation_type"]:checked').val();this.get("controller").get("content").set("orientationType",t),this.get("controller").send("updateMargins"),this.togglePopover()},enableDisableDisplayUnits:function(){"10"==this.get("controller").get("content").get("chartType")||"horizontal-bar"==this.get("controller").get("content").get("chartType")?($("#"+this.get("controller").get("content").get("containerId")).find("select[name='yAxisDisplayUnit']").attr("disabled",!0),$("#"+this.get("controller").get("content").get("containerId")).find("select[name='xAxisDisplayUnit']").attr("disabled",!1)):"linear"==this.get("controller").get("content").get("scale_type")?$("#"+this.get("controller").get("content").get("containerId")).find("select[name='xAxisDisplayUnit']").attr("disabled",!1):$("#"+this.get("controller").get("content").get("containerId")).find("select[name='xAxisDisplayUnit']").attr("disabled",!0)}.observes("controller.content.chartType")}),chartDataSourceView:Em.View.extend({templateName:"charts/chart_data_source",dimensionsSupportedFormats:["","Date String","Quarter","Number Group"],didInsertElement:function(){$(".data_source_popover").tooltip()},click:function(e){var t=$("#"+this.get("elementId"));if($(".popover").each(function(){if(!$(this).is(t.find(".popover"))){$(this).addClass("hidden");for(var e=$(this).children(),n=0;n<e.length;n++){var i=$(e[n]);i.addClass("hidden")}}}),-1!=e.target.className.indexOf("charts_data_source_icon")){var n=t.parent().parent().position().left,i=t.parent().offset().top+25;this.togglePopover(n,i)}},togglePopover:function(e,t){var n=$("#"+this.get("elementId")),i=n.find(".popover");i.hasClass("hidden")?(i.removeClass("hidden"),e&&i.offset({left:e}),t&&i.offset({top:t})):i.addClass("hidden");for(var r=i.children(),a=0;a<r.length;a++){var s=$(r[a]);s.toggleClass("hidden")}},submit:function(e){e.preventDefault(),this.get("controller").send("updateDataSource"),this.togglePopover()},factTypes:function(){return["","money","percentage"]}.property(""),factUnits:function(){return["","USD","Rs","Euro","%"]}.property(""),factFormats:function(){return[{name:"",key:""},{name:"Sum of Fact",key:"sum"},{name:"Mean of Fact",key:"avg"},{name:"Standard Deviation of Fact",key:"stddev"},{name:"Standard Error of Mean of Fact",key:"sem"},{name:"Number of Missing Entries in Fact Column",key:"noops"},{name:"% Missing Entries of Total Count",key:"noopspc"},{name:"Number of Valid Entries (Count)",key:"count"},{name:"% Valid Entries of Total Count",key:"opspc"},{name:"Count unique fact fields",key:"count,distinct"}]}.property("")}),editChart:function(e){var t=e.get("data").attributes.title,n=e.get("data").attributes.subtitle;t&&this.$("form > #title").val(t),n&&this.$("form > #subtitle").val(n);var i=this.$("#titlediv");i.addClass("hidden");var r=this.$("#titlediv").next();r.removeClass("hidden")},editTitleView:Em.View.extend({classNames:["span","hidden"],templateName:"charts/edit",updateChart:function(){var e=this.$("form > #title").val(),t=this.$("form > #subtitle").val(),n={},i=this.templateData.keywords.chart.id;"string"==typeof e&&"string"==typeof t?(n.title=e,n.subtitle=t):"string"==typeof e?n.title=e:n.subtitle=t,this.get("controller").send("updateChart",i,n),this.$().prev().removeClass("hidden"),this.$().addClass("hidden"),this.$().prev().find(".title").attr("data-original-title",e),this.$().prev().find(".subtitle").attr("data-original-title",t)}}),chartConfigsView:Em.View.extend({templateName:"charts/chart_configs",didInsertElement:function(){$(".data_source_popover").tooltip(),$("#"+this.get("elementId")),this.get("controller").get("configObject");var e=this.get("controller").get("chartsDataSources").objectAt(0).get("count");this.set("count",e)},displayUnits:["No Units (Indian)","No Units (American)","k, M, B","k, L, Cr","Only Lakhs","Only Crores","Only Millions","Only Billions"],colorPallette:function(){return colors=["","Aqua","Blue","Brown","Gray","Green","Indigo","Orange","Pink","Purple","Red","Yellow"]}.property(""),click:function(e){var t=$("#"+this.get("elementId"));if($(".popover").each(function(){if(!$(this).is(t.find(".popover"))){$(this).addClass("hidden");for(var e=$(this).children(),n=0;n<e.length;n++){var i=$(e[n]);i.addClass("hidden")}}}),-1!=e.target.className.indexOf("icon-cog")){t.find(".popover");var n=t.parent().parent().position().left,i=t.parent().offset().top+25;this.togglePopover(n,i)}},togglePopover:function(e,t){var n=$("#"+this.get("elementId")),i=n.find(".popover");i.hasClass("hidden")?(i.removeClass("hidden"),e&&i.offset({left:e}),t&&i.offset({top:t})):i.addClass("hidden");for(var r=i.children(),a=0;a<r.length;a++){var s=$(r[a]);s.toggleClass("hidden")}},bar:function(){return"1"==this.get("controller").get("chartType")}.property("controller.chartType"),ctree:function(){return"3"==this.get("controller").get("chartType")}.property("controller.chartType"),ctable:function(){return"0"==this.get("controller").get("chartType")}.property("controller.chartType"),geo:function(){return"4"==this.get("controller").get("chartType")}.property("controller.chartType"),heatmap:function(){return"5"==this.get("controller").get("chartType")}.property("controller.chartType"),line:function(){return"8"==this.get("controller").get("chartType")}.property("controller.chartType"),table:function(){return"7"==this.get("controller").get("chartType")}.property("controller.chartType"),multiline:function(){return"9"==this.get("controller").get("chartType")}.property("controller.chartType"),hbar:function(){return"10"==this.get("controller").get("chartType")}.property("controller.chartType"),grouped_table:function(){return"14"==this.get("controller").get("chartType")}.property("controller.chartType"),single_value:function(){return"15"==this.get("controller").get("chartType")}.property("controller.chartType"),submit:function(e){e.preventDefault();var t=JSON.parse(this.get("controller").get("content").get("configs"))||{};for(i=0;i<e.target.elements.length-2;i++){var n=e.target.elements[i];"checkbox"===n.type?1==n.checked?t[n.name]=!0:t[n.name]&&(t[n.name]=!1):"button"===n.type?"btn btn-primary active"===n.className&&(t[n.name]=n.value):t[n.name]="text"==n.type?-1!=n.className.indexOf("arrayField")?n.value.split(",").map(function(e){return e.trim()}):n.value:n.value}this.get("controller").send("updateChartConfigs",t),this.togglePopover()}}),chartTypesView:Em.View.extend({templateName:"charts/chart_types",didInsertElement:function(){$(".type_popover").tooltip(),$("button").tooltip({placement:"bottom"})},click:function(e){var t=$("#"+this.get("elementId"));if($(".popover").each(function(){if(!$(this).is(t.find(".popover"))){$(this).addClass("hidden");for(var e=$(this).children(),n=0;n<e.length;n++){var i=$(e[n]);i.addClass("hidden")}}}),-1!=e.target.className.indexOf("edit_chart_types")){var n=t.parent().parent().position().left,i=t.parent().offset().top+25;this.togglePopover(n,i)}},togglePopover:function(e,t){var n=$("#"+this.get("elementId"));this.get("controller").get("width");var i=n.find(".popover");i.hasClass("hidden")?(i.removeClass("hidden"),e&&i.offset({left:e}),t&&i.offset({top:t})):i.addClass("hidden");for(var r=i.children(),a=0;a<r.length;a++){var s=$(r[a]);s.toggleClass("hidden")}},submit:function(e){e.preventDefault();var t=$(e.target),n={};n.chartType=t.find(".active").val(),this.get("controller").send("updateTypes",n),this.togglePopover()},showBarGraph:function(){return-1!==this.get("controller").get("editType").indexOf("1")}.property("controller.chartType"),showPieGraph:function(){return-1!==this.get("controller").get("editType").indexOf("2")}.property("controller.chartType"),showAreaGraph:function(){return-1!==this.get("controller").get("editType").indexOf("11")}.property("controller.chartType"),showLineGraph:function(){return-1!==this.get("controller").get("editType").indexOf("8")}.property("controller.chartType"),showComboChart:function(){return-1!==this.get("controller").get("editType").indexOf("6")}.property("controller.chartType"),showMultiline:function(){return-1!==this.get("controller").get("editType").indexOf("9")}.property("controller.chartType"),showDonutGraph:function(){return-1!==this.get("controller").get("editType").indexOf("17")}.property("controller.chartType"),showFunnelGraph:function(){return-1!==this.get("controller").get("editType").indexOf("18")}.property("controller.chartType"),showSingleValue:function(){return-1!==this.get("controller").get("editType").indexOf("15")}.property("controller.chartType"),showGaugeGraph:function(){return-1!==this.get("controller").get("editType").indexOf("20")}.property("controller.chartType")}),chartFiltersListView:Em.View.extend({templateName:"charts/controls/chart_filters_list",chartFilterView:Em.View.extend({templateName:"charts/controls/chart_filter",classNames:["span","chart_filter","pull-right"],classNameBindings:["content.disabled:chart_filter_disabled:chart_filter_enabled"],tagName:"div",period_unit:["Days","Weeks","Months","Quarters","Years","Date"],didInsertElement:function(){var e=this;e.build_filter_values();var t=$("#"+e.get("rangeFilterPopoverId"));1==e.get("specific_date")?e.set("specific_date",!0):e.set("reference_date_option",!0),"previous"==this.get("content").get("referenceDirection")?t.find("input[name='reference_direction'][value='previous']").prop("checked",!0):t.find("input[name='reference_direction'][value='next']").prop("checked",!0);var n=e.get("content");if(n.get("isLoaded")&&5!=n.get("comparisonOperator")){var i=JSON.parse(n.get("fieldValues"));$("#"+this.elementId).find(".dropdown-toggle").tooltip({placement:"bottom",title:i,trigger:"hover"})}},fieldType:function(){var e=this,t=e.get("controller").get("content").get("chartsDataSources").objectAt(0).get("dataSource"),n=e.get("content").get("fieldName"),i=t.getDataType(n);return i}.property("content.fieldName"),isDate:function(){var e=this.get("fieldType");return e&&"date"==e.toLowerCase().trim()?!0:!1}.property("fieldType"),isTime:function(){var e=this.get("fieldType");return e&&"time"==e.toLowerCase().trim()?!0:!1}.property("fieldType"),isDateTime:function(){var e=this.get("fieldType");return e&&"datetime"==e.toLowerCase().trim()?!0:!1}.property("fieldType"),range:function(){var e=this.get("content").get("comparisonOperator");return 5==e}.property(""),not_null:function(){var e=this.get("content").get("comparisonOperator");return 4==e}.property(""),max_min:function(){var e=this.get("content").get("comparisonOperator");return 6==e||7==e}.property(""),chartFilterValuesId:function(){return"chart-filter-value-"+this.get("content").id}.property(""),getRange:function(){var e=this.get("content");if(0==e.get("dateRange")){var t="true"==e.get("referenceDateToday")||1==e.get("referenceDateToday")?dateToday():e.get("referenceDate"),n="previous"==e.get("referenceDirection")?"Last ":"Next ";return str="",str+=n,str+=e.get("referenceCount")+" ",str+=e.get("referenceUnit"),str+=" From ",str+=$.datepicker.formatDate("dd M yy",new Date(t))}var i=$.datepicker.formatDate("mm/dd/yy",e.get("lowerRange")),r=$.datepicker.formatDate("mm/dd/yy",e.get("upperRange"));return i+" - "+r}.property("content.upperRange","content.lowerRange","content.referenceCount","content.referenceUnit","content.referenceDateToday","content.referenceDirection","content.referenceDate","content.dateRange"),build_filter_values:function(){var e=this,t=e.get("content").get("fieldName"),n=e.get("content").get("formatAs"),i=e.get("controller");i.getDimensionUniqueVals(t,e.rebuild_select_box,e,n)}.observes("content.fieldName","content.format_as","controller.isSetup"),rebuild_select_box:function(e,t){var n=$("#"+t.get("chartFilterValuesId"));if(t.get("not_null")||t.get("max_min"))return n.html(""),void 0;if(t.get("content").get("fieldName"),t.get("in_comparison")){n.html("<select class='select_box_multiselect' multiple='multiple' style='display:none'></select>");var i=e;!t.get("datatype_date")||"Month"!=t.get("content").get("formatAs")&&"Year"!=t.get("content").get("formatAs")&&"Quarter"!=t.get("content").get("formatAs")&&"Month Year"!=t.get("content").get("formatAs")&&"Hours"!=t.get("content").get("formatAs")&&"Day"!=t.get("content").get("formatAs")&&"Week"!=t.get("content").get("formatAs")&&"Date"!=t.get("content").get("formatAs")||(i=formatDates(t.get("content").get("formatAs"),i));var r=n.find(".select_box_multiselect");r.html("");for(var a=JSON.parse(t.get("content").get("fieldValues")),s=0;s<i.length;s++){var o="";-1!=$.inArray(i[s],a)&&(o="selected='selected'"),r.append('<option value="'+i[s]+'"'+o+">"+i[s]+"</option>")}r.multiselect({classes:"multiselect_btn multiselect_menu",checkAllText:"All",uncheckAllText:"None"}).multiselectfilter()}else if(t.get("range_comparison"))n.html("");else{var l=t.get("content").get("fieldValues");n.html("<input class='select_box_multiselect input-small' type='number' value="+l+" />")}},datatype_date:function(){var e=this,t=e.get("controller").get("content").get("chartsDataSources").objectAt(0).get("dataSource"),n=e.get("content").get("fieldName"),i=t.getDataType(n);return"date"==i||"datetime"==i?!0:!1}.property("content.fieldName"),in_comparison:function(){var e=this.get("content").get("comparisonOperator");return 0==e||3==e}.property("content.comparisonOperator","isLoaded"),range_comparison:function(){var e=this.get("content").get("comparisonOperator");return 5==e?!0:void 0}.property("content.comparisonOperator","isLoaded","content.fieldName"),click:function(e){var t=this.get("elementId");if(t){e.stopPropagation();var n=$(e.target),i=$("#"+t);if(n.hasClass("dropdown-toggle")){var r=i.find(".dropdown-menu"),a=$("#main-tab"),s=a.position().left,o=s+a.width();e.pageX+250>o&&(r.css("left","auto"),r.css("right","-4px")),r.toggle()}}},deleteChartFilter:function(){var e=confirm("Are you sure you want to delete this filter?");if(1==e){var t=this.get("content"),n=this.get("controller").get("content");t.deleteRecord(),t.get("transaction").commit(),t.on("didUpdate",function(){n.draw()}),this.get("controller").get("content").draw()}this.closeChartFilter()},disableFilter:function(){var e=this.get("content"),t=this.get("controller").get("content");e.get("disabled")?e.set("disabled",!1):e.set("disabled",!0),e.on("didUpdate",function(){t.draw()}),e.get("transaction").commit(),this.closeChartFilter()},filterState:function(){return this.get("content").get("disabled")?"Enable":"Disable"}.property("content.disabled"),updateChartFilter:function(){if(this.get("range")){var e=$("#"+this.get("elementId")),t=this.get("content"),n=this,i=0==e.find("input[class='popup_range_selector']:checked").prop("name")?!0:!1;if(t.set("dateRange",i),i){var r=e.find(".chart_filter_upper_range").find("input").val(),a=e.find(".chart_filter_lower_range").find("input").val();if("time"==this.get("fieldType").toLowerCase().trim()){var s=a,o=s.split(":"),l=new Date;l.setHours(o[0]),l.setMinutes(o[1]),l.setSeconds(o[2]),t.set("lowerRange",l),s=r,o=s.split(":"),l.setHours(o[0]),l.setMinutes(o[1]),l.setSeconds(o[2]),t.set("upperRange",l)}else t.set("upperRange",new Date(r)),t.set("lowerRange",new Date(a));t.set("referenceDate",null),t.set("referenceCount",null),t.set("referenceUnit",null),t.set("referenceDirection",null),t.set("referenceDateToday",null)}else{if(t.set("upperRange",null),t.set("lowerRange",null),t.set("referenceCount",this.get("reference_count")),t.set("referenceUnit",this.get("reference_unit")),this.get("reference_date_today"))t.set("referenceDate",null);else{var c=e.find(".chart_filter_reference_date").find("input").val();if("time"==this.get("fieldType").toLowerCase().trim()){var s=c,o=s.split(":"),l=new Date;l.setHours(o[0]),l.setMinutes(o[1]),l.setSeconds(o[2]),t.set("referenceDate",l)}else t.set("referenceDate",new Date(c))}var h=e.find("input[name='reference_direction']:checked").val();t.set("referenceDirection",h),t.set("referenceDateToday",this.get("reference_date_today"))}t.on("didUpdate",function(){n.get("controller").get("content").draw()}),t.get("store").commit(),this.closeChartFilter()}else{var t=this.get("content"),n=this,u=$("#"+n.get("chartFilterValuesId")).find(".select_box_multiselect").val();t.set("fieldValues",JSON.stringify(u)),t.on("didUpdate",function(){$("#"+n.elementId).tooltip("destroy"),$("#"+n.elementId).tooltip({placement:"bottom",title:JSON.parse(t.get("fieldValues")),trigger:"hover"}),n.get("controller").get("content").draw()}),t.get("store").commit(),this.closeChartFilter()}},closeChartFilter:function(){var e=this.get("elementId");if(e){var t=$("#"+e),n=t.find(".dropdown-menu");n.toggle()}},rangeFilterPopoverId:function(){return"range-filter-popover"+this.get("content").id}.property(""),is_specific_date:function(){this.get("specific_date")&&this.set("reference_date_option",!1)}.observes("specific_date"),is_reference_date_option:function(){this.get("reference_date_option")&&this.set("specific_date",!1)}.observes("reference_date_option"),renderRangeView:function(){var e=$(event.target);_.each(this.$().find(".popup_range_selector"),function(t){e[0]==t?$(t).prop("checked",!0):$(t).prop("checked",!1)}),0==e.attr("value")?(this.set("specific_date",!0),this.set("reference_date_option",!1)):(this.set("specific_date",!1),this.set("reference_date_option",!0))},specific_date:function(){var e=this.get("content");return e.get("dateRange")}.property(""),upper_range:function(){var e=this.get("content").get("upperRange");return e.toLocaleString()}.property(""),lower_range:function(){var e=this.get("content").get("lowerRange");return e.toLocaleString()}.property(""),reference_date_option:function(){var e=this.get("content");return!e.get("dateRange")}.property(""),reference_count:function(){return this.get("content").get("referenceCount")}.property(""),reference_unit:function(){return this.get("content").get("referenceUnit")}.property(""),reference_date_today:function(){var e="true"==this.get("content").get("referenceDateToday")?!0:!1;return e}.property(""),reference_date:function(){var e=this.get("content").get("referenceDate");return e.toLocaleString()}.property("")})}),chartFiltersView:Em.View.extend({templateName:"charts/controls/chart_filters",filters:[],period_unit:["Days","Weeks","Months","Quarters","Years","Date"],isDate:function(){var e=this.get("fieldType");return e&&"date"==e.toLowerCase().trim()?!0:!1}.property("fieldType"),isTime:function(){var e=this.get("fieldType");return e&&"time"==e.toLowerCase().trim()?!0:!1}.property("fieldType"),isDateTime:function(){var e=this.get("fieldType");return e&&"datetime"==e.toLowerCase().trim()?!0:!1}.property("fieldType"),period:function(){var e=["Month","Quarter","Year","Month Year","Day","Week","Date"];return"datetime"==this.get("fieldType").toLowerCase().trim()&&(e.push("Hours"),e.push("Date")),e}.property("fieldType"),fieldType:function(){return this.get("controller").fieldType(this.get("field_name"))}.property("field_name"),dateTypeField:function(){var e=this.get("fieldType");return!e||"date"!=e.toLowerCase().trim()&&"datetime"!=e.toLowerCase().trim()?!1:!0}.property("fieldType"),operators:function(){var e=Cibi.ChartFilter.prototype.operatorsMap,t=this;return t.get("field_name")&&t.get("dateTypeField")&&(e=e.concat([{display:"range",value:5}])),e}.property("field_name","fieldType"),set_chart_filter:function(){var e=this,t=this.get("field_name");if(controller=e.get("controller"),elem=$("#"+e.get("filterValuesId")),e.get("not_null")||e.get("max_min"))return elem.html(""),void 0;if(t)if(e.get("in_comparison")){var n=this.get("format_as");e.set("valuesLoading",!0),controller.getDimensionUniqueVals(t,e.rebuild_select_box,e,n)}else e.get("range_comparison")?elem.html(""):elem.html("<input class='select_box_multiselect input-small' type='number' />")}.observes("field_name","comparison_operator","format_as"),in_comparison:function(){var e=this.get("comparison_operator");return 0==e||3==e}.property("comparison_operator","isLoaded"),not_null:function(){var e=this.get("comparison_operator");return 4==e}.property("comparison_operator","isLoaded"),max_min:function(){var e=this.get("comparison_operator");return 6==e||7==e}.property("comparison_operator","isLoaded"),format_as:function(){return this.get("controller").get("content").get("formatAs")}.property(""),filterValuesId:function(){return"chart-filter-"+this.get("controller").get("id")}.property("controller.id"),rebuild_select_box:function(e,t){var n=Date.now(),i=$("#"+t.get("filterValuesId"));if(t.get("not_null")||t.get("max_min"))return i.html(""),void 0;if(t.get("in_comparison")){i.html("<select class='select_box_multiselect' multiple='multiple' style='display:none'></select>");var r=e.sort();!t.get("dateTypeField")||"Month"!=t.get("format_as")&&"Year"!=t.get("format_as")&&"Quarter"!=t.get("format_as")&&"Month Year"!=t.get("format_as")&&"Hours"!=t.get("format_as")&&"Day"!=t.get("format_as")&&"Week"!=t.get("format_as")&&"Date"!=t.get("format_as")||(r=formatDates(t.get("format_as"),r));var a=i.find(".select_box_multiselect");a.html("");for(var s="",o=0;o<r.length;o++)s+='<option value="'+r[o]+'">'+r[o]+"</option>";a.html(s),a.multiselect({classes:"multiselect_btn multiselect_menu",checkAllText:"All",uncheckAllText:"None"}).multiselectfilter()}else i.html("<input class='select_box_multiselect input-small' type='number' />");t.set("valuesLoading",!1);var l=Date.now(),c=l-n;console.log("Time to build select box = "+c.toString()+" ms")},didInsertElement:function(){var e=this,t=$("#"+e.get("elementId")),n=t.find(".filter_popover");n.tooltip(),n.click(function(){$(".popover").each(function(){if(!$(this).is(t.find(".popover"))){$(this).addClass("hidden");for(var e=$(this).children(),n=0;n<e.length;n++){var i=$(e[n]);i.addClass("hidden")}}});var n=t.parent().parent().position().left,i=t.parent().offset().top+25;e.togglePopover(n,i)})},togglePopover:function(e,t){var n=$("#"+this.get("elementId"));this.get("controller").get("width");var i=n.find(".popover");i.hasClass("hidden")?(i.removeClass("hidden"),e&&i.offset({left:e}),t&&i.offset({top:t})):i.addClass("hidden");for(var r=i.children(),a=0;a<r.length;a++){var s=$(r[a]);s.toggleClass("hidden")}},submit:function(e){e.preventDefault();var t=$("#"+this.get("elementId")),n=t.find(".select_box_multiselect"),i=n.val();field_name=this.get("field_name"),format_as=this.get("format_as"),data_type="",display_name=this.get("display_name"),comparison_operator=this.get("comparison_operator"),is_global=this.get("is_global");var r={},a=this.$(".range_selector:checked").prop("name");if(0==a){var s=t.find("#chart_lower_range").find("input").val(),o=t.find("#chart_upper_range").find("input").val();if(s&&o)if(r.dateRange=!0,"time"==this.get("fieldType").toLowerCase().trim()){var l=s,c=l.split(":"),h=new Date;h.setHours(c[0]),h.setMinutes(c[1]),h.setSeconds(c[2]),r.lowerRange=h,l=o,c=l.split(":"),h.setHours(c[0]),h.setMinutes(c[1]),h.setSeconds(c[2]),r.upperRange=h}else r.lowerRange=new Date(s),r.upperRange=new Date(o)}else if(1==a)if(r.dateRange=!1,r.referenceDirection=$('input[name="reference_direction"]:checked').val(),r.referenceCount=this.get("reference_count"),r.referenceUnit=this.get("reference_unit"),r.referenceDateToday=this.get("reference_date_today"),this.get("reference_date_today"))r.referenceDate=$.datepicker.formatDate("mm/dd/yy",new Date);else{var u=t.find("#reference_date").find("input").val();if("time"==this.get("fieldType").toLowerCase().trim()){var l=u,c=l.split(":"),h=new Date;h.setHours(c[0]),h.setMinutes(c[1]),h.setSeconds(c[2]),r.referenceDate=h}else r.referenceDate=new Date(u)}var d=this.get("controller").get("content").get("chartsDataSources").objectAt(0).get("dataSource").get("fieldsHash");d.forEach(function(e){e.name==field_name&&(data_type=e.data_type)}),!format_as||5==comparison_operator||"date"!=data_type&&"datetime"!=data_type||(r.formatAs=format_as),r.fieldValues=JSON.stringify(i),r.fieldName=field_name,r.displayName=display_name,r.fieldDataType=data_type,r.comparisonOperator=comparison_operator,r.isGlobal=is_global,this.get("controller").send("set_filters",r),this.set("comparison_operator",null),this.set("field_name",null),this.set("display_name",null),this.set("is_global",!1),this.togglePopover()},cancel:function(){return $("#"+this.get("elementId")).find(".filter_popover").click(),this.set("field_name",null),this.set("comparison_operator",null),$("#"+this.get("filterValuesId")).html(" "),!1},checkedObserver:function(){alert(this.get("field"))},deleteFilter:function(e){var t=this;e.on("didDelete",function(){t.set("successMessage","Filter Deleted!"),setTimeout(function(){t.set("successMessage",null)},3e3),t.get("controller").send("draw")}),e.deleteRecord(),e.get("transaction").commit()},range_comparison:function(){var e=this.get("comparison_operator");return 5==e?(this.set("specific_date",!0),!0):void 0}.property("comparison_operator","isLoaded","field_name"),is_specific_date:function(){this.get("specific_date")&&this.set("reference_date_option",!1)}.observes("specific_date"),is_reference_date_option:function(){this.get("reference_date_option")&&this.set("specific_date",!1)}.observes("reference_date_option"),renderRangeView:function(){var e=$(event.target);_.each($(".range_selector"),function(t){e[0]==t?$(t).prop("checked",!0):$(t).prop("checked",!1)}),0==e.attr("value")?(this.set("specific_date",!0),this.set("reference_date_option",!1)):(this.set("specific_date",!1),this.set("reference_date_option",!0))}}),drillThroughView:Em.View.extend({templateName:"charts/drill_through",didInsertElement:function(){var e=this;$(".drill_through_popover").tooltip();var t=e.get("controller").get("content").get("drillThroughFields");t=t?t.split(","):[];var n=$("#"+e.get("elementId")),i=n.find("ul.drill_through_fields li :checkbox");_.each(i,function(e){t.contains(e.name)&&(e.checked=!0)}),e.get("modalEnabled")&&n.find(".drill_through_popover").parent().attr("style","background-color:green");var r=JSON.parse(e.get("controller").get("content").get("configs"))||{},a=r.detailsDashboardId;e.set("detailsDashboard",a)},fields:function(){return this.get("controller").get("content").get("dataSources").objectAt(0).get("getDataSourceFields")}.property("content.dataSources"),modalEnabled:function(){return this.get("controller").get("content").get("modalEnabled")}.property("content.modalEnabled"),dashboardList:function(){var e,t=this,n=t.get("controller").get("content");if(n){var i=n.get("dashboard");if(i){var r=i.get("vertical");return r&&(e=r.get("dashboards")),e}}}.property("controller.content.dashboard.vertical","controller.content.dashboard.vertical.dashboards.length"),click:function(e){var t=$("#"+this.get("elementId"));if($(".popover").each(function(){if(!$(this).is(t.find(".popover"))){$(this).addClass("hidden");for(var e=$(this).children(),n=0;n<e.length;n++){var i=$(e[n]);i.addClass("hidden")}}}),-1!=e.target.className.indexOf("icon-tasks")){t.find(".popover");var n=t.parent().parent().position().left,i=t.parent().offset().top+25;this.togglePopover(n,i)}},togglePopover:function(e,t){var n=$("#"+this.get("elementId")),i=n.find(".popover");i.hasClass("hidden")?(i.removeClass("hidden"),e&&i.offset({left:e}),t&&i.offset({top:t})):i.addClass("hidden");for(var r=i.children(),a=0;a<r.length;a++){var s=$(r[a]);s.toggleClass("hidden")}},submit:function(e){e.preventDefault();var t=this,n=$("#"+t.get("elementId")),i=[],r=n.find("ul.drill_through_fields li :checkbox:checked");_.each(r,function(e){i.push(e.name)}),n.find("div.popover #"+t.get("controller").get("drillId"))[0].checked!=t.get("controller").get("content").get("modalEnabled")&&t.get("controller").toggleDrill(),t.get("controller").get("content").set("drillThroughFields",i);var a=JSON.parse(t.get("controller").get("content").get("configs"))||{};a.detailsDashboardId=t.get("detailsDashboard"),t.get("controller").send("updateChartConfigs",a),t.togglePopover()}}),forecastView:Em.View.extend({templateName:"charts/forecast",supportedForecastMethods:["ETS","HoltWinters","Arima","Auto Arima"],errorOptions:["A","M","Z"],trendAndSeasonalityOptions:["N","A","M","Z"],isETS:function(){var e=this;return"ETS"==e.get("forecastObject").forecastMethod?!0:void 0}.property("forecastObject.forecastMethod"),isHoltWinters:function(){var e=this;return"HoltWinters"==e.get("forecastObject").forecastMethod?!0:void 0}.property("forecastObject.forecastMethod"),isArima:function(){var e=this;return"Arima"==e.get("forecastObject").forecastMethod?!0:void 0}.property("forecastObject.forecastMethod"),forecastObject:function(){var e=this,t=e.get("controller").get("content").get("configs"),n=JSON.parse(t?t:"{}");return n.forecastObject?n.forecastObject:{}}.property("controller.content.configs.forecastObject"),forecastPeriodFormat:function(){var e=this,t=e.get("controller").get("content").get("chartsDataSources").objectAt(0).get("dimensionFormatAs");
switch(t){case"Quarter":return"Quarter(s)";case"Year":return"Year(s)";case"Month Year":return"Month(s)"}}.property("controller.content.chartsDataSources.dimensionFormatAs"),didInsertElement:function(){$(".forecast_popover").tooltip()},click:function(e){var t=$("#"+this.get("elementId"));if($(".popover").each(function(){if(!$(this).is(t.find(".popover"))){$(this).addClass("hidden");for(var e=$(this).children(),n=0;n<e.length;n++){var i=$(e[n]);i.addClass("hidden")}}}),-1!=e.target.className.indexOf("forecast_icon")){t.find(".popover");var n=t.parent().parent().position().left,i=t.parent().offset().top+25;this.togglePopover(n,i)}},togglePopover:function(e,t){var n=$("#"+this.get("elementId")),i=n.find(".popover");i.hasClass("hidden")?(i.removeClass("hidden"),e&&i.offset({left:e}),t&&i.offset({top:t})):i.addClass("hidden");for(var r=i.children(),a=0;a<r.length;a++){var s=$(r[a]);s.toggleClass("hidden")}},submit:function(e){e.preventDefault();var t=this,n=$("#"+t.get("elementId")),i=t.get("forecastObject"),r={};switch(r.enableForecast=$(n.find("input[id='"+t.get("controller").get("drillId")+"']:checkbox")[0]).prop("checked"),r.forecastPeriod=i.forecastPeriod,r.forecastMethod=i.forecastMethod,r.forecastMethod){case"ETS":i.specifyETSModel?(r.specifyETSModel=!0,r.errorValue=i.errorValue,r.trendValue=i.trendValue,r.seasonalityValue=i.seasonalityValue):(r.specifyETSModel=!1,r.errorValue="A",r.trendValue="N",r.seasonalityValue="N");break;case"HoltWinters":i.specifyHoltWintersModel?(r.specifyHoltWintersModel=!0,r.alphaValue=i.alphaValue||"",r.betaValue=i.betaValue||"",r.gammaValue=i.gammaValue||""):(r.specifyHoltWintersModel=!1,r.alphaValue="",r.betaValue="",r.gammaValue="");break;case"Arima":i.specifyArimaModel?(r.specifyArimaModel=!0,r.orderValue=i.orderValue||""):(r.specifyArimaModel=!1,r.orderValue="")}var a=JSON.parse(t.get("controller").get("content").get("configs")?t.get("controller").get("content").get("configs"):"{}");a.forecastObject=r,t.get("controller").get("content").set("configs",JSON.stringify(a));var s=t.get("controller").get("content");s.on("didUpdate",function(){s.draw()}),s.get("store").commit(),t.togglePopover()},forecastDetailsView:Em.View.extend({viewDetails:function(){var e=this,t="";if(e.get("controller").get("content").get("isLoaded")){var n=e.get("controller").get("content").get("forecastModel");t+="<div class='row'>",t+="<h5>Forecast Details</h5>",t+="<table>",_.each(n,function(e,n){t+="<tr>",t+="<td>"+n.capitalize()+"</td>"+"<td style='padding-left:15px; padding-right:15px;'>:</td>"+"<td>"+e+"</td>",t+="</tr>"}),t+="</table></div>",$("#"+e.get("elementId")).html(t)}}.observes("controller.content.forecastModel")})}),statisticalRelevanceView:Em.View.extend({templateName:"charts/statistical_relevance",supportedComparisonFunctions:["","P Value"],supportedComparisonOperators:["","equal","less than","greater than"],supportedTests:["","T Test","Z Test"],supportedComparisonValues:[.01,.02,.03,.04,.05],isPValue:function(){var e=this;return"P Value"==e.comparison_function?!0:!1}.property("comparison_function"),didInsertElement:function(){var e=this;$(".statistical_relevance_popover").tooltip();var t=e.get("controller").get("content").get("highlightRule");if(t){var n=t.get("comparison_value");e.set("comparison_value",parseFloat(d3.format(".2f")(n))),e.set("chart_id",t.get("chart_id"));var i=JSON.parse(t.get("configs"));e.set("test",i.test),e.set("control_field",i.control_field),e.set("comparison_function",t.get("comparison_function").trim()),e.set("operator",t.get("operator").trim()),e.set("enable_highlight",t.get("enable_highlight")),e.set("enable_sem",t.get("enable_sem"))}},click:function(e){var t=$("#"+this.get("elementId"));if($(".popover").each(function(){if(!$(this).is(t.find(".popover"))){$(this).addClass("hidden");for(var e=$(this).children(),n=0;n<e.length;n++){var i=$(e[n]);i.addClass("hidden")}}}),-1!=e.target.className.indexOf("statistical_relevance_icon")){t.find(".popover");var n=t.parent().parent().position().left,i=t.parent().offset().top+22;this.togglePopover(n,i)}},togglePopover:function(e,t){var n=$("#"+this.get("elementId")),i=n.find(".popover");i.hasClass("hidden")?(i.removeClass("hidden"),e&&i.offset({left:e}),t&&i.offset({top:t})):i.addClass("hidden");for(var r=i.children(),a=0;a<r.length;a++){var s=$(r[a]);s.toggleClass("hidden")}},submit:function(e){e.preventDefault();var t=this,n=t.get("controller").get("content"),i=n.get("highlightRule");i?t.updateObject(n,i):t.createObject(n),t.togglePopover()},createObject:function(e){var t=this;$("#"+t.get("elementId"));var n={};n.comparison_function=t.comparison_function,n.operator=t.operator,n.comparison_value=t.comparison_value,n.chart_id=e.get("id"),n.enable_highlight=t.enable_highlight,n.enable_sem=t.enable_sem;var i={};i.test=t.test,i.control_field=t.control_field,n.configs=JSON.stringify(i);var r=Cibi.HighlightRule.createRecord(n);r.on("didCreate",function(){e.draw()}),r.set("chart",e),r.get("store").commit()},updateObject:function(e,t){var n=this;$("#"+n.get("elementId")),t.set("comparison_function",n.comparison_function),t.set("operator",n.operator),t.set("comparison_value",n.comparison_value),t.set("chart_id",e.get("id")),t.set("enable_highlight",n.enable_highlight),t.set("enable_sem",n.enable_sem);var i={};i.test=n.test,i.control_field=n.control_field,t.set("configs",JSON.stringify(i)),t.on("didUpdate",function(){e.draw()}),t.get("store").commit()}}),pivotConfigsView:Em.View.extend({templateName:"charts/pivot_configs",fields:function(){if(this.get("controller").get("content").get("chartsDataSources").objectAt(0).get("dataSource")){var e=this.get("controller").get("content").get("chartsDataSources").objectAt(0).get("dataSource").get("getDataSourceFields"),t=this.get("row_fields"),n=this.get("column_fields"),i=this.get("measure_fields"),r=[];return _.each(i,function(e){r.push(e.field)}),_.difference(e,t,n,r)}}.property("controller.content.isSetup","row_fields","column_fields","measure_fields"),row_fields:function(){return this.get("controller").get("content").get("configs")?JSON.parse(this.get("controller").get("content").get("configs")).hierarchy:""}.property("controller.content.isSetup","controller.content.configs"),column_fields:function(){return this.get("controller").get("content").get("configs")?JSON.parse(this.get("controller").get("content").get("configs")).column_fields:""}.property("controller.content.isSetup","controller.content.configs"),measure_fields:function(){return this.get("controller").get("content").get("configs")?JSON.parse(this.get("controller").get("content").get("configs")).measure_fields:""}.property("controller.content.isSetup","controller.content.configs"),measure_fields_arr:function(){var e=this.get("measure_fields");if(e){var t=[];return _.each(e,function(e){var n={};n.content=[],n.content.push("Sum("+e.field+")"),n.content.push("Avg("+e.field+")"),n.content.push("Count("+e.field+")"),n.content.push("Count Unique("+e.field+")"),n.value=("Count,Distinct"==e.format?"Count Unique":e.format)+"("+e.field+")",t.push(n)}),t}}.property("measure_fields"),applyPivotConfigs:function(){var e=this,t=$("#"+this.get("elementId")),n=JSON.parse(e.get("controller").get("content").get("configs")?e.get("controller").get("content").get("configs"):"{}"),i=[];_.each(t.find("#row_fields").find("li"),function(e){$(e).attr("class").split(" ").contains("placeholder")||i.push($(e).text().trim())}),n.hierarchy=i;var r=[];_.each(t.find("#column_fields").find("li"),function(e){$(e).attr("class").split(" ").contains("placeholder")||r.push($(e).text().trim())}),n.column_fields=r;var a=[];_.each(t.find("#measure_fields").find("li"),function(e){if(!$(e).attr("class").split(" ").contains("placeholder")){var t={},n=$(e).find("option:selected").text().trim().split("(");t.field=n[1].replace(")",""),t.format="Count Unique"==n[0]?"Count,Distinct":n[0],a.push(t)}}),n.measure_fields=a,n.display_total=t.find("input:checkbox").prop("checked"),e.get("controller").get("content").set("configs",JSON.stringify(n)),e.get("controller").get("content").get("store").commit(),$("#"+e.get("controller").get("content").get("containerId")).find("#modal-pivot-configs").modal("toggle")},deleteField:function(e){var t=this;console.log(e);var n=JSON.parse(t.get("controller").get("content").get("configs")?t.get("controller").get("content").get("configs"):"{}");if("row_fields"==$(event.target).closest("ul").attr("id"))n.hierarchy=_.without(n.hierarchy,e);else if("column_fields"==$(event.target).closest("ul").attr("id"))n.column_fields=_.without(n.column_fields,e);else if("measure_fields"==$(event.target).closest("ul").attr("id")){var i=_.find(n.measure_fields,function(t){return t.format+"("+t.field+")"==e.value});n.measure_fields=_.without(n.measure_fields,i)}t.get("controller").get("content").set("configs",JSON.stringify(n))}}),descriptionView:Em.View.extend({templateName:"charts/chart_description",didInsertElement:function(){var e=this;$(".description_popover").tooltip(),e.attachPopover()},attachPopover:function(){var e=this.get("controller").get("content"),t=e.get("dashboard"),n=t.getBlockWidth(),i=t.get("columns");if(3>i)var r="270px;";else if(i>6)var r=n+20+"px;";else var r=n-60+"px;";$(".description_popover").popover({html:!0,content:function(){var e='<div style="height: auto; width:'+r+'overflow: auto;">';return e+=$(this).find("#list_comments").html(),e+=$(this).find("#new_comment").html(),e+="</div>"},placement:"left"}).click(function(e){var t=$(this);e.preventDefault(),$(".popover").each(function(){var e=t;if("Chart description"!=$(this).find(".popover-title").text()){$(this).addClass("hidden");for(var n=$(this).children(),i=0;i<n.length;i++){var r=$(n[i]);r.addClass("hidden")}}else if($(this.parentElement).find("a")[0].id==e[0].id){$(this).removeClass("hidden");for(var n=$(this).children(),i=0;i<n.length;i++){var r=$(n[i]);r.removeClass("hidden")}}else{$(this).addClass("hidden");for(var n=$(this).children(),i=0;i<n.length;i++){var r=$(n[i]);r.addClass("hidden")}}})})}})}),Cibi.TreeTableView=Ember.View.extend({templateName:"chart_types/tree_table",tableCellView:Ember.View.extend({templateName:"chart_types/tree_table_cell",toggle:function(){var e=this;if(this._context.isLeafNode){var t=this.modalDrillDown(this._context);$("#"+this.elementId).append(t),$("#modal-"+this._context.id).modal()}else{var n=this._context.children;n&&n.forEach(function(t){var n=$("#collapsible-table-row-"+t.id),i=n.attr("class");-1===i.indexOf("collapsed")?(n.addClass("collapsed"),t.children&&e.collapse(t.children)):n.removeClass("collapsed")})}},collapse:function(e){var t=this;e.forEach(function(e){var n=$("#collapsible-table-row-"+e.id);n.addClass("collapsed"),e.children&&t.collapse(e.children)})},elemId:function(){return"collapsible-table-row-"+this._context.id}.property("this"),className:function(){return this._context.collapsed?"collapsed":""}.property("this"),modalDrillDown:function(e){var t=e.children,n="Summary",r="<div id='modal-"+e.id+"' class='modal large-modal hide fade'>";r+='<div class="modal-header">',r+='<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>',r+='<h3 id="myModalLabel">'+n+"</h3>",r+="</div><!-- modal-header -->",r+='<div class="modal-body">',r+='<table class="table table-bordered">';var a=t[0];r+="<tr>";for(i in a)"x"!=i&&"y"!=i&&"parent"!=i&&"depth"!=i&&"id"!=i&&"sum"!=i&&(r+="<th>"+i+"</th>");r+="</tr>";for(var s=0;s<t.length;s++){r+="<tr>";var a=t[s];for(i in a)"x"!=i&&"y"!=i&&"parent"!=i&&"depth"!=i&&"id"!=i&&"sum"!=i&&(r+="<td>"+a[i]+"</td>");r+="</tr>"}return r+="</table>",r+="</div><!-- modal-body -->",r+="</div>"}})}),Cibi.NewChartsDataSourceView=Ember.View.extend({template:Ember.Handlebars.compile("{{partial 'charts/dataSources'}}"),didInsertElement:function(){console.log(this._parentView._parentView.chartType)},dimensionsSupportedFormats:function(){var e=this.get("dataSourceId");if(!e)return[];var t=this.get("dimensionName"),n=this.get("controller").getDataSource(e),i=n.getDataType(t);if("date"==i){var r=["","Month","Quarter","Year","Month Year"];return r}return this.set("dimensionFormatAs",""),[]}.property("dimensionName"),dimensionsArrOld:function(){var e=this.get("dataSourceId");if(!e)return[];var t=this.get("controller").getDimensions(e);return[""].concat(t)}.property("dataSourceId","controller.data_sources"),dimensionsArr:function(){var e=this.get("dataSourceId");if(!e)return[];var t=this.get("controller").getFields(e);return[""].concat(t)}.property("dataSourceId","controller.data_sources"),fieldsArr:function(){var e=this.get("dataSourceId");if(!e)return[];var t=this.get("controller").getFields(e);return[""].concat(t)}.property("dataSourceId","controller.data_sources"),factFormats:function(){return[{name:"",key:""},{name:"Sum of Fact",key:"sum"},{name:"Mean of Fact",key:"avg"},{name:"Standard Deviation of Fact",key:"stddev"},{name:"Standard Error of Mean of Fact",key:"sem"},{name:"Number of Missing Entries in Fact Column",key:"noops"},{name:"% Missing Entries of Total Count",key:"noopspc"},{name:"Number of Valid Entries (Count)",key:"count"},{name:"% Valid Entries of Total Count",key:"opspc"},{name:"Count unique fact fields",key:"count,distinct"}]}.property(""),isPivotTableChart:function(){return"grouped_table"==this._parentView._parentView.chartType}.property("_parentView._parentView.chartType"),toDisplayAttributes:function(){return this.get("dataSourceId")&&!this.get("isPivotTableChart")}.property("dataSourceId","isPivotTableChart"),single_value:function(){return"single_value"==this._parentView._parentView.chartType}.property("_parentView._parentView.chartType")}),Cibi.ChartsNewView=Ember.View.extend({templateName:"charts/new",removeChart:function(){var e=this.get("dataSourcesView");e.toArray().forEach(function(t){e.removeObject(t)}),document.getElementById("new_chart").reset(),$(".btn-group button").removeClass("active"),this.set("chartType",null)},submit:function(e){e.preventDefault();var t=this.get("title"),n=this.get("subtitle"),i=this.get("chartType"),r=this.get("cssClassName");r=r?r:"span";var a=this.get("width")||"800",s=this.get("height")||"800",o=this.get("marginTop")||"40",l=this.get("marginBottom")||"40",c=this.get("marginRight")||"40",h=this.get("marginLeft")||"50",u=this.get("secondaryDimension"),d=this.get("modalEnabled"),p=this.get("configs"),f=this.get("chartsDataSources"),g=this.get("sort_by_key"),m=this.get("desc_order"),f=[],v=this.get("dataSourcesView").toArray();if(null==i){var b=$("#new-chart-notice");return b.html("Please select a chart type."),b.addClass("alert alert-error"),b.fadeIn().delay(1e4).fadeOut(),void 0}if(0===v.length){var b=$("#new-chart-notice");return b.html("Specify atleast 1 data source"),b.addClass("alert alert-error"),b.fadeIn().delay(1e4).fadeOut(),void 0}if("combo"==i&&2!=v.length){var b=$("#new-chart-notice");return b.html("Combination Chart Requires 2 Data Sources. Left Y Axis - diplays fact from one data source & Right Y Axis - displays fact from second data source"),b.addClass("alert alert-error"),b.fadeIn().delay(1e4).fadeOut(),void 0}for(var y=0;y<v.length;y++){var x=v[y];x.elementId;var w={};if(w.data_source_id=x.get("dataSourceId"),w.dimension_name=x.get("dimensionName"),w.depth=x.get("depth"),"multiline"==i&&!w.depth){var b=$("#new-chart-notice");return b.html("To Create a Multiline Chart, Specify a depth field in Data Source. Else, try a lineChart instead!"),b.addClass("alert alert-error"),b.fadeIn().delay(1e4).fadeOut(),void 0}if("pie"==i&&w.depth){var b=$("#new-chart-notice");return b.html("Pie Chart shows how the fact field is distributed across dimension. Depth can not be specified in this chart type!"),b.addClass("alert alert-error"),b.fadeIn().delay(1e4).fadeOut(),void 0}if("geo"==i){var _=[];if(_=x.get("fieldsArr").join("`").toLowerCase().split("`"),!_.contains("lon")&&!_.contains("lat")){var b=$("#new-chart-notice");return b.html("Data Source for a Geo chart must have valid LAT and LON fields"),b.addClass("alert alert-error"),b.fadeIn().delay(1e4).fadeOut(),void 0}}if(!w.dimension_name&&"grouped_table"!=i&&"single_value"!=i){var b=$("#new-chart-notice");return b.html("Every Data Source Must have a dimension Specified"),b.addClass("alert alert-error"),b.fadeIn().delay(1e4).fadeOut(),void 0}w.dimension_format_as=x.get("dimensionFormatAs"),w.depth=x.get("depth"),w.fact=x.get("fact"),w.fact_display=x.get("factDisplay"),w.fact_format=x.get("factFormat"),w.fact_type=x.get("factType"),w.fact_unit=x.get("factUnit"),w.count=x.get("count"),w.is_calculated=x.get("is_calculated"),f.push(w)}var C={};C.title=t,C.subtitle=n,C.chartType=i,C.configs=JSON.stringify(p),C.cssClassName=r,C.width=a,C.height=s,C.marginBottom=l,C.marginRight=c,C.marginLeft=h,C.marginTop=o,C.sortByKey="on"==g?!0:!1,C.descOrder=m,C.modalEnabled=d,C.secondaryDimension=u,C.chartsDataSourcesStr=JSON.stringify(f);var T=this.get("controller"),D=T.get("controllers").get("dashboard").get("content");C.dashboard=D;var S=Cibi.Chart.createRecord(C);S.on("didCreate",function(){var e=D.get("id");Cibi.Chart.find({dashboard_id:e}).then(function(e){T.set("model",e),T.transitionToRoute("dashboard.charts",D)})}),S.get("transaction").commit(),$("#modal-new-chart").modal("toggle")},chartTypeView:Ember.View.extend({template:Ember.Handlebars.compile("{{partial 'charts/chartType'}}"),didInsertElement:function(){$("button").tooltip({placement:"bottom"})},click:function(e){var t=e.target;"button"===t.nodeName.toLowerCase()?this._parentView.set("chartType",t.value):"img"===t.nodeName.toLowerCase()&&this._parentView.set("chartType",t.parentElement.value)}}),chartTypeConfigsView:Ember.View.extend({template:Ember.Handlebars.compile("{{partial 'charts/chartTypeConfigs'}}"),colorPallette:function(){return colors=["","Aqua","Blue","Brown","Gray","Green","Indigo","Orange","Pink","Purple","Red","Yellow"]}.property(""),pie:function(){return"pie"==this._parentView.chartType}.property("_parentView.chartType"),bar:function(){return"bar"==this._parentView.chartType}.property("_parentView.chartType"),ctree:function(){return"ctree"==this._parentView.chartType}.property("_parentView.chartType"),ctable:function(){return"ctable"==this._parentView.chartType}.property("_parentView.chartType"),geo:function(){return"geo"==this._parentView.chartType}.property("_parentView.chartType"),combo:function(){return"combo"==this._parentView.chartType}.property("_parentView.chartType"),table:function(){return"table"==this._parentView.chartType}.property("_parentView.chartType"),multiline:function(){return"multiline"==this._parentView.chartType}.property("_parentView.chartType"),line:function(){return"line"==this._parentView.chartType}.property("_parentView.chartType"),area:function(){return"area"==this._parentView.chartType}.property("_parentView.chartType"),stacked_area:function(){return"stacked_area"==this._parentView.chartType}.property("_parentView.chartType"),hbar:function(){return"hbar"==this._parentView.chartType}.property("_parentView.chartType"),grouped_table:function(){return"grouped_table"==this._parentView.chartType}.property("_parentView.chartType"),single_value:function(){return"single_value"==this._parentView.chartType}.property("_parentView.chartType"),configs:null,change:function(e){var t=this.get("configs");t=t?t:{},-1!=e.target.className.indexOf("arrayField")?t[e.target.name]=e.target.value.split(",").map(function(e){return e.trim()}):"sort_by_key"==e.target.name?this._parentView.set("sort_by_key",e.target.value):"desc_order"==e.target.name?this._parentView.set("desc_order",e.target.value):t[e.target.name]=e.target.value,this.set("configs",t),this._parentView.set("configs",t)},geoChartTypeChanged:function(){var e=this.get("configs");e=e?e:{},e[event.toElement.name]=event.toElement.value,this.set("configs",e),this._parentView.set("configs",e)}}),chartsDataSourcesView:Ember.ContainerView.extend({viewName:"dataSourcesView",childViews:[]}),addDataSourceView:Ember.View.extend({template:Ember.Handlebars.compile("<span class='alert alert-info'><i class='icon-plus muted'></i> Data Source </span>"),click:function(){var e=this._parentView,t=e.get("dataSourcesView");t.pushObject(Cibi.NewChartsDataSourceView.create())}})}),Cibi.CommentView=Ember.View.extend({templateName:"comments/show",statusView:Ember.Checkbox.extend({checkedBinding:["status"],change:function(){this.get("controller").send("markComplete")}})}),Cibi.CommentsView=Ember.View.extend({didInsertElement:function(){this.get("controller").send("attachPopover"),$(".comment_popover").tooltip()},submit:function(e){e.preventDefault();var t={};t.chartId=this.get("controller").get("content").owner.get("id"),t.message=e.target.elements[0].value,t.authorName=e.target.elements[1].value,this.get("controller").send("createComment",t)}}),Cibi.DashboardUsersView=Em.View.extend({save:function(){var e=this,t=this.get("user"),n=this.get("role");this.get("controller").send("create",{user_id:t,role:n}),e.set("showCreateForm",!1),e.rerender()},cancel:function(){this.set("showCreateForm",!1)},addNew:function(){this.get("showCreateForm")?this.set("showCreateForm",!1):this.set("showCreateForm",!0)},roles:function(){return["admin","manager","basic"]}.property()}),Cibi.DashboardEditChartView=Ember.View.extend({didInsertElement:function(){var e=this,t=e.get("controller").get("content"),n=t.get("chartsDataSources").objectAt(0).get("count"),i=getChartName(t.get("chartType")),r=t.get("title"),a=t.get("subtitle"),s=t.get("description"),o=t.get("isolated");e.$().find(".title").val(r),e.$().find(".subtitle").val(a),e.$().find(".count").val(n),e.set("description",s),e.set("isolated",o),e.$().find("button[value="+i+"]").addClass("active")},dataSourceId:function(){var e=this,t=e.get("controller").get("content").get("dataSources").objectAt(0).id;return t}.property(""),fieldsArr:function(){var e=this.get("dataSourceId");if(!e)return[];e!==this.get("event_attached_for_fields")&&(this.get("chartDimensionsContainerView")&&this.get("chartDimensionsContainerView").clear_all_dimensions(),this.get("chartRowsContainerView")&&this.get("chartRowsContainerView").clear_all_rows(),this.get("chartColumnsContainerView")&&this.get("chartColumnsContainerView").clear_all_columns(),this.get("chartMeasuresContainerView")&&this.get("chartMeasuresContainerView").clear_all_measures());var t=this.get("controller").getFields(e);return[""].concat(t)}.property("dataSourceId"),toShowRowsAndCols:function(){if(void 0==this.get("chartType"))var e=this.get("controller").get("content").get("chartType");return"grouped_table"==this.get("chartType")||"14"==e?!0:!1}.property("this.chartType"),chartMeasures:function(){return["field3","field3"]}.property(""),submit:function(e){var t=this;e.preventDefault();var n=this.get("title")||this.$().find(".title").val(),r=this.get("subtitle")||this.$().find(".subtitle").val(),a=this.get("description")||this.$().find(".description").val(),s=this.get("chartType")||this.$().find(".active").val(),o=this.get("count"),l=this.get("isolated")||this.$(".isolated").is(":checked"),c=[];if(null==s){var h=$("#new-chart-notice");return h.html("Please select a chart type."),h.addClass("alert alert-error"),h.fadeIn().delay(1e4).fadeOut(),void 0}var u={};u.data_source_id=this.get("dataSourceId"),u.count=o,u.isolated=l,c.push(u);var d=t.get("controller").get("content"),p=d.get("configs");d.set("title",n),d.set("subtitle",r),d.set("description",a),d.set("chartType",getChartNumber(s)),d.set("chartsDataSourcesStr",JSON.stringify(c));var f=this.get("controller"),g=this.get("controller").get("content").get("dashboard");d.set("dashboard",g),d.set("updatedBy",Cibi.Auth.get("currentUser").get("fullName")),d.set("isolated",l),dimensionObj=[],measuresObj=[];var m=JSON.parse(p||"{}");if("grouped_table"==s||"14"==s){var v=[],b=[],y=[];for(i=1;i<this.chartRowsContainerView._childViews.length;i++)dimensionObj.push({field_name:this.chartRowsContainerView._childViews[i].get("field_name"),format_as:this.chartRowsContainerView._childViews[i].get("format_as"),display_name:this.chartRowsContainerView._childViews[i].get("field_display"),is_row:this.chartRowsContainerView._childViews[i].get("is_row"),sort_order:this.chartRowsContainerView._childViews[i].get("sort_order"),field_id:this.chartRowsContainerView._childViews[i].get("field_id"),rank:this.chartRowsContainerView._childViews[i].get("rank")});for(k=1;k<this.chartColumnsContainerView._childViews.length;k++)dimensionObj.push({field_name:this.chartColumnsContainerView._childViews[k].get("field_name"),format_as:this.chartColumnsContainerView._childViews[k].get("format_as"),display_name:this.chartColumnsContainerView._childViews[k].get("field_display"),is_row:this.chartColumnsContainerView._childViews[k].get("is_row"),sort_order:this.chartColumnsContainerView._childViews[k].get("sort_order"),field_id:this.chartColumnsContainerView._childViews[k].get("field_id"),rank:this.chartColumnsContainerView._childViews[k].get("rank")});for(var x=_.sortBy(dimensionObj,function(e){return e.rank}),w=0;w<x.length;w++)1==x[w].is_row?v.push(x[w].display_name):b.push(x[w].display_name);for(j=1;j<this.chartMeasuresContainerView._childViews.length;j++){measuresObj.push({field_name:this.chartMeasuresContainerView._childViews[j].get("field_name"),format_as:this.chartMeasuresContainerView._childViews[j].get("format_as"),display_name:this.chartMeasuresContainerView._childViews[j].get("field_display"),sort_order:this.chartMeasuresContainerView._childViews[j].get("sort_order"),field_id:this.chartMeasuresContainerView._childViews[j].get("field_id"),is_calculated:this.chartMeasuresContainerView._childViews[j].get("is_calculated"),prefix:this.chartMeasuresContainerView._childViews[j].get("prefix"),suffix:this.chartMeasuresContainerView._childViews[j].get("suffix")});var C={};C.fieldName=this.chartMeasuresContainerView._childViews[j].get("field_name"),C.formatAs="Count Unique"==this.chartMeasuresContainerView._childViews[j].get("format_as")?"Count,Distinct":this.chartMeasuresContainerView._childViews[j].get("format_as"),C.displayName=this.chartMeasuresContainerView._childViews[j].get("field_display"),C.sortOrder=this.chartMeasuresContainerView._childViews[j].get("sort_order"),C.is_calculated=this.chartMeasuresContainerView._childViews[j].get("is_calculated"),C.prefix=this.chartMeasuresContainerView._childViews[j].get("prefix"),C.suffix=this.chartMeasuresContainerView._childViews[j].get("suffix"),y.push(C)}m.hierarchy=v,m.column_fields=b,m.measure_fields=y}else{for(i=1;i<this.chartDimensionsContainerView._childViews.length;i++){var T="single_value"==s||"15"==s?"DESC":this.chartDimensionsContainerView._childViews[i].get("sort_order");dimensionObj.push({field_name:this.chartDimensionsContainerView._childViews[i].get("field_name"),format_as:this.chartDimensionsContainerView._childViews[i].get("format_as"),display_name:this.chartDimensionsContainerView._childViews[i].get("field_display"),sort_order:T,field_id:this.chartDimensionsContainerView._childViews[i].get("field_id"),rank:this.chartDimensionsContainerView._childViews[i].get("rank")})}for(j=1;j<this.chartMeasuresContainerView._childViews.length;j++)measuresObj.push({field_name:this.chartMeasuresContainerView._childViews[j].get("field_name"),format_as:this.chartMeasuresContainerView._childViews[j].get("format_as"),display_name:this.chartMeasuresContainerView._childViews[j].get("field_display"),sort_order:this.chartMeasuresContainerView._childViews[j].get("sort_order"),field_id:this.chartMeasuresContainerView._childViews[j].get("field_id"),is_calculated:this.chartMeasuresContainerView._childViews[j].get("is_calculated"),prefix:this.chartMeasuresContainerView._childViews[j].get("prefix"),suffix:this.chartMeasuresContainerView._childViews[j].get("suffix")})}d.set("configs",JSON.stringify(m)),dimensionObj.length>0&&d.set("chartDimensionsStr",JSON.stringify(dimensionObj)),measuresObj.length>0&&d.set("chartMeasuresStr",JSON.stringify(measuresObj));var D=this.checkChartConfigs(s,dimensionObj,measuresObj);if(D){var h=$("#new-chart-notice");return h.html(D),h.addClass("alert alert-error"),h.fadeIn().delay(1e4).fadeOut(),void 0}var S=d,E=t.get("controller").get("content").get("dataSources").objectAt(0).id;E!=t.get("dataSourceId")?(S.get("dimensions").forEach(function(e){e.deleteRecord()}),S.get("measures").forEach(function(e){e.deleteRecord()})):(t.get("deleted_dimensions")&&_.compact(t.get("deleted_dimensions")).forEach(function(e){Cibi.Dimension.find(e).deleteRecord()}),t.get("deleted_measures")&&_.compact(t.get("deleted_measures")).forEach(function(e){Cibi.Measure.find(e).deleteRecord()})),S.on("didUpdate",function(){var e=g.get("id");S.get("dimensions").forEach(function(e){"reloading"!==e.get("stateManager.currentState.name")&&e.reload()}),S.get("measures").forEach(function(e){"reloading"!==e.get("stateManager.currentState.name")&&e.reload()});var t=S.get("chartsDataSources").objectAt(0);"reloading"!==t.get("stateManager.currentState.name")&&t.reload(),Cibi.Chart.find({dashboard_id:e}).then(function(e){f.set("model",e),f.transitionToRoute("dashboard.charts",g)}),"reloading"!==g.get("stateManager.currentState.name")&&g.reload()});var I=S.get("transaction");this.removeDummyObjectsFromTransaction(I),I.commit()},checkChartConfigs:function(e,t,n){var i=t.get("length"),r=n.get("length"),a=this.get("dataSourceId"),s=Cibi.DataSource.find(a);switch(e){case"1":case"bar":if(1>r)return"Bar chart requires atleast 1 measure";if(1>i)return"Bar chart requires atleast 1 dimension";if(i>2)return"Bar chart can have atmost 2 dimensions";if(2==i&&r>1)return"In Bar chart 2 dimensions can have only 1 measure";break;case"horizontal-bar":case"10":case"hbar":if(1>r||1>i)return"Horizontal bar chart requires atleast 1 dimension and 1 measure";if(r>1)return"Horizontal bar chart can have atmost 1 measure";if(i>2)return"Horizontal bar chart can have atmost 2 dimensions";break;case"2":case"pie":if(1>r)return"Pie chart requires atleast 1 measure";if(i>1)return"Pie chart can have atmost 1 dimension";if(1==i&&r>1)return"For 1 dimension Pie chart can have only 1 measure";break;case"7":case"table":break;case"3":case"ctree":if(1!=r||1>i)return"CTree requires 1 measure and atleast 1 dimension";break;case"0":case"ctable":if(1>r)return"CTable requires atleast 1 measure";if(1>i)return"CTable requires atleast 1 dimension";break;case"5":case"heatmap":var o=!0;if(n.forEach(function(e){e.format_as||e.is_calculated||(o=!1)}),!o)return"Need to specify format for each measure";if(2>i||1>r)return"Heatmap requires 2 dimensions and atleast 1 measure";if(r>2)return"Heatmap can have atmost 2 measures";break;case"4":case"geo":break;case"6":case"combo":break;case"8":case"line":if(1!=i||1!=r)return"Line chart requires 1 dimension and 1 measure";break;case"9":case"multiline":if(1>r)return"Multiline chart requires atleast 1 measure";if(1>i)return"Multiline chart requires atleast 1 dimension";if(1==i&&1==r)return"For Multiline chart 2 dimensions or multiple measures are required";if(i>2)return"Multiline chart can have atmost 2 dimensions";if(2==i&&r>1)return"In Multiline chart 2 dimensions can have only 1 measure";break;case"11":case"area":if(1!=i||1!=r)return"Area chart requires 1 dimension and 1 measure";break;case"12":case"stacked_area":if(1==i&&1==r)return"Stacked Area chart requires atleast 2 dimensions or more than two measures";if(1>r&&1>i)return"Stacked Area chart requires atleast 1 measure or atleast 1 dimension";if(2==i&&r>1)return"In Stacked Area Chart 2 dimensions can have only 1 measure";if(1==i&&1==r)return"For Stacked Area chart 2 dimensions or multiple measures are required";break;case"13":case"scatter_plot":if(1>r)return"Scatter plot requires atleast 1 measure";if(1>i)return"Scatter plot requires atleast 1 dimension";if(i>2)return"Scatter plot can have atmost 2 dimensions";if(2==i&&r>1)return"In Scatter plot 2 dimensions can have only one measure";break;case"14":case"grouped_table":break;case"15":case"single_value":if(i>1||1!=r)return"Single value chart requires only a measure and a dimension";if(1==i){var l=t.objectAt(0).field_name;if("date"!=s.getDataType(l)&&"datetime"!=s.getDataType(l))return"Single Value Chart only supports dimensions of Date or Datetime type"}case"17":case"donut":if(1>r)return"Donut chart requires atleast 1 measure";if(i>1)return"Donut chart can have atmost 1 dimension";if(1==i&&r>1)return"For 1 dimension Donut chart can have only 1 measure";break;case"18":case"funnel":if(1>r)return"Funnel chart requires atleast 1 measure";if(i>1)return"Funnel chart can have atmost 1 dimension";if(1==i&&r>1)return"For 1 dimension Funnel chart can have only 1 measure";break;case"20":case"gauge":if(1>r)return"Gauge Chart requires atleast 1 measure";if(r>1)return"Gauge Chart requires only 1 measure"}},attach_drag_n_drop_events:function(){this.get("chartType");
var e=this.get("dataSourceId");this.attach_drag_events(e),this.attach_drop_events(e),this.set("drag_and_drop_attached",!0)}.observes("this.chartType"),attach_drag_events:function(e){this.get("drag_event_attached")&&e==this.get("event_attached_for_fields")||($("li.draggable-field").draggable({revert:"invalid",helper:"clone"}),console.log("event_attached"),this.set("drag_event_attached",!0),this.set("event_attached_for_fields",this.get("dataSourceId")))},attach_drop_events:function(){var e=this;$("li.dimension").droppable({activeClass:"droppable-area-active",hoverClass:"droppable-area-hover",drop:function(t,n){if(n.helper.hasClass("ui-draggable")){var i=n.draggable.text().trim();e.add_field_to_chart_dimensions(i)}}}),$("li.row").droppable({activeClass:"droppable-area-active",hoverClass:"droppable-area-hover",drop:function(t,n){if(n.helper.hasClass("ui-draggable")){var i=n.draggable.text().trim();e.add_field_to_chart_rows(i)}}}),$("li.column").droppable({activeClass:"droppable-area-active",hoverClass:"droppable-area-hover",drop:function(t,n){if(n.helper.hasClass("ui-draggable")){var i=n.draggable.text().trim();e.add_field_to_chart_columns(i)}}}),$("li.measure").droppable({activeClass:"droppable-area-active",hoverClass:"droppable-area-hover",drop:function(t,n){var i=n.draggable.text().trim();e.add_field_to_chart_measures(i)}}),$("li.sort-field").droppable({activeClass:"droppable-area-active",hoverClass:"droppable-area-hover",drop:function(t,n){var i=n.draggable.text().trim();e.add_field_to_chart_sort_fields(i)}})},add_field_to_chart_dimensions:function(e,t,n,i,r,a){var s=this.get("chartDimensionsContainerView");s.addChildView(e,t,n,i,r,a)},add_field_to_chart_rows:function(e,t,n,i,r,a){var s=this.get("chartRowsContainerView");s.addChildView(e,t,n,i,r,a)},add_field_to_chart_columns:function(e,t,n,i,r,a){var s=this.get("chartColumnsContainerView");s.addChildView(e,t,n,i,r,a)},add_field_to_chart_measures:function(e,t,n,i,r,a,s,o){var l=this.get("chartMeasuresContainerView");l.addChildView(e,t,n,i,r,a,s,o)},add_field_to_chart_sort_fields:function(e){var t=this.get("chartSortFieldsContainerView");t.addChildView(e)},getPreviewData:function(e){var t=this,n=t.get("chartType")||this.$().find(".active").val(),i=$("#new-preview-notice");if(i.html(""),i.removeClass("alert alert-error"),null==n)return i.html("Please select a chart type."),i.addClass("alert alert-error"),i.fadeIn().delay(1e4).fadeOut(),void 0;if("grouped_table"==n)var r=t.buildRowsAndColumns();else var r=t.buildDimensions();var a=t.buildmeasures(),s=t.get("count"),o=this.checkChartConfigs(n,r,a);if(o)return i.html(o),i.addClass("alert alert-error"),i.fadeIn().delay(1e4).fadeOut(),void 0;var l=this.get("dataSourceId");n=getChartNumber(n).toString(),"generate_preview"==e?"chart_data"==t.$().find("#display_option").find(".active").val()?t.chartDataTable(n,r,a,l,s):t.generateDummyObject(n,r,a,l,s):"chart_data"==e?t.chartDataTable(n,r,a,l,s):t.generateDummyObject(n,r,a,l,s)},buildDimensions:function(){var e=this,t=e.chartDimensionsContainerView._childViews;obj_array=[];for(var n=1;n<t.length;n++)obj_array.push({field_name:t[n].get("field_name"),format_as:t[n].get("format_as"),display_name:t[n].get("field_display"),sort_order:t[n].get("sort_order"),rank:t[n].get("rank")});return obj_array},buildmeasures:function(){var e=this,t=e.chartMeasuresContainerView._childViews;obj_array=[];for(var n=1;n<t.length;n++)obj_array.push({field_name:t[n].get("field_name"),format_as:t[n].get("format_as"),display_name:t[n].get("field_display"),sort_order:t[n].get("sort_order"),is_calculated:t[n].get("is_calculated"),prefix:t[n].get("prefix"),suffix:t[n].get("suffix")});return obj_array},buildRowsAndColumns:function(){var e=this,t=e.chartColumnsContainerView._childViews,n=e.chartRowsContainerView._childViews;obj_array=[];for(var i=1;i<n.length;i++)obj_array.push({field_name:n[i].get("field_name"),format_as:n[i].get("format_as"),display_name:n[i].get("field_display"),sort_order:n[i].get("sort_order"),is_row:n[i].get("is_row")});for(var r=1;r<t.length;r++)obj_array.push({field_name:t[r].get("field_name"),format_as:t[r].get("format_as"),display_name:t[r].get("field_display"),sort_order:t[r].get("sort_order"),is_row:t[r].get("is_row")});return obj_array},chartDataTable:function(e,t,n,i,r){var a=this,s=Cibi.Auth.get("authToken"),o="/charts/"+i+"/getPreviewData?auth_token="+s;o=o+"&chart_type="+e,o=o+"&dimensions_obj="+encodeURIComponent(JSON.stringify(t)),o=o+"&measures_obj="+encodeURIComponent(JSON.stringify(n)),r&&(o=o+"&limit="+r),$.ajax({url:o,type:"get",async:!0,success:function(e){data=e.charts,html=a.showTableData(data,t,n),$("#chart-null").html(html)}})},destroyDummyObject:function(){var e=this;e.get("chart_obj")&&(e.get("chart_obj").destroy(),e.get("cds_obj").destroy(),e.get("dashboard_obj").destroy(),e.get("dim_obj").forEach(function(e){e.destroy()}),e.get("fact_obj").forEach(function(e){e.destroy()}))},removeDummyObjectsFromTransaction:function(e){var t=this;t.get("chart_obj")&&(e.removeRecord(this.get("chart_obj")),e.removeRecord(t.get("cds_obj")),e.removeRecord(t.get("dashboard_obj")),t.get("dim_obj").forEach(function(t){e.removeRecord(t)}),t.get("fact_obj").forEach(function(t){e.removeRecord(t)}))},generateDummyObject:function(e,t,n,i,r){var a=this;if(a.destroyDummyObject(),"14"==e){var s={},o=[],l=[],c=[];t.forEach(function(e){1==e.is_row?o.push(e.display_name):l.push(e.display_name)}),n.forEach(function(e){fact={fieldName:e.field_name,formatAs:e.format_as,displayName:e.display_name,sortOrder:e.sort_order,isCalculated:e.is_calculated,prefix:e.prefix,suffix:e.suffix},c.push(fact)}),s.hierarchy=o,s.column_fields=l,s.measure_fields=c,s=JSON.stringify(s)}var h=Cibi.Dashboard.createRecord(),u=Cibi.Chart.createRecord({chartType:e,preview:!0,preview_data:{dimensions:t,measures:n,count:r},data_source_id:i,width:400,height:300,marginTop:40,marginRight:40,marginBottom:40,marginLeft:40,configs:s});h.get("charts").pushObject(u);var d=Cibi.ChartsDataSource.createRecord(),p=Cibi.DataSource.find(i);p.get("chartsDataSources").pushObject(d),u.get("chartsDataSources").pushObject(d),dim_obj=[],t.forEach(function(e){dimesions=Cibi.Dimension.createRecord({fieldName:e.field_name,formatAs:e.format_as,displayName:e.display_name,sortOrder:e.sort_order}),dim_obj.push(dimesions),u.get("dimensions").pushObject(dimesions)}),fact_obj=[],n.forEach(function(e){measures=Cibi.Measure.createRecord({fieldName:e.field_name,formatAs:e.format_as,displayName:e.display_name,sortOrder:e.sort_order,isCalculated:e.is_calculated,prefix:e.prefix,suffix:e.suffix}),fact_obj.push(measures),u.get("measures").pushObject(measures)}),configObj={element:"chart-null",chart:u,cds:[d],hierarchy:o,column_fields:l,measure_fields:c},u.set("configObj",configObj),a.set("chart_obj",u),a.set("cds_obj",d),a.set("dim_obj",dim_obj),a.set("fact_obj",fact_obj),a.set("dashboard_obj",h),u.drawPreviewChart(e)},showTableData:function(e,t,n){var i=this,r="<div class='table-body' style='padding: 0px;'>";r+='<table class="table table-bordered">',e="table"==i.get("chartType")||"table"==this.$().find(".active").val()?e[0].results:e,r+="<tr>",t.forEach(function(e){r+="<th>"+e.display_name+"</th>"}),n.forEach(function(e){r+="<th>"+e.display_name+"</th>"}),r+="</tr>";for(var a=0;a<e.length;a++){var s=e[a];r+="<tr>",t.forEach(function(e){r+="<td>"+s[e.display_name]+"</td>"}),n.forEach(function(e){r+="<td>"+s[e.display_name]+"</td>"}),r+="</tr>"}return r+="</table>"},chartTypeView:Ember.View.extend({template:Ember.Handlebars.compile("{{partial 'dashboard/edit_chart/chartType'}}"),didInsertElement:function(){$("button").tooltip({placement:"bottom"})},click:function(e){var t=e.target;"button"===t.nodeName.toLowerCase()?this._parentView.set("chartType",t.value):"img"===t.nodeName.toLowerCase()&&this._parentView.set("chartType",t.parentElement.value)}}),chartRowsView:Ember.ContainerView.extend({viewName:"chartRowsContainerView",childViews:["draggableArea"],tagName:"ul",classNames:["inline","field_area"],didInsertElement:function(){var e=this;e.get("controller").get("content").get("dimensions").forEach(function(t){1==t.get("isRow")&&e._parentView._parentView._parentView.add_field_to_chart_rows(t.get("fieldName"),t.get("displayName"),t.get("formatAs"),t.get("sortOrder"),t.get("id"))}),$("#"+this.elementId).sortable({items:"li:not(.droppable-area)",placeholder:"sortable_placeholder",forcePlaceholderSize:!0}),$("#"+this.elementId).on("sortstop",function(t){for(var n=e._childViews,i=$(t.target).find("li"),r=1;r<i.length;r++){var a=$(i[r]).attr("id"),s=$(i[r]).index(),o=_.filter(n,function(e){return e.elementId==a});o.objectAt(0).set("rank",s)}}),$("#"+this.elementId).disableSelection()},destroy:function(){var e=this,t=e.get("childViews");t.forEach(function(t){e.removeObject(t)}),this._super()},draggableArea:Em.View.create({template:Ember.Handlebars.compile("Drag Row Fields Here"),tagName:"li",classNames:["droppable-area","row"]}),addChildView:function(e,t,n,i,r,a){var s=this._parentView._parentView._parentView,o=this.chartRowsArr(),a=o.length+1,t=t?t:e;this.pushObject(s.chartDimensionView.create({field_name:e,format_as:n,field_display:t,sort_order:i,is_row:!0,field_id:r,rank:a}));for(var l=s.chartColumnsContainerView._childViews,c=1;c<l.length;c++)l[c].rank=l[c].rank+1},chartRowsArr:function(){var e=this.get("childViews"),t=[];return e.forEach(function(e){e.get("field_name")&&t.push(e.get("field_name"))}),t},clear_all_rows:function(){var e=this,t=this.get("childViews");t.forEach(function(t){t.get("field_name")&&e.removeObject(t)})}}),chartColumnsView:Ember.ContainerView.extend({viewName:"chartColumnsContainerView",childViews:["draggableArea"],tagName:"ul",classNames:["inline","field_area"],didInsertElement:function(){var e=this;e.get("controller").get("content").get("dimensions").forEach(function(t){0==t.get("isRow")&&e._parentView._parentView._parentView.add_field_to_chart_columns(t.get("fieldName"),t.get("displayName"),t.get("formatAs"),t.get("sortOrder"),t.get("id"))}),$("#"+this.elementId).sortable({items:"li:not(.droppable-area)",placeholder:"sortable_placeholder",forcePlaceholderSize:!0});var t=this._parentView._parentView._parentView,n=t.chartRowsContainerView._childViews.length-1;$("#"+this.elementId).on("sortstop",function(t){for(var i=e._childViews,r=$(t.target).find("li"),a=1;a<r.length;a++){var s=$(r[a]).attr("id"),o=$(r[a]).index()+n,l=_.filter(i,function(e){return e.elementId==s});l.objectAt(0).set("rank",o)}}),$("#"+this.elementId).disableSelection()},destroy:function(){var e=this,t=e.get("childViews");t.forEach(function(t){e.removeObject(t)}),this._super()},draggableArea:Em.View.create({template:Ember.Handlebars.compile("Drag Column Fields Here"),tagName:"li",classNames:["droppable-area","column"]}),addChildView:function(e,t,n,i,r,a){var s=this._parentView._parentView._parentView,o=this.chartColumnsArr();current_rows=s.chartRowsContainerView._childViews.length-1,a=current_rows+o.length+1;var t=t?t:e;this.pushObject(s.chartDimensionView.create({field_name:e,format_as:n,field_display:t,sort_order:i,is_row:!1,field_id:r,rank:a}))},chartColumnsArr:function(){var e=this.get("childViews"),t=[];return e.forEach(function(e){e.get("field_name")&&t.push(e.get("field_name"))}),t},clear_all_columns:function(){var e=this,t=this.get("childViews");t.forEach(function(t){t.get("field_name")&&e.removeObject(t)})}}),chartDimensionsView:Ember.ContainerView.extend({viewName:"chartDimensionsContainerView",childViews:["draggableArea"],tagName:"ul",classNames:["inline","field_area","sortable_placeholder"],destroy:function(){var e=this,t=e.get("childViews");t.forEach(function(t){e.removeObject(t)}),this._super()},draggableArea:Em.View.create({template:Ember.Handlebars.compile("Drag Fields Here"),tagName:"li",classNames:["droppable-area","dimension"]}),didInsertElement:function(){var e=this;e.get("controller").get("content").get("dimensions").forEach(function(t){e._parentView._parentView._parentView.add_field_to_chart_dimensions(t.get("fieldName"),t.get("displayName"),t.get("formatAs"),t.get("sortOrder"),t.get("id"))}),$("#"+this.elementId).sortable({items:"li:not(.droppable-area)",placeholder:"sortable_placeholder",forcePlaceholderSize:!0}),$("#"+this.elementId).on("sortstop",function(t){for(var n=e._childViews,i=$(t.target).find("li"),r=1;r<i.length;r++){var a=$(i[r]).attr("id"),s=$(i[r]).index(),o=_.filter(n,function(e){return e.elementId==a});o.objectAt(0).set("rank",s)}}),$("#"+this.elementId).disableSelection()},addChildView:function(e,t,n,i,r,a){var s=this._parentView._parentView._parentView,o=this.chartDimensionsArr(),a=o.length+1,t=t?t:e;this.pushObject(s.chartDimensionView.create({field_name:e,field_display:t,format_as:n,sort_order:i,field_id:r,rank:a}))},chartDimensionsArr:function(){var e=this.get("childViews"),t=[];return e.forEach(function(e){e.get("field_name")&&t.push(e.get("field_name"))}),t},clear_all_dimensions:function(){var e=this,t=this.get("childViews");t.forEach(function(t){void 0!=t.get("field_name")&&e.removeObject(t)})}}),chartMeasuresView:Ember.ContainerView.extend({viewName:"chartMeasuresContainerView",childViews:["draggableArea"],tagName:"ul",classNames:["inline","field_area"],draggableArea:Em.View.create({template:Ember.Handlebars.compile("Drag Fields Here"),tagName:"li",classNames:["droppable-area","measure"]}),didInsertElement:function(){var e=this;e.get("controller").get("content").get("measures").forEach(function(t){e._parentView._parentView.add_field_to_chart_measures(t.get("fieldName"),t.get("displayName"),t.get("formatAs"),t.get("sortOrder"),t.get("id"),t.get("isCalculated"),t.get("prefix"),t.get("suffix"))})},destroy:function(){var e=this,t=e.get("childViews");t.forEach(function(t){e.removeObject(t)}),this._super()},addChildView:function(e,t,n,i,r,a,s,o){var l=this._parentView._parentView;this.chartMeasuresArr();var t=t?t:e;this.pushObject(l.chartMeasureView.create({field_name:e,field_display:t,format_as:n,sort_order:i,field_id:r,is_calculated:a,prefix:s,suffix:o}))},chartMeasuresArr:function(){var e=this.get("childViews"),t=[];return e.forEach(function(e){e.get("field_name")&&t.push(e.get("field_name"))}),t},clear_all_measures:function(){var e=this,t=this.get("childViews");t.forEach(function(t){t.get("field_name")&&e.removeObject(t)})}}),chartMeasureView:Ember.View.extend({template:Ember.Handlebars.compile("{{partial 'dashboard/edit_chart/chart_measure'}}"),field_name:"",format_as:"",field_display:"",tagName:"li",sort_order:"",classNames:["dragged-field"],didInsertElement:function(){var e=this;e.set("isCalculated",!0)},click:function(e){var t=this;("ember-view dragged-field"==$(e.target).attr("class")||"dropdown"==$(e.target).attr("class")||"dropdown-toggle"==$(e.target).attr("class"))&&(t.is_calculated?(t.set("isCalculated",!0),t.$().find(".is_calculated").prop("checked",!0),t.$().find(".field_name").val(t.field_name)):t.set("isCalculated",!1),t.$().find(".field_display").val(t.field_display),t.$().find(".fieldName").val(t.field_name),t.$().find(".dropdown-menu").css("left","50%"),t.$().find(".dropdown-menu").css("margin-left","-185px"),t.$().find(".sort_order").val(t.sort_order),t.$().find(".prefix").val(t.prefix),t.$().find(".suffix").val(t.suffix))},toDisplayFieldName:function(){var e=this;return 1==e.get("is_calculated")?!1:!0}.property("is_calculated"),field_display_format:function(){var e=this.get("field_name"),t=this.get("controller").get("content").get("measures"),n="";return t.forEach(function(t){t.get("fieldName")==e&&(n=t.get("formatAs"))}),n}.property(""),displayNameObserver:function(){var e=this;void 0!=e.$()&&(e.$().find(".is_calculated").prop("checked")?e.$().find(".field_display").val(""):(e.$().find(".field_display").val(e.get("field_name")),e.$().find(".fieldName").val(e.get("field_name"))))}.observes("isCalculated"),setFieldDisplay:function(){var e,t=this,n=t.get("fact_formats"),i=_.filter(n,function(e){return e.key==t.get("field_display_format")?!0:void 0});e=void 0!=i.objectAt(0).display?i.objectAt(0).display+t.get("field_name"):t.get("field_name"),t.$().find(".field_display").val(e)}.observes("field_display_format","field_name"),removeFromList:function(){var e=this._parentView,t=e._parentView._parentView,n=t.get("deleted_measures")||[];n.push(this.get("field_id")),t.set("deleted_measures",n),e.removeObject(this)},fact_formats:function(){return[{name:"",key:""},{name:"Sum of Fact",key:"sum",display:"Sum of "},{name:"Avg of Fact",key:"avg",display:"Avg of "},{name:"Count of Fact",key:"count",display:"Count of "},{name:"Count Unique of Fact",key:"count,distinct",display:"Count Unique of "},{name:"Count Nulls of Fact",key:"noops",display:"Count Nulls of "},{name:"% Valid Entries of Total Count",key:"opspc",display:"% Valid Entries of Total Count of "},{name:"% Missing Entries of Total Count",key:"noopspc",display:"% Missing Entries of Total Count of "},{name:"Min",key:"min",display:"Min of "},{name:"Max",key:"max",display:"Max of "},{name:"Standard Deviation (Sample)",key:"stddev_samp",display:"StdDev(Sample) of "},{name:"Standard Deviation (Population)",key:"stddev_pop",display:"StdDev(Population) of "},{name:"Variance (Sample)",key:"var_samp",display:"Variance(Sample) of "},{name:"Variance (Population)",key:"var_pop",display:"Variance(Population) of "}]}.property(""),save_changes:function(){var e=this,t=e.$().find(".field_display").val();t.trim().length>0?(e.set("sort_order",e.$().find(".sort_order").val()),e.set("format_as",e.$().find(".format_as").val()),e.set("is_calculated",e.$().find(".is_calculated").prop("checked")),e.get("is_calculated")&&e.set("field_name",e.$().find(".field_name").val()),e.set("field_display",t),e.set("prefix",e.$().find(".prefix").val()),e.set("suffix",e.$().find(".suffix").val()),this.$().find(".dropdown").toggleClass("open"),e.set("error_msg",null)):e.set("error_msg","Please specify field display")},cancel_changes:function(){var e=this,t=e.get("is_calculated");e.$().find(".is_calculated").prop("checked",t),e.set("isCalculated",t),e.$().find(".field_display").val(e.get("field_display")),e.$().find(".sort_order").val(e.get("sort_order")),e.$().find(".format_as").val(e.get("format_as")),this.$().find(".dropdown").toggleClass("open"),e.set("error_msg",null)}}),chartDimensionView:Ember.View.extend({template:Ember.Handlebars.compile("{{partial 'dashboard/edit_chart/chart_dimension'}}"),field_name:"",format_as:"",field_display:"",sort_order:"",is_row:"",rank:"",tagName:"li",classNames:["dragged-field"],didInsertElement:function(){var e=$("#"+this.elementId);e.length>0&&$("#"+this._parentView.elementId).sortable("refresh")},click:function(e){var t=this;("ember-view dragged-field"==$(e.target).attr("class")||"dropdown"==$(e.target).attr("class")||"dropdown-toggle"==$(e.target).attr("class"))&&(t.$().find(".field_display").val(t.field_display),t.$().find(".sort_order").val(t.sort_order),t.$().find(".fieldName").val(t.field_name),t.$().find(".dropdown-menu").css("left","50%"),t.$().find(".dropdown-menu").css("margin-left","-185px"))},field_display_format:function(){var e=this.get("field_name"),t=this.get("controller").get("content").get("dimensions"),n="";return t.forEach(function(t){t.get("fieldName")==e&&(n=t.get("formatAs"))}),n}.property(""),setFieldDisplay:function(){var e,t=this,n=t.get("supportedFormats"),i=_.filter(n,function(e){return e.key==t.get("field_display_format")?!0:void 0});e=void 0!=i.objectAt(0).display?i.objectAt(0).display+t.get("field_name"):t.get("field_name"),t.$().find(".field_display").val(e)}.observes("field_display_format"),removeFromList:function(){var e=this._parentView,t=e._parentView._parentView._parentView,n=t.get("deleted_dimensions")||[];n.push(this.get("field_id")),t.set("deleted_dimensions",n),e.removeObject(this)},date_type:function(){var e=this.get("field_name");if(e){var t=this.get("parentView").get("parentView").get("dataSourceId"),n=Cibi.DataSource.find(t),i=n.getDataType(e);return"date"==i||"datetime"==i?!0:!1}return!1}.property("field_name"),supportedFormats:function(){var e=this.get("field_name"),t=this.get("parentView").get("parentView").get("dataSourceId"),n=Cibi.DataSource.find(t),i=n.getDataType(e);if("date"==i||"datetime"==i){var r=[{key:""},{key:"Month",display:"Month of "},{key:"Quarter",display:"Quarter of "},{key:"Year",display:"Year of "},{key:"Month Year",display:"Month Year of "},{key:"Day",display:"Day of "},{key:"Week",display:"Week of "}];return"datetime"==i&&(r.push({key:"Hours",display:"Hours of "}),r.push({key:"Date",display:"Date of "})),r}return[]}.property("field_name"),save_changes:function(){var e=this,t=e.$().find(".field_display").val();t.trim().length>0?(e.set("field_display",t),e.set("sort_order",e.$().find(".sort_order").val()),e.set("format_as",e.$().find(".format_as").val()),this.$().find(".dropdown").toggleClass("open"),e.set("error_msg",null)):e.set("error_msg","Please specify field display")},cancel_changes:function(){var e=this;e.$().find(".field_display").val(e.get("field_display")),e.$().find(".sort_order").val(e.get("sort_order")),e.$().find(".format_as").val(e.get("format_as")),e.$().find(".sort_order").val(e.get("sort_order")),this.$().find(".dropdown").toggleClass("open"),e.set("error_msg",null)}})}),Cibi.DashboardEditView=Ember.View.extend({submit:function(){var e=this.get("controller").get("content"),t=this.get("controller").get("controllers").get("vertical");e.set("vertical",t.get("content")),e.on("didUpdate",function(){$("#new-dashboard-notice").html("<h4 class='alert alert-success'> Dashboard updated!</h4>")}),e.get("store").commit()}}),Cibi.DashboardNewView=Ember.View.extend({count:"5000",fieldsArr:function(){var e=this.get("dataSourceId");if(!e)return[];e!==this.get("event_attached_for_fields")&&(this.get("chartDimensionsContainerView")&&this.get("chartDimensionsContainerView").clear_all_dimensions(),this.get("chartRowsContainerView")&&this.get("chartRowsContainerView").clear_all_rows(),this.get("chartColumnsContainerView")&&this.get("chartColumnsContainerView").clear_all_columns(),this.get("chartMeasuresContainerView").clear_all_measures());var t=this.get("controller").getFields(e);return[""].concat(t)}.property("dataSourceId"),toShowRowsAndCols:function(){return"grouped_table"==this.get("chartType")?!0:!1}.property("this.chartType"),chartMeasures:function(){return["field3","field3"]}.property(""),submit:function(e){e.preventDefault();var t=this.get("title"),n=this.get("subtitle"),r=this.get("description"),a=this.get("chartType"),s=this.get("cssClassName");s=s?s:"span";var o=this.get("width")||"300",l=this.get("height")||"800",c=this.get("marginTop")||"20",h=this.get("marginBottom")||"60",u=this.get("marginRight")||"20",d=this.get("marginLeft")||"60",p=this.get("secondaryDimension"),f=this.get("modalEnabled"),g=this.get("configs"),m=this.get("chartsDataSources"),v=this.get("sort_by_key"),b=this.get("desc_order"),y=this.$('input[name="orientation_type"]:checked').val(),x="single_value"==a||"15"==a?2:this.get("count"),w=this.isolated,m=[];if(null==a){var C=$("#new-chart-notice");return C.html("Please select a chart type."),C.addClass("alert alert-error"),C.fadeIn().delay(1e4).fadeOut(),void 0}var T={};T.data_source_id=this.get("dataSourceId"),T.count="single_value"==a||"15"==a?2:x,T.isolated=w,m.push(T);var D={};D.title=t,D.subtitle=n,D.description=r,D.chartType=a,D.cssClassName=s,D.width=o,D.height=l,D.marginBottom=h,D.marginRight=u,D.marginLeft=d,D.marginTop=c,D.sortByKey="on"==v?!0:!1,D.descOrder=b,D.modalEnabled=f,D.secondaryDimension=p,D.chartsDataSourcesStr=JSON.stringify(m),D.orientationType=y||1,D.rows=1,D.columns=1;var S=this.get("controller"),E=this.get("controller").get("content");if(D.dashboard=E,D.updatedBy=Cibi.Auth.get("currentUser").get("fullName"),D.isolated=w,dimensionObj=[],measuresObj=[],"grouped_table"==a||"14"==a){var I=JSON.parse(g||"{}");I.limit=10,I.offset=0;var N=[],A=[],R=[];for(i=1;i<this.chartRowsContainerView._childViews.length;i++)dimensionObj.push({field_name:this.chartRowsContainerView._childViews[i].get("field_name"),format_as:this.chartRowsContainerView._childViews[i].get("format_as"),display_name:this.chartRowsContainerView._childViews[i].get("field_display"),is_row:this.chartRowsContainerView._childViews[i].get("is_row"),sort_order:this.chartRowsContainerView._childViews[i].get("sort_order"),rank:this.chartRowsContainerView._childViews[i].get("rank")});for(k=1;k<this.chartColumnsContainerView._childViews.length;k++)dimensionObj.push({field_name:this.chartColumnsContainerView._childViews[k].get("field_name"),format_as:this.chartColumnsContainerView._childViews[k].get("format_as"),display_name:this.chartColumnsContainerView._childViews[k].get("field_display"),is_row:this.chartColumnsContainerView._childViews[k].get("is_row"),sort_order:this.chartColumnsContainerView._childViews[k].get("sort_order"),rank:this.chartColumnsContainerView._childViews[k].get("rank")});for(var M=_.sortBy(dimensionObj,function(e){return e.rank}),P=0;P<M.length;P++)1==M[P].is_row?N.push(M[P].display_name):A.push(M[P].display_name);for(j=1;j<this.chartMeasuresContainerView._childViews.length;j++){measuresObj.push({field_name:this.chartMeasuresContainerView._childViews[j].get("field_name"),format_as:this.chartMeasuresContainerView._childViews[j].get("format_as"),display_name:this.chartMeasuresContainerView._childViews[j].get("field_display"),sort_order:this.chartMeasuresContainerView._childViews[j].get("sort_order"),is_calculated:this.chartMeasuresContainerView._childViews[j].get("is_calculated"),prefix:this.chartMeasuresContainerView._childViews[j].get("prefix"),suffix:this.chartMeasuresContainerView._childViews[j].get("suffix")});var O={};O.fieldName=this.chartMeasuresContainerView._childViews[j].get("field_name"),O.formatAs="Count Unique"==this.chartMeasuresContainerView._childViews[j].get("format_as")?"Count,Distinct":this.chartMeasuresContainerView._childViews[j].get("format_as"),O.displayName=this.chartMeasuresContainerView._childViews[j].get("field_display"),O.sortOrder=this.chartMeasuresContainerView._childViews[j].get("sort_order"),O.is_calculated=this.chartMeasuresContainerView._childViews[j].get("is_calculated"),O.prefix=this.chartMeasuresContainerView._childViews[j].get("prefix"),O.suffix=this.chartMeasuresContainerView._childViews[j].get("suffix"),R.push(O)}I.hierarchy=N,I.column_fields=A,I.measure_fields=R,D.configs=JSON.stringify(I)}else{for(i=1;i<this.chartDimensionsContainerView._childViews.length;i++){var F="single_value"==a||"15"==a?"DESC":this.chartDimensionsContainerView._childViews[i].get("sort_order");dimensionObj.push({field_name:this.chartDimensionsContainerView._childViews[i].get("field_name"),format_as:this.chartDimensionsContainerView._childViews[i].get("format_as"),display_name:this.chartDimensionsContainerView._childViews[i].get("field_display"),sort_order:F,rank:this.chartDimensionsContainerView._childViews[i].get("rank")})}for(j=1;j<this.chartMeasuresContainerView._childViews.length;j++)measuresObj.push({field_name:this.chartMeasuresContainerView._childViews[j].get("field_name"),format_as:this.chartMeasuresContainerView._childViews[j].get("format_as"),display_name:this.chartMeasuresContainerView._childViews[j].get("field_display"),sort_order:this.chartMeasuresContainerView._childViews[j].get("sort_order"),is_calculated:this.chartMeasuresContainerView._childViews[j].get("is_calculated"),prefix:this.chartMeasuresContainerView._childViews[j].get("prefix"),suffix:this.chartMeasuresContainerView._childViews[j].get("suffix")});D.configs=JSON.stringify(g)}D.chartDimensionsStr=JSON.stringify(dimensionObj),D.chartMeasuresStr=JSON.stringify(measuresObj);var B=this.checkChartConfigs(a,dimensionObj,measuresObj);if(B){var C=$("#new-chart-notice");return C.html(B),C.addClass("alert alert-error"),C.fadeIn().delay(1e4).fadeOut(),void 0}var L=Cibi.Chart.createRecord(D);L.on("didCreate",function(){E.reload();var e=E.get("id");Cibi.Chart.find({dashboard_id:e}).then(function(e){S.set("model",e),S.transitionToRoute("dashboard.charts",E)})});var V=L.get("transaction");this.removeDummyObjectsFromTransaction(V),V.commit()},checkChartConfigs:function(e,t,n){var i=t.get("length"),r=n.get("length"),a=this.get("dataSourceId"),s=Cibi.DataSource.find(a);switch(e){case"1":case"bar":if(1>r)return"Bar chart requires atleast 1 measure";if(1>i)return"Bar chart requires atleast 1 dimension";if(i>2)return"Bar chart can have atmost 2 dimensions";if(2==i&&r>1)return"In Bar chart 2 dimensions can have only 1 measure";break;case"horizontal-bar":case"10":case"hbar":if(1>r||1>i)return"Horizontal bar chart requires atleast 1 dimension and 1 measure";if(r>1)return"Horizontal bar chart can have atmost 1 measure";if(i>2)return"Horizontal bar chart can have atmost 2 dimensions";break;case"2":case"pie":if(1>r)return"Pie chart requires atleast 1 measure";if(i>1)return"Pie chart can have atmost 1 dimension";if(1==i&&r>1)return"For 1 dimension Pie chart can have only 1 measure";break;case"7":case"table":break;case"3":case"ctree":if(1!=r||1>i)return"CTree requires 1 measure and atleast 1 dimension";break;case"0":case"ctable":if(1>r)return"CTable requires atleast 1 measure";if(1>i)return"CTable requires atleast 1 dimension";break;case"5":case"heatmap":var o=!0;if(n.forEach(function(e){e.format_as||e.is_calculated||(o=!1)}),!o)return"Need to specify format for each measure";if(2>i||1>r)return"Heatmap requires 2 dimensions and atleast 1 measure";if(r>2)return"Heatmap can have atmost 2 measures";break;case"4":case"geo":break;case"6":case"combo":break;case"8":case"line":if(1!=i||1!=r)return"Line chart requires 1 dimension and 1 measure";break;case"9":case"multiline":if(1>r)return"Multiline chart requires atleast 1 measure";if(1>i)return"Multiline chart requires atleast 1 dimension";if(1==i&&1==r)return"For Multiline chart 2 dimensions or multiple measures are required";if(i>2)return"Multiline chart can have atmost 2 dimensions";if(2==i&&r>1)return"In Multiline chart 2 dimensions can have only 1 measure";break;case"11":case"area":if(1!=i||1!=r)return"Area chart requires 1 dimension and 1 measure";break;case"12":case"stacked_area":if(1==i&&1==r)return"Stacked Area chart requires atleast 2 dimensions or more than two measures";if(1>r&&1>i)return"Stacked Area chart requires atleast 1 measure or atleast 1 dimension";if(2==i&&r>1)return"In Stacked Area Chart 2 dimensions can have only 1 measure";break;case"13":case"scatter_plot":if(1>r)return"Scatter plot requires atleast 1 measure";if(1>i)return"Scatter plot requires atleast 1 dimension";if(i>2)return"Scatter plot can have atmost 2 dimensions";if(2==i&&r>1)return"In Scatter plot 2 dimensions can have only one measure";break;case"14":case"grouped_table":break;case"15":case"single_value":if(i>1||1!=r)return"Single value chart requires only a measure and a dimension";if(1==i){var l=t.objectAt(0).field_name;if("date"!=s.getDataType(l)&&"datetime"!=s.getDataType(l))return"Single Value Chart only supports dimensions of Date and Datetime type"}break;case"17":case"donut":if(1>r)return"Donut chart requires atleast 1 measure";if(i>1)return"Donut chart can have atmost 1 dimension";if(1==i&&r>1)return"For 1 dimension Donut chart can have only 1 measure";break;case"18":case"funnel":if(1>r)return"Funnel chart requires atleast 1 measure";if(i>1)return"Funnel chart can have atmost 1 dimension";if(1==i&&r>1)return"For 1 dimension Funnel chart can have only 1 measure";break;case"20":case"gauge":if(1>r)return"Gauge Chart requires atleast 1 measure";if(r>1)return"Gauge Chart requires only 1 measure"}},attach_drag_n_drop_events:function(){this.get("chartType");var e=this.get("dataSourceId");this.attach_drag_events(e),this.attach_drop_events(e)}.observes("this.chartType"),attach_drag_events:function(e){this.get("drag_event_attached")&&e==this.get("event_attached_for_fields")||($("li.draggable-field").draggable({revert:"invalid",helper:"clone"}),console.log("event_attached"),this.set("drag_event_attached",!0),this.set("event_attached_for_fields",this.get("dataSourceId")))},attach_drop_events:function(){var e=this;$("li.dimension").droppable({activeClass:"droppable-area-active",hoverClass:"droppable-area-hover",drop:function(t,n){if(n.helper.hasClass("ui-draggable")){var i=n.draggable.text().trim();e.add_field_to_chart_dimensions(i)}}}),$("li.row").droppable({activeClass:"droppable-area-active",hoverClass:"droppable-area-hover",drop:function(t,n){if(n.helper.hasClass("ui-draggable")){var i=n.draggable.text().trim();e.add_field_to_chart_rows(i)}}}),$("li.column").droppable({activeClass:"droppable-area-active",hoverClass:"droppable-area-hover",drop:function(t,n){if(n.helper.hasClass("ui-draggable")){var i=n.draggable.text().trim();e.add_field_to_chart_columns(i)}}}),$("li.measure").droppable({activeClass:"droppable-area-active",hoverClass:"droppable-area-hover",drop:function(t,n){var i=n.draggable.text().trim();
e.add_field_to_chart_measures(i)}}),$("li.sort-field").droppable({activeClass:"droppable-area-active",hoverClass:"droppable-area-hover",drop:function(t,n){var i=n.draggable.text().trim();e.add_field_to_chart_sort_fields(i)}})},add_field_to_chart_dimensions:function(e){var t=this.get("chartDimensionsContainerView");t.addChildView(e)},add_field_to_chart_rows:function(e){var t=this.get("chartRowsContainerView");t.addChildView(e)},add_field_to_chart_columns:function(e){var t=this.get("chartColumnsContainerView");t.addChildView(e)},add_field_to_chart_measures:function(e){var t=this.get("chartMeasuresContainerView");t.addChildView(e)},add_field_to_chart_sort_fields:function(e){var t=this.get("chartSortFieldsContainerView");t.addChildView(e)},getPreviewData:function(e){var t=this,n=t.get("chartType"),i=$("#new-preview-notice");if(i.html(""),i.removeClass("alert alert-error"),null==n)return i.html("Please select a chart type."),i.addClass("alert alert-error"),i.fadeIn().delay(1e4).fadeOut(),void 0;if("grouped_table"==n||"14"==n)var r=t.buildRowsAndColumns();else var r=t.buildDimensions();var a=t.buildmeasures(),s=t.get("count"),o=this.checkChartConfigs(n,r,a);if(o)return i.html(o),i.addClass("alert alert-error"),i.fadeIn().delay(1e4).fadeOut(),void 0;var l=this.get("dataSourceId");n=getChartNumber(n).toString(),"generate_preview"==e?"chart_data"==t.$().find("#display_option").find(".active").val()?t.chartDataTable(n,r,a,l,s):t.generateDummyObject(n,r,a,l,s):"chart_data"==e?t.chartDataTable(n,r,a,l,s):t.generateDummyObject(n,r,a,l,s)},buildDimensions:function(){var e=this,t=e.chartDimensionsContainerView._childViews;obj_array=[];for(var n=1;n<t.length;n++)obj_array.push({field_name:t[n].get("field_name"),format_as:t[n].get("format_as"),display_name:t[n].get("field_display"),sort_order:t[n].get("sort_order"),rank:t[n].get("rank")});return obj_array},buildmeasures:function(){var e=this,t=e.chartMeasuresContainerView._childViews;obj_array=[];for(var n=1;n<t.length;n++)obj_array.push({field_name:t[n].get("field_name"),format_as:t[n].get("format_as"),display_name:t[n].get("field_display"),sort_order:t[n].get("sort_order"),is_calculated:t[n].get("is_calculated"),prefix:t[n].get("prefix"),suffix:t[n].get("suffix")});return obj_array},buildRowsAndColumns:function(){var e=this,t=e.chartColumnsContainerView._childViews,n=e.chartRowsContainerView._childViews;obj_array=[];for(var i=1;i<n.length;i++)obj_array.push({field_name:n[i].get("field_name"),format_as:n[i].get("format_as"),display_name:n[i].get("field_display"),sort_order:n[i].get("sort_order"),is_row:n[i].get("is_row")});for(var r=1;r<t.length;r++)obj_array.push({field_name:t[r].get("field_name"),format_as:t[r].get("format_as"),display_name:t[r].get("field_display"),sort_order:t[r].get("sort_order"),is_row:t[r].get("is_row")});return obj_array},chartDataTable:function(e,t,n,i,r){var a=this,s=Cibi.Auth.get("authToken"),o="/charts/"+i+"/getPreviewData?auth_token="+s;o=o+"&chart_type="+e,o=o+"&dimensions_obj="+encodeURIComponent(JSON.stringify(t)),o=o+"&measures_obj="+encodeURIComponent(JSON.stringify(n)),r&&(o=o+"&limit="+r),$.ajax({url:o,type:"get",async:!0,success:function(e){data=e.charts,html=a.showTableData(data,t,n),$("#chart-null").html(html)}})},destroyDummyObject:function(){var e=this;e.get("chart_obj")&&(e.get("chart_obj").destroy(),e.get("cds_obj").destroy(),e.get("dashboard_obj").destroy(),e.get("dim_obj").forEach(function(e){e.destroy()}),e.get("fact_obj").forEach(function(e){e.destroy()}))},removeDummyObjectsFromTransaction:function(e){var t=this;t.get("chart_obj")&&(e.removeRecord(this.get("chart_obj")),e.removeRecord(t.get("cds_obj")),e.removeRecord(t.get("dashboard_obj")),t.get("dim_obj").forEach(function(t){e.removeRecord(t)}),t.get("fact_obj").forEach(function(t){e.removeRecord(t)}))},generateDummyObject:function(e,t,n,i,r){var a=this;if(a.destroyDummyObject(),"14"==e){var s={},o=[],l=[],c=[];t.forEach(function(e){1==e.is_row?o.push(e.display_name):l.push(e.display_name)}),n.forEach(function(e){fact={fieldName:e.field_name,formatAs:e.format_as,displayName:e.display_name,sortOrder:e.sort_order,prefix:e.prefix,suffix:e.suffix},c.push(fact)}),s.hierarchy=o,s.column_fields=l,s.measure_fields=c,s=JSON.stringify(s)}var h=Cibi.Dashboard.createRecord(),u=Cibi.Chart.createRecord({chartType:e,preview:!0,preview_data:{dimensions:t,measures:n,count:r},data_source_id:i,width:400,height:300,marginTop:40,marginRight:40,marginBottom:40,marginLeft:40,configs:s});h.get("charts").pushObject(u);var d=Cibi.ChartsDataSource.createRecord(),p=Cibi.DataSource.find(i);p.get("chartsDataSources").pushObject(d),u.get("chartsDataSources").pushObject(d),dim_obj=[],t.forEach(function(e){dimesions=Cibi.Dimension.createRecord({fieldName:e.field_name,formatAs:e.format_as,displayName:e.display_name,sortOrder:e.sort_order}),dim_obj.push(dimesions),u.get("dimensions").pushObject(dimesions)}),fact_obj=[],n.forEach(function(e){measures=Cibi.Measure.createRecord({fieldName:e.field_name,formatAs:e.format_as,displayName:e.display_name,sortOrder:e.sort_order,prefix:e.prefix,suffix:e.suffix}),fact_obj.push(measures),u.get("measures").pushObject(measures)}),configObj={element:"chart-null",chart:u,cds:[d],hierarchy:o,column_fields:l,measure_fields:c},u.set("configObj",configObj),a.set("chart_obj",u),a.set("cds_obj",d),a.set("dim_obj",dim_obj),a.set("fact_obj",fact_obj),a.set("dashboard_obj",h),u.drawPreviewChart(e)},showTableData:function(e,t,n){var i=this,r="<div class='table-body' style='padding: 0px;'>";r+='<table class="table table-bordered">',"table"==i.get("chartType")?e[0].results:e[0],e="table"==i.get("chartType")?e[0].results:e,r+="<tr>",t.forEach(function(e){r+="<th>"+e.display_name+"</th>"}),n.forEach(function(e){r+="<th>"+e.display_name+"</th>"}),r+="</tr>";for(var a=0;a<e.length;a++){var s=e[a];r+="<tr>",t.forEach(function(e){r+="<td>"+s[e.display_name]+"</td>"}),n.forEach(function(e){r+="<td>"+s[e.display_name]+"</td>"}),r+="</tr>"}return r+="</table>"},chartTypeView:Ember.View.extend({template:Ember.Handlebars.compile("{{partial 'dashboard/new_chart/chartType'}}"),didInsertElement:function(){$("button").tooltip({placement:"bottom"})},click:function(e){var t=e.target;"button"===t.nodeName.toLowerCase()?this._parentView.set("chartType",t.value):"img"===t.nodeName.toLowerCase()&&this._parentView.set("chartType",t.parentElement.value)}}),chartRowsView:Ember.ContainerView.extend({viewName:"chartRowsContainerView",childViews:["draggableArea"],tagName:"ul",classNames:["inline","field_area"],destroy:function(){var e=this,t=e.get("childViews");t.forEach(function(t){e.removeObject(t)}),this._super()},didInsertElement:function(){var e=this;$("#"+this.elementId).sortable({items:"li:not(.droppable-area)",placeholder:"sortable_placeholder",forcePlaceholderSize:!0}),$("#"+this.elementId).on("sortstop",function(t){for(var n=e._childViews,i=$(t.target).find("li"),r=1;r<i.length;r++){var a=$(i[r]).attr("id"),s=$(i[r]).index(),o=_.filter(n,function(e){return e.elementId==a});o.objectAt(0).set("rank",s)}}),$("#"+this.elementId).disableSelection()},draggableArea:Em.View.create({template:Ember.Handlebars.compile("Drag Row Fields Here"),tagName:"li",classNames:["droppable-area","row"]}),addChildView:function(e){var t=this._parentView._parentView;current_rows=this.chartRowsArr();var n=current_rows.length+1;this.pushObject(t.chartDimensionView.create({field_name:e,field_display:e,is_row:!0,rank:n}));for(var i=t.chartColumnsContainerView._childViews,r=1;r<i.length;r++)i[r].rank=i[r].rank+1},chartRowsArr:function(){var e=this.get("childViews"),t=[];return e.forEach(function(e){e.get("field_name")&&t.push(e.get("field_name"))}),t},clear_all_rows:function(){var e=this,t=this.get("childViews");t.forEach(function(t){t.get("field_name")&&e.removeObject(t)})}}),chartColumnsView:Ember.ContainerView.extend({viewName:"chartColumnsContainerView",childViews:["draggableArea"],tagName:"ul",classNames:["inline","field_area"],destroy:function(){var e=this,t=e.get("childViews");t.forEach(function(t){e.removeObject(t)}),this._super()},didInsertElement:function(){var e=this;$("#"+this.elementId).sortable({items:"li:not(.droppable-area)",placeholder:"sortable_placeholder",forcePlaceholderSize:!0}),$("#"+this.elementId).on("sortstop",function(t){for(var n=e._parentView._parentView,i=n.chartRowsContainerView._childViews.length-1,r=e._childViews,a=$(t.target).find("li"),s=1;s<a.length;s++){var o=$(a[s]).attr("id"),l=$(a[s]).index()+i,c=_.filter(r,function(e){return e.elementId==o});c.objectAt(0).set("rank",l)}}),$("#"+this.elementId).disableSelection()},draggableArea:Em.View.create({template:Ember.Handlebars.compile("Drag Column Fields Here"),tagName:"li",classNames:["droppable-area","column"]}),addChildView:function(e){var t=this._parentView._parentView,n=this.chartColumnsArr();current_rows=t.chartRowsContainerView._childViews.length-1,rank=current_rows+n.length+1,this.pushObject(t.chartDimensionView.create({field_name:e,field_display:e,is_row:!1,rank:rank}))},chartColumnsArr:function(){var e=this.get("childViews"),t=[];return e.forEach(function(e){e.get("field_name")&&t.push(e.get("field_name"))}),t},clear_all_columns:function(){var e=this,t=this.get("childViews");t.forEach(function(t){t.get("field_name")&&e.removeObject(t)})}}),chartDimensionsView:Ember.ContainerView.extend({viewName:"chartDimensionsContainerView",childViews:["draggableArea"],tagName:"ul",classNames:["inline","field_area"],destroy:function(){var e=this,t=e.get("childViews");t.forEach(function(t){e.removeObject(t)}),this._super()},didInsertElement:function(){var e=this;$("#"+this.elementId).sortable({items:"li:not(.droppable-area)",placeholder:"sortable_placeholder",forcePlaceholderSize:!0}),$("#"+this.elementId).on("sortstop",function(t){for(var n=e._childViews,i=$(t.target).find("li"),r=1;r<i.length;r++){var a=$(i[r]).attr("id"),s=$(i[r]).index(),o=_.filter(n,function(e){return e.elementId==a});o.objectAt(0).set("rank",s)}}),$("#"+this.elementId).disableSelection()},draggableArea:Em.View.create({template:Ember.Handlebars.compile("Drag Fields Here"),tagName:"li",classNames:["droppable-area","dimension"]}),addChildView:function(e){var t=this._parentView._parentView,n=this.chartDimensionsArr();rank=n.length+1,this.pushObject(t.chartDimensionView.create({field_name:e,field_display:e,rank:rank}))},chartDimensionsArr:function(){var e=this.get("childViews"),t=[];return e.forEach(function(e){e.get("field_name")&&t.push(e.get("field_name"))}),t},clear_all_dimensions:function(){var e=this,t=this.get("childViews");t.forEach(function(t){void 0!=t.get("field_name")&&e.removeObject(t)})}}),chartDimensionView:Ember.View.extend({template:Ember.Handlebars.compile("{{partial 'dashboard/new_chart/chart_dimension'}}"),field_name:"",format_as:"",field_display:"",sort_order:"",is_row:"",tagName:"li",classNames:["dragged-field"],rank:"",didInsertElement:function(){var e=this,t=$("#"+e.elementId);t.length>0&&$("#"+e._parentView.elementId).sortable("refresh"),e.$().find(".field_display").val(e.field_display),e.$().find(".fieldName").val(e.field_name),e.$().find(".dropdown-menu").css("left","50%"),e.$().find(".dropdown-menu").css("margin-left","-185px")},setFieldDisplay:function(){var e,t=this,n=t.get("supportedFormats"),i=_.filter(n,function(e){return e.key==t.get("field_display_format")?!0:void 0});e=void 0!=i.objectAt(0).display?i.objectAt(0).display+t.get("field_name"):t.get("field_name"),t.$().find(".field_display").val(e)}.observes("field_display_format"),removeFromList:function(){var e=this._parentView;e.removeObject(this)},date_type:function(){var e=this.get("field_name"),t=this.get("parentView").get("parentView").get("dataSourceId"),n=Cibi.DataSource.find(t),i=n.getDataType(e);return"date"==i||"datetime"==i?!0:!1}.property(""),supportedFormats:function(){var e=this.get("field_name"),t=this.get("parentView").get("parentView").get("dataSourceId"),n=Cibi.DataSource.find(t),i=n.getDataType(e);if("date"==i||"datetime"==i){var r=[{key:""},{key:"Month",display:"Month of "},{key:"Quarter",display:"Quarter of "},{key:"Year",display:"Year of "},{key:"Month Year",display:"Month Year of "},{key:"Day",display:"Day of "},{key:"Week",display:"Week of "}];return"datetime"==i&&(r.push({key:"Hours",display:"Hours of "}),r.push({key:"Date",display:"Date of "})),r}return[]}.property("field_name"),save_changes:function(){var e=this,t=e.$().find(".field_display").val();t.trim().length>0?(e.set("field_display",t),e.set("sort_order",e.$().find(".sort_order").val()),e.set("format_as",e.$().find(".format_as").val()),this.$().find(".dropdown").toggleClass("open"),e.set("error_msg",null)):e.set("error_msg","Please specify field display")},cancel_changes:function(){var e=this;e.$().find(".field_display").val(e.get("field_display")),e.$().find(".sort_order").val(e.get("sort_order")),e.$().find(".format_as").val(e.get("format_as")),e.$().find(".sort_order").val(e.get("sort_order")),this.$().find(".dropdown").toggleClass("open"),e.set("error_msg",null)}}),chartMeasuresView:Ember.ContainerView.extend({viewName:"chartMeasuresContainerView",childViews:["draggableArea"],tagName:"ul",classNames:["inline","field_area"],draggableArea:Em.View.create({template:Ember.Handlebars.compile("Drag Fields Here"),tagName:"li",classNames:["droppable-area","measure"]}),destroy:function(){var e=this,t=e.get("childViews");t.forEach(function(t){e.removeObject(t)}),this._super()},addChildView:function(e){var t=this._parentView;this.chartMeasuresArr(),this.pushObject(t.chartMeasureView.create({field_name:e,field_display:e}))},chartMeasuresArr:function(){var e=this.get("childViews"),t=[];return e.forEach(function(e){e.get("field_name")&&t.push(e.get("field_name"))}),t},clear_all_measures:function(){var e=this,t=this.get("childViews");t.forEach(function(t){t.get("field_name")&&e.removeObject(t)})}}),chartMeasureView:Ember.View.extend({template:Ember.Handlebars.compile("{{partial 'dashboard/new_chart/chart_measure'}}"),field_name:"",format_as:"",field_display:"",tagName:"li",sort_order:"",classNames:["dragged-field"],didInsertElement:function(){var e=this;e.$().find(".field_display").val(e.field_display),e.$().find(".fieldName").val(e.field_name),e.$().find(".dropdown-menu").css("left","50%"),e.$().find(".dropdown-menu").css("margin-left","-185px")},toDisplayFieldName:function(){var e=this;return 1==e.get("is_calculated")?!1:!0}.property("is_calculated"),displayNameObserver:function(){var e=this;e.$().find(".is_calculated").prop("checked")?e.$().find(".field_display").val(""):(e.$().find(".field_display").val(e.get("field_name")),e.$().find(".fieldName").val(e.field_name))}.observes("isCalculated"),setFieldDisplay:function(){var e,t=this,n=t.get("fact_formats"),i=_.filter(n,function(e){return e.key==t.get("field_display_format")?!0:void 0});e=void 0!=i.objectAt(0).display?i.objectAt(0).display+t.get("field_name"):t.get("field_name"),t.$().find(".field_display").val(e)}.observes("field_display_format","field_name"),removeFromList:function(){var e=this._parentView;e.removeObject(this)},fact_formats:function(){return[{name:"",key:""},{name:"Sum of Fact",key:"sum",display:"Sum of "},{name:"Avg of Fact",key:"avg",display:"Avg of "},{name:"Count of Fact",key:"count",display:"Count of "},{name:"Count Unique of Fact",key:"count,distinct",display:"Count Unique of "},{name:"Count Nulls of Fact",key:"noops",display:"Count Nulls of "},{name:"% Valid Entries of Total Count",key:"opspc",display:"% Valid Entries of Total Count of "},{name:"% Missing Entries of Total Count",key:"noopspc",display:"% Missing Entries of Total Count of "},{name:"Min",key:"min",display:"Min of "},{name:"Max",key:"max",display:"Max of "},{name:"Standard Deviation (Sample)",key:"stddev_samp",display:"StdDev(Sample) of "},{name:"Standard Deviation (Population)",key:"stddev_pop",display:"StdDev(Population) of "},{name:"Variance (Sample)",key:"var_samp",display:"Variance(Sample) of "},{name:"Variance (Population)",key:"var_pop",display:"Variance(Population) of "}]}.property(""),save_changes:function(){var e=this,t=e.$().find(".field_display").val();t.trim().length>0?(e.set("sort_order",e.$().find(".sort_order").val()),e.set("format_as",e.$().find(".format_as").val()),e.set("is_calculated",e.$().find(".is_calculated").prop("checked")),e.get("is_calculated")&&e.set("field_name",e.$().find(".field_name").val()),e.set("field_display",t),e.set("prefix",e.$().find(".prefix").val()),e.set("suffix",e.$().find(".suffix").val()),this.$().find(".dropdown").toggleClass("open"),e.set("error_msg",null)):e.set("error_msg","Please specify field display")},cancel_changes:function(){var e=this,t=e.get("is_calculated");e.$().find(".is_calculated").prop("checked",t),e.set("isCalculated",t),e.$().find(".field_display").val(e.get("field_display")),e.$().find(".sort_order").val(e.get("sort_order")),e.$().find(".format_as").val(e.get("format_as")),this.$().find(".dropdown").toggleClass("open"),e.set("error_msg",null)}})}),Cibi.DashboardView=Ember.View.extend({templateName:"dashboard",didInsertElement:function(){var e=this;this.setTotalWidthHeight(),$(this).tooltip({selector:"[data-tooltip=tooltip]"});var t=this.get("controller").get("content").get("chartsOnClickFilters");t.length>0?$("#dashboard_charts_container").css("margin-top","50px"):$("#dashboard_charts_container").css("margin-top","0px"),$("#collapse").click(e,function(e){var t=e.data;$("#collapse-icon").hasClass("icon-fast-backward")?($("#vertical_affix").css("width","4.3%"),$("#collapse-li").css("text-align","right"),$("#collapse-icon").removeClass("icon-fast-backward"),$("#collapse-icon").addClass("icon-fast-forward"),$("#verticals_content").css("margin-left","4.3%"),$("#verticals_content").css("width","95.7%"),$("#vertical-bar").css("min-width","94.6%"),$(".vertical-name").css("display","none"),$("#new-workspace").html('<i class="icon-plus"></i>'),$("div.chart-filter-bar").css("width","93.5%")):($("#vertical_affix").css("width","11.3%"),$("#collapse-li").css("text-align","right"),$("#collapse-icon").removeClass("icon-fast-forward"),$("#collapse-icon").addClass("icon-fast-backward"),$("#verticals_content").css("margin-left","11.3%"),$("#verticals_content").css("width","88.7%"),$("#vertical-bar").css("min-width","87.6%"),$(".vertical-name").css("display","block"),$("#new-workspace").html('New workspace  <i class="icon-plus"></i>'),$("div.chart-filter-bar").css("width","86%")),t.setTotalWidthHeight(),t.set("widthChange",t.get("controller").get("content").get("totalWidth"))})},reloadDashboard:function(){var e=this.get("controller"),t=e.get("content");e.transitionToRoute("dashboard.charts",t)}.observes("widthChange"),applyTopMargin:function(){if(this.get("controller").get("content").stateManager.currentState.get("isLoaded")){var e=this.get("controller").get("content").get("chartsOnClickFilters");e.length>0?$("#dashboard_charts_container").css("margin-top","50px"):$("#dashboard_charts_container").css("margin-top","0px")}}.observes("controller.content.chartsOnClickFilters.length","isLoaded"),setTotalWidthHeight:function(){var e=this.get("controller").get("content"),t=$("#main-tab").width();null!=t&&e.set("totalWidth",t);var n=$(".tab-pane").height();e.set("totalHeight",n)}.observes("controller.content"),deleteDashboard:function(e){var t=confirm("Are you sure you want to delete this dashboard?");if(t===!0){e.deleteRecord();var n=this.get("parentView").get("controller"),i=n.get("content");e.on("didDelete",function(){i.reload(),i.set("dashboardDeleted",!0),setTimeout(function(){i.set("dashboardDeleted",null)},5e3)}),n.transitionToRoute("vertical",i),e.get("transaction").commit()}},colNums:function(){for(var e=this.get("controller"),t=e.get("columns"),n=[],i=0;t>i;i++)n.push(i);return n}.property("controller.columns"),rowNums:function(){for(var e=this.get("controller"),t=e.get("rows"),n=[],i=0;t>i;i++)n.push(i);return n}.property("controller.rows"),chartGridDimensions:function(){var e=this.get("controller"),t=e.get("content"),n=t.getChartWidth(e.get("columns"),1)+10,i=t.getChartHeight(e.get("rows"),1,!0)+140;return"width: "+n+"px; height: "+i+"px;"}.property("controller.rows","controller.columns"),scheduleReportsView:Em.View.extend({templateName:"dashboard/schedule_reports",scheduled_report_observer:function(){var e=this.get("controller").get("content").get("scheduled_report");if(Cibi.Auth.get("currentUser").get("email"),void 0!==e){var t=e.objectAt(0);this.set("days",t.get("days")),this.set("is_scheduled",t.get("isScheduled")),this.set("time",t.get("time"))}else this.set("days",""),this.set("is_scheduled",!1),this.set("time","")}.observes("controller.content.scheduled_report"),time_arr:function(){for(var e=[],t=0;23>t;t++)e.push(t);return e}.property(""),scheduleReportsPopoverId:function(){return"schedule-reports-popover-"+this.get("controller").get("id")}.property("controller.id"),openPopover:function(){var e=this,t=$("#"+this.get("elementId")),n=t.position().left-115,i=t.position().top+30;e.togglePopover(n,i)},togglePopover:function(e,t){var n=$("#"+this.get("elementId"));this.get("controller").get("width");var i=n.find(".popover");i.hasClass("hidden")?(i.removeClass("hidden"),e&&i.offset({left:e}),t&&i.offset({top:t})):i.addClass("hidden");for(var r=i.children(),a=0;a<r.length;a++){var s=$(r[a]);s.toggleClass("hidden")}},submit:function(e){e.preventDefault(),$("#"+this.get("elementId"));var t={};t.userId=Cibi.Auth.get("currentUser").id,t.dashboardId=this.get("controller").get("id"),t.isScheduled=this.get("is_scheduled"),t.days=this.get("days"),t.time=this.get("time"),t.emails=Cibi.Auth.get("currentUser").get("email"),this.get("controller").send("set_scheduled_report",t),this.togglePopover()},cancel:function(){return $("#"+this.get("elementId")).find(".schedule_reports_popover").click(),this.set("field_name",null),this.set("comparison_operator",null),$("#"+this.get("filterValuesId")).html(" "),!1}}),dashboardFiltersView:Em.View.extend({templateName:"dashboard/dashboard_filters",reference_date_today:!0,dashboardFiltersPopoverId:function(){return"dashboard-filter-popover-"+this.get("controller").get("id")}.property(""),operators:[{display:"",value:null},{display:"in",value:0},{display:"less than",value:1},{display:"greater than",value:2},{display:"not in",value:3},{display:"not null",value:4},{display:"max",value:6},{display:"min",value:7}],range_types:["Today","Yesterday","Current Week","Last 7 Days","Previous Week","Previous Business Week","Last 30 Days","Current Month to Date","Last Month to Date","Current Calendar Quarter","Previous 3 Months","The Last 3 Months to Date","The Last 12 Months to Date","Last 365 Days","Current Year to Date","Previous Calendar Year"],range_types_datetime:["Last 5 Minutes","Last 10 Minutes","Last 30 Minutes","Last Hour","Last 3 Hours","Last 8 Hours","Last 12 Hours","Last 24 Hours","Last Three Days to Date/Time","This Week to Date/Time","Last Week to Date/Time (last 7 x 24 hours)","Last Two Weeks to Date/Time (last 14 x 24 hours)","Last Three Weeks to Date/Time (last 21 x 24 hours)","Past Month to Date/Time (this date last month till now)","This Year to Date/Time"],period_unit:["Days","Weeks","Months","Quarters","Years","Date"],combined_range_types:function(){return this.get("range_types").concat(this.get("range_types_datetime"))}.property(""),isDate:function(){var e=this.get("fieldType");return e&&"date"==e.toLowerCase().trim()?!0:!1}.property("fieldType"),isDateTime:function(){var e=this.get("fieldType");return e&&"datetime"==e.toLowerCase().trim()?!0:!1}.property("fieldType"),isTime:function(){var e=this.get("fieldType");return e&&"time"==e.toLowerCase().trim()?!0:!1}.property("fieldType"),isDateTime:function(){var e=this.get("fieldType");return e&&"datetime"==e.toLowerCase().trim()?!0:!1}.property("fieldType"),isDateTime:function(){var e=this.get("fieldType");return e&&"datetime"==e.toLowerCase().trim()?!0:!1}.property("fieldType"),period:function(){var e=["Month","Quarter","Year","Month Year","Day","Week","Date"],t=this.get("field_name"),n=this.get("controller").get("content").get("dashboardFieldsArr"),i=n.filter(function(e){return e.text==t});return i.length>0&&"datetime"==i[0].value&&(e.push("Hours"),e.push("Date")),e}.property("field_name"),display_name:function(){return this.get("field_name")}.property("field_name"),openPopover:function(){var e=this,t=$("#"+this.get("elementId")),n=t.position().left-135,i=t.position().top+30;e.togglePopover(n,i)},is_specific_date:function(){this.get("specific_date")&&(this.set("reference_date_option",!1),this.set("predefined_range",!1))}.observes("specific_date"),is_reference_date_option:function(){this.get("reference_date_option")&&(this.set("specific_date",!1),this.set("predefined_range",!1))}.observes("reference_date_option"),is_predefined_range:function(){this.get("predefined_range")&&(this.set("specific_date",!1),this.set("reference_date_option",!1))}.observes("predefined_range"),renderRangeView:function(){var e=$(event.target);_.each($(".range_selector"),function(t){e[0]==t?$(t).prop("checked",!0):$(t).prop("checked",!1)}),0==e.attr("value")?(this.set("specific_date",!0),this.set("reference_date_option",!1),this.set("predefined_range",!1)):1==e.attr("value")?(this.set("specific_date",!1),this.set("reference_date_option",!0),this.set("predefined_range",!1)):2==e.attr("value")&&(this.set("specific_date",!1),this.set("reference_date_option",!1),this.set("predefined_range",!0))},disableReferenceDate:function(){var e=$(event.target);e.prop("checked")?($("#reference_date").prop("disabled",!0),$("#reference_date").val($.datepicker.formatDate("mm/dd/yy",new Date))):$("#reference_date").prop("disabled",!1)}.observes("reference_date_today"),datatype_date:function(){var e=this.get("field_name");if(!e)return!1;var t=this.get("controller").get("content").get("dashboardFieldsArr");if(!t)return!1;var n=t.filter(function(t){return t.text==e});return n.length>0?"date"==n[0].value||"datetime"==n[0].value:!1}.property("field_name"),operator_list:function(){var e=this;if(e.get("field_name")){if(e.get("datatype_date")){var t=this.operators.concat([{display:"range",value:5}]);return t}return this.operators}return this.operators}.property("field_name"),togglePopover:function(e,t){var n=$("#"+this.get("elementId"));this.get("controller").get("width");var i=n.find(".popover");i.hasClass("hidden")?(i.removeClass("hidden"),e&&i.offset({left:e}),t&&i.offset({top:t})):i.addClass("hidden");for(var r=i.children(),a=0;a<r.length;a++){var s=$(r[a]);s.toggleClass("hidden")}},submit:function(e){e.preventDefault();var t=$("#"+this.get("elementId")),n=t.find(".select_box_multiselect"),i=n.val(),r=this.get("field_name"),a=this.get("format_as"),s="",o=this.get("display_name"),l=this.get("comparison_operator");is_global=this.get("is_global");var c={},h=this.$(".range_selector:checked").prop("name");if(0==h){var u=t.find("#dashboard_lower_range").find("input").val(),d=t.find("#dashboard_upper_range").find("input").val();if(u&&d)if(c.dateRange=!0,"time"==this.get("fieldType").toLowerCase().trim()){var p=u,f=p.split(":"),g=new Date;g.setHours(f[0]),g.setMinutes(f[1]),g.setSeconds(f[2]),c.lowerRange=g,p=d,f=p.split(":"),g.setHours(f[0]),g.setMinutes(f[1]),g.setSeconds(f[2]),c.upperRange=g}else c.lowerRange=new Date(u),c.upperRange=new Date(d)}else if(1==h)if(c.dateRange=!1,c.referenceDirection=$('input[name="reference_direction"]:checked').val(),c.referenceCount=this.get("reference_count"),c.referenceUnit=this.get("reference_unit"),c.referenceDateToday=this.get("reference_date_today"),this.get("reference_date_today"))c.referenceDate=$.datepicker.formatDate("mm/dd/yy",new Date);else{var m=t.find("#reference_date").find("input").val();if("time"==this.get("fieldType").toLowerCase().trim()){var p=m,f=p.split(":"),g=new Date;g.setHours(f[0]),g.setMinutes(f[1]),g.setSeconds(f[2]),c.referenceDate=g}else c.referenceDate=new Date(m)}else 2==h&&(c.predefinedRange=this.get("selected_range"));var v=this.get("controller").get("content").get("filter_hash");v.forEach(function(e){e.text==r&&(s=e.value)}),!a||5==l||"date"!=s&&"datetime"!=s||(c.formatAs=a),c.fieldValues=JSON.stringify(i),c.fieldName=r,c.displayName=o,c.fieldDataType=s,c.comparisonOperator=l,c.isGlobal=is_global,this.get("controller").send("set_dashboard_filter",c),this.set("comparison_operator",null),this.set("display_name",null),this.togglePopover()},build_filter_values:function(){var e=this,t=this.get("field_name");return controller=e.get("controller"),elem=$("#"+e.get("filterValuesId")),e.get("not_null")||e.get("max_min")?(elem.html(""),void 0):(t&&(e.get("in_comparison")?(e.set("valuesLoading",!0),controller.getDimensionUniqueVals(t,e.rebuild_select_box,e)):e.get("range_comparison")?elem.html(""):elem.html("<input class='select_box_multiselect input-small' type='number' />")),void 0)}.observes("field_name","comparison_operator","format_as"),in_comparison:function(){var e=this.get("comparison_operator");return 0==e||3==e}.property("comparison_operator","isLoaded"),range_comparison:function(){var e=this.get("comparison_operator");return 5==e?(this.set("specific_date",!0),!0):void 0}.property("comparison_operator","isLoaded","field_name"),not_null:function(){var e=this.get("comparison_operator");return 4==e}.property("comparison_operator","isLoaded"),max_min:function(){var e=this.get("comparison_operator");return 6==e||7==e}.property("comparison_operator","isLoaded"),filterValuesId:function(){return"dashboard-filter-"+this.get("controller").get("id")}.property("controller.id"),fieldType:function(){var e=this.get("field_name");if(!e)return!1;var t=this.get("controller").get("content").get("dashboardFieldsArr");if(!t)return!1;var n=t.filter(function(t){return t.text==e});return n.length>0?n[0].value:!1}.property("field_name"),dateTypeField:function(){var e=this.get("fieldType");return e&&"date"==e.toLowerCase().trim()?!0:!1}.property("fieldType"),rebuild_select_box:function(e,t){var n=$("#"+t.get("filterValuesId")),i=t.get("field_name");if(t.get("in_comparison")){n.html("<select class='select_box_multiselect' multiple='multiple' style='display:none'></select>");var r=e[i];!t.get("datatype_date")||"Month"!=t.get("format_as")&&"Year"!=t.get("format_as")&&"Quarter"!=t.get("format_as")&&"Month Year"!=t.get("format_as")&&"Hours"!=t.get("format_as")&&"Day"!=t.get("format_as")&&"Week"!=t.get("format_as")&&"Date"!=t.get("format_as")||(r=formatDates(t.get("format_as"),r));var a=n.find(".select_box_multiselect");a.html("");for(var s=0;s<r.length;s++)a.append('<option value="'+r[s]+'">'+r[s]+"</option>");a.multiselect({classes:"multiselect_btn multiselect_menu",checkAllText:"All",uncheckAllText:"None"}).multiselectfilter(),t.set("valuesLoading",!1)}},cancel:function(){return $("#"+this.get("elementId")).find(".dashboard_filter_popover").click(),this.set("field_name",null),this.set("comparison_operator",null),$("#"+this.get("filterValuesId")).html(" "),!1}}),dashboardFilterView:Em.View.extend({templateName:"dashboard/dashboard_filter_view",classNames:["span","dashboard_filter"],classNameBindings:["content.disabled:dashboard_filter_disabled:dashboard_filter_enabled"],comparison:function(){var e=this.get("content").get("comparisonOperator");switch(e){case 0:return"in";case 1:return"less than";case 2:return"greater than";case 3:return"not in";case 4:return"is";case 5:return"between";case 6:return"MAX";case 7:return"MIN"}}.property(""),didInsertElement:function(){var e=this;if("between"!=e.get("comparison")&&"MAX"!=e.get("comparison")&&"MIN"!=e.get("comparison")){e.build_filter();var t=JSON.parse(this.get("content").get("fieldValues"));$("#"+this.elementId).find("#"+this.get("dashboardFilterValuesId")).tooltip({placement:"bottom",title:t,trigger:"hover"})}$(".tags").tooltip({placement:"bottom"})},field_display:function(){return this.get("content").get("displayName")||this.get("content").get("fieldName")}.property("content.fieldName","content.displayName"),field_name:function(){return this.get("content").get("fieldName")}.property(""),format_as:function(){return this.get("content").get("formatAs")}.property(""),disabled:function(){return this.get("content").get("disabled")}.property(""),is_global:function(){return this.get("content").get("isGlobal")}.property(""),check_global_and_admin:function(){return is_global=this.get("content").get("isGlobal"),is_global?(flag=this.get("content").get("can_edit"),flag?!0:!1):!0}.property(""),deleteDashboardFilter:function(){var e=confirm("Are you sure you want to delete this filter?");if(1==e){var t=this,n=t.get("controller").get("content"),i=this.get("content");i.deleteRecord(),i.on("didDelete",function(){n.drawAll()}),i.get("store").commit()}},disableFilter:function(){var e=this.get("content"),t=this;e.get("disabled")?e.set("disabled",!1):e.set("disabled",!0),e.on("didUpdate",function(){t.get("controller").get("content").drawAll()
}),e.get("transaction").commit()},filterState:function(){return this.get("content").get("disabled")?"Enable":"Disable"}.property("content.disabled"),updateDashboardFilter:function(){var e=this.get("content"),t=this,n=$("#"+this.get("dashboardFilterValuesId")),i=n.find("#select_box_multiselect"),r=[];r=i&&i.length>0?JSON.stringify(i.val()):JSON.stringify(this.$().find(".input-small").val()),e.set("fieldValues",r),e.on("didUpdate",function(){$("#"+t.elementId).find("#"+t.get("dashboardFilterValuesId")).tooltip("destroy"),$("#"+t.elementId).find("#"+t.get("dashboardFilterValuesId")).tooltip({placement:"bottom",title:JSON.parse(e.get("fieldValues")),trigger:"hover"}),t.set("saveComplete",!0),setTimeout(function(){t.set("saveComplete",!1)},3e3),t._parentView.get("controller").get("content").drawAll()}),e.get("store").commit()},build_filter:function(){var e=this,t=this.get("field_name");controller=e.get("controller"),controller.getDimensionUniqueVals(t,e.rebuild_filter_select_box,e)},filter_value:function(){return parseFloat(JSON.parse(this.get("content").get("fieldValues")))}.property(""),show_dropdown:function(){var e=(this.get("content").get("fieldDataType"),this.get("content").get("comparisonOperator"));return 0==e||3==e}.property(""),show_text_box:function(){var e=this.get("content").get("fieldDataType"),t=this.get("content").get("comparisonOperator");return isNumericDataType(e)&&0!=t&&3!=t}.property(""),getRange:function(){var e=this.get("content");if(0==e.get("dateRange")){var t="true"==e.get("referenceDateToday")||1==e.get("referenceDateToday")?dateToday():e.get("referenceDate"),n="previous"==e.get("referenceDirection")?"Last ":"Next ";return str="",str+=n,str+=e.get("referenceCount")+" ",str+=e.get("referenceUnit"),str+=" From ",str+=$.datepicker.formatDate("dd M yy",new Date(t))}var i=$.datepicker.formatDate("mm/dd/yy",e.get("lowerRange")),r=$.datepicker.formatDate("mm/dd/yy",e.get("upperRange"));return i+" - "+r}.property("content.upperRange","content.lowerRange","content.referenceCount","content.referenceUnit","content.referenceDateToday","content.referenceDirection","content.referenceDate","content.dateRange","content.predefinedRange"),range:function(){var e=this.get("content").get("comparisonOperator");return 5==e}.property(""),dashboardFilterValuesId:function(){return"dashboard-filter-value-"+this.get("content").id}.property("this.content.id"),is_null:function(){return 4==this.get("content").get("comparisonOperator")}.property(""),max_min:function(){var e=this.get("content").get("comparisonOperator");return 6==e||7==e}.property(""),rebuild_filter_select_box:function(e,t){var n=$("#"+t.get("dashboardFilterValuesId"));if("is"!=t.get("comparison")){var i=t.get("field_name");if(t.get("content").get("fieldDataType"),t.get("show_dropdown")){n.html("<select id='select_box_multiselect' multiple='multiple' style='display:none'></select>");var r=e[i];t.get("content").get("formatAs")&&(r=formatDates(t.get("content").get("formatAs"),r));var a=n.find("#select_box_multiselect");a.html("");for(var s=JSON.parse(t.get("content").get("fieldValues")),o=0;o<r.length;o++){var l="";-1!=$.inArray(r[o],s)&&(l="selected='selected'"),a.append('<option value="'+r[o]+'"'+l+">"+r[o]+"</option>")}a.multiselect({onChange:function(){var e=[];$("#select_box_multiselect option:selected").each(function(){e.push($(t).val())})}}),a.multiselect({classes:"multiselect_btn multiselect_menu",checkAllText:"All",uncheckAllText:"None"}).multiselectfilter()}}},dashboardFilterPopup:Em.View.extend({templateName:"dashboard/dashboard_filter_popup",period_unit:["Days","Weeks","Months","Quarters","Years"],range_types:["Today","Yesterday","Current Week","Last 7 Days","Previous Week","Previous Business Week","Last 30 Days","Current Month to Date","Last Month to Date","Current Calendar Quarter","Previous 3 Months","The Last 3 Months to Date","The Last 12 Months to Date","Last 365 Days","Current Year to Date","Previous Calendar Year"],range_types_datetime:["Last 5 Minutes","Last 10 Minutes","Last 30 Minutes","Last Hour","Last 3 Hours","Last 8 Hours","Last 12 Hours","Last 24 Hours","Last Three Days to Date/Time","This Week to Date/Time","Last Week to Date/Time (last 7 x 24 hours)","Last Two Weeks to Date/Time (last 14 x 24 hours)","Last Three Weeks to Date/Time (last 21 x 24 hours)","Past Month to Date/Time (this date last month till now)","This Year to Date/Time"],didInsertElement:function(){var e=this,t=$("#"+e.get("rangeFilterPopoverId")),n=t.find(".range_filter_popover");n.click(function(t){var n=t.pageX-75,i=t.pageY+20;e.togglePopover(n,i)}),e.get("predefined_range")?e.set("predefined_range",!0):1==e.get("specific_date")?e.set("specific_date",!0):e.set("reference_date_option",!0),"previous"==this.get("parentView").get("content").get("referenceDirection")?t.find("input[name='reference_direction'][value='previous']").prop("checked",!0):t.find("input[name='reference_direction'][value='next']").prop("checked",!0)},combined_range_types:function(){return this.get("range_types").concat(this.get("range_types_datetime"))}.property(""),fieldType:function(){var e=this.get("parentView").get("field_name");if(!e)return!1;var t=this.get("controller").get("content").get("dashboardFieldsArr");if(!t)return!1;var n=t.filter(function(t){return t.text==e});return n.length>0?n[0].value:!1}.property("parentView.field_name"),isDate:function(){var e=this.get("fieldType");return e&&"date"==e.toLowerCase().trim()?!0:!1}.property("fieldType"),isTime:function(){var e=this.get("fieldType");return e&&"time"==e.toLowerCase().trim()?!0:!1}.property("fieldType"),isDateTime:function(){var e=this.get("fieldType");return e&&"datetime"==e.toLowerCase().trim()?!0:!1}.property("fieldType"),rangeFilterPopoverId:function(){return"range-filter-popover"+this.get("parentView").get("content").id}.property(""),referenceDatePopoverId:function(){return"reference-date-popover"+this.get("parentView").get("content").id}.property(""),togglePopover:function(e,t){var n=$("#"+this.get("rangeFilterPopoverId")),i=n.find(".popover");i.hasClass("hidden")?(i.removeClass("hidden"),e&&i.offset({left:e}),t&&i.offset({top:t})):i.addClass("hidden");for(var r=i.children(),a=0;a<r.length;a++){var s=$(r[a]);s.toggleClass("hidden")}},range:function(){var e=this.get("parentView").get("content");return e.get("predefinedRange")?e.get("predefinedRange"):this.get("parentView").get("getRange")}.property("parentView.getRange"),specific_date:function(){var e=this.get("parentView").get("content");return e.get("dateRange")&&null==e.get("predefinedRange")}.property(""),reference_date_option:function(){var e=this.get("parentView").get("content");return!e.get("dateRange")&&null==e.get("predefinedRange")}.property(""),predefined_range:function(){var e=this.get("parentView").get("content");return null!=e.get("predefinedRange")}.property(""),is_specific_date:function(){this.get("specific_date")&&(this.set("reference_date_option",!1),this.set("predefined_range",!1))}.observes("specific_date"),is_reference_date_option:function(){this.get("reference_date_option")&&(this.set("specific_date",!1),this.set("predefined_range",!1))}.observes("reference_date_option"),is_predefined_range:function(){this.get("predefined_range")&&(this.set("specific_date",!1),this.set("reference_date_option",!1))}.observes("predefined_range"),renderRangeView:function(){var e=$(event.target);_.each(this.$().find(".popup_range_selector"),function(t){e[0]==t?$(t).prop("checked",!0):$(t).prop("checked",!1)}),0==e.attr("value")?(this.set("specific_date",!0),this.set("reference_date_option",!1),this.set("predefined_range",!1)):1==e.attr("value")?(this.set("specific_date",!1),this.set("reference_date_option",!0),this.set("predefined_range",!1)):2==e.attr("value")&&(this.set("specific_date",!1),this.set("reference_date_option",!1),this.set("predefined_range",!0))},selected_range:function(){return this.get("parentView").get("content").get("predefinedRange")}.property(""),upper_range:function(){var e=this.get("parentView").get("content").get("upperRange");return e}.property(""),lower_range:function(){var e=this.get("parentView").get("content").get("lowerRange");return e}.property(""),reference_count:function(){return this.get("parentView").get("content").get("referenceCount")}.property(""),reference_unit:function(){return this.get("parentView").get("content").get("referenceUnit")}.property(""),reference_date_today:function(){var e="true"==this.get("parentView").get("content").get("referenceDateToday")?!0:!1;return e}.property(""),reference_date:function(){var e=this.get("parentView").get("content").get("referenceDate");return e}.property(""),submit:function(e){e.preventDefault();var t=$("#"+this.get("elementId")),n=this.get("parentView"),i=this.get("parentView").get("content"),r=t.find("input.popup_range_selector:checked").prop("name");if(i.set("dateRange",0==r?!0:!1),0==r){var a=t.find(".dashboard_filter_upper_range").find("input").val(),s=t.find(".dashboard_filter_lower_range").find("input").val();if("time"==this.get("fieldType").toLowerCase().trim()){var o=s,l=o.split(":"),c=new Date;c.setHours(l[0]),c.setMinutes(l[1]),c.setSeconds(l[2]),i.set("lowerRange",c),o=a,l=o.split(":"),c.setHours(l[0]),c.setMinutes(l[1]),c.setSeconds(l[2]),i.set("upperRange",c)}else i.set("upperRange",new Date(a)),i.set("lowerRange",new Date(s));i.set("referenceDate",null),i.set("referenceCount",null),i.set("referenceUnit",null),i.set("referenceDirection",null),i.set("referenceDateToday",null),i.set("predefinedRange",null)}else if(1==r){if(i.set("upperRange",null),i.set("lowerRange",null),i.set("referenceCount",this.get("reference_count")),i.set("referenceUnit",this.get("reference_unit")),this.get("reference_date_today"))i.set("referenceDate",null);else{var h=t.find(".dashboard_filter_reference_date").find("input").val();if("time"==this.get("fieldType").toLowerCase().trim()){var o=h,l=o.split(":"),c=new Date;c.setHours(l[0]),c.setMinutes(l[1]),c.setSeconds(l[2]),i.set("referenceDate",c)}else i.set("referenceDate",new Date(h))}var u=t.find("input[name='reference_direction']:checked").val();i.set("referenceDirection",u),i.set("referenceDateToday",this.get("reference_date_today")),i.set("predefinedRange",null)}else 2==r&&i.set("predefinedRange",this.get("selected_range"));i.on("didUpdate",function(){n._parentView.get("controller").get("content").drawAll()}),i.get("store").commit(),this.togglePopover()}})}),dashboardLayoutView:Em.View.extend({templateName:"dashboard/dashboard_layout",dashboardLayoutPopoverId:function(){return"dashboard-layout-popover-"+this.get("controller").get("id")}.property(""),openPopover:function(){var e=this,t=$("#"+this.get("elementId")),n=t.position().left-80,i=t.position().top+30;e.togglePopover(n,i)},togglePopover:function(e,t){var n=$("#"+this.get("elementId"));this.get("controller").get("width");var i=n.find(".popover");i.hasClass("hidden")?(i.removeClass("hidden"),e&&i.offset({left:e}),t&&i.offset({top:t}),this._parentView._parentView.set("showGridLayout",!0)):(i.addClass("hidden"),this._parentView._parentView.set("showGridLayout",!1));for(var r=i.children(),a=0;a<r.length;a++){var s=$(r[a]);s.toggleClass("hidden")}},submit:function(e){e.preventDefault();var t=this,n=t.get("controller").get("content"),i=t.get("parentView").get("parentView").get("controller").get("content");n.set("vertical",i),n.on("didUpdate",function(){t.get("controller").transitionToRoute("dashboard.charts",n)}),n.get("store").commit(),this.togglePopover()},cancel:function(){var e=$("#"+this.get("elementId"));return e?(e.find(".dashboard_layout_popover").click(),this._parentView.set("showGridLayout",!1),!1):void 0}})}),Cibi.DataConnectionNewView=Ember.View.extend({templateName:"data_connections/new",connectionTypes:function(){return["mysql","mssql","oracle"]}.property(""),isOracle:function(){var e=this;return"oracle"==e.get("connectionType")?!0:void 0}.property("connectionType"),isMssql:function(){var e=this;return"mssql"==e.get("connectionType")?!0:void 0}.property("connectionType"),submit:function(e){if("new-data-connection-form"==e.target.id){e.preventDefault();var t={};t.connectionType=this.get("connectionType"),t.displayName=this.get("displayName"),t.host=this.get("host"),t.dbname=this.get("dbname"),t.username=this.get("username"),t.password=this.get("password"),t.port=this.get("port"),t.socket=this.get("socket"),t.queryDuration=this.get("queryDuration"),t.accountId=Cibi.Auth.get("currentUser").get("account").get("id"),t.serviceName=this.get("serviceName"),t.dataServerName=this.get("dataServerName");var n=Cibi.DataConnection.createRecord(t);n.transaction.commit(),this.set("displayName",""),this.set("host",""),this.set("dbname",""),this.set("username",""),this.set("password",""),this.set("port",""),this.set("socket",""),this.set("queryDuration",""),this.set("serviceName",""),this.set("dataServerName","")}}}),Cibi.DataConnectionsView=Ember.View.extend({initTooltip:function(){alert($(".connection-status").length)}}),Cibi.DataSourceView=Ember.View.extend({didInsertElement:function(){this.generate_pagination()},change_dataContents:function(){var e=this,t=e.get("controller").get("id"),n=e.get("controller").get("content");e.gotoPage(1,t,5,e,n),e.generate_pagination()},changePagination:function(){var e=this;if("inDOM"==e.state&&"Data Content"==$(".data-source-nav li.active").text().trim()){var t=e.get("controller").get("id"),n=e.get("controller").get("content"),i=n.get("pageno");e.gotoPage(i,t,5,e,n)}}.observes("controller.content.fieldsStr"),checkTab:function(){$(".data-source-nav li").removeClass("active"),$("#content").removeClass("active"),$("#query").removeClass("active"),$("#spree").removeClass("active"),$("#data_model").addClass("active"),$("#model").addClass("active")}.observes("controller.id","controller.isLoaded"),generate_pagination:function(){var e=this,t=e.get("controller").get("id"),n=5,i=e.get("controller").get("content"),r=i.get("total_contents"),a=Math.ceil(r/n);if(a>0){var s='<div id = "pagination'+t+'" class="pagination pagination-centered">';s+='<input class="hidden" style="width:0px;" type="text" value="1" id="current_page"></input>',s+='<ul style="vertical-align: middle;">',s+='<li class="disabled"><a href="javascript:void(0);" id="previous">&laquo;</a></li>',s+='<li class="active"><a href="javascript:void(0);" id="data_source_'+t+'pg_1">1</a></li>';for(var o=2;o<=Math.min(a,5);o++)s+='<li class=""><a href="javascript:void(0);" id="data_source_'+t+"pg_"+o+'">'+o+"</a></li>";Math.ceil(a)>=5&&(s+='<li class="active"><a href="javascript:void(0);" id="data_source_'+t+"pg_"+o+'">..</a></li>'),a>1&&(s+='<li class=""><a href="javascript:void(0);" id="next">&raquo</a></li>'),s+="</ul>",s+='<span class="pull-right" style="padding-right:10px;margin-top: 10px;">Page 1 of '+a+"</span>",s+="</div>",$("div.data-contents").html(s),$("div.data-contents").show(),$("div.data-contents").find("#pagination"+t);for(var o=1;a>=o;o++)$("div.data-contents").find("#pagination"+t).on("click","#data_source_"+t+"pg_"+o,function(r){return function(){e.gotoPage(r,t,n,e,i)}}(o));$("div.data-contents").find("#pagination"+t).on("click","#previous",function(){var r=$("#current_page").val();parseInt(r)>1&&e.gotoPage(parseInt(r)-1,t,n,e,i)}),$("div.data-contents").find("#pagination"+t).on("click","#next",function(){var r=$("#current_page").val();parseInt(r)<a&&e.gotoPage(parseInt(r)+1,t,n,e,i)})}else $("div.data-contents").hide()},gotoPage:function(e,t,n,i,r){var a=Cibi.Auth.get("authToken"),s="/data_sources/"+t+"/getDataContents?auth_token="+a;s=s+"&pageno="+e;var o,l;console.log(s),req=$.ajax({url:s,type:"get",async:!1,success:function(a){o=a.data_contents,l=a.count,r.set("data_contents",o),r.set("pageno",e),l||0==l?(r.set("total_contents",l),i.generate_pagination()):i.change_page(e,t,n,r)}})},change_page:function(e,t,n,i){var r=i.get("total_contents"),a=Math.ceil(r/n);if(3>=e)var s=1,o=5>a?a:5;else if(e>=a-2)var s=5>a?1:a-4,o=a;else var s=Math.max(1,e-2),o=Math.min(a,e+2);var l=1==e&&1==a||e==a?"disabled":"",c=1==e?"disabled":"";html="",html+='<input class="hidden" style="width:0px;" type="text" value="'+e+'" id="current_page"></input>',html+='<ul style="vertical-align: middle;">',html+='<li class="'+c+'"><a href="javascript:void(0);" id="previous">&laquo;</a></li>',e>3&&a>5&&(html+='<li class="disabled"><a href="javascript:void(0);">..</a></li>');for(var h=s;o>=h;h++){var u=h==e?"active":"";html+="<li class="+u+'><a href="javascript:void(0);" id="data_source_'+t+"pg_"+h+'">'+h+"</a></li>"}a>5&&a>e+2&&(html+='<li class="disabled"><a href="javascript:void(0);">..</a></li>'),html+='<li class="'+l+'"><a href="javascript:void(0);" id="next">&raquo</a></li>',html+="</ul>",html+='<span class="pull-right" style="padding-right:10px;margin-top: 10px;">Page '+e+" of "+a+"</span>",$("#pagination"+t).html(html)},isUnique:function(){return!0}.property(""),deleteDataSource:function(e){var t=confirm("Are you sure you want to delete this data-source?");if(t===!0){e.deleteRecord();var n=this.get("parentView").get("controller"),i=n.get("content");e.on("didDelete",function(){i.set("dataSourceDeleted",!0),setTimeout(function(){i.set("dataSourceDeleted",null)},5e3)}),n.transitionToRoute("data_sources"),e.get("transaction").commit()}},getDashboardColor:function(){var e=Cibi.Auth.get("currentUser");return e?e.get("get_dashboard_color"):void 0}.property("Cibi.Auth.currentUser.isLoaded"),accountTopNavColor:function(){var e=Cibi.Auth.get("currentUser"),t=this.get("getDashboardColor");return void 0!=t&&(void 0!=e.get("dashboardBarColor")&&(t=e.get("dashboardBarColor")),t="background-color:"+t+";min-height:44px;display:visible; padding-left:4px; padding-right:15px;"),t}.property("Cibi.Auth.currentUser.isLoaded"),check_dataTypes:Ember.View.extend({templateName:"data_sources/check_dataTypes",datatypes:[{label:"String",value:"varchar"},{label:"Text",value:"text"},{label:"LongText",value:"longtext"},{label:"Integer",value:"int"},{label:"Decimal",value:"decimal"},{label:"Boolean",value:"boolean"},{label:"Date",value:"date"},{label:"DateTime",value:"datetime"},{label:"Time",value:"time"}],date_seperators:["-","/"],date_formats:["Month, Day, Year","Day, Month, Year","Year, Month, Day"],date_formats_dash:["mm-dd-yy","mm-dd-yyyy","dd-mm-yy","dd-mm-yyyy","d-m-yy","m-d-yy","dd-MON-yy","dd-MON-yyyy","yy-mm-dd","yyyy-mm-dd"],date_formats_slash:["mm/dd/yy","mm/dd/yyyy","dd/mm/yy","dd/mm/yyyy","d/m/yy","m/d/yy","dd/MON/yy","dd/MON/yyyy","yy/mm/dd","yyyy/mm/dd"],time_seperators:[":","space"],time_formats_colon:["hh:mm","hh:mm AM/PM","hh:mm:ss","hh:mm:ss AM/PM"],time_formats_space:["hh mm","hh mm AM/PM","hh mm ss","hh mm ss AM/PM"],alias:function(){return this.get("content").name}.property(""),varchar:function(){return"varchar"==this.seleted_datatype}.property("seleted_datatype"),no_options:function(){return["int","text","longtext","boolean"].contains(this.seleted_datatype)}.property("seleted_datatype"),decimal:function(){return"decimal"==this.seleted_datatype}.property("seleted_datatype"),date:function(){return"date"==this.seleted_datatype}.property("seleted_datatype"),datetime:function(){return"datetime"==this.seleted_datatype}.property("seleted_datatype"),time:function(){return"time"==this.seleted_datatype}.property("seleted_datatype"),valid_date_separator:function(){return value=this.get_first_value(),flag=-1!=value.indexOf("-")?!0:-1!=value.indexOf("/")?!0:!1}.property(""),dash_format:function(){return value=this.get_first_value(),flag=-1!=value.indexOf("-")?!0:!1}.property(""),slash_format:function(){return value=this.get_first_value(),flag=-1!=value.indexOf("/")?!0:!1}.property(""),get_first_value:function(){var e=this.get("content").name,t=JSON.parse(this.get("controller").get("content").get("fieldsStr"));return t=_.map(t,function(e){return e.name}),position=t.indexOf(e),value=JSON.parse(this.get("controller").get("content").get("previewData")).data[0][position]},colon_format:function(){var e=this.get("content").name,t=JSON.parse(this.get("controller").get("content").get("fieldsStr"));return t=_.map(t,function(e){return e.name}),position=t.indexOf(e),value=JSON.parse(this.get("controller").get("content").get("previewData")).data[0][position],flag=-1!=value.indexOf(":")?!0:!1}.property("")}),saveButtonView:Ember.View.extend({template:Ember.Handlebars.compile("<button {{bindAttr class=':btn :btn-info flat-button enabled'}}>Save</button>"),enabled:"",click:function(){var e=[],t=[],n=[];$(".fieldsList").each(function(){var t={},i=$(this).find("label").text().trim(),r=$(this).find(".data_type").val(),a=$(this).find("label").text().trim(),s=$(this).find(".default_value").val(),o={};o.date_format=$(this).find(".date_format").val(),o.time_format=$(this).find(".time_format").val(),o.max_digits=$(this).find(".max_digits").val(),o.max_decimals=$(this).find(".max_decimals").val(),o.string_length=$(this).find(".string_length").val();var l=$(this).find(".ignored").is(":checked");if(l){var c=i;n.push(c)}else t.name=i,t.display_name=a,t.data_type=r,t.options=JSON.stringify(o),t["default"]=s?s:null,e.push(t)});var i=$("#file_ds_unique_key_id").val().trim();i&&t.push(i),this.get("controller").send("createFieldsArr",e,t,n)}}),textBoxView:Ember.View.extend({template:Ember.Handlebars.compile("<input type='text' {{bindAttr value='view.content'}} /><br>"),change:function(){var e=this.get("elementId"),t=$(this.get("element")).find("input").val();this.get("controller").send("updateGroup",{key:e,value:t})}}),newDataContentView:Ember.View.extend({templateName:"data_sources/new_content",file:null,didInsertElement:function(){var e=this,t=this.get("controller"),n=t.get("id"),i=Cibi.Auth.get("authToken"),r="/data_sources/"+n+"/addContent?auth_token="+i;$("#new-content-form").fileupload({url:r,add:function(n,i){t.set("fileUploadFailed",!1),t.set("uploadError",!1),i.submit().success(function(){t.set("fileUploadSuccessful",!0),t.get("content").reload(),t.get("content").set("field_unique_keys",null),setTimeout(function(){e.get("parentView").rerender(),t.set("fileUploadSuccessful",!1)},1e3)}).error(function(e){t.set("fileUploadFailed",!0),t.set("errorMessage",e.responseJSON.message)}).complete(function(){t.set("isAddingContent",!1)}),t.set("isAddingContent",!0),setTimeout(function(){t.showProgress()},3e3)}})}.observes("controller.id")}),selectSheetView:Ember.View.extend({templateName:"data_sources/select_sheet",cancelUpload:function(){},sheetsArr:function(){return JSON.parse(this.get("controller").get("content").get("sheetsArray"))}.property(""),submit:function(e){e.preventDefault();var t=this.get("controller"),n=this.$('input[name="sheet_name"]:checked').val(),i=t.get("content");0==i.get("dataContents").get("length")?i.set("fileUploadState",3):i.set("fileUploadState",4),i.get("store").commit(),$("#modal-select-sheet").modal("toggle"),$(".modal-backdrop").hide();var r=t.get("id"),a=Cibi.Auth.get("authToken"),s="/data_sources/"+r+"/addCachedFileContent?auth_token="+a;req=$.ajax({url:s,type:"post",data:{sheet_name:n},async:!1,success:function(){t.set("fileUploadSuccessful",!1)},error:function(e){t.set("fileUploadFailed",!0),t.set("errorMessage",e.responseJSON.message)},complete:function(){t.set("isAddingContent",!1)}})}}),dataModelingView:Ember.View.extend({templateName:"data_sources/data_modeling",didInsertElement:function(){$("#combine_columns").on("keyup",function(){""==$(this).val()?$("#apply-pivot").prop("disabled",!0):$("#apply-pivot").prop("disabled",!1)})},mouseEnter:function(){$(function(){$("#table th").draggable({appendTo:"body",helper:"clone"}),$("#combine_columns").droppable({activeClass:"ui-state-default",hoverClass:"ui-state-hover",drop:function(e,t){if($(this).find(".placeholder").remove(),""==$("#combine_columns").val().trim())$("#combine_columns").val(t.draggable.text());else if($("#combine_columns").val().indexOf(t.draggable.text())<0){var n=$("#combine_columns").val()+","+t.draggable.text();$("#combine_columns").val(n)}}})})},applyPivot:function(){var e=this,t=this.get("controller").get("content");t.get("previewData"),t.get("fieldsStr");var n=this.$("#combine_columns").val(),i=this.$("#new_keys_column").val(),r=this.$("#new_values_column").val();if(""!=n&&""!=i&&""!=r){var a=Cibi.Auth.get("authToken"),s="/data_sources/"+t.get("id")+"/modelPreviewData?auth_token="+a;req=$.ajax({url:s,type:"post",data:{combine_columns:n,new_keys_column:i,new_values_column:r},async:!1,success:function(t){var n=e.generateHtml(t.data_sources);$("#table").html(n)},error:function(){},complete:function(){}})}},generateHtml:function(e){var t=e[0].data_sources,n=e.slice(1,e.length),i='<table class="table table-bordered" >';return i+="<thead>",i+="<tr>",t.forEach(function(e){i+="<th>"+e+"</th>"}),i+="</tr>",i+="</thead>",i+='<tbody style="">',n.forEach(function(e){i+="<tr>",e.data_sources.forEach(function(e){i+="<td>"+e+"</td>"}),i+="</tr>"}),i+="</tbody>",i+="</table>"},applyRule:function(){var e=this.get("controller").get("content"),t=this.$("#combine_columns").val(),n=this.$("#new_keys_column").val(),i=this.$("#new_values_column").val();""==t||""==n||""==i?(e.set("fileUploadState",4),e.get("store").commit()):this.get("controller").send("createRule",t,n,i)}})}),Cibi.DataSourcesEditView=Ember.View.extend({submit:function(e){e.preventDefault();var t=this,n=this.get("controller").get("content");n.set("name",$("#new-data-source-name").val()),n.set("loadCount",$("#count").val()),n.set("enabled",$("#enabled").is(":checked")),n.set("accountId",Cibi.Auth.get("currentUser").get("account").get("id")),n.on("didUpdate",function(){t.set("noticeMessage","Data Source updated!"),setTimeout(function(){t.set("noticeMessage",null)},3e3)}),n.get("transaction").commit()},getDashboardColor:function(){var e=Cibi.Auth.get("currentUser");return e?e.get("get_dashboard_color"):void 0}.property("Cibi.Auth.currentUser.isLoaded"),accountTopNavColor:function(){var e=Cibi.Auth.get("currentUser"),t=this.get("getDashboardColor");return void 0!=t&&(void 0!=e.get("dashboardBarColor")&&(t=e.get("dashboardBarColor")),t="background-color:"+t+";min-height:44px; display:visible;"),t}.property("Cibi.Auth.currentUser.isLoaded")}),Cibi.DataSourcesNewView=Ember.View.extend({submit:function(e){if("new-data-source-form"==e.target.id){e.preventDefault();var t=this,n=$("#new-data-source-name"),i=n.val(),r=$("#new-data-source-type .active");if(0===r.length)return $("#new-data-source-notice").html("<h4 class='alert alert-error'>Specify Data Source Type</h4>"),void 0;var a=r.val(),s={};s.name=i,s.dataSourceType=a,s.accountId=Cibi.Auth.get("currentUser").get("account").get("id");var o=Cibi.DataSource.createRecord(s);o.on("didCreate",function(e){t.set("successMessage","Created New Data Source!"),t.get("controller").transitionToRoute("data_source",e)}),o.on("becameInvalid",function(e){this.transaction.rollback(),t.set("errorMessage",e.errors.name)}),o.get("transaction").commit(),document.getElementById("new-data-source-form").reset(),$(".btn-group button").removeClass("active")}},getDashboardColor:function(){var e=Cibi.Auth.get("currentUser");return e?e.get("get_dashboard_color"):void 0}.property("Cibi.Auth.currentUser.isLoaded"),accountTopNavColor:function(){var e=Cibi.Auth.get("currentUser"),t=this.get("getDashboardColor");return void 0!=t&&(void 0!=e.get("dashboardBarColor")&&(t=e.get("dashboardBarColor")),t="background-color:"+t+";min-height:44px; display:visible; padding-left:15px; padding-right:15px;"),t}.property("Cibi.Auth.currentUser.isLoaded")}),Cibi.DataSourcesView=Em.View.extend({search_text:"",didInsertElement:function(){$(window).height(),this.init_pagination()},init_pagination:function(){$("div.holder").jPages({containerID:"data_sources_nav",perPage:10,first:"First",last:"Last",midRange:1,startRange:0,endRange:0})},data_sources:function(){var e=this.get("controller");return e}.property(""),search_observer:function(){var e=this,t=e.get("search_text"),n=e.get("controller");t&&(t=t.toLowerCase()),items=n.filter(function(e){return e.get("name").toLowerCase().indexOf(t)>=0}),e.set("data_sources",items),setTimeout(function(){e.init_pagination()},200)}.observes("search_text"),paginate:function(){var e=this;e.init_pagination()}.observes("controller"),getWorkspaceColor:function(){var e=Cibi.Auth.get("currentUser");return e?e.get("get_workspace_color"):void 0}.property("Cibi.Auth.currentUser.isLoaded"),accountLeftNavColor:function(){var e=Cibi.Auth.get("currentUser"),t=this.get("getWorkspaceColor");return void 0!=t&&(void 0!=e.get("workspaceColor")&&(t=e.get("workspaceColor")),t="background-color:"+d3.rgb(t).darker()+";min-height:44px; line-height:37px;"),t}.property("Cibi.Auth.currentUser.isLoaded"),accountLeftNavPillsColor:function(){var e=Cibi.Auth.get("currentUser"),t=this.get("getWorkspaceColor"),n=$(window).height()-190;return void 0!=t&&(void 0!=e.get("workspaceColor")&&(t=e.get("workspaceColor")),t="background-color:"+t+";min-height:"+n+"px;height:"+n+"px;width:100%;overflow-y:auto;overflow-x:hidden;"),t}.property("Cibi.Auth.currentUser.isLoaded")}),Cibi.ForgotPasswordView=Em.View.extend({templateName:"auth/forgot_password",email:null,didInsertElement:function(){Cibi.Auth.set("errorMessage",!1),Cibi.Auth.set("infoMessage",!1)},submit:function(e){e.preventDefault(),e.stopPropagation();var t=this.get("email"),n="/users/password";req=$.ajax({url:n,type:"post",data:{"user[email]":t},async:!1,success:function(){Cibi.Auth.set("infoMessage","An email with password reset instructions is sent to you."),$("#forgot_cancel").click()},error:function(e){Cibi.Auth.set("errorMessage","Email address "+e.responseJSON.email[0])},complete:function(){}})}}),Cibi.InvalidTokenView=Em.View.extend({templateName:"auth/invalid_token"}),Cibi.ListCommentsView=Ember.View.extend({templateName:"comments/list"}),Cibi.NewCommentView=Ember.View.extend({templateName:"comments/new"}),Cibi.PermissionView=Ember.View.extend({roles:["admin","manager","basic"],edit:function(){this.set("editing",!0)},"delete":function(e){var t=confirm("Are you sure you want to remove this user from authorized users list?");if(1==t){var n=this;e.deleteRecord(),e.get("id");var i=n.get("parentView").get("parentView"),r=i.get("controller"),a=n.get("parentView").get("controller");e.on("didDelete",function(){var e=r.get("controllers").get("vertical").get("content");a.set("model",Cibi.Permission.find({vertical_id:e.get("id")}))}),e.get("transaction").commit()}},save:function(e){var t=this;e.on("didUpdate",function(){t.set("editing",!1),t.rerender()}),e.get("transaction").commit()}}),Cibi.PermissionsView=Ember.View.extend({save:function(){alert("PermissionsView")},cancel:function(){this.set("addNew",!1)},addNew:function(){this.set("addNew",!0)}}),Cibi.QueryDataSourceView=Ember.View.extend({templateName:"query_data_source",enabled:!0,bookmarkComparisonOperators:["<",">"],importTypes:[{label:"Overwrite existing data",value:1},{label:"Append to existing data",value:2}],isAppendTo:function(){return 2==this.get("import_type")?!0:void 0}.property("import_type"),getImportTypeLabel:function(){return 1==this.get("import_type")?"Overwrite existing data":2==this.get("import_type")?"Append to existing data":void 0}.property("import_type"),init:function(){var e=this.get("controller"),t=e.get("queryDetails");if(t){this.set("isDisabled",!0),this.set("data_connection_id",t.data_connection_id),this.set("query",t.query),this.set("frequency",t.frequency),this.set("disable",!t.enabled),this.set("import_type",t.import_type),this.set("bookmarkKey",t.bookmark_key),this.set("bookmarkComparison",t.bookmark_comparison);var n=e.get("content"),i=JSON.parse(n.get("uniqueStr"));i&&this.set("uniqueKey",i[0])}else this.set("isDisabled",!1),this.set("data_connection_id",1),this.set("query",""),this.set("frequency",10)}.observes("controller.queryDetails"),saveQuery:function(){var e=this;e.get("controller").set("data_loading",!0);var t=e.get("query"),n=e.get("import_type")||$("#query_ds_import_type_id").val();if(1==n&&-1!=t.indexOf("$$CIBI_BOOKMARK_CONDITION")){var i=$(".qds_info_message");return i.html("<p>Please check the query. $$CIBI_BOOKMARK_CONDITION not allowed for overwrite option.</p>"),i.css("visibility","visible"),setTimeout(function(){e.set("query",t),i.html(""),i.css("visibility","hidden")},5e3),e.get("controller").set("data_loading",!1),!1}var r=t.length-1;";"==t.charAt(r)&&(t=t.substr(0,r));var a=[],s=$("#query_ds_unique_key_id").val();s&&a.push(s);var o={};o.dataConnectionId=e.get("connection")||$("#query_ds_conn_id").val(),o.query=t,o.frequency=e.get("frequency"),o.enabled=!e.get("disable"),o.dataSourceId=e.get("controller").get("id"),o.importType=n,o.bookmarkKey=e.get("bookmarkKey"),o.bookmarkComparisonOperator=e.get("bookmarkComparison"),e.set("QDS",o);var l=[],c=e.get("controller").get("queryDataSource");if(c)c.setProperties(o),c.on("didUpdate",function(){var e=$(".qds_info_message");
e.html("<p>Saved successfully!</p>"),e.css("visibility","visible"),setTimeout(function(){e.html(""),e.css("visibility","hidden")},2e3)}),c.get("transaction").commit();else{c=Cibi.QueryDataSource.createRecord(o),c.on("didCreate",function(){var n=$(".qds_info_message");n.html("<p>Saved successfully!</p>"),n.css("visibility","visible"),setTimeout(function(){e.set("query",t),e.set("data_connection_id",o.dataConnectionId),e.set("frequency",o.frequency),e.set("disable",!o.enabled),e.set("isDisabled",!0),e.set("uniqueKey",s),n.html(""),n.css("visibility","hidden")},2e3)}),c.get("transaction").commit();var l=[],h=[];$(".previewFields").each(function(){var e={},t={};t.date_format=$(this).find(".date_format").val(),t.time_format=$(this).find(".time_format").val(),t.max_digits=$(this).find(".max_digits").val(),t.max_decimals=$(this).find(".max_decimals").val(),t.string_length=$(this).find(".string_length").val();var n=$(this).find(".ignored").is(":checked");if(n){var i=$(this).find("label").text().trim();h.push(i)}else e.name=$(this).find("label").text().trim(),e.display_name=$(this).find("label").text().trim(),e.data_type=$(this).find(".data_type").val(),e.options=JSON.stringify(t),e["default"]=$(this).find(".default_value").val()||null,l.push(e)}),this.set("isDisabled",!0),e.get("controller").send("createTable",l,a,h)}e.get("controller").set("data_loading",!1)},connections:function(){var e=this.get("controller").get("content");if(!e)return[];var t=e.get("dataSourceType"),n=Cibi.DataConnection.find({connection_type:t});return n}.property("controller.content"),previewResults:function(){var e=this.get("controller");e.set("data_loading",!0);var t=this.get("query"),n=t.length-1;";"==t.charAt(n)&&(t=t.substr(0,n));var i=this.get("connection")||$("#query_ds_conn_id").val();e.send("previewResults",t,i)},previewResultsView:Em.View.extend({didInsertElement:function(){var e=this;e.render_results()},render_results:function(){var e=this,t=e.get("elementId"),n="",i=e.get("controller").get("preview_results");if(i&&i.length>0){uniqueKeys=[],n+="<table class='table table-bordered'>";var r=i[0];n+="<tr>",_.each(r,function(e,t){uniqueKeys.push(t),n+="<th>"+t+"</th>"}),n+="</tr>",_.each(i,function(e){n+="<tr>",_.each(e,function(e){n+="<td>"+e+"</td>"}),n+="</tr>"}),n+="</table>",$("#"+t).html(n),e.get("controller").set("keyFields",uniqueKeys)}}.observes("controller.preview_results")}),previewFieldsView:Em.View.extend({templateName:"fields_preview",fields:function(){var e=this;if(e.get("controller").get("preview_results")){var t=e.get("controller").get("preview_results")[0];return Object.keys(t)}return null}.property("controller.preview_results"),previewFieldView:Em.View.extend({templateName:"field_preview",datatypes:[{label:"String",value:"varchar"},{label:"Text",value:"text"},{label:"LongText",value:"longtext"},{label:"Integer",value:"int"},{label:"Decimal",value:"decimal"},{label:"Boolean",value:"boolean"},{label:"Date",value:"date"},{label:"DateTime",value:"datetime"},{label:"Time",value:"time"}],date_formats:["Month, Day, Year","Day, Month, Year","Year, Month, Day"],time_seperators:[":","space"],time_formats_colon:["hh:mm","hh:mm AM/PM","hh:mm:ss","hh:mm:ss AM/PM"],time_formats_space:["hh mm","hh mm AM/PM","hh mm ss","hh mm ss AM/PM"],date_seperators:["-","/"],varchar:function(){return"varchar"==this.data_type}.property("data_type"),decimal:function(){return"decimal"==this.data_type}.property("data_type"),date:function(){return"date"==this.data_type}.property("data_type"),time:function(){return"time"==this.data_type}.property("data_type"),colon_format:function(){var e=this.get("content"),t=this.get("controller").get("preview_results")[0][e];return flag=-1!=t.indexOf(":")?!0:!1}.property(""),datetime:function(){return"datetime"==this.data_type}.property("data_type"),valid_date_separator:function(){return value=this.get_first_value(),flag=-1!=value.indexOf("-")?!0:-1!=value.indexOf("/")?!0:!1}.property(""),no_options:function(){return["int","text","longtext","boolean"].contains(this.data_type)}.property("data_type"),get_first_value:function(){var e=this.get("content"),t=this.get("controller").get("preview_results")[0][e];return t}})})}),Cibi.ResetPasswordView=Em.View.extend({templateName:"auth/reset_password",password:null,password_confirmation:null,didInsertElement:function(){Cibi.Auth.set("errorMessage",!1),Cibi.Auth.set("infoMessage",!1)},submit:function(e){e.preventDefault(),e.stopPropagation();var t=this.get("controller").get("reset_password_token"),n=this.get("password"),i=this.get("password_confirmation"),r="/users/password";req=$.ajax({url:r,type:"put",data:{"user[password]":n,"user[password_confirmation]":i,"user[reset_password_token]":t},async:!1,success:function(){Cibi.Auth.set("infoMessage","Password reset sucessfully."),$("#reset_cancel").click()},error:function(e){Cibi.Auth.set("errorMessage","Password "+e.responseJSON.password[0])},complete:function(){}})}}),Cibi.SettingsColorsView=Em.View.extend({submit:function(e){e.preventDefault(),this.get("controller").send("save")}}),Cibi.SettingsView=Ember.View.extend({getDashboardColor:function(){var e=Cibi.Auth.get("currentUser");return e?e.get("get_dashboard_color"):void 0}.property("Cibi.Auth.currentUser.isLoaded"),accountTopNavColor:function(){var e=Cibi.Auth.get("currentUser"),t=this.get("getDashboardColor");return void 0!=t&&(void 0!=e.get("dashboardBarColor")&&(t=e.get("dashboardBarColor")),t="background-color:"+t+";min-height:44px; max-height: 44px; padding-left:20px;"),t}.property("Cibi.Auth.currentUser.isLoaded")}),Cibi.SpreeDataSourceView=Ember.View.extend({templateName:"spree_data_source",importOptions:[{name:"Sales",key:"sales"}],storeName:function(){var e=this,t=e.get("controller").get("content").get("spreeDataSource");return t?t.get("storeName"):void 0}.property("this.controller.content.spreeDataSource.isLoaded"),storeUrl:function(){var e=this,t=e.get("controller").get("content").get("spreeDataSource");return t?t.get("storeUrl"):void 0}.property("this.controller.content.spreeDataSource.isLoaded"),apiToken:function(){var e=this,t=e.get("controller").get("content").get("spreeDataSource");return t?t.get("apiToken"):void 0}.property("this.controller.content.spreeDataSource.isLoaded"),frequencyOfImport:function(){var e=this,t=e.get("controller").get("content").get("spreeDataSource");return t?t.get("frequencyOfImport"):void 0}.property("this.controller.content.spreeDataSource.isLoaded"),importType:function(){var e=this,t=e.get("controller").get("content").get("spreeDataSource");return t?t.get("importType"):void 0}.property("this.controller.content.spreeDataSource.isLoaded"),enabled:function(){var e=this,t=e.get("controller").get("content").get("spreeDataSource");return t?t.get("enabled"):void 0}.property("this.controller.content.spreeDataSource.isLoaded"),modelExist:function(){var e=this,t=e.get("controller").get("content").get("spreeDataSource");return t?!0:!1}.property("this.controller.content.spreeDataSource.isLoaded"),submit:function(e){e.preventDefault();var t=this;if(!t.get("storeName"))return $("#store_name_control_grp").addClass("error"),void 0;if($("#store_name_control_grp").removeClass("error"),!t.get("storeUrl"))return $("#store_url_control_grp").addClass("error"),void 0;if($("#store_url_control_grp").removeClass("error"),!t.get("apiToken"))return $("#api_token_control_grp").addClass("error"),void 0;$("#api_token_control_grp").removeClass("error");var n={};n.storeName=t.get("storeName"),n.frequencyOfImport=t.get("frequencyOfImport"),n.storeUrl=t.get("storeUrl"),n.dataSourceId=t.get("controller").get("id"),n.apiToken=t.get("apiToken"),n.importType=t.get("importType"),n.enabled=t.get("enabled");var i=t.get("controller").get("spreeDataSource");i?(i.setProperties(n),i.on("didUpdate",function(){var e=$(".sds_info_message");e.html("Updated successfully."),e.toggle(),setTimeout(function(){e.html(""),e.toggle()},2e3)})):(i=Cibi.SpreeDataSource.createRecord(n),i.on("didCreate",function(){t.set("modelExist",!0),t.get("controller").get("content").reload();var e=$(".sds_info_message");e.html("Created successfully."),e.toggle(),setTimeout(function(){e.html(""),e.toggle()},2e3)})),i.get("transaction").commit()}}),Cibi.UserMgmtUserView=Em.View.extend({createUserFilterView:Em.View.extend({templateName:"user_mgmt/create_user_filter",dateFormats:function(){var e=["","Month","Quarter","Year","Month Year","Day","Week"];return"datetime"==this.get("field").data_type&&(e.push("Hours"),e.push("Date")),e}.property("field.data_type"),userFilterPopoverId:function(){return"user-filter-popover-"+this.get("user").get("id")+"-"+this.get("dataSource").get("id")}.property(""),open_popover:function(){var e=$("#"+this.get("elementId")),t=e.find(".popover");left_pos=e.position().left-135,top_pos=e.position().top+30,this.togglePopover(t,left_pos,top_pos)},togglePopover:function(e,t,n){if(!e)var i=$("#"+this.get("elementId")),e=i.find(".popover");e.hasClass("hidden")?(e.removeClass("hidden"),t&&e.offset({left:t}),n&&e.offset({top:n})):e.addClass("hidden");for(var r=e.children(),a=0;a<r.length;a++){var s=$(r[a]);s.toggleClass("hidden")}},fields:function(){return[""].concat(this.get("dataSource").get("fieldsHash"))}.property("dataSource"),display_name:function(){var e=this.get("field")?this.get("field").display_name:"";return e}.property("field"),operators:[{display:"in",value:0},{display:"less than",value:1},{display:"greater than",value:2},{display:"not in",value:3},{display:"not null",value:4}],isDateField:function(){var e=this.get("field");return e?"date"==e.data_type||"datetime"==e.data_type?!0:void 0:!1}.property("field"),filterValuesId:function(){return"create-user-filter-"+this.get("user").get("id")+"-"+this.get("dataSource").get("id")}.property("controller.id"),in_comparison:function(){var e=this.get("comparison_operator");return 0==e||3==e}.property("comparison_operator","isLoaded"),not_null:function(){var e=this.get("comparison_operator");return 4==e}.property("comparison_operator","isLoaded"),build_filter_values:function(){var e=this,t=this.get("field"),n=e.get("controller"),i=$("#"+e.get("filterValuesId"));if(t){var r=t.name;return e.get("not_null")?(i.html(""),void 0):(r&&(e.get("in_comparison")?(n.getDimensionUniqueVals(r,e.rebuild_select_box,e),e.set("loading",!0)):i.html("<input class='select_box_multiselect input-small' type='number' />")),void 0)}}.observes("field","comparison_operator","format_as"),rebuild_select_box:function(e,t){var n=$("#"+t.get("filterValuesId"));t.get("field_name"),n.html("<select class='select_box_multiselect' multiple='multiple' style='display:none'></select>"),e=e.sort(),!t.get("isDateField")||"Month"!=t.get("format_as")&&"Year"!=t.get("format_as")&&"Quarter"!=t.get("format_as")&&"Month Year"!=t.get("format_as")&&"Hours"!=t.get("format_as")&&"Day"!=t.get("format_as")&&"Week"!=t.get("format_as")||(e=formatDates(t.get("format_as"),e));var i=n.find(".select_box_multiselect");i.html("");for(var r=0;r<e.length;r++)i.append('<option value="'+e[r]+'">'+e[r]+"</option>");i.multiselect({classes:"multiselect_btn multiselect_menu",checkAllText:"All",uncheckAllText:"None"}).multiselectfilter(),t.set("loading",!1)},submit:function(e){e.preventDefault();var t=this,n=$("#"+this.get("elementId")),i=""==this.get("display_name").trim()?this.get("field").name:this.get("display_name"),r=this.get("hide"),a=this.get("field"),s=this.get("comparison_operator"),o=this.get("format_as"),l=n.find(".select_box_multiselect").val(),c=this.get("user"),h=this.get("dataSource"),u=a.name,d=JSON.stringify(l);controller=this.get("controller");var p={fieldName:u,displayName:i,formatAs:o,comparisonOperator:s,fieldValues:d,hide:r},f=Cibi.UserFilter.createRecord(p),g=f.get("transaction");f.set("user",c),f.set("dataSource",h),f.on("didCreate",function(){t.togglePopover(),controller.set("success_message","Filter Created!"),setTimeout(function(){controller.set("success_message",!1)},5e3)}),f.on("becameError",function(e){g.rollback(),console.log(e),t.set("error_message","Unable to create the filter!"),setTimeout(function(){controller.set("error_message",!1)},5e3)}),g.commit()},cancel:function(){this.togglePopover()}}),userFiltersListView:Em.View.extend({templateName:"user_mgmt/user_filters_list",userFilters:function(){var e=this.get("dataSource"),t=this.get("controller").get("userFilters");return t.get("isLoaded")?t.filter(function(t){return t.get("isLoaded")&&t.get("dataSource")?t.get("dataSource").id==e.get("id"):void 0}):[]}.property("controller.userFilters.@each.isLoaded"),userFilterView:Em.View.extend({templateName:"user_mgmt/user_filter",classNames:["span","chart_filter"],classNameBindings:["content.disabled:chart_filter_disabled:chart_filter_enabled"],tagName:"div",didInsertElement:function(){var e=this;e.build_filter_values()},userFilterValuesId:function(){return"user-filter-value-"+this.get("content").id}.property(""),build_filter_values:function(){var e=this,t=e.get("content").get("fieldName"),n=e.get("content").get("formatAs"),i=e.get("controller"),r=$("#"+e.get("userFilterValuesId"));if(e.get("in_comparison"))i.getDimensionUniqueVals(t,e.rebuild_select_box,e,n);else if(e.get("range_comparison")||e.get("not_null"))r.html("");else{var a=e.get("content").get("fieldValues");r.html("<input class='select_box_multiselect input-small' type='number' value="+a+" />")}}.observes("content.fieldName","content.format_as","content.isLoaded"),rebuild_select_box:function(e,t){var n=$("#"+t.get("userFilterValuesId"));t.get("content").get("fieldName"),n.html("<select class='select_box_multiselect' multiple='multiple' style='display:none'></select>");var i=e.sort();!t.get("datatype_date")||"Month"!=t.get("content").get("formatAs")&&"Year"!=t.get("content").get("formatAs")&&"Quarter"!=t.get("content").get("formatAs")&&"Month Year"!=t.get("content").get("formatAs")||(i=formatDates(t.get("content").get("formatAs"),i));var r=n.find(".select_box_multiselect");r.html("");for(var a=JSON.parse(t.get("content").get("fieldValues")),s=0;s<i.length;s++){var o="";-1!=$.inArray(i[s],a)&&(o="selected='selected'"),r.append('<option value="'+i[s]+'"'+o+">"+i[s]+"</option>")}r.multiselect({classes:"multiselect_btn multiselect_menu",checkAllText:"All",uncheckAllText:"None"}).multiselectfilter()},datatype_date:function(){var e=this,t=e.get("dataSource"),n=e.get("content").get("fieldName"),i=t.getDataType(n);return"date"==i||"datetime"==i?!0:!1}.property("content.fieldName"),in_comparison:function(){var e=this.get("content").get("comparisonOperator");return 0==e||3==e}.property("content.comparisonOperator","isLoaded"),range_comparison:function(){var e=this.get("content").get("comparisonOperator");return 5==e?(this.set("specific_date",!0),!0):void 0}.property("content.comparisonOperator","isLoaded","content.fieldName"),click:function(e){var t=this.get("elementId");if(t){e.stopPropagation();var n=$(e.target),i=$("#"+t);if(n.hasClass("dropdown-toggle")){var r=i.find(".dropdown-menu");r.toggle()}}},deleteFilter:function(){var e=confirm("Are you sure you want to delete this filter?");if(1==e){var t=this.get("content"),n=this.get("controller");t.deleteRecord(),t.on("didDelete",function(){n.set("success_message","Filter Deleted!"),setTimeout(function(){n.set("success_message",!1)},5e3)}),t.get("transaction").commit(),this.closeFilter()}},disableFilter:function(){var e=this.get("content"),t=this.get("controller");e.get("disabled")?e.set("disabled",!1):e.set("disabled",!0),e.on("didUpdate",function(){e.get("disabled")?t.set("success_message","Filter Disabled!"):t.set("success_message","Filter Enabled!"),setTimeout(function(){t.set("success_message",!1)},5e3)}),e.get("transaction").commit(),this.closeFilter()},filterState:function(){return this.get("content").get("disabled")?"Enable":"Disable"}.property("content.disabled"),updateFilter:function(){var e=this.get("content"),t=this,n=this.get("controller"),i=$("#"+t.get("userFilterValuesId")).find(".select_box_multiselect").val();e.set("fieldValues",JSON.stringify(i)),e.on("didUpdate",function(){n.set("success_message","Filter Updated!"),setTimeout(function(){n.set("success_message",!1)},5e3)}),e.get("transaction").commit(),this.closeFilter()},closeFilter:function(){var e=this.get("elementId");if(e){var t=$("#"+e),n=t.find(".dropdown-menu");n.toggle()}}})})}),Cibi.UserMgmtView=Ember.View.extend({getDashboardColor:function(){var e=Cibi.Auth.get("currentUser");return e?e.get("get_dashboard_color"):void 0}.property("Cibi.Auth.currentUser.isLoaded"),accountTopNavColor:function(){var e=Cibi.Auth.get("currentUser"),t=this.get("getDashboardColor");return void 0!=t&&(void 0!=e.get("dashboardBarColor")&&(t=e.get("dashboardBarColor")),t="background-color:"+t+";min-height:44px; max-height: 44px; padding-left:20px;"),t}.property("Cibi.Auth.currentUser.isLoaded")}),Cibi.UserProfileView=Ember.View.extend({currentUser:function(){return Cibi.Auth.get("currentUser")}.property(""),userName:function(){return this.get("currentUser").get("fullName")}.property("currentUser"),userEmail:function(){return this.get("currentUser").get("email")}.property("currentUser"),userAccountName:function(){return this.get("currentUser").get("account").get("name")}.property("Cibi.Auth.currentUser.account.isLoaded"),userApiAccessToken:function(){return this.get("currentUser").get("apiAccessToken")}.property("currentUser"),userHasApiAccess:function(){return this.get("currentUser").get("hasApiAccess")}.property("currentUser"),getDashboardColor:function(){var e=Cibi.Auth.get("currentUser");return e?e.get("get_dashboard_color"):void 0}.property("Cibi.Auth.currentUser.isLoaded"),accountTopNavColor:function(){var e=Cibi.Auth.get("currentUser"),t=this.get("getDashboardColor");return void 0!=t&&(void 0!=e.get("dashboardBarColor")&&(t=e.get("dashboardBarColor")),t="background-color:"+t+";min-height:44px; max-height: 44px; padding-left:25px;"),t}.property("Cibi.Auth.currentUser.isLoaded"),submit:function(e){e.preventDefault();var t=this,n=$(e.target).find("#inputPassword").val(),i=$(e.target).find("#inputConfirmPassword").val(),r=Cibi.Account.find(t.get("currentUser").get("account").get("id"));if(this.get("userAccountName")!=r.get("name")&&(r.set("name",this.get("userAccountName")),r.on("becameInvalid",function(e){t.set("errors",e.errors.updated_name),t.set("information",null)}),r.on("didUpdate",function(){t.set("information","AccountName updated successfully!"),t.set("errors",null)}),r.get("transaction").commit()),n)if(n==i){var a=Cibi.User.find(t.get("currentUser").get("id"));a.set("password",n),a.set("passwordConfirmation",i),a.on("becameInvalid",function(e){t.set("errors",e.errors.password),t.set("info",null)}),a.on("didUpdate",function(){t.set("info","Password updated successfully!"),t.set("errors",null)}),a.get("transaction").commit()}else t.set("errors","Passwords do not match"),t.set("info",null)}}),Cibi.VerticalUsersView=Ember.View.extend({didInsertElement:function(){this.set("entityType",!0),$("#createDashHead").addClass("hidden")},willClearRender:function(){$("#createDashHead").removeClass("hidden")},save:function(){var e,t=this.get("user"),n=this.get("role"),i=[];this.get("entityType")?e="Vertical":(e="Dashboard",$(this.$("input:checkbox:checked")).each(function(){i.push($(this).attr("name"))})),this.get("controller").send("create",{user_id:t,role:n,permissibleType:e,permissibleDashboards:i}),$("#modal-new-permission").modal("toggle")},name:function(){return this.get("parentView").get("controller").get("content").get("name")}.property(""),cancel:function(){$("#modal-new-permission").modal("toggle")},addNew:function(){$("#modal-new-permission").modal()},roles:function(){return["admin","manager","basic"]}.property()}),Cibi.VerticalEditView=Ember.View.extend({didInsertElement:function(){var e=this,t=e.get("controller").get("controllers").get("vertical").get("content");e.set("customIcon",null),$("#icon-preview").attr("src",t.get("iconUrl")),$("#iconUpload").change(function(t){var n=new FileReader;return n.onload=function(t){var n=t.target.result;$("#icon-preview").attr("src",n),Ember.run(function(){e.set("customIcon",n),e.set("iconType",null)})},n.readAsDataURL(t.target.files[0])})},verticalName:function(){var e=this.get("controller").get("controllers").get("vertical").get("content");return e.get("name")}.property(""),verticalDescription:function(){var e=this.get("controller").get("controllers").get("vertical").get("content");return e.get("description")}.property(""),iconUrl:function(){var e=this.get("controller").get("controllers").get("vertical").get("content");if(e.get("customIcon")&&"/custom_icons/original/missing.png"!=e.get("customIcon"))return e.get("customIconUrl");var t=null!==e.get("iconType")?e.get("iconType"):"folder";return"assets/"+t+".png"}.property("customIcon","customIconUrl"),submit:function(e){e.preventDefault();var t=this,n=this.get("controller").get("controllers").get("vertical").get("content");n.set("name",this.get("verticalName")),n.set("description",this.get("verticalDescription")),n.set("customIcon",this.get("customIcon")),this.get("iconType")&&(n.set("customIcon",null),n.set("iconType",this.get("iconType"))),n.on("becameInvalid",function(e){this.transaction.rollback(),t.set("errors",e.errors.name)}),n.on("didUpdate",function(){}),n.get("store").commit()},accountTopNavColor:function(){var e=Cibi.Auth.get("currentUser");if(e)var t=e.get("get_dashboard_color");return void 0!=t&&(void 0!=e.get("dashboardBarColor")&&(t=e.get("dashboardBarColor")),t="background-color:"+t+";"),t}.property("Cibi.Auth.currentUser.isLoaded"),iconTypesView:Ember.View.extend({template:Ember.Handlebars.compile("{{partial 'verticals/iconTypes'}}"),click:function(e){var t=e.target;"button"===t.nodeName.toLowerCase()?(this._parentView.set("iconType",t.value),$("#icon-preview").attr("src","assets/"+t.value+".png")):"img"===t.nodeName.toLowerCase()&&(this._parentView.set("iconType",t.parentElement.value),$("#icon-preview").attr("src","assets/"+t.parentElement.value+".png")),$("#iconUpload").val(""),this._parentView.set("customIcon",null)}})}),Cibi.VerticalNewView=Ember.View.extend({didInsertElement:function(){$("#createDashHead").addClass("hidden")},cancel:function(){return Cibi.Vertical.find(this.get("elementId")).get("dashboards").length||$("#createDashHead").removeClass("hidden"),history.go(-1),!1},submit:function(e){e.preventDefault();var t=this.get("displayName");if(!t)return $("#display_name_control_group").addClass("error"),void 0;$("#display_name_control_group").removeClass("error");var n=this.get("title");if(!n)return $("#title_control_group").addClass("error"),void 0;$("#title_control_group").removeClass("error");var i={};i.displayName=t,i.title=n,i.subtitle=this.get("subtitle"),i.description=this.get("description"),i.autoRefresh=this.get("autoRefresh"),i.refreshInterval=this.get("refreshInterval"),i.rows=2,i.columns=2,this.get("controller").send("createDashboard",i),this.set("displayName",""),this.set("title",""),this.set("subtitle",""),this.set("description","")}}),Cibi.VerticalView=Ember.View.extend({didInsertElement:function(){0==$("#dashboard_list > li").size&&$("#main-tab").html("No Dashboards Have Been Created For This Vertical."),$(".auth-users").tooltip({title:"Vertical Users",placement:"bottom"}),$(".new-dashboard").tooltip({title:"Add New Dashboard",placement:"bottom"}),$("#dashboard_input").click(function(e){e.stopPropagation()}),$("#dashboard_input").fastLiveFilter("#dashboard_list"),$(".dropdown-menu ul").change(function(e){e.stopPropagation()})},getDashboardColor:function(){var e=Cibi.Auth.get("currentUser");return e?e.get("get_dashboard_color"):void 0}.property("Cibi.Auth.currentUser.isLoaded"),accountTopNavColor:function(){var e=Cibi.Auth.get("currentUser"),t=this.get("getDashboardColor");return void 0!=t&&(void 0!=e.get("dashboardBarColor")&&(t=e.get("dashboardBarColor")),t="background-color:"+t+";"),t}.property("Cibi.Auth.currentUser.isLoaded"),accountDBdropColor:function(){var e=Cibi.Auth.get("currentUser"),t=this.get("getDashboardColor");return void 0!=t&&(void 0!=e.get("dashboardBarColor")&&(t=e.get("dashboardBarColor")),t="background-color:"+d3.rgb(t).darker()+";margin-top:9px; margin-left:4px;"),t}.property("Cibi.Auth.currentUser.isLoaded"),accountTopNavPillsColor:function(){var e=$("#"+this.elementId),t=Cibi.Auth.get("currentUser"),n=this.get("getDashboardColor");if(void 0!=n){void 0!=t.get("dashboardBarColor")&&(n=t.get("dashboardBarColor"));var i=d3.rgb(n).darker().toString();e.find(".dashboards").find("ul.nav").find("li").find("a.active").css("background-color",i)}}.observes("Cibi.Auth.currentUser.isLoaded","Cibi.Auth.globalSetting.isLoaded"),click:function(){$("#dashboard_input").click(function(e){e.stopPropagation()}),$("#dashboard_input").fastLiveFilter("#dashboard_list")}}),Cibi.VerticalsIndexView=Em.View.extend({didInsertElement:function(){var e=$(".homepage-bg");e.height($(window).height()-$("#top-nav-bar").height()-5)}}),Cibi.VerticalsNewView=Ember.View.extend({didInsertElement:function(){var e=this;$("#iconUpload").change(function(t){var n=new FileReader;return n.onload=function(t){var n=t.target.result;$("#icon-preview").attr("src",n),Ember.run(function(){e.set("customIcon",n)})},n.readAsDataURL(t.target.files[0])})},submit:function(e){e.preventDefault();var t={};t.name=this.get("verticalName"),t.description=this.get("verticalDescription"),t.iconType=this.get("iconType"),t.customIcon=this.get("customIcon"),t.accountId=Cibi.Auth.get("currentUser").get("account").get("id"),this.set("verticalName",""),this.get("controller").send("createVertical",t)},accountTopNavColor:function(){var e=Cibi.Auth.get("currentUser");if(e)var t=e.get("get_dashboard_color");return void 0!=t&&(void 0!=e.get("dashboardBarColor")&&(t=e.get("dashboardBarColor")),t="background-color:"+t+";"),t}.property("Cibi.Auth.currentUser.isLoaded"),iconTypesView:Ember.View.extend({template:Ember.Handlebars.compile("{{partial 'verticals/iconTypes'}}"),click:function(e){var t=e.target;"button"===t.nodeName.toLowerCase()?(this._parentView.set("iconType",t.value),$("#icon-preview").attr("src","assets/"+t.value+".png")):"img"===t.nodeName.toLowerCase()&&(this._parentView.set("iconType",t.parentElement.value),$("#icon-preview").attr("src","assets/"+t.parentElement.value+".png")),$("#iconUpload").val(""),this._parentView.set("customIcon",null)}})}),Cibi.VerticalsView=Em.View.extend({didInsertElement:function(){$("#verticals_content").attr("min-height",$(window).height()-128),$("#verticals_nav").css("min-height",$(window).height()-128),$("#verticals_nav").css("height",$(window).height()-128),this.applyHoverEffects()},applyHoverEffects:function(){$(".vertical-tooltip").mouseover(function(){$(this).tooltip({html:!0,container:"body"}),-1!==$(this).children().first().attr("class").indexOf("active")&&($(this).find(".options").css("position","relative"),$(this).find(".options").show())})}.observes("Cibi.Auth.globalSetting.isLoaded"),create_new:function(){var e=$("#newVerticalName").val();if(""==e)$("#newVerticalName").css({border:"1px red solid"}),setTimeout(function(){$("#newVerticalName").css({border:"0px"})},5e3);else{var t={};t.name=e,t.accountId=Cibi.Auth.get("currentUser").get("accountId"),this.get("controller").send("createVertical",t)}},getWorkspaceColor:function(){var e=Cibi.Auth.get("currentUser");return e?e.get("get_workspace_color"):void 0}.property("Cibi.Auth.currentUser.isLoaded"),accountLeftNavColor:function(){var e=Cibi.Auth.get("currentUser"),t=this.get("getWorkspaceColor");return void 0!=t&&(void 0!=e.get("workspaceColor")&&(t=e.get("workspaceColor")),t="background-color:"+d3.rgb(t).darker()+";height:44px; min-width:100%;padding-left:7px;"),t}.property("Cibi.Auth.currentUser.isLoaded"),accountLeftNavPillsColor:function(){var e=Cibi.Auth.get("currentUser"),t=this.get("getWorkspaceColor"),n=$(window).height()-128;return void 0!=t&&(void 0!=e.get("workspaceColor")&&(t=e.get("workspaceColor")),t="background-color:"+t+";min-height:"+n+"px;height:"+n+"px;overflow-y: scroll; max-width:100%;min-width:100%;margin-top:25px;"),t}.property("Cibi.Auth.currentUser.isLoaded"),deleteVertical:function(e){var t=confirm("Are you sure you want to delete this vertical?");if(t===!0){e.deleteRecord();var n=e.get("store");n.commit()}},editVerticalsView:Em.View.extend({tagName:"li",classNameBindings:["hidden"],classNames:["list-item-height"],hidden:!0,template:Em.Handlebars.compile("<form class='navbar-search form-inline' style='width:100%;'><input type='text' style='width:65%;'><button class='btn btn-small btn-success' style=\"margin-top: 0px;\" {{ action 'updateVertical' this target=view}}> <i class='icon-ok icon-white'></i> </button></form>"),updateVertical:function(){var e=this.$().children().first().children().val();if("string"==typeof e&&""!==e){var t=this.templateData.keywords.vertical.id;this.get("controller").send("updateVertical",t,e)}this.$().prev().removeClass("hidden"),this.$().addClass("hidden")}})}),Cibi.MouseOverView=Em.View.extend({mouseEnter:function(){}}),Handlebars.registerHelper("compare",function(e,t,n,i){var r,a;if(arguments.length<3)throw new Error("Handlerbars Helper 'compare' needs 2 parameters");if(void 0===i&&(i=n,n=t,t="==="),r={"==":function(e,t){return e==t},"===":function(e,t){return e===t},"!=":function(e,t){return e!=t},"!==":function(e,t){return e!==t},"<":function(e,t){return t>e},">":function(e,t){return e>t},"<=":function(e,t){return t>=e},">=":function(e,t){return e>=t},"typeof":function(e,t){return typeof e==t}},!r[t])throw new Error("Handlerbars Helper 'compare' doesn't know the operator "+t);return a=r[t](e,n),a?i.fn(this):i.inverse(this)}),Ember.Handlebars.helper("fieldname",function(e){var t=e.name;return t}),Ember.Handlebars.helper("datatype",function(e){data_type="varchar"==e.data_type?e.data_type+"("+JSON.parse(e.options).string_length+")":"decimal"==e.data_type?e.data_type+"("+JSON.parse(e.options).max_digits+","+JSON.parse(e.options).max_decimals+")":"date"==e.data_type?e.data_type+"("+JSON.parse(e.options).date_format+")":"time"==e.data_type?e.data_type+"("+JSON.parse(e.options).time_format+")":"datetime"==e.data_type?e.data_type+"("+JSON.parse(e.options).date_format+" "+JSON.parse(e.options).time_format+")":e.data_type;var t=data_type;return t}),Ember.Handlebars.helper("alias",function(e){return e.display_name}),Ember.Handlebars.helper("default_value",function(e){return e["default"]}),Ember.Handlebars.registerHelper("humanDate",function(e){var t=this.get(e);if(!t)return"";var n=new Date(t),i=$.datepicker.formatDate("yy M dd ",n),r=n.getHours()+":"+n.getMinutes();return i+" "+r}),Ember.Handlebars.registerHelper("for",function(e,t,n,i){for(var r="",a=e;t>a;a+=n)r+=i.fn(a)});var index=0;Handlebars.registerHelper("index",function(){return index++,index}),Handlebars.registerHelper("reset_index",function(){index=0}),Handlebars.registerHelper("times",function(e,t){for(var n="",i=0;i<this[e];++i)n+=t.fn(i)}),Ember.Handlebars.registerHelper("money",function(e){var t=this[e];return t.formatMoney()}),Ember.Handlebars.helper("time_ago",function(e){var e=e;if(e){var t=new Date,n=Math.ceil((Date.parse(t)-Date.parse(e))/864e5);return 2>n?$.timeago(formatDateLong(e)):"on "+d3.time.format("%d %b %Y %I:%M %p")(e)}}),Ember.Handlebars.registerHelper("trigger",function(e,t){var n,t=arguments[arguments.length-1],i=t.hash,r=t.data.view;r=r.get("concreteView"),n=i.target?Ember.Handlebars.get(this,i.target,t):r,Ember.run.next(function(){n.trigger(e)})}),Ember.TEMPLATES._account_expiry_model=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var a,s,o="",l=this.escapeExpression;return r.buffer.push('  	  <div class="modal-backdrop fade in" style="opacity:0.96">\n  	  	<div class="modal fade in" style="margin-top:25px;">\n		  <div class="modal-header">\n		    <h3>Account Expired</h3>\n		  </div>\n		  <div class="modal-body">\n		    <p>Your account has expired.</p>\n		    <p>Please get in touch with your administrator or write to info@cerebrateinc.com</p>\n		  </div>\n		  <div class="modal-footer">\n		   <a class="btn" '),a={target:t},s={target:"STRING"},r.buffer.push(l(n.action.call(t,"log_out","",{hash:{target:"view"},contexts:[t,t],types:["STRING","ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push(">\n             	 		Log out\n           </a>\n		  </div>\n  	  	</div>\n  	  </div>\n"),o}),Ember.TEMPLATES._fields=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a="";return t.buffer.push('\n		<li>\n			<input type="checkbox" '),i={name:e},r={name:"STRING"},t.buffer.push(h(n.bindAttr.call(e,{hash:{name:"field"},contexts:[],types:[],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push('>\n			<label style="vertical-align: -webkit-baseline-middle;">'),r={},i={},t.buffer.push(h(n._triageMustache.call(e,"field",{hash:{},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("</label>\n		</li>\n	"),a
}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var s,o,l,c="",h=this.escapeExpression,u=this;return r.buffer.push('<ul class="drill_through_fields" style="list-style: none; margin-left: 5px; height: 100%;">\n	'),o={},l={},s=n.each.call(t,"field","in","view.fields",{hash:{},inverse:u.noop,fn:u.program(1,a,r),contexts:[t,t,t],types:["ID","ID","ID"],hashContexts:l,hashTypes:o,data:r}),(s||0===s)&&r.buffer.push(s),r.buffer.push("\n</ul>\n"),c}),Ember.TEMPLATES._main_landing=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var a,s,o,l,c="",h=n.helperMissing,u=this.escapeExpression;return r.buffer.push('<div class="container" style="width:100%;padding-top:5px;">\n  <div class="row homepage-bg" style="height:92.5vh;width: 100vw;">\n    <div class=\'span8\' style ="padding: 5% 8%;width: 40%;">\n      <img src="/assets/Symbol-Image.png"></img>\n    </div>    \n    <div class=\'span\' style="padding: 5%;" >\n      <div class=\'span login-bg\'>\n        '),s={},o={},l={hash:{},contexts:[t],types:["ID"],hashContexts:o,hashTypes:s,data:r},r.buffer.push(u((a=n.render,a?a.call(t,"auth",l):h.call(t,"render","auth",l)))),r.buffer.push("\n      </div>\n    </div> \n  </div>\n</div>\n"),c}),Ember.TEMPLATES._main_top_nav_bar=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a="";return t.buffer.push('\n    <li class="muted data_source_link" style="margin-right:15px;">\n        <small>'),i={},r={},t.buffer.push(w(n._triageMustache.call(e,"Cibi.Auth.daysRemain",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push(" Days Left</small>\n    </li>\n  "),a}function s(e,t){t.buffer.push("\n  			Workspaces\n  		")}function o(e,t){var i,r,a,s,o,c="";return t.buffer.push('\n 		<li class="data_source_link" style="">\n 			'),a={},s={},o={hash:{},inverse:_.noop,fn:_.program(6,l,t),contexts:[e],types:["STRING"],hashContexts:s,hashTypes:a,data:t},i=n.linkTo,r=i?i.call(e,"data_sources",o):C.call(e,"linkTo","data_sources",o),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n 		</li>\n   	"),c}function l(e,t){t.buffer.push("\n 				Data Sources\n 			")}function c(e,t){t.buffer.push("Profile")}function h(e,t){var i,r,a,s,o,l="";return t.buffer.push("\n        	 	<li>\n        	 		"),a={},s={},o={hash:{},inverse:_.noop,fn:_.program(11,u,t),contexts:[e],types:["STRING"],hashContexts:s,hashTypes:a,data:t},i=n.linkTo,r=i?i.call(e,"user_mgmt.index",o):C.call(e,"linkTo","user_mgmt.index",o),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n        	 	</li>\n            <li>\n              "),a={},s={},r=n["if"].call(e,"Cibi.Auth.currentUser.account.isLoaded",{hash:{},inverse:_.noop,fn:_.program(13,d,t),contexts:[e],types:["ID"],hashContexts:s,hashTypes:a,data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n            </li>        \n        	"),l}function u(e,t){t.buffer.push("\n        	 			User Management\n        	 		")}function d(e,t){var i,r,a,s,o,l="";return t.buffer.push("\n                "),a={},s={},o={hash:{},inverse:_.noop,fn:_.program(14,p,t),contexts:[e,e],types:["STRING","ID"],hashContexts:s,hashTypes:a,data:t},i=n.linkTo,r=i?i.call(e,"account_settings.index","Cibi.Auth.currentUser.account.accountSetting",o):C.call(e,"linkTo","account_settings.index","Cibi.Auth.currentUser.account.accountSetting",o),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n              "),l}function p(e,t){t.buffer.push("\n                  Account Settings\n                ")}function f(e,t){t.buffer.push("Color Preference")}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var g,m,v,b,y,x="",w=this.escapeExpression,_=this,C=n.helperMissing;return r.buffer.push('<ul class="nav pull-right" style="max-height:58px;">\n  '),v={},b={},g=n["if"].call(t,"Cibi.Auth.isTrial",{hash:{},inverse:_.noop,fn:_.program(1,a,r),contexts:[t],types:["ID"],hashContexts:b,hashTypes:v,data:r}),(g||0===g)&&r.buffer.push(g),r.buffer.push('\n  	<li class="data_source_link" style="">\n  		'),v={},b={},y={hash:{},inverse:_.noop,fn:_.program(3,s,r),contexts:[t],types:["STRING"],hashContexts:b,hashTypes:v,data:r},g=n.linkTo,m=g?g.call(t,"verticals",y):C.call(t,"linkTo","verticals",y),(m||0===m)&&r.buffer.push(m),r.buffer.push("\n  	</li>\n\n   	"),v={},b={},m=n["if"].call(t,"Cibi.Auth.currentUser.isAdmin",{hash:{},inverse:_.noop,fn:_.program(5,o,r),contexts:[t],types:["ID"],hashContexts:b,hashTypes:v,data:r}),(m||0===m)&&r.buffer.push(m),r.buffer.push('\n\n	<li style="margin-top:17px; margin-bottom:17px; line-height:58px;"> \n	  	<span style="display:block;">&nbsp;&nbsp;</span>\n	</li>\n   	\n   	<li class="dropdown" style="line-height:58px;">\n		<a href="#" class="dropdown-toggle" data-toggle="dropdown">\n			Welcome '),v={},b={},r.buffer.push(w(n._triageMustache.call(t,"Cibi.Auth.currentUser.fullName",{hash:{},contexts:[t],types:["ID"],hashContexts:b,hashTypes:v,data:r}))),r.buffer.push('		            		\n			<img src="/assets/Dropdown-arrow.png" style="margin-top: 0px; vertical-align: middle;"></img>\n		</a>\n    	<ul class="dropdown-menu">\n    		<li>\n    			'),v={},b={},y={hash:{},inverse:_.noop,fn:_.program(8,c,r),contexts:[t],types:["STRING"],hashContexts:b,hashTypes:v,data:r},g=n.linkTo,m=g?g.call(t,"user_profile",y):C.call(t,"linkTo","user_profile",y),(m||0===m)&&r.buffer.push(m),r.buffer.push("\n    		</li>	       	        	\n        	"),v={},b={},m=n["if"].call(t,"Cibi.Auth.currentUser.isAdmin",{hash:{},inverse:_.noop,fn:_.program(10,h,r),contexts:[t],types:["ID"],hashContexts:b,hashTypes:v,data:r}),(m||0===m)&&r.buffer.push(m),r.buffer.push(" \n	 	 	<li>\n    	 		"),v={},b={},y={hash:{},inverse:_.noop,fn:_.program(16,f,r),contexts:[t],types:["STRING"],hashContexts:b,hashTypes:v,data:r},g=n.linkTo,m=g?g.call(t,"settings.colors",y):C.call(t,"linkTo","settings.colors",y),(m||0===m)&&r.buffer.push(m),r.buffer.push("\n    	 	</li>\n        	<li>\n        	 	<a "),b={target:t},v={target:"STRING"},r.buffer.push(w(n.action.call(t,"log_out","",{hash:{target:"view"},contexts:[t,t],types:["STRING","ID"],hashContexts:b,hashTypes:v,data:r}))),r.buffer.push('>\n        	 		Log out\n        	 	</a>\n        	</li>\n          <li class="divider"></li>\n          <li>\n            <a href="http://cerebrateinc.wordpress.com" target="_blank">\n              Help\n            </a>\n          </li>		\n	  	</ul>\n	</li>\n</ul>\n'),x}),Ember.TEMPLATES.account_settings=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){t.buffer.push('\n			<button class="btn btn-info flat-button" type="button" style="margin-top:7px; background-color:#4093cd;">Account Settings</button>\n		')}function s(e,t){t.buffer.push('\n			<button class="btn btn-info flat-button" type="button" style="margin-top:7px; background-color:#4093cd;">Account Templates</button>		\n		')}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var o,l,c,h,u,d="",p=this.escapeExpression,f=this,g=n.helperMissing;return r.buffer.push('<div class="span" style="width:100%;">\n	<div class="row" id="account-settings" '),c={style:t},h={style:"ID"},r.buffer.push(p(n.bindAttr.call(t,{hash:{style:"view.accountTopNavColor"},contexts:[],types:[],hashContexts:c,hashTypes:h,data:r}))),r.buffer.push(">	\n		"),h={},c={},u={hash:{},inverse:f.noop,fn:f.program(1,a,r),contexts:[t,t],types:["STRING","ID"],hashContexts:c,hashTypes:h,data:r},o=n.linkTo,l=o?o.call(t,"account_settings.index","Cibi.Auth.currentUser.account.accountSetting",u):g.call(t,"linkTo","account_settings.index","Cibi.Auth.currentUser.account.accountSetting",u),(l||0===l)&&r.buffer.push(l),r.buffer.push("\n		"),h={},c={},u={hash:{},inverse:f.noop,fn:f.program(3,s,r),contexts:[t],types:["STRING"],hashContexts:c,hashTypes:h,data:r},o=n.linkTo,l=o?o.call(t,"account_settings.account_templates",u):g.call(t,"linkTo","account_settings.account_templates",u),(l||0===l)&&r.buffer.push(l),r.buffer.push("\n	</div>\n</div>\n"),h={},c={},r.buffer.push(p(n._triageMustache.call(t,"outlet",{hash:{},contexts:[t],types:["ID"],hashContexts:c,hashTypes:h,data:r}))),r.buffer.push("\n"),d}),Ember.TEMPLATES["account_settings/account_templates"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){t.buffer.push("\n		<div class=\"row\">\n			<h4 class='alert alert-info'>\n				Saving...\n			</h4>\n		</div>\n	")}function s(e,t){var i,r,a="";return t.buffer.push('\n		<div class="row">\n			<div class="text text-success" style="width:70%;">\n				<span>'),i={},r={},t.buffer.push(v(n._triageMustache.call(e,"view.successMessage",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("</span>\n			</div>			\n		</div>		\n	"),a}function o(e,t){var i,r,a="";return t.buffer.push('\n		<div class="row">\n			<div class="text text-error" style="width:70%;">\n				<span>'),i={},r={},t.buffer.push(v(n._triageMustache.call(e,"view.noticeMessage",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("</span>\n			</div>			\n		</div>		\n	"),a}function l(e,t){var i,r,a,s="";return t.buffer.push('\n						<li style="margin-bottom: 10px;">\n							<span>'),r={},a={},t.buffer.push(v(n._triageMustache.call(e,"template.templateName",{hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push("</span>\n							"),r={},a={},i=n["if"].call(e,"template.templateName",{hash:{},inverse:b.noop,fn:b.program(8,c,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n						</li>\n					"),s}function c(e,t){var i,r,a="";return t.buffer.push("\n								<a "),i={target:e},r={target:"STRING"},t.buffer.push(v(n.action.call(e,"deleteTemplate","template",{hash:{target:"view"},contexts:[e,e],types:["STRING","ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push('>\n									&nbsp;<i class="icon-remove-sign muted" style="margin-top: 4px;"></i>\n								</a>\n							'),a}function h(e,t){t.buffer.push("\n						<span class='text-info'> No templates applied to this account </span>\n					")}function u(e,t){var i,r,a="";return t.buffer.push('\n						<div class="row">\n							<h4 style="font-family: Roboto-Medium;">Apply spree commerce template</h4>\n						</div>\n						<div class="row" style="margin-top:15px;">\n							<form class="form-vertical">\n								<div class="control-group template-inputs" id="store_name_ctrl_grp">\n									<label class="control-label" for="store_name">Store Name</label>\n									<div class="controls">\n										'),i={"class":e,valueBinding:e,required:e,id:e,placeholder:e},r={"class":"STRING",valueBinding:"STRING",required:"STRING",id:"STRING",placeholder:"STRING"},t.buffer.push(v(n.view.call(e,"Ember.TextField",{hash:{"class":"input-large",valueBinding:"view.templateInputs.store_name",required:"true",id:"store_name",placeholder:"Store Name"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push('\n									</div>\n								</div>\n								<div class="control-group template-inputs" id="store_url_ctrl_grp">\n									<label class="control-label" for="store_url">Store URL</label>\n									<div class="controls">\n										'),i={"class":e,valueBinding:e,required:e,id:e,placeholder:e},r={"class":"STRING",valueBinding:"STRING",required:"STRING",id:"STRING",placeholder:"STRING"},t.buffer.push(v(n.view.call(e,"Ember.TextField",{hash:{"class":"input-large",valueBinding:"view.templateInputs.store_url",required:"true",id:"store_url",placeholder:"Store URL"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push('\n									</div>\n								</div>\n								<div class="control-group template-inputs" id="api_token_ctrl_grp">\n									<label class="control-label" for="api_token">API Key</label>\n									<div class="controls">\n										'),i={"class":e,valueBinding:e,required:e,id:e,placeholder:e},r={"class":"STRING",valueBinding:"STRING",required:"STRING",id:"STRING",placeholder:"STRING"},t.buffer.push(v(n.view.call(e,"Ember.TextField",{hash:{"class":"input-large",valueBinding:"view.templateInputs.api_token",required:"true",id:"api_token",placeholder:"API Key"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push('\n									</div>\n								</div>\n								<div class="control-group">\n									<div class="row">\n										<div class=\'span\'>\n											'),i={checkedBinding:e,id:e},r={checkedBinding:"STRING",id:"STRING"},t.buffer.push(v(n.view.call(e,"Ember.Checkbox",{hash:{checkedBinding:"view.templateInputs.sales",id:"sales"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n										</div>\n										<div class='span'>\n											<label>Sales</label>\n										</div>\n									</div>\n									<div class=\"row\">\n										<div class='span'>\n											"),i={checkedBinding:e,id:e},r={checkedBinding:"STRING",id:"STRING"},t.buffer.push(v(n.view.call(e,"Ember.Checkbox",{hash:{checkedBinding:"view.templateInputs.inventory",id:"inventory"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push('\n										</div>\n										<div class=\'span\'>\n											<label>Inventory</label>\n										</div>\n									</div>\n								</div>\n								<div>\n									<div class="form-actions" style="padding-left:0px;">\n									  	<button type="button" class="btn btn-primary" '),i={target:e},r={target:"STRING"},t.buffer.push(v(n.action.call(e,"applyTemplate",{hash:{target:"view"},contexts:[e],types:["STRING"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push('>Apply</button>\n									  	<button type="button" class="btn">Cancel</button>\n									</div>\n								</div>\n							</form>\n						</div>\n					'),a}function d(e,t){t.buffer.push('\n						<div class="text text-info">\n							<span>Coming soon! CIBI does not support this template yet.</span>\n						</div>\n					')}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var p,f,g,m="",v=this.escapeExpression,b=this;return r.buffer.push('<div class="span" style="width:100%; background-color: #E3E3E3;min-height: 620px; padding-left:20px;">\n	<div class="row" style="margin-top: 10px; min-height: 100%">\n		<h3> CIBI Templates </h4>\n	</div>\n	'),f={},g={},p=n["if"].call(t,"isSaving",{hash:{},inverse:b.noop,fn:b.program(1,a,r),contexts:[t],types:["ID"],hashContexts:g,hashTypes:f,data:r}),(p||0===p)&&r.buffer.push(p),r.buffer.push("\n\n	"),f={},g={},p=n["if"].call(t,"view.successMessage",{hash:{},inverse:b.noop,fn:b.program(3,s,r),contexts:[t],types:["ID"],hashContexts:g,hashTypes:f,data:r}),(p||0===p)&&r.buffer.push(p),r.buffer.push("\n\n	"),f={},g={},p=n["if"].call(t,"view.noticeMessage",{hash:{},inverse:b.noop,fn:b.program(5,o,r),contexts:[t],types:["ID"],hashContexts:g,hashTypes:f,data:r}),(p||0===p)&&r.buffer.push(p),r.buffer.push('\n\n	<div class="row" style="margin-top: 20px; min-height: 100%">\n		<div class="span" style="width: 25%; border-right-color: black; border-right-style: solid; margin-right: 2%;">\n			<div class="row">\n				<h4 style="font-family: Roboto-Medium;">Templates Applied</h4>\n			</div>\n			<div class="row" style="margin-top: 15px;">\n				<ul style="list-style: none; margin-left: 0px; margin-top: 5px;">\n					'),f={},g={},p=n.each.call(t,"template","in","accountTemplates",{hash:{},inverse:b.program(10,h,r),fn:b.program(7,l,r),contexts:[t,t,t],types:["ID","ID","ID"],hashContexts:g,hashTypes:f,data:r}),(p||0===p)&&r.buffer.push(p),r.buffer.push('\n				</ul>\n			</div>\n		</div>\n		<div class="span" style="width:50%;">\n			<div class="row">\n				<div class="span" style="width:73%; margin-right:2%;">\n					'),f={},g={},p=n["if"].call(t,"view.isSpreeCommerceTemplate",{hash:{},inverse:b.program(14,d,r),fn:b.program(12,u,r),contexts:[t],types:["ID"],hashContexts:g,hashTypes:f,data:r}),(p||0===p)&&r.buffer.push(p),r.buffer.push('\n				</div>\n				<div class="span" style="width:25%;">\n					<div class="row">\n						<h4 style="font-family: Roboto-Medium;">Available Templates</h4>\n					</div>\n					<div class="row" style="margin-top:15px;">\n						<div class="input-append">								\n							<input type="text" placeholder="Search" id="available_template_input" style="width:179px;">\n							<span class="add-on" style="width:auto;">\n								<i class="icon-search"></i>\n							</span>\n						</div>							\n					</div>\n					<div class="row">\n						'),g={contentBinding:t,valueBinding:t,id:t},f={contentBinding:"STRING",valueBinding:"STRING",id:"STRING"},r.buffer.push(v(n.view.call(t,"Ember.Select",{hash:{contentBinding:"availableTemplates",valueBinding:"view.selectedTemplate",id:"available_template_list"},contexts:[t],types:["ID"],hashContexts:g,hashTypes:f,data:r}))),r.buffer.push("\n					</div>\n				</div>\n			</div>\n			\n		</div>\n	</div>\n</div>\n"),m}),Ember.TEMPLATES["account_settings/index"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){t.buffer.push("\n			<div class=\"row\">\n				<h4 class='alert alert-info'>\n					Saving...\n				</h4>\n			</div>\n		")}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var s,o,l,c,h="",u=this.escapeExpression,d=this,p=n.helperMissing;return r.buffer.push('<div class="span" style="width:100%;">\n	<div class="row" style="background-color: #E3E3E3;min-height: 620px; padding-left:20px;">\n		<div class="span" style="width:100%;">\n			<div class="row">\n				<div class="span"><h3>'),o={},l={},r.buffer.push(u(n._triageMustache.call(t,"Cibi.Auth.currentUser.account.name",{hash:{},contexts:[t],types:["ID"],hashContexts:l,hashTypes:o,data:r}))),r.buffer.push("</h3></div>\n			</div>\n		</div>\n\n		"),o={},l={},s=n["if"].call(t,"isSaving",{hash:{},inverse:d.noop,fn:d.program(1,a,r),contexts:[t],types:["ID"],hashContexts:l,hashTypes:o,data:r}),(s||0===s)&&r.buffer.push(s),r.buffer.push('\n\n		<form class="form" >\n			<div class="span" style="width:100%;">\n				<div class="row" style="padding-right:20px;padding-top:25px;">\n					<div class="span6">\n						<h4 style="margin-bottom:10px;">Date & Time Settings</h4>\n						\n							<div class="row">\n								<div class="span2">\n									Fiscal year start date									\n								</div>\n								<div class="span">\n									'),l={contentBinding:t,valueBinding:t,"class":t,prompt:t},o={contentBinding:"STRING",valueBinding:"STRING","class":"STRING",prompt:"STRING"},r.buffer.push(u(n.view.call(t,"Ember.Select",{hash:{contentBinding:"view.daysArr",valueBinding:"fiscalYearStartDay","class":"input-small",prompt:"date"},contexts:[t],types:["ID"],hashContexts:l,hashTypes:o,data:r}))),r.buffer.push('\n								</div>	\n								<div class="span">\n									'),l={contentBinding:t,optionValuePath:t,optionLabelPath:t,valueBinding:t,"class":t,prompt:t},o={contentBinding:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING","class":"STRING",prompt:"STRING"},r.buffer.push(u(n.view.call(t,"Ember.Select",{hash:{contentBinding:"view.monthsArr",optionValuePath:"content.id",optionLabelPath:"content.name",valueBinding:"fiscalYearStartMonth","class":"input-small",prompt:"month"},contexts:[t],types:["ID"],hashContexts:l,hashTypes:o,data:r}))),r.buffer.push('\n								</div>					\n							</div>\n							<div class="row">\n								<div class="span2">\n									Timezone\n								</div>\n								<div class="span2">\n									'),l={contentBinding:t,valueBinding:t,"class":t},o={contentBinding:"STRING",valueBinding:"STRING","class":"STRING"},r.buffer.push(u(n.view.call(t,"Ember.Select",{hash:{contentBinding:"view.timezonesArr",valueBinding:"timezone","class":"input-medium"},contexts:[t],types:["ID"],hashContexts:l,hashTypes:o,data:r}))),r.buffer.push('\n								</div>						\n							</div>					\n					</div>\n\n					<div class="span6">\n						<h4 style="margin-bottom:10px;">Number Settings</h4>\n						\n							<div class="row">\n								<div class="span2">\n									Format\n								</div>\n								<div class="span">\n									'),l={contentBinding:t,valueBinding:t,"class":t},o={contentBinding:"STRING",valueBinding:"STRING","class":"STRING"},r.buffer.push(u(n.view.call(t,"Ember.Select",{hash:{contentBinding:"view.numberFormats",valueBinding:"numberFormat","class":"input-small"},contexts:[t],types:["ID"],hashContexts:l,hashTypes:o,data:r}))),r.buffer.push('\n								</div>						\n							</div>\n							<div class="row">\n								<div class="span2">\n									Currency\n								</div>\n								<div class="span2">\n									'),l={contentBinding:t,valueBinding:t,"class":t},o={contentBinding:"STRING",valueBinding:"STRING","class":"STRING"},r.buffer.push(u(n.view.call(t,"Ember.Select",{hash:{contentBinding:"view.currencies",valueBinding:"currency","class":"input-small"},contexts:[t],types:["ID"],hashContexts:l,hashTypes:o,data:r}))),r.buffer.push('\n								</div>						\n							</div>					\n					</div>				\n				</div>\n			</div>		\n			<div class="span" style="width:100%;">\n				<div class="row" style="padding-right:20px;padding-top:25px;">\n					<h4 style="margin-bottom:10px;margin-top:25px;">Display Settings</h4>\n					<div class="span6">										\n						<div class="row resizable ui-box" '),l={style:t},o={style:"ID"},r.buffer.push(u(n.bindAttr.call(t,{hash:{style:"view.logoDims"},contexts:[],types:[],hashContexts:l,hashTypes:o,data:r}))),r.buffer.push(' >\n							<img id="preview" '),l={src:t,style:t},o={src:"ID",style:"ID"},r.buffer.push(u(n.bindAttr.call(t,{hash:{src:"view.logoUrl",style:"view.logoDims"},contexts:[],types:[],hashContexts:l,hashTypes:o,data:r}))),r.buffer.push('/>\n						</div>\n						<div class="row" style="padding-right:20px;">\n							<!--div class="control-group">\n							  	<span class=\'fileinput-button\'>\n									<span class=\'btn\'> Change Company Logo </span>\n									<input id="logoUpload" type="file" name="files[]" multiple>					\n								</span>						\n							</div-->\n							<input id="logoUpload" type="file" name="files[]" multiple>	\n							<div>\n								<a '),l={target:t},o={target:"STRING"},r.buffer.push(u(n.action.call(t,"removeLogo","",{hash:{target:"view"},contexts:[t,t],types:["STRING","ID"],hashContexts:l,hashTypes:o,data:r}))),r.buffer.push('>Use Default Logo</a>\n							</div>\n						</div>\n					</div>\n					<div class="span6">\n						<div class="row" style="padding-right:20px;">\n							<div class="span2">\n								Collapse top bar on scroll\n							</div>\n							<div class="span1">\n								'),l={checkedBinding:t,valueBinding:t,id:t},o={checkedBinding:"STRING",valueBinding:"STRING",id:"STRING"},r.buffer.push(u(n.view.call(t,"Ember.Checkbox",{hash:{checkedBinding:"collapseNavbar",valueBinding:"collapseNavbar",id:"collapse"},contexts:[t],types:["ID"],hashContexts:l,hashTypes:o,data:r}))),r.buffer.push('\n							</div>					\n						</div>\n					</div>\n				</div>\n			</div>\n			<div class="row">\n				<div class="span6">\n					<h4 style="margin-bottom:10px;margin-top:25px;">Color Theme</h4>\n					<div class="row" style="padding-right:20px;">\n						<div class="span2">\n							Top bar color<br/>\n							'),l={type:t,"class":t,placeholder:t,valueBinding:t},o={type:"STRING","class":"STRING",placeholder:"STRING",valueBinding:"STRING"},c={hash:{type:"color","class":"input-mini",placeholder:"#ff6633",valueBinding:"topBarColor"},contexts:[],types:[],hashContexts:l,hashTypes:o,data:r},r.buffer.push(u((s=n.input,s?s.call(t,c):p.call(t,"input",c)))),r.buffer.push('\n						</div>\n						<div class="span2">\n							Workspace<br/>\n							'),l={type:t,"class":t,placeholder:t,valueBinding:t},o={type:"STRING","class":"STRING",placeholder:"STRING",valueBinding:"STRING"},c={hash:{type:"color","class":"input-mini",placeholder:"#ff6633",valueBinding:"workspaceColor"},contexts:[],types:[],hashContexts:l,hashTypes:o,data:r},r.buffer.push(u((s=n.input,s?s.call(t,c):p.call(t,"input",c)))),r.buffer.push('	\n						</div>	\n						<div class="span2">\n							Dashboards bar<br/>\n							'),l={type:t,"class":t,placeholder:t,valueBinding:t},o={type:"STRING","class":"STRING",placeholder:"STRING",valueBinding:"STRING"},c={hash:{type:"color","class":"input-mini",placeholder:"#ff6633",valueBinding:"dashboardBarColor"},contexts:[],types:[],hashContexts:l,hashTypes:o,data:r},r.buffer.push(u((s=n.input,s?s.call(t,c):p.call(t,"input",c)))),r.buffer.push('\n						</div>\n					</div>\n				</div>\n\n			</div>\n\n			<div class=\'row\'>\n				<div class="span">\n					<input type="submit" value="Save" class="btn btn-primary"></input>\n				</div>\n			</div>\n		</form>	\n\n	</div>\n</div>\n'),h}),Ember.TEMPLATES.application=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a,h="";return t.buffer.push('\n	<div class="container" style="padding-left:0px; padding-right:0px; padding-bottom:0px;" >\n	  \n\n	  	<nav class="navbar navbar-fixed-top">\n			<div id=\'top-nav-bar\' class="navbar navbar-fixed-top pagination-centered" '),r={style:e},a={style:"ID"},t.buffer.push(g(n.bindAttr.call(e,{hash:{style:"view.accountIconBarColor"},contexts:[],types:[],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push('>\n			    <div class="row" style="height:58px; padding-left:1%; padding-right: 1%;">\n			      <a class="b line-height:58px;tn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">\n			  	   	<span class="icon-bar"></span>\n			  	    <span class="icon-bar"></span>\n			        <span class="icon-bar"></span>\n			      </a>\n			    	<a class="brand" href="/" style="line-height:30px;">\n			    		'),a={},r={},i=n["if"].call(e,"Cibi.Auth.signedIn",{hash:{},inverse:v.program(4,o,t),fn:v.program(2,s,t),contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push('\n			       		<b id="top-account-name" class="hidden" >'),a={},r={},t.buffer.push(g(n._triageMustache.call(e,"Cibi.Auth.globalSetting.account.name",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push('</b> \n			      	</a>\n\n			      <div class="nav-collapse collapse">     \n			  	    '),a={},r={},i=n["if"].call(e,"Cibi.Auth.signedIn",{hash:{},inverse:v.noop,fn:v.program(6,l,t),contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n			      </div>\n			    </div>\n			</div>\n		</nav>\n\n	  	"),a={},r={},i=n["if"].call(e,"Cibi.Auth.accountExpired",{hash:{},inverse:v.noop,fn:v.program(8,c,t),contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push('\n	  	\n		<div class="row" style="margin-left:0px; padding-top:0px;">\n	 		'),a={},r={},t.buffer.push(g(n._triageMustache.call(e,"outlet",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push("\n	  	</div>\n\n		\n	</div><!-- container -->  \n"),h}function s(e,t){var i,r,a="";return t.buffer.push("\n				       		<img "),i={src:e,style:e},r={src:"ID",style:"ID"},t.buffer.push(g(n.bindAttr.call(e,{hash:{src:"view.logoUrl",style:"view.logoDims"},contexts:[],types:[],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push(' class="brand-image">\n			       		'),a}function o(e,t){t.buffer.push('\n			       			<img src="/assets/logo_long.png" class="brand-image"> \n			       		')}function l(e,t){var i,r,a,s,o="";return t.buffer.push("\n			  	    	"),r={},a={},s={hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t},t.buffer.push(g((i=n.partial,i?i.call(e,"main_top_nav_bar",s):m.call(e,"partial","main_top_nav_bar",s)))),t.buffer.push("\n			        "),o}function c(e,t){var i,r,a,s,o="";return t.buffer.push("	  		\n	  		"),r={},a={},s={hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t},t.buffer.push(g((i=n.partial,i?i.call(e,"account_expiry_model",s):m.call(e,"partial","account_expiry_model",s)))),t.buffer.push("\n	  	"),o}function h(e,t){t.buffer.push('\n	<div style="width: 100%; opacity=0.6; z-index: 9999; text-align: center">\n		<h1> CIBI </h1>\n		<br /> <br />\n		<img src="/ajax-loader-big3.gif">\n		<br /><br />\n		Signing in...\n	</div>			\n')}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var u,d,p,f="",g=this.escapeExpression,m=n.helperMissing,v=this;return d={},p={},u=n.unless.call(t,"Cibi.Auth.signing_in",{hash:{},inverse:v.program(10,h,r),fn:v.program(1,a,r),contexts:[t],types:["ID"],hashContexts:p,hashTypes:d,data:r}),(u||0===u)&&r.buffer.push(u),r.buffer.push("\n"),f}),Ember.TEMPLATES.auth=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var a,s,o="",l=this.escapeExpression;return r.buffer.push("\n"),a={},s={},r.buffer.push(l(n.view.call(t,"Cibi.AuthSignInView",{hash:{},contexts:[t],types:["ID"],hashContexts:s,hashTypes:a,data:r}))),r.buffer.push("\n"),o}),Ember.TEMPLATES["auth/forgot_password"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a="";return t.buffer.push("\n			<h5 class='small-alert' style=\"width:174px;\">\n			"),i={},r={},t.buffer.push(f(n._triageMustache.call(e,"Cibi.Auth.infoMessage",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n			</h5>\n			"),a}function s(e,t){var i,r,a="";return t.buffer.push("\n				<h5 class='text-error small-alert' style=\"width:174px;\">\n					"),i={},r={},t.buffer.push(f(n._triageMustache.call(e,"Cibi.Auth.errorMessage",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n				</h5>\n			"),a}function o(e,t){t.buffer.push('<span style="color:#005BAF;" id="forgot_cancel">Cancel</span>')}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var l,c,h,u,d,p="",f=this.escapeExpression,g=n.helperMissing,m=this;return r.buffer.push('<div class="container" style="width:100%; padding-top:16px;">\n  <div class="row homepage-bg" style="min-height:600px;">\n    <div class=\'span8\' style ="padding: 5% 8%;width: 40%;">\n      <img src="/assets/Symbol-Image.png"></img>\n    </div>    \n    <div class=\'span\' style="padding: 5%;" >\n      <div class=\'span login-bg\'>\n      <h3 style="color: #FFFFFF;font-family: \'Helvetica Neue LT Com\', Helvetica, Arial, sans-serif;"> Forgot Password	 </h3>\n		<form class=\'form-vertical\'>\n\n			'),h={type:t,"class":t,placeholder:t,value:t},u={type:"STRING","class":"STRING",placeholder:"STRING",value:"ID"},d={hash:{type:"text","class":"input-large",placeholder:"Email",value:"view.email"},contexts:[],types:[],hashContexts:h,hashTypes:u,data:r},r.buffer.push(f((l=n.input,l?l.call(t,d):g.call(t,"input",d)))),r.buffer.push("\n\n			<br>\n\n			"),u={},h={},c=n["if"].call(t,"Cibi.Auth.infoMessage",{hash:{},inverse:m.noop,fn:m.program(1,a,r),contexts:[t],types:["ID"],hashContexts:h,hashTypes:u,data:r}),(c||0===c)&&r.buffer.push(c),r.buffer.push("\n\n			"),u={},h={},c=n["if"].call(t,"Cibi.Auth.errorMessage",{hash:{},inverse:m.noop,fn:m.program(3,s,r),contexts:[t],types:["ID"],hashContexts:h,hashTypes:u,data:r}),(c||0===c)&&r.buffer.push(c),r.buffer.push("			\n			<br>\n			"),h={type:t,"class":t,style:t,value:t},u={type:"STRING","class":"STRING",style:"STRING",value:"STRING"},d={hash:{type:"submit","class":"btn btn-small btn-homepage",style:"margin-top: 0px",value:"Submit"},contexts:[],types:[],hashContexts:h,hashTypes:u,data:r},r.buffer.push(f((l=n.input,l?l.call(t,d):g.call(t,"input",d)))),r.buffer.push("\n				"),u={},h={},d={hash:{},inverse:m.noop,fn:m.program(5,o,r),contexts:[t],types:["STRING"],hashContexts:h,hashTypes:u,data:r},l=n.linkTo,c=l?l.call(t,"verticals",d):g.call(t,"linkTo","verticals",d),(c||0===c)&&r.buffer.push(c),r.buffer.push("\n		</form>\n      </div>\n    </div> \n  </div>\n</div>\n"),p}),Ember.TEMPLATES["auth/free_trial"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var a,s,o="",l=this.escapeExpression;return r.buffer.push('<div id=\'modal-new-account\' class=\'modal hide fade\'>\n	<div class="modal-header" style="background-color:323232;">\n	<h1>Create Account</h1>\n	</div>\n	<div class="modal-body">\n		<form class="form-horizontal">\n		  <div class="control-group">\n		    <label class="control-label" for="inputAccountName">Account Name</label>\n		    <div class="controls">\n		      <input type="text" id="inputAccountName" placeholder="Account Name">\n		    </div>\n		  </div>\n		  <div class="control-group">\n		    <label class="control-label" for="inputFirstName">First Name</label>\n		    <div class="controls">\n		      <input type="text" id="inputFirstName" placeholder="First Name">\n		    </div>\n		  </div>\n		  <div class="control-group">\n		    <label class="control-label" for="inputLastName">Last Name</label>\n		    <div class="controls">\n		      <input type="text" id="inputLastName" placeholder="Last Name">\n		    </div>\n		  </div>\n		  <div class="control-group">\n		    <label class="control-label" for="inputEmail">Email (Username)</label>\n		    <div class="controls">\n		      <input type="text" id="inputEmail" placeholder="Email">\n		    </div>\n		  </div>\n		  <div class="control-group">\n		    <div class="form-actions">\n			  <button type="button" class="btn btn-primary" '),a={target:t},s={target:"STRING"},r.buffer.push(l(n.action.call(t,"createAccount",{hash:{target:"view"},contexts:[t],types:["STRING"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push('>Create</button>\n			  <button type="button" data-dismiss="modal" class="btn">Cancel</button>\n			</div>\n		  </div>\n		</form>\n	</div>\n</div>\n'),o
}),Ember.TEMPLATES["auth/invalid_token"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{},r.buffer.push('<div class="container" style="width:100%; padding-top:16px;">\n  <div class="row homepage-bg" style="min-height:600px;">\n    <div class="span" style="padding: 5% 21%; margin-top: 7%; width: 100%;">\n      <div class="span login-bg" style="height: 79px; min-width: 400px; max-width: 100%;">\n      	<h4 style="color: #FFFFFF;font-family: Roboto-Medium; margin: 20px; font-size: xx-large; word-spacing: 10px; line-height: 30px;"> You are not authorized to view this page. </h4>\n      </div>\n    </div> \n  </div>\n</div>\n')}),Ember.TEMPLATES["auth/reset_password"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a="";return t.buffer.push("\n			<h5 class='small-alert' style=\"width:174px;\">\n			"),i={},r={},t.buffer.push(f(n._triageMustache.call(e,"Cibi.Auth.infoMessage",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n			</h5>\n			"),a}function s(e,t){var i,r,a="";return t.buffer.push("\n				<h5 class='text-error small-alert' style=\"width:174px;\">\n					"),i={},r={},t.buffer.push(f(n._triageMustache.call(e,"Cibi.Auth.errorMessage",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n				</h5>\n			"),a}function o(e,t){t.buffer.push('<span style="color:#005BAF;" id="reset_cancel">Cancel</span>')}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var l,c,h,u,d,p="",f=this.escapeExpression,g=n.helperMissing,m=this;return r.buffer.push('<div class="container" style="width:100%; padding-top:16px;">\n  <div class="row homepage-bg" style="min-height:600px;">\n    <div class=\'span8\' style ="padding: 5% 8%;width: 40%;">\n      <img src="/assets/Symbol-Image.png"></img>\n    </div>    \n    <div class=\'span\' style="padding: 5%;" >\n      <div class=\'span login-bg\'>\n      <h3 style="color: #FFFFFF;font-family: \'Helvetica Neue LT Com\', Helvetica, Arial, sans-serif;"> Reset Password	 </h3>\n		<form class=\'form-vertical\'>\n\n			'),h={type:t,"class":t,placeholder:t,value:t},u={type:"STRING","class":"STRING",placeholder:"STRING",value:"ID"},d={hash:{type:"password","class":"input-large",placeholder:"New password",value:"view.password"},contexts:[],types:[],hashContexts:h,hashTypes:u,data:r},r.buffer.push(f((l=n.input,l?l.call(t,d):g.call(t,"input",d)))),r.buffer.push("\n\n			<br>\n			"),h={type:t,"class":t,placeholder:t,value:t},u={type:"STRING","class":"STRING",placeholder:"STRING",value:"ID"},d={hash:{type:"password","class":"input-large",placeholder:"Confirm password",value:"view.password_confirmation"},contexts:[],types:[],hashContexts:h,hashTypes:u,data:r},r.buffer.push(f((l=n.input,l?l.call(t,d):g.call(t,"input",d)))),r.buffer.push("\n\n			<br>\n\n			"),u={},h={},c=n["if"].call(t,"Cibi.Auth.infoMessage",{hash:{},inverse:m.noop,fn:m.program(1,a,r),contexts:[t],types:["ID"],hashContexts:h,hashTypes:u,data:r}),(c||0===c)&&r.buffer.push(c),r.buffer.push("\n\n			"),u={},h={},c=n["if"].call(t,"Cibi.Auth.errorMessage",{hash:{},inverse:m.noop,fn:m.program(3,s,r),contexts:[t],types:["ID"],hashContexts:h,hashTypes:u,data:r}),(c||0===c)&&r.buffer.push(c),r.buffer.push("			\n			<br>\n			"),h={type:t,"class":t,style:t,value:t},u={type:"STRING","class":"STRING",style:"STRING",value:"STRING"},d={hash:{type:"submit","class":"btn btn-small btn-homepage",style:"margin-top: 0px",value:"Submit"},contexts:[],types:[],hashContexts:h,hashTypes:u,data:r},r.buffer.push(f((l=n.input,l?l.call(t,d):g.call(t,"input",d)))),r.buffer.push("\n			"),u={},h={},d={hash:{},inverse:m.noop,fn:m.program(5,o,r),contexts:[t],types:["STRING"],hashContexts:h,hashTypes:u,data:r},l=n.linkTo,c=l?l.call(t,"verticals",d):g.call(t,"linkTo","verticals",d),(c||0===c)&&r.buffer.push(c),r.buffer.push("\n		</form>\n      </div>\n    </div> \n  </div>\n</div>\n"),p}),Ember.TEMPLATES["auth/sign_in"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){t.buffer.push('<span style="color:#005BAF;">Forgot password?</span>')}function s(e,t){var i,r,a="";return t.buffer.push("\n	<h5 class='small-alert' style=\"width:174px;font-size:14px;\">\n		"),i={},r={},t.buffer.push(f(n._triageMustache.call(e,"Cibi.Auth.infoMessage",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n	</h5>\n"),a}function o(e,t){var i,r,a="";return t.buffer.push("\n	<h5 class='text-error small-alert' style=\"width:174px;font-size:14px;\">\n		"),i={},r={},t.buffer.push(f(n._triageMustache.call(e,"Cibi.Auth.errorMessage",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n	</h5>\n"),a}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var l,c,h,u,d,p="",f=this.escapeExpression,g=n.helperMissing,m=this;return h={},u={},r.buffer.push(f(n.view.call(t,"view.freeTrialView",{hash:{},contexts:[t],types:["ID"],hashContexts:u,hashTypes:h,data:r}))),r.buffer.push("\n<h3 style=\"color: #FFFFFF;font-family: 'Helvetica Neue LT Com', Helvetica, Arial, sans-serif;\"> Sign In </h3>\n\n\n<form class='form-vertical'>\n\n	"),u={type:t,"class":t,placeholder:t,value:t},h={type:"STRING","class":"STRING",placeholder:"STRING",value:"ID"},d={hash:{type:"text","class":"input-large",placeholder:"Email",value:"view.email"},contexts:[],types:[],hashContexts:u,hashTypes:h,data:r},r.buffer.push(f((l=n.input,l?l.call(t,d):g.call(t,"input",d)))),r.buffer.push("\n\n	<br>\n	"),u={type:t,"class":t,placeholder:t,value:t},h={type:"STRING","class":"STRING",placeholder:"STRING",value:"ID"},d={hash:{type:"password","class":"input-large",placeholder:"Password",value:"view.password"},contexts:[],types:[],hashContexts:u,hashTypes:h,data:r},r.buffer.push(f((l=n.input,l?l.call(t,d):g.call(t,"input",d)))),r.buffer.push("\n	"),h={},u={},d={hash:{},inverse:m.noop,fn:m.program(1,a,r),contexts:[t],types:["STRING"],hashContexts:u,hashTypes:h,data:r},l=n.linkTo,c=l?l.call(t,"forgot_password",d):g.call(t,"linkTo","forgot_password",d),(c||0===c)&&r.buffer.push(c),r.buffer.push("\n"),h={},u={},c=n["if"].call(t,"Cibi.Auth.infoMessage",{hash:{},inverse:m.noop,fn:m.program(3,s,r),contexts:[t],types:["ID"],hashContexts:u,hashTypes:h,data:r}),(c||0===c)&&r.buffer.push(c),r.buffer.push("\n\n"),h={},u={},c=n["if"].call(t,"Cibi.Auth.errorMessage",{hash:{},inverse:m.noop,fn:m.program(5,o,r),contexts:[t],types:["ID"],hashContexts:u,hashTypes:h,data:r}),(c||0===c)&&r.buffer.push(c),r.buffer.push("\n	<br>\n	"),u={type:t,"class":t,style:t,value:t},h={type:"STRING","class":"STRING",style:"STRING",value:"STRING"},d={hash:{type:"submit","class":"btn btn-small btn-homepage",style:"margin-top: 0px",value:"Sign In"},contexts:[],types:[],hashContexts:u,hashTypes:h,data:r},r.buffer.push(f((l=n.input,l?l.call(t,d):g.call(t,"input",d)))),r.buffer.push("\n	\n	<a "),u={target:t},h={target:"STRING"},r.buffer.push(f(n.action.call(t,"showFreeTrialForm",{hash:{target:"view"},contexts:[t],types:["STRING"],hashContexts:u,hashTypes:h,data:r}))),r.buffer.push(" class='btn btn-small btn-homepage pull-right' style=\"margin-top: 0px\">Try for free</a>\n	\n</form>\n"),p}),Ember.TEMPLATES["auth/sign_out"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{},r.buffer.push("\n\n<hr class=\"compact\">\n\n\n<form>\n	<button class='btn'>Sign Out</button>\n</form>\n")}),Ember.TEMPLATES.chart=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a,l,u,m="";return t.buffer.push("\n	<div "),a={id:e,"class":e},l={id:"STRING","class":"STRING"},t.buffer.push(W(n.bindAttr.call(e,{hash:{id:"containerId","class":"className"},contexts:[],types:[],hashContexts:a,hashTypes:l,data:t}))),t.buffer.push(" >\n		"),l={},a={},i=n["if"].call(e,"isPivotTable",{hash:{},inverse:q.noop,fn:q.program(2,s,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:l,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n		<div class='row'>\n			<div class='row'>\n				<ul class=\"nav nav-pills chart-control-bar\"> \n				\n					<div class='filterDiv pull-left'>\n					    "),l={},a={},t.buffer.push(W(n.view.call(e,"view.chartMarginsView",{hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:l,data:t}))),t.buffer.push("\n					</div>\n					\n  					"),l={},a={},i=n["if"].call(e,"chart.can_destroy",{hash:{},inverse:q.noop,fn:q.program(4,o,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:l,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("					\n					"),t.buffer.push("\n				\n						<!--div class='filterDiv pull-left'>\n							"),t.buffer.push("\n						 	   "),t.buffer.push("\n							"),t.buffer.push("\n						</div--> \n					"),t.buffer.push("\n\n					<div class='pull-left'>\n						"),l={},a={},i=n["if"].call(e,"isSetup",{hash:{},inverse:q.noop,fn:q.program(7,c,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:l,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n					</div> 				\n\n					<div class='pull-left'>\n						"),l={},a={},i=n["if"].call(e,"isSetup",{hash:{},inverse:q.noop,fn:q.program(9,h,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:l,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n					</div>\n				\n\n					<div class='pull-left'>\n						"),l={},a={},i=n["if"].call(e,"isSetup",{hash:{},inverse:q.noop,fn:q.program(12,d,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:l,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n					</div>\n					<div class='pull-left'>\n						"),l={},a={},u={hash:{},contexts:[e,e],types:["STRING","ID"],hashContexts:a,hashTypes:l,data:t},t.buffer.push(W((i=n.render,i?i.call(e,"comments","comments",u):Y.call(e,"render","comments","comments",u)))),t.buffer.push("\n					</div>	\n					<div class='pull-left'>\n						"),l={},a={},r=n["if"].call(e,"isSetup",{hash:{},inverse:q.noop,fn:q.program(14,p,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:l,data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("                    	                           \n                    </div>	\n                    <div class='pull-left'>\n                    	"),l={},a={},r=n["if"].call(e,"isSetup",{hash:{},inverse:q.noop,fn:q.program(16,f,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:l,data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n                    </div>\n\n                    "),l={},a={},r=n["if"].call(e,"showStatisticalToolbox",{hash:{},inverse:q.noop,fn:q.program(18,g,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:l,data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n\n					"),l={},a={},r=n["if"].call(e,"chart.can_destroy",{hash:{},inverse:q.noop,fn:q.program(21,v,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:l,data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push(" 	\n					"),l={},a={},r=n.unless.call(e,"isTableChart",{hash:{},inverse:q.noop,fn:q.program(23,b,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:l,data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n					\n					"),l={},a={},r=n["if"].call(e,"downloadable",{hash:{},inverse:q.noop,fn:q.program(25,y,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:l,data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n					"),l={},a={},r=n["if"].call(e,"onlyDataDownloadable",{hash:{},inverse:q.noop,fn:q.program(30,_,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:l,data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("	\n				</ul>\n			</div>\n			<div class='row' style=\"background-color:white; border-top-width:1px; border-top-style:solid; border-top-color:#cccccc; padding:5px;\" id='popUpContainer'>\n				<div class='row' style=\"width:100%; padding-top:5px; padding-bottom:10px; max-height: 35px;\">\n					<div class='span' id=\"titlediv\">\n                        "),l={},a={},r=n["if"].call(e,"isolated",{hash:{},inverse:q.noop,fn:q.program(32,C,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:l,data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n						"),l={},a={},r=n["if"].call(e,"title",{hash:{},inverse:q.program(36,D,t),fn:q.program(34,T,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:l,data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push('\n						<img src="/assets/Toolbaricon_vertical_bar.png" style="height:15px;"/>\n						'),l={},a={},r=n["if"].call(e,"subtitle",{hash:{},inverse:q.program(40,E,t),fn:q.program(38,S,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:l,data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("					\n					</div>\n					"),l={},a={},t.buffer.push(W(n.view.call(e,"view.editTitleView",{hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:l,data:t}))),t.buffer.push("\n					"),l={},a={},r=n["if"].call(e,"chart.dataLoading",{hash:{},inverse:q.noop,fn:q.program(42,k,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:l,data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n\n					"),l={},a={},r=n.unless.call(e,"isSetup",{hash:{},inverse:q.noop,fn:q.program(44,I,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:l,data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n					\n					<div class='span pull-right muted' >					                   \n                    	"),l={},a={},t.buffer.push(W(n.view.call(e,"view.descriptionView",{hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:l,data:t}))),t.buffer.push("						\n					</div>								\n\n					<div class='span pull-right' style=\"min-height: 20px; max-height: 20px;\">\n						"),l={},a={},r=n["if"].call(e,"legendFilter",{hash:{},inverse:q.noop,fn:q.program(46,N,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:l,data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n					</div>\n				</div>\n				<div class='muted' style=\"font-size:10px;line-height:9px;margin-left:17px;\">\n					<small> Updated "),l={},a={},u={hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:l,data:t},t.buffer.push(W((i=n.time_ago,i?i.call(e,"updatedAt",u):Y.call(e,"time_ago","updatedAt",u)))),t.buffer.push("\n						"),l={},a={},r=n["if"].call(e,"updatedBy",{hash:{},inverse:q.noop,fn:q.program(51,M,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:l,data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n					</small>\n				</div>\n				"),l={},a={},t.buffer.push(W(n.view.call(e,"view.chartFiltersListView",{hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:l,data:t}))),t.buffer.push("\n				<br>\n				"),l={},a={},r=n["if"].call(e,"isTimeSeriesChart",{hash:{},inverse:q.noop,fn:q.program(53,P,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:l,data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n\n				"),l={},a={},r=n["if"].call(e,"isPivotTable",{hash:{},inverse:q.noop,fn:q.program(57,B,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:l,data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("								\n\n				<div class='row'>\n				"),l={},a={},r=n["if"].call(e,"errorMessage",{hash:{},inverse:q.program(61,L,t),fn:q.program(59,j,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:l,data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("					\n				</div>\n				<!-- <hr style=\"margin: 1px; border-top: 3px solid #eee;\"> -->\n				<div class='row' style='max-height:50px;'>\n					"),l={},a={},r=n["if"].call(e,"hasLegend",{hash:{},inverse:q.noop,fn:q.program(63,V,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:l,data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n				</div>\n\n				"),l={},a={},r=n["if"].call(e,"noDimensions",{hash:{},inverse:q.noop,fn:q.program(65,$,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:l,data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n\n			</div>\n		</div>\n\n		"),l={},a={},t.buffer.push(W(n.view.call(e,"view.chartObjectsContainerView",{hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:l,data:t}))),t.buffer.push("\n\n	</div>\n	"),l={},a={},u={hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:l,data:t},t.buffer.push(W((i=n.trigger,i?i.call(e,"draw",u):Y.call(e,"trigger","draw",u)))),t.buffer.push("\n"),m}function s(e,t){var i,r,a="";return t.buffer.push("\n			"),i={},r={},t.buffer.push(W(n.view.call(e,"view.pivotConfigsView",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n		"),a}function o(e,t){var i,r,a,s,o,c="";return t.buffer.push("					\n						<div class='filterDiv pull-left'>\n							"),a={},s={},o={hash:{},inverse:q.noop,fn:q.program(5,l,t),contexts:[e,e],types:["STRING","ID"],hashContexts:s,hashTypes:a,data:t},i=n.linkTo,r=i?i.call(e,"dashboard.edit_chart","",o):Y.call(e,"linkTo","dashboard.edit_chart","",o),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n\n						</div> \n					"),c}function l(e,t){t.buffer.push('\n								<i class="icon-edit muted" style="cursor: pointer" >\n		            			</i>\n		            		')}function c(e,t){var i,r,a="";return t.buffer.push("\n					 	   "),i={},r={},t.buffer.push(W(n.view.call(e,"view.chartConfigsView",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n						"),a}function h(e,t){var i,r,a,s="";return t.buffer.push("\n						  "),r={},a={},i=n["if"].call(e,"editType",{hash:{},inverse:q.noop,fn:q.program(10,u,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n						"),s}function u(e,t){var i,r,a="";return t.buffer.push("\n						    "),i={},r={},t.buffer.push(W(n.view.call(e,"view.chartTypesView",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n						  "),a}function d(e,t){var i,r,a="";return t.buffer.push("\n					 	   "),i={},r={},t.buffer.push(W(n.view.call(e,"view.chartFiltersView",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n					 	"),a}function p(e,t){var i,r,a="";return t.buffer.push("\n							"),i={},r={},t.buffer.push(W(n.view.call(e,"view.drillThroughView",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n						"),a}function f(e,t){var i,r,a="";return t.buffer.push("\n                    		"),i={},r={},t.buffer.push(W(n.view.call(e,"view.forecastView",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n                    	"),a}function g(e,t){var i,r,a,s="";return t.buffer.push("\n	                    <div class='pull-left'>\n	                    	"),r={},a={},i=n["if"].call(e,"isSetup",{hash:{},inverse:q.noop,fn:q.program(19,m,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n	                    </div>                    				\n	                "),s}function m(e,t){var i,r,a="";return t.buffer.push("\n	                    		"),i={},r={},t.buffer.push(W(n.view.call(e,"view.statisticalRelevanceView",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n	                    	"),a}function v(e,t){var i,r,a="";return t.buffer.push('\n						\n						<div style=\'width: 25px; height: 100%; text-align: center;\' class=\'pull-right\'>\n							<li><a class="sample_link" data-toggle="tooltip" data-placement="right auto" title="Delete Chart" '),i={},r={},t.buffer.push(W(n.action.call(e,"delete","chart",{hash:{},contexts:[e,e],types:["STRING","ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("><i class='icon-remove muted'></i></a></li>\n						</div>\n					"),a}function b(e,t){var i,r,a="";return t.buffer.push('	\n						<div class=\'filterDiv pull-right\'>\n							<a class="no_highlights" title="ChangeToFullScreenMode" '),i={},r={},t.buffer.push(W(n.action.call(e,"convertToFullScreen",{hash:{},contexts:[e],types:["STRING"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push(">\n								<i class='icon-resize-full muted'></i>\n							</a>\n						</div>\n					"),a}function y(e,t){var i,r,a,s="";return t.buffer.push('\n						<div class=\'filterDiv pull-right\'>\n\n							<div class="dropdown">\n								<a class="dropdown-toggle no_highlights" data-toggle="dropdown" title="Download">\n									<i class=\'icon-download-alt muted\'></i>\n								</a>\n								<ul class="dropdown-menu pull-right" role="menu" aria-labelledby="dLabel">\n									'),r={},a={},i=n["if"].call(e,"isPivotTable",{hash:{},inverse:q.program(28,w,t),fn:q.program(26,x,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push('\n									\n									<li>\n										<a data-toggle="tooltip" id="download_data" '),r={},a={},t.buffer.push(W(n.action.call(e,"downloadData","chart",{hash:{},contexts:[e,e],types:["STRING","ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push('>\n											Download Data\n										</a>\n									</li>\n								</ul>\n							</div>\n						\n						<!--		<a class="sample_link" data-toggle="tooltip" title="Download Chart" '),r={},a={},t.buffer.push(W(n.action.call(e,"download","chart",{hash:{},contexts:[e,e],types:["STRING","ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push(" >\n									<i class='icon-download-alt muted'></i>\n								</a>\n						-->\n						</div>\n					"),s}function x(e,t){var i,r,a="";return t.buffer.push('\n										<li>\n											<a data-toggle="tooltip" id="download_image" '),i={},r={},t.buffer.push(W(n.action.call(e,"download","chart",{hash:{},contexts:[e,e],types:["STRING","ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push(">\n												Download Pdf\n											</a>\n										</li>\n									"),a}function w(e,t){var i,r,a="";return t.buffer.push('\n										<li>\n											<a data-toggle="tooltip" id="download_image" '),i={},r={},t.buffer.push(W(n.action.call(e,"download","chart",{hash:{},contexts:[e,e],types:["STRING","ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push(">\n												Download Image\n											</a>\n										</li>\n									"),a}function _(e,t){var i,r,a="";return t.buffer.push('\n						<div class=\'filterDiv pull-right\'>\n							<div class="dropdown">\n								<a class="dropdown-toggle no_highlights" data-toggle="dropdown" title="Download">\n									<i class=\'icon-download-alt muted\'></i>\n								</a>\n								<ul class="dropdown-menu pull-right" role="menu" aria-labelledby="dLabel">\n									<li>\n										<a data-toggle="tooltip" id="download_data" '),i={},r={},t.buffer.push(W(n.action.call(e,"downloadData","chart",{hash:{},contexts:[e,e],types:["STRING","ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push(">\n											Download Data\n										</a>\n									</li>\n								</ul>\n							</div>\n						</div>\n					"),a}function C(e,t){t.buffer.push('\n                        	<img src="/assets/broken_link.png" height=15px width=15px style="margin-left: 3px;"/>\n                        ')}function T(e,t){var i,r,a="";return t.buffer.push('\n\n							<h4 style="color: #2093cc; margin-left: 15px;  display:inline;" class="title" data-toggle="tooltip" data-placement="bottom" '),i={title:e},r={title:"ID"},t.buffer.push(W(n.bindAttr.call(e,{hash:{title:"title"},contexts:[],types:[],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push(" "),i={target:e},r={target:"ID"},t.buffer.push(W(n.action.call(e,"editChart","",{hash:{target:"view"},contexts:[e,e],types:["STRING","ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("  >"),r={},i={},t.buffer.push(W(n._triageMustache.call(e,"ntitle",{hash:{},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("</h4>\n						"),a}function D(e,t){var i,r,a="";return t.buffer.push('\n							<h4 class="muted" style="margin-left:15px; display:inline;" '),i={target:e},r={target:"ID"},t.buffer.push(W(n.action.call(e,"editChart","",{hash:{target:"view"},contexts:[e,e],types:["STRING","ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push(">Title</h4>\n						"),a}function S(e,t){var i,r,a="";return t.buffer.push('					\n							<h6 style="display:inline; color:#7C7C7C;" class="subtitle" data-toggle="tooltip" data-placement="bottom" '),i={title:e},r={title:"ID"},t.buffer.push(W(n.bindAttr.call(e,{hash:{title:"subtitle"},contexts:[],types:[],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push(" "),i={target:e},r={target:"ID"},t.buffer.push(W(n.action.call(e,"editChart","",{hash:{target:"view"},contexts:[e,e],types:["STRING","ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push(">"),r={},i={},t.buffer.push(W(n._triageMustache.call(e,"nsubtitle",{hash:{},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("</h6>\n						"),a}function E(e,t){var i,r,a="";return t.buffer.push('\n							<h6 class="muted" style="display:inline;" '),i={target:e},r={target:"ID"},t.buffer.push(W(n.action.call(e,"editChart","",{hash:{target:"view"},contexts:[e,e],types:["STRING","ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push(">Subtitle</h6>\n						"),a}function k(e,t){t.buffer.push('\n						<div class=\'span\' style="margin-left: 10px; margin-right: 10px;">\n							<img src="/assets/ajax-loader.gif"/>\n						</div>\n					')}function I(e,t){t.buffer.push("		\n						<div class='row'>	\n							<div class='span'>\n								<img src='/assets/ajax-loader.gif' />\n							</div>\n						</div>\n					")}function N(e,t){var i,r,a,s="";return t.buffer.push("\n							<div class='btn-group'>\n								<div class='btn btn-mini disabled button-label'>\n									"),r={},a={},i=n["if"].call(e,"legendFilter.display_str",{hash:{},inverse:q.program(49,R,t),fn:q.program(47,A,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n								</div>\n								<a class='btn btn-mini pull-right' "),r={},a={},t.buffer.push(W(n.action.call(e,"resetLegendFilter","chart",{hash:{},contexts:[e,e],types:["STRING","ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push("> \n									x\n								</a>\n							</div>\n						"),s}function A(e,t){var i,r,a="";return t.buffer.push("\n										"),i={},r={},t.buffer.push(W(n._triageMustache.call(e,"legendFilter.display_str",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n									"),a}function R(e,t){var i,r,a="";return t.buffer.push("\n										"),i={},r={},t.buffer.push(W(n._triageMustache.call(e,"legendFilter.key",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("								\n									"),a}function M(e,t){var i,r,a="";return t.buffer.push(" \n							by "),i={},r={},t.buffer.push(W(n._triageMustache.call(e,"updatedBy",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push(" \n						"),a}function P(e,t){var i,r,a,s="";return t.buffer.push("\n					"),r={},a={},i=n["if"].call(e,"view.isDateType",{hash:{},inverse:q.noop,fn:q.program(54,O,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n				"),s}function O(e,t){var i,r,a,s="";return t.buffer.push('\n						<div class="pull-right">\n							<div class="dropdown" style="line-height:40px;">\n								<a '),r={},a={},t.buffer.push(W(n.action.call(e,"changeFormatAs",{hash:{},contexts:[e],types:["STRING"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push(' id = \'formatYear\' class="btn flat-button new-chart-btn" style="margin-top: 0px; padding: 0px 12px;">Year</a>\n								<a '),r={},a={},t.buffer.push(W(n.action.call(e,"changeFormatAs",{hash:{},contexts:[e],types:["STRING"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push(' id = \'formatQuarter\' class="btn flat-button new-chart-btn" style="margin-top: 0px; padding: 0px 12px;">Quarter</a>\n								<a '),r={},a={},t.buffer.push(W(n.action.call(e,"changeFormatAs",{hash:{},contexts:[e],types:["STRING"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push(' id = \'formatMonth\' class="btn flat-button new-chart-btn" style="margin-top: 0px; padding: 0px 12px;">Month</a>\n								<a href="#" class="dropdown-toggle pullright" data-toggle="dropdown">	           	\n									<img src="/assets/Dropdown-arrow.png" style="margin-top: 0px; vertical-align: middle;"></img>\n								</a>\n								<ul class="dropdown-menu format-option" style="top:40px;left:5px;">\n									'),r={},a={},i=n.each.call(e,"format","in","view.date_formats",{hash:{},inverse:q.noop,fn:q.program(55,F,t),contexts:[e,e,e],types:["ID","ID","ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("	\n								</ul>\n							</div>\n						</div>\n					"),s}function F(e,t){var i,r,a="";return t.buffer.push("\n										<li><a "),i={},r={},t.buffer.push(W(n.action.call(e,"changeFormatAs",{hash:{},contexts:[e],types:["STRING"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push(" id='other-formats' >"),i={},r={},t.buffer.push(W(n._triageMustache.call(e,"format",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("</a></li>\n									"),a}function B(e,t){var n="";return t.buffer.push("\n					<!-- <br /><br />\n					<div class='row' style=\"margin-bottom:5px;\">\n						<div class='span pull-right'>\n							<a "),t.buffer.push(">Configure Report</a>\n						</div>	\n					</div> -->\n				"),n}function j(e,t){var i,r,a="";return t.buffer.push("\n					<div "),i={id:e,"class":e,style:e},r={id:"STRING","class":"STRING",style:"STRING"},t.buffer.push(W(n.bindAttr.call(e,{hash:{id:"elemId","class":":draggable :span",style:"view.chartErrorDimension"},contexts:[],types:[],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push(" >					\n						<h4 class='alert alert-error'>\n							"),r={},i={},t.buffer.push(W(n._triageMustache.call(e,"errorMessage",{hash:{},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n						</h4>\n					</div>\n				"),a}function L(e,t){var i,r,a="";return t.buffer.push("\n					<div "),i={id:e,"class":e},r={id:"STRING","class":"STRING"},t.buffer.push(W(n.bindAttr.call(e,{hash:{id:"elemId","class":":draggable :span"},contexts:[],types:[],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push(">\n					</div>\n				"),a}function V(e,t){var i,r,a="";return t.buffer.push("\n						<div class='span' "),i={id:e},r={id:"STRING"},t.buffer.push(W(n.bindAttr.call(e,{hash:{id:"legendId"},contexts:[],types:[],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push(' style="min-height:48px; max-height:48px; margin-left: 0px; border-top: 3px solid #eee; width:100%;">\n						</div>\n					'),a}function $(e,t){t.buffer.push("\n					<h4 class='alert alert-error'>Dimensions have not been setup for this chart </h4>\n				")}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var H,G,z,U="",W=this.escapeExpression,q=this,Y=n.helperMissing;return G={},z={},H=n["if"].call(t,"chart.isLoaded",{hash:{},inverse:q.noop,fn:q.program(1,a,r),contexts:[t],types:["ID"],hashContexts:z,hashTypes:G,data:r}),(H||0===H)&&r.buffer.push(H),r.buffer.push("\n"),U}),Ember.TEMPLATES.chart_old=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a,b,w,C="";return t.buffer.push("\n	<div "),a={id:e,"class":e},b={id:"STRING","class":"STRING"},t.buffer.push(E(n.bindAttr.call(e,{hash:{id:"containerId","class":"className"},contexts:[],types:[],hashContexts:a,hashTypes:b,data:t}))),t.buffer.push(" >\n\n		<div class='row' style='padding:5px;'>\n			<div class='span'>\n				<div class='row'>\n					<div class='span' id=\"titlediv\" style=\"height: 75px;\">\n						<h4>"),b={},a={},t.buffer.push(E(n._triageMustache.call(e,"title",{hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:b,data:t}))),t.buffer.push(' \n							<i class="icon-edit muted" style="cursor: pointer" '),a={target:e},b={target:"ID"},t.buffer.push(E(n.action.call(e,"editChart","",{hash:{target:"view"},contexts:[e,e],types:["STRING","ID"],hashContexts:a,hashTypes:b,data:t}))),t.buffer.push(">\n							</i>\n						</h4>\n						"),b={},a={},i=n["if"].call(e,"subtitle",{hash:{},inverse:k.noop,fn:k.program(2,s,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:b,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n					</div>\n					"),b={},a={},t.buffer.push(E(n.view.call(e,"view.editTitleView",{hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:b,data:t}))),t.buffer.push("\n					<div class='span pull-right'>\n						"),b={},a={},i=n["if"].call(e,"secondaryDimension",{hash:{},inverse:k.program(6,l,t),fn:k.program(4,o,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:b,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n\n						"),b={},a={},i=n["if"].call(e,"filterOn",{hash:{},inverse:k.noop,fn:k.program(8,c,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:b,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n                 \n						"),b={},a={},i=n["if"].call(e,"legendFilter",{hash:{},inverse:k.noop,fn:k.program(10,h,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:b,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n\n					</div>\n				</div>\n		\n				<div class='row'>\n					<div "),a={id:e},b={id:"STRING"},t.buffer.push(E(n.bindAttr.call(e,{hash:{id:"chartDataTotalId"},contexts:[],types:[],hashContexts:a,hashTypes:b,data:t}))),t.buffer.push(" class='span'>\n					</div>\n				</div>\n\n				<div class='row'>\n					<div "),a={id:e,"class":e},b={id:"STRING","class":"STRING"},t.buffer.push(E(n.bindAttr.call(e,{hash:{id:"elemId","class":":draggable :span"},contexts:[],types:[],hashContexts:a,hashTypes:b,data:t}))),t.buffer.push(">\n					</div>\n					\n\n					"),b={},a={},i=n["if"].call(e,"hasLegend",{hash:{},inverse:k.noop,fn:k.program(12,u,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:b,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n\n				</div>\n\n				"),b={},a={},i=n["if"].call(e,"noDimensions",{hash:{},inverse:k.noop,fn:k.program(14,d,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:b,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n\n				"),b={},a={},i=n["if"].call(e,"errorMessage",{hash:{},inverse:k.noop,fn:k.program(16,p,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:b,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n\n				"),b={},a={},i=n.unless.call(e,"isSetup",{hash:{},inverse:k.noop,fn:k.program(18,f,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:b,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push('\n\n			</div>\n\n			<div class=\'span pull-right\' style="width: 30px; margin-left: 2px;">\n				<ul class="nav nav-pills pull-right">\n	                <div>\n                    	<li>\n                    		<button '),a={id:e},b={id:"STRING"},t.buffer.push(E(n.bindAttr.call(e,{hash:{id:"drillId"},contexts:[],types:[],hashContexts:a,hashTypes:b,data:t}))),t.buffer.push(' data-toggle="tooltip" '),a={title:e},b={title:"STRING"},t.buffer.push(E(n.bindAttr.call(e,{hash:{title:"titleToggle"},contexts:[],types:[],hashContexts:a,hashTypes:b,data:t}))),t.buffer.push(" "),a={"class":e},b={"class":"STRING"},t.buffer.push(E(n.bindAttr.call(e,{hash:{"class":"classToggle"},contexts:[],types:[],hashContexts:a,hashTypes:b,data:t}))),t.buffer.push("  "),b={},a={},t.buffer.push(E(n.action.call(e,"toggleDrill","",{hash:{},contexts:[e,e],types:["STRING","ID"],hashContexts:a,hashTypes:b,data:t}))),t.buffer.push(" >\n                    			<i class = \"icon-tasks muted\" ></i>\n                    		</button>\n                    	</li>                            \n                    </div>\n\n					<div style='padding-right: 6px;' class='pull-right'>\n						"),b={},a={},w={hash:{},contexts:[e,e],types:["STRING","ID"],hashContexts:a,hashTypes:b,data:t},t.buffer.push(E((i=n.render,i?i.call(e,"comments","comments",w):I.call(e,"render","comments","comments",w)))),t.buffer.push("\n					</div>\n					\n					<br>\n					"),b={},a={},r=n["if"].call(e,"downloadable",{hash:{},inverse:k.noop,fn:k.program(20,g,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:b,data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n					"),b={},a={},r=n["if"].call(e,"chart.can_destroy",{hash:{},inverse:k.noop,fn:k.program(22,m,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:b,data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n					\n					<br>\n					<div style='padding-right: 6px;' class='pull-right'>\n					    "),b={},a={},t.buffer.push(E(n.view.call(e,"view.chartMarginsView",{hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:b,data:t}))),t.buffer.push("\n					</div>\n					\n					"),b={},a={},r=n["if"].call(e,"chart.can_destroy",{hash:{},inverse:k.noop,fn:k.program(24,v,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:b,data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n\n					<div style='padding-right: 6px;' class='pull-right'>\n					"),b={},a={},r=n["if"].call(e,"isSetup",{hash:{},inverse:k.noop,fn:k.program(27,y,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:b,data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n					</div> 				\n\n					<div style='padding-right: 6px;' class='pull-right'>\n					"),b={},a={},r=n["if"].call(e,"isSetup",{hash:{},inverse:k.noop,fn:k.program(29,x,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:b,data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n					</div>\n					<br>\n\n					<div style='padding-right: 6px;' class='pull-right'>\n					"),b={},a={},r=n["if"].call(e,"isSetup",{hash:{},inverse:k.noop,fn:k.program(32,_,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:b,data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n					</div> 								\n				</ul>\n			</div>\n\n		</div>\n\n		"),b={},a={},t.buffer.push(E(n.view.call(e,"view.chartObjectsContainerView",{hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:b,data:t}))),t.buffer.push("\n\n	</div>\n	"),b={},a={},w={hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:b,data:t},t.buffer.push(E((i=n.trigger,i?i.call(e,"draw",w):I.call(e,"trigger","draw",w)))),t.buffer.push("\n"),C
}function s(e,t){var i,r,a="";return t.buffer.push("\n							<h6>"),i={},r={},t.buffer.push(E(n._triageMustache.call(e,"subtitle",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("</h6>\n						"),a}function o(e,t){var i,r,a="";return t.buffer.push("\n							"),i={},r={},t.buffer.push(E(n.view.call(e,"view.secondaryFiltersView",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n						"),a}function l(e,t){var i,r,a="";return t.buffer.push("\n							"),i={},r={},t.buffer.push(E(n.view.call(e,"view.addSecondaryDimensionView",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n						"),a}function c(e,t){var i,r,a="";return t.buffer.push("\n							<div class='btn-group'>\n								<div class='btn btn-mini disabled button-label'>\n									"),i={},r={},t.buffer.push(E(n._triageMustache.call(e,"currentFilter",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("								\n								</div>\n								<a class='btn btn-mini pull-right' "),i={},r={},t.buffer.push(E(n.action.call(e,"reset","chart",{hash:{},contexts:[e,e],types:["STRING","ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("> \n									x\n								</a>\n							</div>\n						"),a}function h(e,t){var i,r,a="";return t.buffer.push("\n							<div class='btn-group'>\n								<div class='btn btn-mini disabled button-label'>\n									"),i={},r={},t.buffer.push(E(n._triageMustache.call(e,"legendFilter.key",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("								\n								</div>\n								<a class='btn btn-mini pull-right' "),i={},r={},t.buffer.push(E(n.action.call(e,"resetLegendFilter","chart",{hash:{},contexts:[e,e],types:["STRING","ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("> \n									x\n								</a>\n							</div>\n						"),a}function u(e,t){var i,r,a="";return t.buffer.push("\n						<div class='span' "),i={id:e},r={id:"STRING"},t.buffer.push(E(n.bindAttr.call(e,{hash:{id:"legendId"},contexts:[],types:[],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push(' style="margin-left: 0px;">\n						</div>\n					'),a}function d(e,t){t.buffer.push("\n					<h4 class='alert alert-error'>Dimensions have not been setup for this chart </h4>\n				")}function p(e,t){var i,r,a="";return t.buffer.push("\n					<h4 class='alert alert-error'>\n						"),i={},r={},t.buffer.push(E(n._triageMustache.call(e,"errorMessage",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n					</h4>\n				"),a}function f(e,t){t.buffer.push("		\n					<div class='row'>	\n						<div class='span'>\n							<img src='/assets/loading.gif' />\n						</div>\n					</div>\n				")}function g(e,t){var i,r,a="";return t.buffer.push('\n						<div style=\'padding-right: 6px;\' class=\'pull-right\'>\n							<li>\n								<a class="sample_link" data-toggle="tooltip" data-placement="right" title="Download Chart" '),i={},r={},t.buffer.push(E(n.action.call(e,"download","chart",{hash:{},contexts:[e,e],types:["STRING","ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push(" >\n									<i class='icon-download-alt muted'></i>\n								</a>\n							</li>\n						</div>\n					"),a}function m(e,t){var i,r,a="";return t.buffer.push('\n						<br>\n						<div style=\'padding-right: 6px;\' class=\'pull-right\'>\n							<li><a class="sample_link" data-toggle="tooltip" data-placement="right" title="Delete Chart" '),i={},r={},t.buffer.push(E(n.action.call(e,"delete","chart",{hash:{},contexts:[e,e],types:["STRING","ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("><i class='icon-trash muted'></i></a></li>\n						</div>\n					"),a}function v(e,t){var i,r,a,s="";return t.buffer.push("\n						<br>\n						<div style='padding-right: 6px;' class='pull-right'>\n							"),r={},a={},i=n["if"].call(e,"isSetup",{hash:{},inverse:k.noop,fn:k.program(25,b,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n						</div> \n					"),s}function b(e,t){var i,r,a="";return t.buffer.push("\n						 	   "),i={},r={},t.buffer.push(E(n.view.call(e,"view.chartDataSourceView",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n							"),a}function y(e,t){var i,r,a="";return t.buffer.push("\n					 	   "),i={},r={},t.buffer.push(E(n.view.call(e,"view.chartConfigsView",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n					 	   "),a}function x(e,t){var i,r,a,s="";return t.buffer.push("\n					  "),r={},a={},i=n["if"].call(e,"editType",{hash:{},inverse:k.noop,fn:k.program(30,w,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n					"),s}function w(e,t){var i,r,a="";return t.buffer.push("\n					    "),i={},r={},t.buffer.push(E(n.view.call(e,"view.chartTypesView",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n					  "),a}function _(e,t){var i,r,a="";return t.buffer.push("\n					 	   "),i={},r={},t.buffer.push(E(n.view.call(e,"view.chartFiltersView",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n					 	   "),a}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var C,T,D,S="",E=this.escapeExpression,k=this,I=n.helperMissing;return T={},D={},C=n["if"].call(t,"chart.isLoaded",{hash:{},inverse:k.noop,fn:k.program(1,a,r),contexts:[t],types:["ID"],hashContexts:D,hashTypes:T,data:r}),(C||0===C)&&r.buffer.push(C),r.buffer.push("\n\n"),S}),Ember.TEMPLATES["chart_types/tree_table"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a="";return t.buffer.push("\n		"),i={contentBinding:e},r={contentBinding:"STRING"},t.buffer.push(h(n.view.call(e,"view.tableCellView",{hash:{contentBinding:"this"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("		\n	"),a}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var s,o,l,c="",h=this.escapeExpression,u=this;return r.buffer.push("<table class='table table-bordered table-hover span8'>\n	<tr>\n		<th>Key</th>\n		<th class='span3'>Values</th>\n	</tr>\n	"),o={},l={},s=n.each.call(t,"chartObj.treeData",{hash:{},inverse:u.noop,fn:u.program(1,a,r),contexts:[t],types:["ID"],hashContexts:l,hashTypes:o,data:r}),(s||0===s)&&r.buffer.push(s),r.buffer.push("\n</table>\n"),c}),Ember.TEMPLATES["chart_types/tree_table_cell"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){t.buffer.push("\n				&nbsp;&nbsp;&nbsp;&nbsp;\n			")}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var s,o,l,c,h,u="",d=this.escapeExpression,p=this,f=n.helperMissing;return r.buffer.push("\n<tr "),l={id:t,"class":t},c={id:"STRING","class":"STRING"},r.buffer.push(d(n.bindAttr.call(t,{hash:{id:"view.elemId","class":"view.className"},contexts:[],types:[],hashContexts:l,hashTypes:c,data:r}))),r.buffer.push(">\n	<td>\n		<a "),l={contextBinding:t,target:t},c={contextBinding:"STRING",target:"STRING"},r.buffer.push(d(n.action.call(t,"toggle",{hash:{contextBinding:"key",target:"view"},contexts:[t],types:["STRING"],hashContexts:l,hashTypes:c,data:r}))),r.buffer.push("> \n			"),c={},l={},h={hash:{},inverse:p.noop,fn:p.program(1,a,r),contexts:[t],types:["ID"],hashContexts:l,hashTypes:c,data:r},s=n.times,o=s?s.call(t,"depth",h):f.call(t,"times","depth",h),(o||0===o)&&r.buffer.push(o),r.buffer.push("\n			<i class='icon-chevron-right table-tree-icon-collapsed'></i>\n			"),c={},l={},r.buffer.push(d(n._triageMustache.call(t,"key",{hash:{},contexts:[t],types:["ID"],hashContexts:l,hashTypes:c,data:r}))),r.buffer.push(" \n		</a>\n	</td>\n	<td class='span3'> "),c={},l={},h={hash:{},contexts:[t],types:["ID"],hashContexts:l,hashTypes:c,data:r},r.buffer.push(d((s=n.money,s?s.call(t,"val",h):f.call(t,"money","val",h)))),r.buffer.push(" </td>\n</tr>\n"),u}),Ember.TEMPLATES.charts=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a,s,o="";return t.buffer.push("\n			"),r={},a={},s={hash:{},contexts:[e,e],types:["STRING","ID"],hashContexts:a,hashTypes:r,data:t},t.buffer.push(d((i=n.render,i?i.call(e,"chart","chart",s):u.call(e,"render","chart","chart",s)))),t.buffer.push("\n		"),o}function s(e,t){t.buffer.push('\n			<!--h4 class=\'span alert alert-info\'>\n				No Charts to Display\n			</h4-->\n			<div class="row">\n				<img src="assets/blank-dashboard.png" style="width: 97.6%;"/>\n			</div>\n		')}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var o,l,c,h="",u=n.helperMissing,d=this.escapeExpression,p=this;return r.buffer.push("\n<div class='row' style='margin-left:0px; margin-top:0px; margin-right:0px;'>\n	"),l={},c={},r.buffer.push(d(n._triageMustache.call(t,"filterCharts",{hash:{},contexts:[t],types:["ID"],hashContexts:c,hashTypes:l,data:r}))),r.buffer.push("\n	<ul class='row sortable' style='list-style-type: none; border: none; margin: 0px; padding: 0px; min-width:101%'>\n		"),l={},c={},o=n.each.call(t,"chart","in","controller",{hash:{},inverse:p.program(3,s,r),fn:p.program(1,a,r),contexts:[t,t,t],types:["ID","ID","ID"],hashContexts:c,hashTypes:l,data:r}),(o||0===o)&&r.buffer.push(o),r.buffer.push("\n	</ul>\n</div>\n"),h}),Ember.TEMPLATES["charts/_barConfigs"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var a,s,o="",l=this.escapeExpression;return r.buffer.push("\n<strong>\n	Bar Chart Configs\n</strong>\n<hr class='compact'>\n<div class='row'>\n	<div class=\"span4\">\n		<div class=\"row\">\n			\n			<div class='span'>\n				<label>Display Error Bars?</label>\n			</div>\n			<div class='span'>\n				"),a={valueBinding:t,name:t,value:t},s={valueBinding:"STRING",name:"STRING",value:"BOOLEAN"},r.buffer.push(l(n.view.call(t,"Ember.Checkbox",{hash:{valueBinding:"view.display_error_bars",name:"display_error_bars",value:!0},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push("\n			</div>\n			\n			<div class='span'>\n				<label>Plot Absolute Values?</label>\n			</div>\n			<div class='span'>\n				"),a={valueBinding:t,name:t,value:t},s={valueBinding:"STRING",name:"STRING",value:"BOOLEAN"},r.buffer.push(l(n.view.call(t,"Ember.Checkbox",{hash:{valueBinding:"view.plot_abs_values",name:"plot_abs_values",value:!0},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push('\n			</div>\n\n		</div>\n\n		<div class="input-prepend input-append">\n			<span class="add-on">Y Axis Label</span>\n			'),a={"class":t,valueBinding:t,name:t},s={"class":"STRING",valueBinding:"STRING",name:"STRING"},r.buffer.push(l(n.view.call(t,"Ember.TextField",{hash:{"class":"input-large",valueBinding:"view.y_axis_label",name:"y_axis_label"},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push("\n		</div>\n	</div>\n\n\n	<div class='span'>\n		<h5>Advanced Statistical Analysis</h5>\n		<hr class='compact'>\n		<div class=\"row\">\n			<div class='span'>\n				<label>Plot % Change?</label>\n			</div>\n			<div class='span'>\n				"),a={valueBinding:t,name:t,value:t},s={valueBinding:"STRING",name:"STRING",value:"BOOLEAN"},r.buffer.push(l(n.view.call(t,"Ember.Checkbox",{hash:{valueBinding:"view.plot_pc",name:"plot_pc",value:!0},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push("\n			</div>\n			<div class='span'>\n				<label>Highlight Statistical Relevance?</label>\n			</div>\n			<div class='span'>\n				"),a={valueBinding:t,name:t,value:t},s={valueBinding:"STRING",name:"STRING",value:"BOOLEAN"},r.buffer.push(l(n.view.call(t,"Ember.Checkbox",{hash:{valueBinding:"view.highlight_statistical_relevance",name:"highlight_statistical_relevance",value:!0},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push('\n			</div>\n		</div>\n\n		<div class="input-prepend input-append">\n			<span class="add-on">Control Group </span>\n			'),a={"class":t,valueBinding:t,name:t,placeholder:t},s={"class":"STRING",valueBinding:"STRING",name:"STRING",placeholder:"STRING"},r.buffer.push(l(n.view.call(t,"Ember.TextField",{hash:{"class":"input-xlarge",valueBinding:"view.control_key",name:"control_key",placeholder:"Control Group"},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push("\n		</div>\n	</div>\n</div>\n\n\n"),o}),Ember.TEMPLATES["charts/_chartType"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{},r.buffer.push('<h4>Chart Type</h4>	\n<div class=\'row\'>\n	<div class=\'span\'>\n		<div class="btn-group" data-toggle="buttons-radio" valueBinding="view.chartType">\n		  <button type="button" class="btn" value="pie" data-toggle="tooltip" title="Pie or Donut Chart">\n		  	<img src="/assets/pie.png" style="width: 25px; height: 25px"/>\n		  </button>\n		  <button type="button" class="btn" value="bar" data-toggle="tooltip" title="Bar Chart">\n		  	<img src="/assets/bar.png" style="width: 25px; height: 25px"/>\n		  </button>\n		  <button type="button" class="btn" value="ctree" data-toggle="tooltip" title="Collapsible Tree Chart">\n		  	<img src="/assets/ctree.png" style="width: 25px; height: 25px"/>\n		  </button>\n		  <button type="button" class="btn" value="ctable" data-toggle="tooltip" title="Collapsible Table Chart">\n		  	<img src="/assets/ctable.png" style="width: 25px; height: 25px"/>\n		  </button>\n		  <button type="button" class="btn" value="geo" data-toggle="tooltip" title="Geo Chart">\n		  	<img src="/assets/geo.png" style="width: 25px; height: 25px"/>\n		  </button>\n		  <button type="button" class="btn" value="heatmap" data-toggle="tooltip" title="Heatmap">\n		  	<img src="/assets/heatmap.png" style="width: 25px; height: 25px"/>\n		  </button>\n		  <button type="button" class="btn" value="combo" data-toggle="tooltip" title="Combination Chart">\n		  	<img src="/assets/combination.png" style="width: 25px; height: 25px"/>\n		  </button>\n		  <button type="button" class="btn" value="table" data-toggle="tooltip" title="Table Chart">\n		  	<img src="/assets/table.png" style="width: 25px; height: 25px"/>\n		  </button>\n		  <button type="button" class="btn" value="multiline" data-toggle="tooltip" title="Multiline Chart">\n		  	<img src="/assets/multiline.png" style="width: 25px; height: 25px"/>\n		  </button>\n\n		  <button type="button" class="btn" value="line" data-toggle="tooltip" title="Line Chart">\n		  	<img src="/assets/line.png" style="width: 25px; height: 25px"/>\n		  </button>\n\n\n		  <button type="button" class="btn" value="hbar" data-toggle="tooltip" title="Horizontal Bar Chart">\n		  	<img src="/assets/horizontal_bar_n.ico" style="width: 25px; height: 25px"/>\n		  </button>\n		  <button type="button" class="btn" value="area" data-toggle="tooltip" title="Area Chart">\n		  	<img src="/assets/area.png" style="width: 25px; height: 25px"/>\n		  </button>\n	      <button type="button" class="btn" value="scatter_plot" data-toggle="tooltip" title="Scatter Plot">\n		  	<img src="/assets/scatterplot.png" style="width: 25px; height: 25px"/>\n		  </button>\n\n	      <button type="button" class="btn" value="grouped_table" data-toggle="tooltip" title="Grouped Table">\n		  	<img src="/assets/grouped_table.png" style="width: 25px; height: 25px"/>\n		  </button>\n\n	      <button type="button" class="btn" value="single_value" data-toggle="tooltip" title="Single Value">\n		  	<img src="/assets/one.png" style="width: 25px; height: 25px"/>\n		  </button>\n		  <button type="button" class="btn" value="stacked_area" data-toggle="tooltip" title="Stacked Area Chart">\n			<img src="/assets/chart_area.png" style="width: 25px; height: 25px"/>\n		  </button>\n		</div>\n	</div>\n</div>\n')}),Ember.TEMPLATES["charts/_chartTypeButton"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var a,s,o,l,c="",h=this.escapeExpression,u=n.helperMissing;return r.buffer.push('		  \n\n\n	\n		  <button type="button" class="btn" '),s={value:t},o={value:"ID"},r.buffer.push(h(n.bindAttr.call(t,{hash:{value:"t"},contexts:[],types:[],hashContexts:s,hashTypes:o,data:r}))),r.buffer.push(' data-toggle="tooltip"  title = '),o={},s={},l={hash:{},contexts:[t],types:["ID"],hashContexts:s,hashTypes:o,data:r},r.buffer.push(h((a=n.getTitle,a?a.call(t,"",l):u.call(t,"getTitle","",l)))),r.buffer.push(">\n		  	<img src="),o={},s={},l={hash:{},contexts:[t],types:["ID"],hashContexts:s,hashTypes:o,data:r},r.buffer.push(h((a=n.getImage,a?a.call(t,"",l):u.call(t,"getImage","",l)))),r.buffer.push(' style="width: 25px; height: 25px"/>\n		  </button>\n\n'),c}),Ember.TEMPLATES["charts/_chartTypeConfigs"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a,s,o="";return t.buffer.push("\n	"),r={},a={},s={hash:{},contexts:[e],types:["STRING"],hashContexts:a,hashTypes:r,data:t},t.buffer.push(v((i=n.partial,i?i.call(e,"charts/ctreeConfigs",s):m.call(e,"partial","charts/ctreeConfigs",s)))),t.buffer.push("\n"),o}function s(e,t){var i,r,a,s,o="";return t.buffer.push("\n	"),r={},a={},s={hash:{},contexts:[e],types:["STRING"],hashContexts:a,hashTypes:r,data:t},t.buffer.push(v((i=n.partial,i?i.call(e,"charts/ctableConfigs",s):m.call(e,"partial","charts/ctableConfigs",s)))),t.buffer.push("\n"),o}function o(e,t){var i,r,a,s,o="";return t.buffer.push("\n	"),r={},a={},s={hash:{},contexts:[e],types:["STRING"],hashContexts:a,hashTypes:r,data:t},t.buffer.push(v((i=n.partial,i?i.call(e,"charts/geoConfigs",s):m.call(e,"partial","charts/geoConfigs",s)))),t.buffer.push("\n"),o}function l(e,t){var i,r,a,s,o="";return t.buffer.push("\n	"),r={},a={},s={hash:{},contexts:[e],types:["STRING"],hashContexts:a,hashTypes:r,data:t},t.buffer.push(v((i=n.partial,i?i.call(e,"charts/tableConfigs",s):m.call(e,"partial","charts/tableConfigs",s)))),t.buffer.push("\n"),o}function c(e,t){var i,r,a,s,o="";return t.buffer.push("\n	"),r={},a={},s={hash:{},contexts:[e],types:["STRING"],hashContexts:a,hashTypes:r,data:t},t.buffer.push(v((i=n.partial,i?i.call(e,"charts/multilineConfigs",s):m.call(e,"partial","charts/multilineConfigs",s)))),t.buffer.push("\n"),o}function h(e,t){var i,r,a,s,o="";return t.buffer.push("\n	"),r={},a={},s={hash:{},contexts:[e],types:["STRING"],hashContexts:a,hashTypes:r,data:t},t.buffer.push(v((i=n.partial,i?i.call(e,"charts/horizontalBarConfigs",s):m.call(e,"partial","charts/horizontalBarConfigs",s)))),t.buffer.push("\n"),o}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var u,d,p,f,g="",m=n.helperMissing,v=this.escapeExpression,b=this;return r.buffer.push('<div style="margin-top: 10px; margin-bottom: 10px">\n\n'),d={},p={},u=n["if"].call(t,"view.ctree",{hash:{},inverse:b.noop,fn:b.program(1,a,r),contexts:[t],types:["ID"],hashContexts:p,hashTypes:d,data:r}),(u||0===u)&&r.buffer.push(u),r.buffer.push("\n\n"),d={},p={},u=n["if"].call(t,"view.ctable",{hash:{},inverse:b.noop,fn:b.program(3,s,r),contexts:[t],types:["ID"],hashContexts:p,hashTypes:d,data:r}),(u||0===u)&&r.buffer.push(u),r.buffer.push("\n\n"),d={},p={},u=n["if"].call(t,"view.geo",{hash:{},inverse:b.noop,fn:b.program(5,o,r),contexts:[t],types:["ID"],hashContexts:p,hashTypes:d,data:r}),(u||0===u)&&r.buffer.push(u),r.buffer.push("\n\n"),d={},p={},u=n["if"].call(t,"view.table",{hash:{},inverse:b.noop,fn:b.program(7,l,r),contexts:[t],types:["ID"],hashContexts:p,hashTypes:d,data:r}),(u||0===u)&&r.buffer.push(u),r.buffer.push("\n\n"),d={},p={},u=n["if"].call(t,"view.multiline",{hash:{},inverse:b.noop,fn:b.program(9,c,r),contexts:[t],types:["ID"],hashContexts:p,hashTypes:d,data:r}),(u||0===u)&&r.buffer.push(u),r.buffer.push("\n\n"),d={},p={},u=n["if"].call(t,"view.hbar",{hash:{},inverse:b.noop,fn:b.program(11,h,r),contexts:[t],types:["ID"],hashContexts:p,hashTypes:d,data:r}),(u||0===u)&&r.buffer.push(u),r.buffer.push("\n\n"),d={},p={},f={hash:{},contexts:[t],types:["STRING"],hashContexts:p,hashTypes:d,data:r},r.buffer.push(v((u=n.partial,u?u.call(t,"charts/commonConfigs",f):m.call(t,"partial","charts/commonConfigs",f)))),r.buffer.push("\n</div>\n"),g}),Ember.TEMPLATES["charts/_commonConfigs"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var a,s,o="",l=this.escapeExpression;return r.buffer.push("<table>\n	<tr>\n		<td style='width: 100px;'>Select Values</td>\n		<td style='width: 100px'>      \n			"),a={"class":t,valueBinding:t,name:t,placeholder:t},s={"class":"STRING",valueBinding:"STRING",name:"STRING",placeholder:"STRING"},r.buffer.push(l(n.view.call(t,"Ember.TextField",{hash:{"class":"arrayField",valueBinding:"view.selection_values",name:"selection_values",placeholder:"Comma Separated List of Fields"},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push("\n		</td>\n	</tr>\n	<tr>\n		<td style='width: 100px'>Display Rank</td>\n		<td style='width: 100px'>      \n			"),a={valueBinding:t,name:t,value:t},s={valueBinding:"STRING",name:"STRING",value:"BOOLEAN"},r.buffer.push(l(n.view.call(t,"Ember.Checkbox",{hash:{valueBinding:"view.display_rank",name:"display_rank",value:!0},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push("\n		</td>\n	</tr>\n\n</table>\n	\n"),o}),Ember.TEMPLATES["charts/_ctableConfigs"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var a,s,o="",l=this.escapeExpression;return r.buffer.push('<div class="input-prepend input-append">\n	<span class="add-on">Hierarchy</span>\n	'),a={"class":t,valueBinding:t,name:t,placeholder:t},s={"class":"STRING",valueBinding:"STRING",name:"STRING",placeholder:"STRING"},r.buffer.push(l(n.view.call(t,"Ember.TextField",{hash:{"class":"input-xlarge arrayField",valueBinding:"view.hierarchy",name:"hierarchy",placeholder:"Comma Separated List of Fields"},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push('\n</div>\n\n<div class="input-prepend input-append">\n  <span class="add-on">Expansion Depth</span>\n  '),a={"class":t,valueBinding:t,type:t,name:t,placeholder:t},s={"class":"STRING",valueBinding:"STRING",type:"STRING",name:"STRING",placeholder:"STRING"},r.buffer.push(l(n.view.call(t,"Ember.TextField",{hash:{"class":"input-mini",valueBinding:"view.expansion_depth",type:"number",name:"expansion_depth",placeholder:"Default Expansion Depth in Tree"},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push("\n</div>\n\n<div class=\"row\">\n	<div class='span'>\n		<label>Sort By Key?</label>\n	</div>\n	<div class='span'>\n		"),a={valueBinding:t,name:t,value:t},s={valueBinding:"STRING",name:"STRING",value:"BOOLEAN"},r.buffer.push(l(n.view.call(t,"Ember.Checkbox",{hash:{valueBinding:"view.sort_by_key",name:"sort_by_key",value:!0},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push("\n	</div>\n</div>\n\n\n"),o}),Ember.TEMPLATES["charts/_dataSources"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a,h="";return t.buffer.push("	\n		"),r={},a={},i=n.unless.call(e,"view.single_value",{hash:{},inverse:v.program(4,o,t),fn:v.program(2,s,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n\n\n		<div class='row'>\n			<div class='span'>\n				<label> Calculated Field </label>\n			</div>\n			<div class='span'>\n				"),a={checkedBinding:e},r={checkedBinding:"STRING"},t.buffer.push(g(n.view.call(e,"Ember.Checkbox",{hash:{checkedBinding:"view.is_calculated"},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push("\n			</div>\n		</div>\n\n		"),r={},a={},i=n["if"].call(e,"view.is_calculated",{hash:{},inverse:v.program(8,c,t),fn:v.program(6,l,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push('\n\n\n		<div class="input-prepend input-append">\n			<span class="add-on large">Fact Display</span>\n			'),a={type:e,valueBinding:e},r={type:"STRING",valueBinding:"STRING"},t.buffer.push(g(n.view.call(e,"Ember.TextField",{hash:{type:"text",valueBinding:"view.factDisplay"},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push('\n		</div>		\n\n		<div class="input-prepend input-append">\n			<span class="add-on large">Format Fact</span>\n			'),a={contentBinding:e,valueBinding:e,optionValuePath:e,optionLabelPath:e,required:e},r={contentBinding:"STRING",valueBinding:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",required:"BOOLEAN"},t.buffer.push(g(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.factFormats",valueBinding:"view.factFormat",optionValuePath:"content.key",optionLabelPath:"content.name",required:!0},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push('\n		</div>\n\n		<div class="input-prepend input-append">\n			<span class="add-on large">Fact Type (o)</span>\n			'),a={contentBinding:e,valueBinding:e},r={contentBinding:"STRING",valueBinding:"STRING"},t.buffer.push(g(n.view.call(e,"Ember.Select",{hash:{contentBinding:"factTypes",valueBinding:"view.factType"},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push('\n		</div>\n\n		<div class="input-prepend input-append">\n			<span class="add-on large">Fact Unit</span>\n			'),a={contentBinding:e,valueBinding:e},r={contentBinding:"STRING",valueBinding:"STRING"},t.buffer.push(g(n.view.call(e,"Ember.Select",{hash:{contentBinding:"factUnits",valueBinding:"view.factUnit"},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push('\n		</div>\n\n		<div class="input-prepend input-append">\n			<span class="add-on large">Count</span>\n			'),a={"class":e,type:e,valueBinding:e,required:e},r={"class":"STRING",type:"STRING",valueBinding:"STRING",required:"BOOLEAN"},t.buffer.push(g(n.view.call(e,"Ember.TextField",{hash:{"class":"input-large",type:"number",valueBinding:"view.count",required:!0},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push("\n		</div>\n\n	"),h}function s(e,t){var i,r,a="";return t.buffer.push('\n			<div class="input-prepend input-append">\n				<span class="add-on large">Dimension Name</span>\n				'),i={contentBinding:e,valueBinding:e,required:e},r={contentBinding:"STRING",valueBinding:"STRING",required:"BOOLEAN"},t.buffer.push(g(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.dimensionsArr",valueBinding:"view.dimensionName",required:!0},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push('\n			</div>\n\n			<div class="input-prepend input-append">\n				<span class="add-on large">Format Dimension</span>\n				'),i={contentBinding:e,valueBinding:e},r={contentBinding:"STRING",valueBinding:"STRING"},t.buffer.push(g(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.dimensionsSupportedFormats",valueBinding:"view.dimensionFormatAs"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push('\n			</div>\n\n			<div class="input-prepend input-append">\n				<span class="add-on large">Depth</span>\n				'),i={contentBinding:e,valueBinding:e},r={contentBinding:"STRING",valueBinding:"STRING"},t.buffer.push(g(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.dimensionsArr",valueBinding:"view.depth"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n			</div>\n		"),a}function o(e,t){t.buffer.push('\n			<div class="input-prepend input-append">	\n				<span class="add-on medium">Dimension Name</span>\n				<select disabled class="data-source">\n				  <option></option>\n				</select>\n			</div>\n			<div class="input-prepend input-append">	\n				<span class="add-on medium">Format Dimension</span>\n				<select disabled class="data-source">\n				  <option></option>\n				</select>\n			</div>											\n			<div class="input-prepend input-append">	\n				<span class="add-on medium">Depth</span>\n				<select disabled class="data-source">\n				  <option></option>\n				</select>\n			</div>\n		')}function l(e,t){var i,r,a,s,o="";return t.buffer.push('\n			<div class="input-prepend input-append">\n				<span class="add-on large">Fact</span>\n				'),r={type:e,valueBinding:e,required:e,placeholder:e},a={type:"STRING",valueBinding:"STRING",required:"BOOLEAN",placeholder:"STRING"},s={hash:{type:"text",valueBinding:"view.fact",required:!0,placeholder:"Enter Formula. Put field in []"},contexts:[],types:[],hashContexts:r,hashTypes:a,data:t},t.buffer.push(g((i=n.input,i?i.call(e,s):m.call(e,"input",s)))),t.buffer.push("\n			</div>\n		"),o}function c(e,t){var i,r,a="";return t.buffer.push('\n			<div class="input-prepend input-append">\n				<span class="add-on large">Fact</span>\n				'),i={contentBinding:e,valueBinding:e,required:e},r={contentBinding:"STRING",valueBinding:"STRING",required:"BOOLEAN"},t.buffer.push(g(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.fieldsArr",valueBinding:"view.fact",required:!0},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n			</div>\n		"),a}function h(e,t){t.buffer.push('\n		<span class="text-info">For this chart only Data Source is required</span>\n	')}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var u,d,p,f="",g=this.escapeExpression,m=n.helperMissing,v=this;return r.buffer.push('<div class=\'span4 ui-box\' style="margin-left: 30px">\n	<div class="input-prepend input-append">	\n		<span class="add-on large">Data Source</span>\n		'),d={contentBinding:t,valueBinding:t,optionValuePath:t,optionLabelPath:t},p={contentBinding:"STRING",valueBinding:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING"},r.buffer.push(g(n.view.call(t,"Ember.Select",{hash:{contentBinding:"data_sources",valueBinding:"view.dataSourceId",optionValuePath:"content.id",optionLabelPath:"content.name"},contexts:[t],types:["ID"],hashContexts:d,hashTypes:p,data:r}))),r.buffer.push("\n	</div>\n\n	"),p={},d={},u=n["if"].call(t,"view.toDisplayAttributes",{hash:{},inverse:v.noop,fn:v.program(1,a,r),contexts:[t],types:["ID"],hashContexts:d,hashTypes:p,data:r}),(u||0===u)&&r.buffer.push(u),r.buffer.push("\n\n	"),p={},d={},u=n["if"].call(t,"view.isPivotTableChart",{hash:{},inverse:v.noop,fn:v.program(10,h,r),contexts:[t],types:["ID"],hashContexts:d,hashTypes:p,data:r}),(u||0===u)&&r.buffer.push(u),r.buffer.push("\n</div>\n\n"),f}),Ember.TEMPLATES["charts/_geoConfigs"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var a,s,o="",l=this.escapeExpression;return r.buffer.push("<h4>Chart Type</h4>	\n<div class='row'>\n	<div class='span'>\n		<div class=\"btn-group\" data-toggle=\"buttons-radio\" "),a={on:t,target:t},s={on:"STRING",target:"STRING"},r.buffer.push(l(n.action.call(t,"geoChartTypeChanged","",{hash:{on:"click",target:"view"},contexts:[t,t],types:["STRING","ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push('>\n		  <button type="button" class="btn btn-primary" value="world" name=\'geo_chart_type\'>World</button>\n		  <button type="button" class="btn btn-primary" value="india" name=\'geo_chart_type\'>India</button>\n		</div>\n	</div>\n</div>\n<br>\n'),o}),Ember.TEMPLATES["charts/_tableConfigs"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var a,s,o="",l=this.escapeExpression;return r.buffer.push('<div class="input-prepend input-append">\n	<span class="add-on">Fields</span>\n	'),a={"class":t,valueBinding:t,name:t,placeholder:t},s={"class":"STRING",valueBinding:"STRING",name:"STRING",placeholder:"STRING"},r.buffer.push(l(n.view.call(t,"Ember.TextField",{hash:{"class":"input-xlarge arrayField",valueBinding:"view.hierarchy",name:"hierarchy",placeholder:"Comma Separated List of Fields"},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push("\n</div>\n"),o}),Ember.TEMPLATES["charts/chart_configs"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a,s,o="";return t.buffer.push("\n						  "),r={},a={},s={hash:{},contexts:[e],types:["STRING"],hashContexts:a,hashTypes:r,data:t},t.buffer.push(x((i=n.partial,i?i.call(e,"charts/edit_configs/bar",s):y.call(e,"partial","charts/edit_configs/bar",s)))),t.buffer.push("\n						"),o}function s(e,t){var i,r,a,s,o="";return t.buffer.push("\n							"),r={},a={},s={hash:{},contexts:[e],types:["STRING"],hashContexts:a,hashTypes:r,data:t},t.buffer.push(x((i=n.partial,i?i.call(e,"charts/edit_configs/ctable",s):y.call(e,"partial","charts/edit_configs/ctable",s)))),t.buffer.push("\n						"),o}function o(e,t){var i,r,a,s,o="";return t.buffer.push("\n							"),r={},a={},s={hash:{},contexts:[e],types:["STRING"],hashContexts:a,hashTypes:r,data:t},t.buffer.push(x((i=n.partial,i?i.call(e,"charts/edit_configs/geo",s):y.call(e,"partial","charts/edit_configs/geo",s)))),t.buffer.push("\n						"),o
}function l(e,t){var i,r,a,s,o="";return t.buffer.push("\n							"),r={},a={},s={hash:{},contexts:[e],types:["STRING"],hashContexts:a,hashTypes:r,data:t},t.buffer.push(x((i=n.partial,i?i.call(e,"charts/edit_configs/heatmap",s):y.call(e,"partial","charts/edit_configs/heatmap",s)))),t.buffer.push("\n						"),o}function c(e,t){var i,r,a,s,o="";return t.buffer.push("\n							"),r={},a={},s={hash:{},contexts:[e],types:["STRING"],hashContexts:a,hashTypes:r,data:t},t.buffer.push(x((i=n.partial,i?i.call(e,"charts/edit_configs/line",s):y.call(e,"partial","charts/edit_configs/line",s)))),t.buffer.push("\n						"),o}function h(e,t){var i,r,a,s,o="";return t.buffer.push("\n							"),r={},a={},s={hash:{},contexts:[e],types:["STRING"],hashContexts:a,hashTypes:r,data:t},t.buffer.push(x((i=n.partial,i?i.call(e,"charts/edit_configs/table",s):y.call(e,"partial","charts/edit_configs/table",s)))),t.buffer.push("\n						"),o}function u(e,t){var i,r,a,s,o="";return t.buffer.push("\n							"),r={},a={},s={hash:{},contexts:[e],types:["STRING"],hashContexts:a,hashTypes:r,data:t},t.buffer.push(x((i=n.partial,i?i.call(e,"charts/edit_configs/multiline",s):y.call(e,"partial","charts/edit_configs/multiline",s)))),t.buffer.push("\n						"),o}function d(e,t){var i,r,a,s,o="";return t.buffer.push("\n							"),r={},a={},s={hash:{},contexts:[e],types:["STRING"],hashContexts:a,hashTypes:r,data:t},t.buffer.push(x((i=n.partial,i?i.call(e,"charts/edit_configs/singleValue",s):y.call(e,"partial","charts/edit_configs/singleValue",s)))),t.buffer.push("\n						"),o}function p(e,t){var i,r,a,s,o="";return t.buffer.push("\n							"),r={},a={},s={hash:{},contexts:[e],types:["STRING"],hashContexts:a,hashTypes:r,data:t},t.buffer.push(x((i=n.partial,i?i.call(e,"charts/edit_configs/groupedTable",s):y.call(e,"partial","charts/edit_configs/groupedTable",s)))),t.buffer.push("\n						"),o}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var f,g,m,v,b="",y=n.helperMissing,x=this.escapeExpression,w=this;return r.buffer.push('	<li class=\'filterDiv\'>\n		<a rel="popover" class="data_source_popover" data-toggle="tooltip" data-placement="right auto" title="Edit Chart Configs" '),g={id:t},m={id:"STRING"},r.buffer.push(x(n.bindAttr.call(t,{hash:{id:"dataSourcePopoverId"},contexts:[],types:[],hashContexts:g,hashTypes:m,data:r}))),r.buffer.push('  >\n			<i class=\'icon-cog muted\'></i>\n		</a>\n\n		<div class="popover fade bottom in hidden" style="display: block; height: auto; ">\n			<div class="arrow hidden" style="left:64px;"></div>\n			<h3 class="popover-title hidden">Chart Configs</h3>\n			<div class="popover-content hidden">\n				<form class=\'form form-inline\' >\n					<div >\n\n						'),m={},g={},f=n["if"].call(t,"view.bar",{hash:{},inverse:w.noop,fn:w.program(1,a,r),contexts:[t],types:["ID"],hashContexts:g,hashTypes:m,data:r}),(f||0===f)&&r.buffer.push(f),r.buffer.push("\n\n						"),m={},g={},f=n["if"].call(t,"view.ctable",{hash:{},inverse:w.noop,fn:w.program(3,s,r),contexts:[t],types:["ID"],hashContexts:g,hashTypes:m,data:r}),(f||0===f)&&r.buffer.push(f),r.buffer.push("\n\n						"),m={},g={},f=n["if"].call(t,"view.geo",{hash:{},inverse:w.noop,fn:w.program(5,o,r),contexts:[t],types:["ID"],hashContexts:g,hashTypes:m,data:r}),(f||0===f)&&r.buffer.push(f),r.buffer.push("\n\n						"),m={},g={},f=n["if"].call(t,"view.heatmap",{hash:{},inverse:w.noop,fn:w.program(7,l,r),contexts:[t],types:["ID"],hashContexts:g,hashTypes:m,data:r}),(f||0===f)&&r.buffer.push(f),r.buffer.push("\n\n						"),m={},g={},f=n["if"].call(t,"view.line",{hash:{},inverse:w.noop,fn:w.program(9,c,r),contexts:[t],types:["ID"],hashContexts:g,hashTypes:m,data:r}),(f||0===f)&&r.buffer.push(f),r.buffer.push("\n\n						"),m={},g={},f=n["if"].call(t,"view.table",{hash:{},inverse:w.noop,fn:w.program(11,h,r),contexts:[t],types:["ID"],hashContexts:g,hashTypes:m,data:r}),(f||0===f)&&r.buffer.push(f),r.buffer.push("\n\n						"),m={},g={},f=n["if"].call(t,"view.multiline",{hash:{},inverse:w.noop,fn:w.program(13,u,r),contexts:[t],types:["ID"],hashContexts:g,hashTypes:m,data:r}),(f||0===f)&&r.buffer.push(f),r.buffer.push("\n\n						"),m={},g={},f=n["if"].call(t,"view.single_value",{hash:{},inverse:w.noop,fn:w.program(15,d,r),contexts:[t],types:["ID"],hashContexts:g,hashTypes:m,data:r}),(f||0===f)&&r.buffer.push(f),r.buffer.push("	\n\n						"),m={},g={},f=n["if"].call(t,"view.grouped_table",{hash:{},inverse:w.noop,fn:w.program(17,p,r),contexts:[t],types:["ID"],hashContexts:g,hashTypes:m,data:r}),(f||0===f)&&r.buffer.push(f),r.buffer.push("				\n\n					</div>\n					"),m={},g={},v={hash:{},contexts:[t],types:["STRING"],hashContexts:g,hashTypes:m,data:r},r.buffer.push(x((f=n.partial,f?f.call(t,"charts/edit_configs/common",v):y.call(t,"partial","charts/edit_configs/common",v)))),r.buffer.push('\n					<div class="row">\n						<div class="span2" style="margin-top:10px;">\n							<button type="submit" class=\'btn\' >Save</button>\n							<button class="btn" aria-hidden="true" onclick="$(this).closest(\'li\').find(\'.icon-cog\').click();return false;">Cancel</button>\n						</div>\n					</div>\n				</form>\n				</div>\n			</div>\n	</li>\n'),b}),Ember.TEMPLATES["charts/chart_data_source"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a,h="";return t.buffer.push('\n						    <h5 class="muted">Data Source '),r={},a={},t.buffer.push(f(n._triageMustache.call(e,"index",{hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push("</h4> \n									<div "),a={id:e},r={id:"STRING"},t.buffer.push(f(n.bindAttr.call(e,{hash:{id:"cds.id"},contexts:[],types:[],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push('  class=\'span4 edit_charts_data_sources_div\' style=\'margin-left:2px;padding-bottom:10px;border-bottom:2px solid #eeeeee;\'>\n											<div class="input-prepend input-append">	\n												<span class="add-on medium">Data Source</span>\n												<select disabled class="data-source input-medium">\n												  <option '),a={value:e},r={value:"ID"},t.buffer.push(f(n.bindAttr.call(e,{hash:{value:"cds.id"},contexts:[],types:[],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push(">"),r={},a={},t.buffer.push(f(n._triageMustache.call(e,"cds.dataSource.name",{hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push("</option>\n												</select>\n											</div>	\n											"),r={},a={},i=n.unless.call(e,"singleValueChart",{hash:{},inverse:m.program(4,o,t),fn:m.program(2,s,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n											<div class='row'>\n												<div class='span'>\n													<label> Calculated Field </label>\n												</div> \n												<div class='span'>\n													"),a={checkedBinding:e,"class":e},r={checkedBinding:"STRING","class":"STRING"},t.buffer.push(f(n.view.call(e,"Ember.Checkbox",{hash:{checkedBinding:"cds.isCalculated","class":"is-calculated"},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push("\n												</div>\n\n											</div>\n											"),r={},a={},i=n["if"].call(e,"cds.isCalculated",{hash:{},inverse:m.program(8,c,t),fn:m.program(6,l,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push('\n									\n											<div class="input-prepend input-append">\n												<span class="add-on large">Fact Display</span>\n												'),a={"class":e,type:e,valueBinding:e},r={"class":"STRING",type:"STRING",valueBinding:"STRING"},t.buffer.push(f(n.view.call(e,"Ember.TextField",{hash:{"class":"input-medium",type:"text",valueBinding:"cds.factDisplay"},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push('\n											</div>		\n\n											<div class="input-prepend input-append">\n												<span class="add-on medium">Format Fact</span>\n												'),a={contentBinding:e,optionValuePath:e,optionLabelPath:e,valueBinding:e,required:e,"class":e},r={contentBinding:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING",required:"BOOLEAN","class":"STRING"},t.buffer.push(f(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.factFormats",optionValuePath:"content.key",optionLabelPath:"content.name",valueBinding:"cds.factFormat",required:!0,"class":"format-fact input-medium"},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push('\n											</div>\n\n											<div class="input-prepend input-append">\n												<span class="add-on medium">Fact Type (o)</span>\n												'),a={contentBinding:e,valueBinding:e,"class":e},r={contentBinding:"STRING",valueBinding:"STRING","class":"STRING"},t.buffer.push(f(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.factTypes",valueBinding:"cds.factType","class":"fact-type input-medium"},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push('\n\n											</div>\n											<div class="input-prepend input-append">\n												<span class="add-on medium">Fact Unit</span>\n												'),a={contentBinding:e,valueBinding:e,"class":e},r={contentBinding:"STRING",valueBinding:"STRING","class":"STRING"},t.buffer.push(f(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.factUnits",valueBinding:"cds.factUnit","class":"fact-unit input-medium"},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push('\n											</div>\n\n											<div class="input-prepend input-append">\n												<span class="add-on medium">Count</span>\n												'),a={"class":e,type:e,valueBinding:e,required:e,"class":e},r={"class":"STRING",type:"STRING",valueBinding:"STRING",required:"BOOLEAN","class":"STRING"},t.buffer.push(f(n.view.call(e,"Ember.TextField",{hash:{"class":":input-medium",type:"number",valueBinding:"cds.count",required:!0,"class":"count"},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push("\n											</div>\n									</div>\n									\n						"),h}function s(e,t){var i,r,a="";return t.buffer.push('\n												<div class="input-prepend input-append">\n													<span class="add-on medium">Dimension Name</span>\n													'),i={contentBinding:e,valueBinding:e,required:e,"class":e},r={contentBinding:"STRING",valueBinding:"STRING",required:"BOOLEAN","class":"STRING"},t.buffer.push(f(n.view.call(e,"Ember.Select",{hash:{contentBinding:"cds.dataSource.dimensionsArr",valueBinding:"cds.dimensionName",required:!0,"class":"dimension-name input-medium"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push('\n												</div>\n												<div class="input-prepend input-append">\n													<span class="add-on medium">Format Dimension</span>\n													'),i={contentBinding:e,valueBinding:e,required:e,"class":e},r={contentBinding:"STRING",valueBinding:"STRING",required:"BOOLEAN","class":"STRING"},t.buffer.push(f(n.view.call(e,"Ember.Select",{hash:{contentBinding:"cds.dimensionsSupportedFormats",valueBinding:"cds.dimensionFormatAs",required:!0,"class":"dimension-format-as input-medium"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push('\n												</div>\n\n												<div class="input-prepend input-append">\n													<span class="add-on medium">Depth</span>\n													'),i={contentBinding:e,valueBinding:e,"class":e,prompt:e},r={contentBinding:"STRING",valueBinding:"STRING","class":"STRING",prompt:"STRING"},t.buffer.push(f(n.view.call(e,"Ember.Select",{hash:{contentBinding:"cds.dataSource.depthArr",valueBinding:"cds.depth","class":"depth input-medium",prompt:" "},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n												</div>\n											"),a}function o(e,t){t.buffer.push('\n												<div class="input-prepend input-append">	\n													<span class="add-on medium">Dimension Name</span>\n													<select disabled class="data-source input-medium">\n													  <option></option>\n													</select>\n												</div>\n												<div class="input-prepend input-append">	\n													<span class="add-on medium">Format Dimension</span>\n													<select disabled class="data-source input-medium">\n													  <option></option>\n													</select>\n												</div>											\n												<div class="input-prepend input-append">	\n													<span class="add-on medium">Depth</span>\n													<select disabled class="data-source input-medium">\n													  <option></option>\n													</select>\n												</div>											\n											')}function l(e,t){var i,r,a,s,o="";return t.buffer.push('\n												<div class="input-prepend input-append">\n													<span class="add-on medium">Fact</span>\n													'),r={type:e,valueBinding:e,required:e,placeholder:e,"class":e},a={type:"STRING",valueBinding:"STRING",required:"BOOLEAN",placeholder:"STRING","class":"STRING"},s={hash:{type:"text",valueBinding:"cds.fact",required:!0,placeholder:"Enter Formula. Put field in []","class":"fact input-medium"},contexts:[],types:[],hashContexts:r,hashTypes:a,data:t},t.buffer.push(f((i=n.input,i?i.call(e,s):g.call(e,"input",s)))),t.buffer.push("\n												</div>\n											"),o}function c(e,t){var i,r,a="";return t.buffer.push('\n												<div class="input-prepend input-append">\n													<span class="add-on medium">Fact</span>\n													'),i={contentBinding:e,valueBinding:e,required:e,"class":e},r={contentBinding:"STRING",valueBinding:"STRING",required:"BOOLEAN","class":"STRING"},t.buffer.push(f(n.view.call(e,"Ember.Select",{hash:{contentBinding:"cds.dataSource.factsArr",valueBinding:"cds.fact",required:!0,"class":"fact input-medium"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n												</div>\n											"),a}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var h,u,d,p="",f=this.escapeExpression,g=n.helperMissing,m=this;return r.buffer.push('	<li>\n		<a rel="popover" class="data_source_popover" style="font-size:0px;" data-toggle="tooltip" data-placement="right" title="Edit Chart Data" '),u={id:t},d={id:"STRING"},r.buffer.push(f(n.bindAttr.call(t,{hash:{id:"dataSourcePopoverId"},contexts:[],types:[],hashContexts:u,hashTypes:d,data:r}))),r.buffer.push(' >\n			<img src="/assets/db.png" class="charts_data_source_icon" style="width: 13px; height: 13px; opacity: 0.5"></img>\n		</a>\n	\n		<div class="popover fade bottom in hidden" style="display: block; width: 365px; height: 350px;">\n			<div class="arrow hidden" style="left:37px;"></div>\n			<h3 class="popover-title hidden">Chart Data Source</h3>\n			<div class="popover-content hidden">\n				<form class=\'form form-inline\' >\n					<div class="tabbable tabs-left" style="height:250px;overflow-x:hidden;">\n						<ul class="nav nav-tabs" id="main-tab-links">	\n						'),d={},u={},r.buffer.push(f(n._triageMustache.call(t,"reset_index",{hash:{},contexts:[t],types:["ID"],hashContexts:u,hashTypes:d,data:r}))),r.buffer.push("	\n						"),d={},u={},h=n.each.call(t,"cds","in","chartsDataSources",{hash:{},inverse:m.noop,fn:m.program(1,a,r),contexts:[t,t,t],types:["ID","ID","ID"],hashContexts:u,hashTypes:d,data:r}),(h||0===h)&&r.buffer.push(h),r.buffer.push('\n						</ul>\n					</div>\n					<div class="row">\n						<div class="span2" style="margin-top:10px;text-align:right;">\n							<button type="submit" class=\'btn\' >Save</button>\n							<button class="btn" aria-hidden="true" onclick="$(this).closest(\'li\').find(\'.charts_data_source_icon\').click();return false;">Cancel</button>\n						</div>\n					</div>\n				</form>\n				</div>\n			</div>\n	</li>\n'),p}),Ember.TEMPLATES["charts/chart_description"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var a,s,o="",l=this.escapeExpression;return r.buffer.push('	<a rel="popover" class="description_popover" data-toggle="tooltip" data-placement="right auto" title="Chart description" '),a={id:t},s={id:"STRING"},r.buffer.push(l(n.bindAttr.call(t,{hash:{id:"id"},contexts:[],types:[],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push(">\n		<i class='icon-question-sign muted'></i>\n		<div id='list_comments' class='hidden'>\n			<div class=\"row\">\n				"),s={},a={},r.buffer.push(l(n._triageMustache.call(t,"description",{hash:{},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push("\n			</div>\n		</div>\n		<br/>\n		<div id='new_comment' class='hidden'>\n			<div class=\"row\">\n				<small class=\"pull-right\">"),s={},a={},r.buffer.push(l(n._triageMustache.call(t,"id",{hash:{},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push('</small>\n				<br/>\n				<button class="btn btn-mini" aria-hidden="" onclick="$(this).closest(\'li\').find(\'.icon-question-sign\').click();return false;">Close</button>\n			</div>\n		</div>\n	</a>\n'),o}),Ember.TEMPLATES["charts/chart_drill"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var a,s,o="",l=this.escapeExpression;return r.buffer.push('\n	<span style="font-size:10px">Modal Drill Through</span>\n\n<div class="btn-group" data-toggle="buttons-radio" >\n\n		  <button type="button" '),a={"class":t},s={"class":"STRING"},r.buffer.push(l(n.bindAttr.call(t,{hash:{"class":"btn_on"},contexts:[],types:[],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push(" "),a={target:t},s={target:"ID"},r.buffer.push(l(n.action.call(t,"editDrill",1,{hash:{target:"view"},contexts:[t,t],types:["STRING","INTEGER"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push(' >\n		ON\n		  </button>\n		  	  <button type="button" '),a={"class":t},s={"class":"STRING"},r.buffer.push(l(n.bindAttr.call(t,{hash:{"class":"btn_off"},contexts:[],types:[],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push(" "),a={target:t},s={target:"ID"},r.buffer.push(l(n.action.call(t,"editDrill",0,{hash:{target:"view"},contexts:[t,t],types:["STRING","INTEGER"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push(" >\n		OFF\n		  </button>\n</div>\n\n\n"),o}),Ember.TEMPLATES["charts/chart_margins"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a,l,c="";return t.buffer.push('\n					<div class="control-group">\n					   <h4>Format Axis</h4>				   \n					</div>\n					'),r={},a={},i=n["if"].call(e,"view.hasSingleYAxis",{hash:{},inverse:m.program(4,o,t),fn:m.program(2,s,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push('\n					<div class="control-group">\n					   <h5>Horizontal Axis</h5>\n					</div>\n					<div class="control-group">\n						<table style="margin-bottom:10px;">\n							<tr>\n								<td style="width: 50px;">Label</td>\n								<td>'),a={type:e,"class":e,placeholder:e,valueBinding:e,name:e},r={type:"STRING","class":"STRING",placeholder:"STRING",valueBinding:"STRING",name:"STRING"},l={hash:{type:"text","class":"input-medium margin-top",placeholder:"X Axis Label",valueBinding:"axesConfigsObj.xAxisLabel",name:"xAxisLabel"},contexts:[],types:[],hashContexts:a,hashTypes:r,data:t},t.buffer.push(g((i=n.input,i?i.call(e,l):f.call(e,"input",l)))),t.buffer.push('</td>							\n							</tr>\n						</table>\n						<table>\n							<tr>\n								<td style="width: 50px;">Min</td>\n								<td>\n									<div name="xDomainMinValue" '),a={"data-original-title":e},r={"data-original-title":"ID"},t.buffer.push(g(n.bindAttr.call(e,{hash:{"data-original-title":"disabledTooltip"},contexts:[],types:[],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push(">\n										"),a={type:e,disabled:e,"class":e,placeholder:e,valueBinding:e,name:e},r={type:"STRING",disabled:"ID","class":"STRING",placeholder:"STRING",valueBinding:"STRING",name:"STRING"},l={hash:{type:"text",disabled:"isXAxisScaleOrdinal","class":"input-small margin-top",placeholder:"0",valueBinding:"axesConfigsObj.xDomainMinValue",name:"xDomainMinValue"},contexts:[],types:[],hashContexts:a,hashTypes:r,data:t},t.buffer.push(g((i=n.input,i?i.call(e,l):f.call(e,"input",l)))),t.buffer.push('\n									</div>\n								</td>\n								<td style="padding-left: 20px; width:50px;">Max</td>\n								<td>\n									<div name="xDomainMaxValue" '),a={"data-original-title":e},r={"data-original-title":"ID"},t.buffer.push(g(n.bindAttr.call(e,{hash:{"data-original-title":"disabledTooltip"},contexts:[],types:[],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push(">\n										"),a={type:e,disabled:e,"class":e,placeholder:e,valueBinding:e,name:e},r={type:"STRING",disabled:"ID","class":"STRING",placeholder:"STRING",valueBinding:"STRING",name:"STRING"},l={hash:{type:"text",disabled:"isXAxisScaleOrdinal","class":"input-small margin-top",placeholder:"0",valueBinding:"axesConfigsObj.xDomainMaxValue",name:"xDomainMaxValue"},contexts:[],types:[],hashContexts:a,hashTypes:r,data:t},t.buffer.push(g((i=n.input,i?i.call(e,l):f.call(e,"input",l)))),t.buffer.push('\n									</div>\n								</td>\n							</tr>\n							<tr>\n								<td style="width: 50px;">Display Units</td>\n								<td style="width:105px;">\n									'),a={"class":e,contentBinding:e,valueBinding:e,name:e},r={"class":"STRING",contentBinding:"STRING",valueBinding:"STRING",name:"STRING"},t.buffer.push(g(n.view.call(e,"Ember.Select",{hash:{"class":"fullWidth",contentBinding:"view.displayUnits",valueBinding:"axesConfigsObj.xAxisDisplayUnit",name:"xAxisDisplayUnit"},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push('\n		        				</td>\n								<td style="padding-left: 20px; width:50px;">Rotate Angle</td>\n								<td>\n									'),a={type:e,"class":e,placeholder:e,valueBinding:e,name:e},r={type:"STRING","class":"STRING",placeholder:"STRING",valueBinding:"STRING",name:"STRING"},l={hash:{type:"text","class":"input-small margin-top",placeholder:"45",valueBinding:"axesConfigsObj.xAxisRotateAngle",name:"xAxisRotateAngle"},contexts:[],types:[],hashContexts:a,hashTypes:r,data:t},t.buffer.push(g((i=n.input,i?i.call(e,l):f.call(e,"input",l)))),t.buffer.push("\n								</td>\n							</tr>\n						</table>\n					</div>\n				"),c}function s(e,t){var i,r,a,s,o="";return t.buffer.push('\n						<div class="control-group">\n						   <h5>Vertical Axis</h5>				   \n						</div>\n						<div class="control-group">\n							<table style="margin-bottom:10px;">\n								<tr>\n									<td style="width: 50px;">Label</td>\n									<td>\n										'),r={type:e,"class":e,placeholder:e,valueBinding:e,name:e},a={type:"STRING","class":"STRING",placeholder:"STRING",valueBinding:"STRING",name:"STRING"},s={hash:{type:"text","class":"input-medium margin-top",placeholder:"Y Axis Label",valueBinding:"axesConfigsObj.yAxisLabel",name:"yAxisLabel"},contexts:[],types:[],hashContexts:r,hashTypes:a,data:t},t.buffer.push(g((i=n.input,i?i.call(e,s):f.call(e,"input",s)))),t.buffer.push('\n									</td>							\n								</tr>\n							</table>\n							<table>\n								<tr>\n									<td style="width: 50px;">Min</td>\n									<td>\n										'),r={type:e,"class":e,placeholder:e,valueBinding:e,name:e,disabled:e},a={type:"STRING","class":"STRING",placeholder:"STRING",valueBinding:"STRING",name:"STRING",disabled:"ID"},s={hash:{type:"text","class":"input-small margin-top",placeholder:"0",valueBinding:"axesConfigsObj.yDomainMinValue",name:"yDomainMinValue",disabled:"isYAxisScaleOrdinal"},contexts:[],types:[],hashContexts:r,hashTypes:a,data:t},t.buffer.push(g((i=n.input,i?i.call(e,s):f.call(e,"input",s)))),t.buffer.push('\n									</td>\n									<td style="padding-left: 20px; width:50px;">Max</td>\n									<td>\n										'),r={type:e,"class":e,placeholder:e,valueBinding:e,name:e,disabled:e},a={type:"STRING","class":"STRING",placeholder:"STRING",valueBinding:"STRING",name:"STRING",disabled:"ID"},s={hash:{type:"text","class":"input-small margin-top",placeholder:"0",valueBinding:"axesConfigsObj.yDomainMaxValue",name:"yDomainMaxValue",disabled:"isYAxisScaleOrdinal"},contexts:[],types:[],hashContexts:r,hashTypes:a,data:t},t.buffer.push(g((i=n.input,i?i.call(e,s):f.call(e,"input",s)))),t.buffer.push('\n									</td>\n								</tr>\n								<tr>\n									<td style="width: 50px;">Display Units</td>\n									<td style="width:105px;">\n										'),r={"class":e,contentBinding:e,valueBinding:e,name:e},a={"class":"STRING",contentBinding:"STRING",valueBinding:"STRING",name:"STRING"},t.buffer.push(g(n.view.call(e,"Ember.Select",{hash:{"class":"fullWidth",contentBinding:"view.displayUnits",valueBinding:"axesConfigsObj.yAxisDisplayUnit",name:"yAxisDisplayUnit"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push("\n			        				</td>\n									<td></td>\n									<td></td>\n								</tr>\n							</table>\n						</div>\n					"),o}function o(e,t){var i,r,a,s,o="";return t.buffer.push('\n						<div class="control-group">\n						   <h5>Vertical Axis (Left)</h5>				   \n						</div>\n						<div class="control-group">\n							<table style="margin-bottom:10px;">\n								<tr>\n									<td style="width: 50px;">Label</td>\n									<td>\n										'),r={type:e,"class":e,placeholder:e,valueBinding:e,name:e},a={type:"STRING","class":"STRING",placeholder:"STRING",valueBinding:"STRING",name:"STRING"},s={hash:{type:"text","class":"input-medium margin-top",placeholder:"Y Axis Label",valueBinding:"axesConfigsObj.yAxisLabel",name:"yAxisLabel"},contexts:[],types:[],hashContexts:r,hashTypes:a,data:t},t.buffer.push(g((i=n.input,i?i.call(e,s):f.call(e,"input",s)))),t.buffer.push('\n									</td>							\n								</tr>\n							</table>\n							<table>\n								<tr>\n									<td style="width: 50px;">Min</td>\n									<td>\n										'),r={type:e,"class":e,placeholder:e,valueBinding:e,name:e,disabled:e},a={type:"STRING","class":"STRING",placeholder:"STRING",valueBinding:"STRING",name:"STRING",disabled:"ID"},s={hash:{type:"text","class":"input-small margin-top",placeholder:"0",valueBinding:"axesConfigsObj.yDomainMinValue",name:"yDomainMinValue",disabled:"isYAxisScaleOrdinal"},contexts:[],types:[],hashContexts:r,hashTypes:a,data:t},t.buffer.push(g((i=n.input,i?i.call(e,s):f.call(e,"input",s)))),t.buffer.push('\n									</td>\n									<td style="padding-left: 20px; width:50px;">Max</td>\n									<td>\n										'),r={type:e,"class":e,placeholder:e,valueBinding:e,name:e,disabled:e},a={type:"STRING","class":"STRING",placeholder:"STRING",valueBinding:"STRING",name:"STRING",disabled:"ID"},s={hash:{type:"text","class":"input-small margin-top",placeholder:"0",valueBinding:"axesConfigsObj.yDomainMaxValue",name:"yDomainMaxValue",disabled:"isYAxisScaleOrdinal"},contexts:[],types:[],hashContexts:r,hashTypes:a,data:t},t.buffer.push(g((i=n.input,i?i.call(e,s):f.call(e,"input",s)))),t.buffer.push('\n									</td>\n								</tr>\n								<tr>\n									<td style="width: 50px;">Display Units</td>\n									<td style="width:105px;">\n										'),r={"class":e,contentBinding:e,valueBinding:e,name:e},a={"class":"STRING",contentBinding:"STRING",valueBinding:"STRING",name:"STRING"},t.buffer.push(g(n.view.call(e,"Ember.Select",{hash:{"class":"fullWidth",contentBinding:"view.displayUnits",valueBinding:"axesConfigsObj.yAxisDisplayUnit",name:"yAxisDisplayUnit"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push('\n			        				</td>\n									<td></td>\n									<td></td>\n								</tr>\n							</table>\n						</div>\n						<div class="control-group">\n						   <h5>Vertical Axis (Right)</h5>				   \n						</div>\n						<div class="control-group">\n							<table style="margin-bottom:10px;">\n								<tr>\n									<td style="width: 50px;">Label</td>\n									<td>\n										'),r={type:e,"class":e,placeholder:e,valueBinding:e,name:e},a={type:"STRING","class":"STRING",placeholder:"STRING",valueBinding:"STRING",name:"STRING"},s={hash:{type:"text","class":"input-medium margin-top",placeholder:"Y Axis Label",valueBinding:"axesConfigsObj.rightYAxisLabel",name:"rightYAxisLabel"},contexts:[],types:[],hashContexts:r,hashTypes:a,data:t},t.buffer.push(g((i=n.input,i?i.call(e,s):f.call(e,"input",s)))),t.buffer.push('\n									</td>							\n								</tr>\n							</table>\n							<table>\n								<tr>\n									<td style="width: 50px;">Min</td>\n									<td>\n										'),r={type:e,"class":e,placeholder:e,valueBinding:e,name:e,disabled:e},a={type:"STRING","class":"STRING",placeholder:"STRING",valueBinding:"STRING",name:"STRING",disabled:"ID"},s={hash:{type:"text","class":"input-small margin-top",placeholder:"0",valueBinding:"axesConfigsObj.rightYDomainMinValue",name:"rightYDomainMinValue",disabled:"isYAxisScaleOrdinal"},contexts:[],types:[],hashContexts:r,hashTypes:a,data:t},t.buffer.push(g((i=n.input,i?i.call(e,s):f.call(e,"input",s)))),t.buffer.push('\n									</td>\n									<td style="padding-left: 20px; width:50px;">Max</td>\n									<td>\n										'),r={type:e,"class":e,placeholder:e,valueBinding:e,name:e,disabled:e},a={type:"STRING","class":"STRING",placeholder:"STRING",valueBinding:"STRING",name:"STRING",disabled:"ID"},s={hash:{type:"text","class":"input-small margin-top",placeholder:"0",valueBinding:"axesConfigsObj.rightYDomainMaxValue",name:"rightYDomainMaxValue",disabled:"isYAxisScaleOrdinal"},contexts:[],types:[],hashContexts:r,hashTypes:a,data:t},t.buffer.push(g((i=n.input,i?i.call(e,s):f.call(e,"input",s)))),t.buffer.push('\n									</td>\n								</tr>\n								<tr>\n									<td style="width: 50px;">Display Units</td>\n									<td style="width:105px;">\n										'),r={"class":e,contentBinding:e,valueBinding:e,name:e},a={"class":"STRING",contentBinding:"STRING",valueBinding:"STRING",name:"STRING"},t.buffer.push(g(n.view.call(e,"Ember.Select",{hash:{"class":"fullWidth",contentBinding:"view.displayUnits",valueBinding:"axesConfigsObj.rightYAxisDisplayUnit",name:"rightYAxisDisplayUnit"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push("\n			        				</td>\n									<td></td>\n									<td></td>\n								</tr>\n							</table>\n						</div>\n					"),o}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var l,c,h,u,d,p="",f=n.helperMissing,g=this.escapeExpression,m=this;return r.buffer.push('<li>\n	<a rel="popover" class="margin_popover"  data-toggle="tooltip" data-placement="right auto" title="Edit Chart Display"  '),h={id:t},u={id:"STRING"},r.buffer.push(g(n.bindAttr.call(t,{hash:{id:"popoverId"},contexts:[],types:[],hashContexts:h,hashTypes:u,data:r}))),r.buffer.push(' >\n		<i class=\'icon-fullscreen muted\'></i>\n	</a>\n\n	<div class="popover fade bottom in hidden" style="top: 64px; display:block; width:360px; height: 350px;">\n		<div class="arrow hidden" style="left:12px;"></div>\n		<h3 class="popover-title hidden">Chart Display Settings</h3>\n		<div class="popover-content hidden" style="height:290px; overflow:auto;">\n			<form class=\'form form-inline\' style="margin-bottom:0px;">\n				<div class="control-group">\n				   <h4>Chart Margins (px)</h4>				   \n				</div>\n\n				<table>\n					<tr>\n						<td style="width: 50px;">Top</td>\n						<td>\n							'),h={type:t,"class":t,valueBinding:t,placeholder:t},u={type:"STRING","class":"STRING",valueBinding:"STRING",placeholder:"STRING"},d={hash:{type:"text","class":"input-mini margin-top",valueBinding:"marginTop",placeholder:"20"},contexts:[],types:[],hashContexts:h,hashTypes:u,data:r},r.buffer.push(g((l=n.input,l?l.call(t,d):f.call(t,"input",d)))),r.buffer.push('\n						</td>\n						<td style="padding-left:20px; width:50px;">Bottom</td>\n						<td>\n							'),h={type:t,"class":t,valueBinding:t,placeholder:t},u={type:"STRING","class":"STRING",valueBinding:"STRING",placeholder:"STRING"},d={hash:{type:"text","class":"input-mini margin-top",valueBinding:"marginBottom",placeholder:"20"},contexts:[],types:[],hashContexts:h,hashTypes:u,data:r},r.buffer.push(g((l=n.input,l?l.call(t,d):f.call(t,"input",d)))),r.buffer.push('\n						</td>\n					</tr>\n					<tr>\n						<td style="width: 50px;">Left</td>\n						<td>'),h={type:t,"class":t,valueBinding:t,placeholder:t},u={type:"STRING","class":"STRING",valueBinding:"STRING",placeholder:"STRING"},d={hash:{type:"text","class":"input-mini margin-top",valueBinding:"marginLeft",placeholder:"20"},contexts:[],types:[],hashContexts:h,hashTypes:u,data:r},r.buffer.push(g((l=n.input,l?l.call(t,d):f.call(t,"input",d)))),r.buffer.push('</td>\n						<td style="padding-left: 20px; width:50px;">Right</td>\n						<td>'),h={type:t,"class":t,valueBinding:t,placeholder:t},u={type:"STRING","class":"STRING",valueBinding:"STRING",placeholder:"STRING"},d={hash:{type:"text","class":"input-mini margin-top",valueBinding:"marginRight",placeholder:"20"},contexts:[],types:[],hashContexts:h,hashTypes:u,data:r},r.buffer.push(g((l=n.input,l?l.call(t,d):f.call(t,"input",d)))),r.buffer.push('</td>\n					</tr>\n				</table>\n\n				<br>\n				<div class="control-group">\n					<div class="row">\n				   		<div class="span" style="margin-right: 3px;">\n				   			<h4>Chart Size</h4>\n				   		</div>\n				   		<div class="span" style="margin-left: 3px;">\n				   			<h6>(Number of grid blocks)</h6>\n				   		</div>\n			   		</div>\n			   		<div class="row">\n			   			<table>\n			   				<tr>\n			   					<td style="width: 50px;">	\n			   						<span>Width</span>\n			   					</td>\n			   					<td style="padding-right: 20px;">\n			   						'),h={valueBinding:t,min:t,maxBinding:t,"class":t},u={valueBinding:"STRING",min:"STRING",maxBinding:"STRING","class":"STRING"},r.buffer.push(g(n.view.call(t,"Cibi.NumberField",{hash:{valueBinding:"columns",min:"1",maxBinding:"view.columnLimit","class":"input-mini"},contexts:[t],types:["ID"],hashContexts:h,hashTypes:u,data:r}))),r.buffer.push('\n			   					</td>\n					   			<td style="width: 50px;">\n					   				<span>Height</span>\n					   			</td>\n					   			<td>\n					   				'),h={valueBinding:t,min:t,maxBinding:t,"class":t},u={valueBinding:"STRING",min:"STRING",maxBinding:"STRING","class":"STRING"},r.buffer.push(g(n.view.call(t,"Cibi.NumberField",{hash:{valueBinding:"rows",min:"1",maxBinding:"view.rowLimit","class":"input-mini"},contexts:[t],types:["ID"],hashContexts:h,hashTypes:u,data:r}))),r.buffer.push('\n					   			</td>\n					   		</tr>\n					   	</table>\n			   		</div>\n				</div>\n\n				<!--\n					<div class="control-group">\n					    <div class=\'row\'>\n							<div class=\'span\' style="width:45%; margin-left:5%;">\n								<input type="radio" name="orientation_type" value="1" '),h={id:t},u={id:"STRING"},r.buffer.push(g(n.bindAttr.call(t,{hash:{id:"orientationRadioId"},contexts:[],types:[],hashContexts:h,hashTypes:u,data:r}))),r.buffer.push('> Default\n							</div>\n							<div class=\'span\' style="width:45%;">\n								<input type="radio" name="orientation_type" value="2" '),h={id:t},u={id:"STRING"},r.buffer.push(g(n.bindAttr.call(t,{hash:{id:"orientationRadioId"},contexts:[],types:[],hashContexts:h,hashTypes:u,data:r}))),r.buffer.push('> Full width\n							</div>\n						</div>\n						<div class=\'row\'>\n							<div class=\'span\' style="width:45%; margin-left:5%;">\n								<input type="radio" name="orientation_type" value="3" '),h={id:t},u={id:"STRING"},r.buffer.push(g(n.bindAttr.call(t,{hash:{id:"orientationRadioId"},contexts:[],types:[],hashContexts:h,hashTypes:u,data:r}))),r.buffer.push('> Full height\n							</div>\n							<div class=\'span\' style="width:45%;">\n								<input type="radio" name="orientation_type" value="4" '),h={id:t},u={id:"STRING"},r.buffer.push(g(n.bindAttr.call(t,{hash:{id:"orientationRadioId"},contexts:[],types:[],hashContexts:h,hashTypes:u,data:r}))),r.buffer.push("> Full screen\n							</div>\n						</div>\n					</div>\n				-->\n\n				"),u={},h={},c=n["if"].call(t,"view.hasAxes",{hash:{},inverse:m.noop,fn:m.program(1,a,r),contexts:[t],types:["ID"],hashContexts:h,hashTypes:u,data:r}),(c||0===c)&&r.buffer.push(c),r.buffer.push('\n\n\n				<hr class=\'compact\'>\n				<div class="well-small">\n					<button type="submit" class=\'btn\' >Save</button>\n					<button class="btn" onclick="$(this).closest(\'li\').find(\'.icon-fullscreen\').click();return false;" aria-hidden="true" >Cancel</button>\n				</div>\n\n			</form>\n\n		</div>\n	</div>\n	\n</li>\n'),p
}),Ember.TEMPLATES["charts/chart_type_popup"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a,s,o="";return t.buffer.push('\n\n\n		  <button type="button" class="btn" '),r={value:e},a={value:"ID"},t.buffer.push(h(n.bindAttr.call(e,{hash:{value:"t"},contexts:[],types:[],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push(' data-toggle="tooltip"  title= '),a={},r={},s={hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t},t.buffer.push(h((i=n.getTitle,i?i.call(e,"t",s):u.call(e,"getTitle","t",s)))),t.buffer.push('>\n		  	<img src="/assets/pie.png" style="width: 25px; height: 25px"/>\n		  </button>\n\n'),o}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var s,o,l,c="",h=this.escapeExpression,u=n.helperMissing,d=this;return r.buffer.push("<div id='edit_types' class=''>\n	<form class='form form-inline' style=\"margin-bottom:0px;\">\n       <div class='row'>\n	<div class='span'>\n		<div class=\"btn-group\" data-toggle=\"buttons-radio\" valueBinding=\"view.chartType\" id=\"chart_type_radio_group\">\n"),o={},l={},s=n.each.call(t,"t","in","editType",{hash:{},inverse:d.noop,fn:d.program(1,a,r),contexts:[t,t,t],types:["ID","ID","ID"],hashContexts:l,hashTypes:o,data:r}),(s||0===s)&&r.buffer.push(s),r.buffer.push('\n\n		</div>\n	</div>\n</div>\n		<div class="row">\n			<div class="span2 offset2" style="margin-top:10px;text-align:left;">\n			  <button type="submit" class=\'btn\' >Save</button>\n			  <button class="btn" data-dismiss="modal" aria-hidden="true" >Cancel</button>\n			</div>\n	    </div>\n\n</form>\n		</div>\n'),c}),Ember.TEMPLATES["charts/chart_types"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){t.buffer.push(' \n			  <button type="button" class="btn" value=1 data-toggle="tooltip"  title="Bar Chart" >\n								  	<img src="/assets/bar.png" style="width: 25px; height: 25px"/>\n								  </button>\n			')}function s(e,t){t.buffer.push(' \n			  <button type="button" class="btn" value=2 data-toggle="tooltip"  title="Pie Chart" >\n								  	<img src="/assets/pie.png" style="width: 25px; height: 25px"/>\n								  </button>\n			')}function o(e,t){t.buffer.push(' \n			  <button type="button" class="btn" value=11 data-toggle="tooltip"  title="Area Chart" >\n								  	<img src="/assets/area.png" style="width: 25px; height: 25px"/>\n								  </button>\n			')}function l(e,t){t.buffer.push(' \n			  <button type="button" class="btn" value=8 data-toggle="tooltip"  title="Line Chart" >\n								  	<img src="/assets/line.png" style="width: 25px; height: 25px"/>\n								  </button>\n			')}function c(e,t){t.buffer.push(' \n			  <button type="button" class="btn" value=6 data-toggle="tooltip"  title="Combination Chart" >\n								  	<img src="/assets/combination.png" style="width: 25px; height: 25px"/>\n								  </button>\n			')}function h(e,t){t.buffer.push(' \n			  <button type="button" class="btn" value=9 data-toggle="tooltip"  title="Multi Line Chart" >\n								  	<img src="/assets/multiline.png" style="width: 25px; height: 25px"/>\n								  </button>\n			')}function u(e,t){t.buffer.push(' \n			  <button type="button" class="btn" value=17 data-toggle="tooltip"  title="Donut Chart" >\n								  	<img src="/assets/chart_types.png" style="width: 25px; height: 25px"/>\n								  </button>\n			')}function d(e,t){t.buffer.push(' \n			  <button type="button" class="btn" value=18 data-toggle="tooltip"  title="Funnel Chart" >\n								  	<img src="/assets/funnel.png" style="width: 25px; height: 25px"/>\n								  </button>\n			')}function p(e,t){t.buffer.push(' \n			  <button type="button" class="btn" value=15 data-toggle="tooltip" title="Single Value">\n								<img src="/assets/one.png" style="width: 25px; height: 25px"/>\n							</button>\n			')}function f(e,t){t.buffer.push(' \n			  <button type="button" class="btn" value=20 data-toggle="tooltip" title="Gauge Chart">\n								<img src="/assets/gaugeicon.png" style="width: 25px; height: 25px"/>\n							</button>\n			')}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var g,m,v,b="",y=this.escapeExpression,x=this;return r.buffer.push('<li class=\'filterDiv\'>\n	<a rel="popover" class="type_popover" style="font-size:0px;" data-toggle="tooltip" data-placement="right auto" title="Change Chart Type" '),m={id:t},v={id:"STRING"},r.buffer.push(y(n.bindAttr.call(t,{hash:{id:"popoverId"},contexts:[],types:[],hashContexts:m,hashTypes:v,data:r}))),r.buffer.push(' >\n		<img src="/assets/chart_types.png" style="height: 13px; width: 13px; opacity: 0.5" class="edit_chart_types"/>\n	</a>\n	<div class="popover fade bottom in hidden" style=" display:block; height:187px; width:350px; ">\n		<div class="arrow hidden" style="left:90px;"></div>\n		<h3 class="popover-title hidden">Chart Type</h3>\n		<div class="popover-content hidden">\n			<form class=\'form form-inline\' style="margin-bottom:0px;">\n\n		<div class="well-small input-prepend input-append">\n		\n			<div class="btn-group" data-toggle="buttons-radio" id="chart_type_radio_group" valueBinding="view.chartType">\n		\n			'),v={},m={},g=n["if"].call(t,"view.showBarGraph",{hash:{},inverse:x.noop,fn:x.program(1,a,r),contexts:[t],types:["ID"],hashContexts:m,hashTypes:v,data:r}),(g||0===g)&&r.buffer.push(g),r.buffer.push("\n			   "),v={},m={},g=n["if"].call(t,"view.showPieGraph",{hash:{},inverse:x.noop,fn:x.program(3,s,r),contexts:[t],types:["ID"],hashContexts:m,hashTypes:v,data:r}),(g||0===g)&&r.buffer.push(g),r.buffer.push("\n			"),v={},m={},g=n["if"].call(t,"view.showAreaGraph",{hash:{},inverse:x.noop,fn:x.program(5,o,r),contexts:[t],types:["ID"],hashContexts:m,hashTypes:v,data:r}),(g||0===g)&&r.buffer.push(g),r.buffer.push("\n			"),v={},m={},g=n["if"].call(t,"view.showLineGraph",{hash:{},inverse:x.noop,fn:x.program(7,l,r),contexts:[t],types:["ID"],hashContexts:m,hashTypes:v,data:r}),(g||0===g)&&r.buffer.push(g),r.buffer.push("\n\n	        "),v={},m={},g=n["if"].call(t,"view.showComboChart",{hash:{},inverse:x.noop,fn:x.program(9,c,r),contexts:[t],types:["ID"],hashContexts:m,hashTypes:v,data:r}),(g||0===g)&&r.buffer.push(g),r.buffer.push("\n            "),v={},m={},g=n["if"].call(t,"view.showMultiline",{hash:{},inverse:x.noop,fn:x.program(11,h,r),contexts:[t],types:["ID"],hashContexts:m,hashTypes:v,data:r}),(g||0===g)&&r.buffer.push(g),r.buffer.push("\n            "),v={},m={},g=n["if"].call(t,"view.showDonutGraph",{hash:{},inverse:x.noop,fn:x.program(13,u,r),contexts:[t],types:["ID"],hashContexts:m,hashTypes:v,data:r}),(g||0===g)&&r.buffer.push(g),r.buffer.push("\n            "),v={},m={},g=n["if"].call(t,"view.showFunnelGraph",{hash:{},inverse:x.noop,fn:x.program(15,d,r),contexts:[t],types:["ID"],hashContexts:m,hashTypes:v,data:r}),(g||0===g)&&r.buffer.push(g),r.buffer.push("\n\n			"),v={},m={},g=n["if"].call(t,"view.showSingleValue",{hash:{},inverse:x.noop,fn:x.program(17,p,r),contexts:[t],types:["ID"],hashContexts:m,hashTypes:v,data:r}),(g||0===g)&&r.buffer.push(g),r.buffer.push("\n			"),v={},m={},g=n["if"].call(t,"view.showGaugeGraph",{hash:{},inverse:x.noop,fn:x.program(19,f,r),contexts:[t],types:["ID"],hashContexts:m,hashTypes:v,data:r}),(g||0===g)&&r.buffer.push(g),r.buffer.push('			\n\n			</div>\n		</div>\n\n        <hr class=\'compact\'>\n        <div class="well-small">\n              <button type="submit" class=\'btn\' >Save</button>\n			<button class="btn" onclick="$(this).closest(\'li\').find(\'.edit_chart_types\').click();return false;" aria-hidden="true" >Cancel</button>\n        </div>\n			</form>\n\n		</div>\n	</div>\n</li>\n\n\n\n'),b}),Ember.TEMPLATES["charts/controls/chart_filter"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){t.buffer.push('\n					<span class="label label-info tags" style="font-size:9px;padding:2px 4px 0px 4px;vertical-align:top;" data-toggle="tooltip" title="This filter is visible to all the users of the dashboard">Shared</span>\n				')}function s(e,t){t.buffer.push('\n					<span class="label label-warning tags" style="font-size:9px;padding:2px 4px 0px 4px;vertical-align:top;" data-toggle="tooltip" title="This filter is visible only to you">Personal</span>\n				')}function o(e,t){var i,r,a="";return t.buffer.push("\n								&nbsp;&nbsp; "),i={},r={},t.buffer.push(A(n._triageMustache.call(e,"view.content.comparison",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n							"),a}function l(e,t){var i,r,a,s="";return t.buffer.push("	\n						<div "),r={id:e},a={id:"STRING"},t.buffer.push(A(n.bindAttr.call(e,{hash:{id:"view.rangeFilterPopoverId"},contexts:[],types:[],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push(">\n							<div style=\"display: block;\">\n								<form class='form form-inline' >\n								    <div class='row'>\n								    	<div class='span'>\n											"),r={checkedBinding:e,"class":e,name:e},a={checkedBinding:"STRING","class":"STRING",name:"STRING"},t.buffer.push(A(n.view.call(e,"Ember.Checkbox",{hash:{checkedBinding:"view.specific_date","class":"popup_range_selector radio-align",name:"0"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push("\n										</div>\n										<div class='span'>\n											<label>Choose specific dates</label>\n										</div>\n									</div>\n								    <div class='row'>\n								    	<div class='span'>\n											"),r={checkedBinding:e,"class":e,name:e},a={checkedBinding:"STRING","class":"STRING",name:"STRING"},t.buffer.push(A(n.view.call(e,"Ember.Checkbox",{hash:{checkedBinding:"view.reference_date_option","class":"popup_range_selector radio-align",name:"1"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push("\n										</div>\n										<div class='span'>\n											<label>Specify periods w.r.t reference date</label>\n										</div>\n									</div>\n\n									"),a={},r={},i=n["if"].call(e,"view.specific_date",{hash:{},inverse:R.noop,fn:R.program(8,c,t),contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n\n									"),a={},r={},i=n["if"].call(e,"view.reference_date_option",{hash:{},inverse:R.noop,fn:R.program(25,x,t),contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("		\n								</form>\n							</div>\n						</div>\n\n					"),s}function c(e,t){var i,r,a,s="";return t.buffer.push('\n										<div class="row" style="margin-top:5px;">\n											<div class="span">\n												<table>\n													<tr>\n														<td>\n															<span>Lower:</span>\n														</td>\n														<td>\n															<div id="datetimepicker" class="input-append" style="width: 140px;">\n											    			'),r={},a={},i=n["if"].call(e,"view.isDate",{hash:{},inverse:R.program(11,u,t),fn:R.program(9,h,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push('\n											  			</div>\n											  		</td>\n													</tr>\n													<tr>\n														<td>\n															<span>Upper:</span>\n														</td>\n														<td>\n															<div id="datetimepicker" class="input-append" style="width: 140px;">\n														    	'),r={},a={},i=n["if"].call(e,"view.isDate",{hash:{},inverse:R.program(19,m,t),fn:R.program(17,g,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n														  	</div>	\n														</td>\n													</tr>\n												</table>				  	\n											</div>\n										</div>\n									"),s}function h(e,t){var i,r,a="";return t.buffer.push("\n																	"),i={valueBinding:e,classNames:e,style:e},r={valueBinding:"STRING",classNames:"STRING",style:"STRING"},t.buffer.push(A(n.view.call(e,"Cibi.NewDateField",{hash:{valueBinding:"view.lower_range",classNames:"startDate chart_filter_lower_range",style:"margin-right:10px; width:100px;"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("	\n																"),a}function u(e,t){var i,r,a,s="";return t.buffer.push("\n																	"),r={},a={},i=n["if"].call(e,"view.isTime",{hash:{},inverse:R.program(14,p,t),fn:R.program(12,d,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n																"),s}function d(e,t){var i,r,a="";return t.buffer.push("\n																		"),i={valueBinding:e,classNames:e,style:e},r={valueBinding:"STRING",classNames:"STRING",style:"STRING"},t.buffer.push(A(n.view.call(e,"Cibi.NewTimeField",{hash:{valueBinding:"view.lower_range",classNames:"startDate chart_filter_lower_range",style:"margin-right:10px; width:100px;"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("	\n																	"),a}function p(e,t){var i,r,a,s="";return t.buffer.push("\n																		"),r={},a={},i=n["if"].call(e,"view.isDateTime",{hash:{},inverse:R.noop,fn:R.program(15,f,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n																	"),s}function f(e,t){var i,r,a="";return t.buffer.push("\n																			"),i={valueBinding:e,classNames:e},r={valueBinding:"STRING",classNames:"STRING"},t.buffer.push(A(n.view.call(e,"Cibi.NewDateTimeField",{hash:{valueBinding:"view.lower_range",classNames:"startDate chart_filter_lower_range"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("			\n																		"),a}function g(e,t){var i,r,a="";return t.buffer.push("\n																	"),i={valueBinding:e,classNames:e,style:e},r={valueBinding:"STRING",classNames:"STRING",style:"STRING"},t.buffer.push(A(n.view.call(e,"Cibi.NewDateField",{hash:{valueBinding:"view.upper_range",classNames:"startDate chart_filter_upper_range",style:"margin-right:10px; width:100px;"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("	\n																"),a}function m(e,t){var i,r,a,s="";return t.buffer.push("\n																	"),r={},a={},i=n["if"].call(e,"view.isTime",{hash:{},inverse:R.program(22,b,t),fn:R.program(20,v,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n																"),s}function v(e,t){var i,r,a="";return t.buffer.push("\n																		"),i={valueBinding:e,classNames:e,style:e},r={valueBinding:"STRING",classNames:"STRING",style:"STRING"},t.buffer.push(A(n.view.call(e,"Cibi.NewTimeField",{hash:{valueBinding:"view.upper_range",classNames:"startDate chart_filter_upper_range",style:"margin-right:10px; width:100px;"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("	\n																	"),a}function b(e,t){var i,r,a,s="";return t.buffer.push("\n																		"),r={},a={},i=n["if"].call(e,"view.isDateTime",{hash:{},inverse:R.noop,fn:R.program(23,y,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n																	"),s}function y(e,t){var i,r,a="";return t.buffer.push("\n																			"),i={valueBinding:e,classNames:e},r={valueBinding:"STRING",classNames:"STRING"},t.buffer.push(A(n.view.call(e,"Cibi.NewDateTimeField",{hash:{valueBinding:"view.upper_range",classNames:"startDate chart_filter_upper_range"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("			\n																		"),a}function x(e,t){var i,r,a,s="";return t.buffer.push('\n										<div class=\'row\' style="margin-top:5px;">\n											<b>Specify Period</b>\n										</div>\n									    <div class=\'row\' style="margin-top:5px;">\n											<div class=\'span\' style="width:45%;">\n												<input type="radio" name="reference_direction" value="previous" > previous\n											</div>\n											<div class=\'span\' style="width:45%;">\n												<input type="radio" name="reference_direction" value="next" > next\n											</div>\n										</div>\n										<div class=\'row\' style="margin-top:5px;">\n											<div class=\'span\'>\n												'),r={valueBinding:e,min:e,"class":e},a={valueBinding:"STRING",min:"STRING","class":"STRING"},t.buffer.push(A(n.view.call(e,"Cibi.NumberField",{hash:{valueBinding:"view.reference_count",min:"1","class":"mini"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push("\n											</div>\n											<div class='span' style=\"margin-left:10px;\">\n												"),r={contentBinding:e,valueBinding:e,"class":e},a={contentBinding:"STRING",valueBinding:"STRING","class":"STRING"},t.buffer.push(A(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.period_unit",valueBinding:"view.reference_unit","class":"input-medium"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push("\n											</div>\n										</div>\n\n										<div class='row' style=\"margin-top:5px;\">\n											<b>Reference Date</b>\n										</div>\n										<div class='row' style=\"margin-top:5px;\">\n											"),r={checkedBinding:e},a={checkedBinding:"STRING"},t.buffer.push(A(n.view.call(e,"Ember.Checkbox",{hash:{checkedBinding:"view.reference_date_today"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push('Today\n										  	<div id="datetimepicker" class="input-append" style="width: 140px;">\n											    '),a={},r={},i=n["if"].call(e,"view.isDate",{hash:{},inverse:R.program(28,_,t),fn:R.program(26,w,t),contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n										  	</div>	\n										</div>\n									"),s}function w(e,t){var i,r,a="";return t.buffer.push("\n														"),i={valueBinding:e,classNames:e,style:e},r={valueBinding:"STRING",classNames:"STRING",style:"STRING"},t.buffer.push(A(n.view.call(e,"Cibi.NewDateField",{hash:{valueBinding:"view.reference_date",classNames:"startDate chart_filter_reference_date",style:"margin-right:10px; width:100px;"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("	\n													"),a}function _(e,t){var i,r,a,s="";return t.buffer.push("\n														"),r={},a={},i=n["if"].call(e,"view.isTime",{hash:{},inverse:R.program(31,T,t),fn:R.program(29,C,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n													"),s}function C(e,t){var i,r,a="";return t.buffer.push("\n															"),i={valueBinding:e,classNames:e,style:e},r={valueBinding:"STRING",classNames:"STRING",style:"STRING"},t.buffer.push(A(n.view.call(e,"Cibi.NewTimeField",{hash:{valueBinding:"view.reference_date",classNames:"startDate chart_filter_reference_date",style:"margin-right:10px; width:100px;"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("	\n														"),a}function T(e,t){var i,r,a,s="";return t.buffer.push("\n															"),r={},a={},i=n["if"].call(e,"view.isDateTime",{hash:{},inverse:R.noop,fn:R.program(32,D,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n														"),s}function D(e,t){var i,r,a="";return t.buffer.push("\n																"),i={valueBinding:e,classNames:e},r={valueBinding:"STRING",classNames:"STRING"},t.buffer.push(A(n.view.call(e,"Cibi.NewDateTimeField",{hash:{valueBinding:"view.reference_date",classNames:"startDate chart_filter_reference_date"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("			\n															"),a}function S(e,t){var i,r,a="";return t.buffer.push('\n						<div class="row" '),i={id:e},r={id:"STRING"},t.buffer.push(A(n.bindAttr.call(e,{hash:{id:"view.chartFilterValuesId"},contexts:[],types:[],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push(">\n						</div>\n					"),a}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var E,k,I,N="",A=this.escapeExpression,R=this;return r.buffer.push('<div>\n	<div class="dropdown">\n		<a class="dropdown-toggle" data-toggle="dropdown" data-target="#" style="color:#2980B9;font-family:\'Roboto-Medium\';text-decoration:none;">\n			<div style="text-align:right;margin-top:-32px; margin-right: -12px; height:15px;">\n				'),k={},I={},E=n["if"].call(t,"view.content.isGlobal",{hash:{},inverse:R.program(3,s,r),fn:R.program(1,a,r),contexts:[t],types:["ID"],hashContexts:I,hashTypes:k,data:r}),(E||0===E)&&r.buffer.push(E),r.buffer.push("\n			</div>\n			"),k={},I={},r.buffer.push(A(n._triageMustache.call(t,"view.content.fieldName",{hash:{},contexts:[t],types:["ID"],hashContexts:I,hashTypes:k,data:r}))),r.buffer.push(' 	\n		</a>\n\n		<ul class="dropdown-menu" role="menu"  style="top:110%;left:-25px; font-size: 14px;">\n			<div class="row" style="min-width: 250px;max-width: 250px; overflow-y: auto">\n				<div class="span" style="margin: 10px;">\n					<div class="row">\n						<label style="color: #2980B9; font-family: \'Roboto-Medium\'; font-size: 14px;" class=\'pull-left\'>\n							'),k={},I={},r.buffer.push(A(n._triageMustache.call(t,"view.content.fieldName",{hash:{},contexts:[t],types:["ID"],hashContexts:I,hashTypes:k,data:r}))),r.buffer.push(" &nbsp;&nbsp; "),k={},I={},r.buffer.push(A(n._triageMustache.call(t,"view.content.operator",{hash:{},contexts:[t],types:["ID"],hashContexts:I,hashTypes:k,data:r}))),r.buffer.push("\n							"),k={},I={},E=n["if"].call(t,"view.max_min",{hash:{},inverse:R.noop,fn:R.program(5,o,r),contexts:[t],types:["ID"],hashContexts:I,hashTypes:k,data:r}),(E||0===E)&&r.buffer.push(E),r.buffer.push("\n							"),k={},I={},E=n["if"].call(t,"view.not_null",{hash:{},inverse:R.noop,fn:R.program(5,o,r),contexts:[t],types:["ID"],hashContexts:I,hashTypes:k,data:r}),(E||0===E)&&r.buffer.push(E),r.buffer.push("\n						</label>						\n					</div>\n					"),k={},I={},E=n["if"].call(t,"view.range",{hash:{},inverse:R.program(34,S,r),fn:R.program(7,l,r),contexts:[t],types:["ID"],hashContexts:I,hashTypes:k,data:r}),(E||0===E)&&r.buffer.push(E),r.buffer.push('\n				</div>\n			</div>\n			<hr class="compact">\n			<div class="row well-small" style="padding-top:0px;">\n				<div class="span">\n					<a '),I={target:t},k={target:"ID"},r.buffer.push(A(n.action.call(t,"disableFilter",{hash:{target:"view"},contexts:[t],types:["ID"],hashContexts:I,hashTypes:k,data:r}))),r.buffer.push("> "),k={},I={},r.buffer.push(A(n._triageMustache.call(t,"view.filterState",{hash:{},contexts:[t],types:["ID"],hashContexts:I,hashTypes:k,data:r}))),r.buffer.push(' </a> &nbsp; | &nbsp;\n				</div>\n				<div class="span">\n					<a '),I={target:t},k={target:"ID"},r.buffer.push(A(n.action.call(t,"updateChartFilter",{hash:{target:"view"},contexts:[t],types:["ID"],hashContexts:I,hashTypes:k,data:r}))),r.buffer.push('> Save </a>  &nbsp; | &nbsp;\n				</div>\n				<div class="span">\n					<a '),I={target:t},k={target:"ID"},r.buffer.push(A(n.action.call(t,"deleteChartFilter",{hash:{target:"view"},contexts:[t],types:["ID"],hashContexts:I,hashTypes:k,data:r}))),r.buffer.push('> Delete </a> \n				</div>\n\n				<div class="span pull-right" style="color: blue">\n					<a '),I={target:t},k={target:"ID"},r.buffer.push(A(n.action.call(t,"closeChartFilter",{hash:{target:"view"},contexts:[t],types:["ID"],hashContexts:I,hashTypes:k,data:r}))),r.buffer.push("> Close </a> \n				</div>\n			</div>\n		</ul>			\n	</div>\n</div>\n"),N}),Ember.TEMPLATES["charts/controls/chart_filter_popup"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a="";return t.buffer.push('\n				<div class="row" style="margin-top:5px;">\n					<div class="span">\n						<table>\n							<tr>\n								<td>\n									<span>Lower:</span>\n								</td>\n								<td>\n									<div id="datetimepicker" class="input-append">\n						    			'),i={valueBinding:e,classNames:e,style:e},r={valueBinding:"STRING",classNames:"STRING",style:"STRING"},t.buffer.push(u(n.view.call(e,"Cibi.DateField",{hash:{valueBinding:"view.parentView.lower_range",classNames:"startDate",style:"width:80px;"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push('\n						    			<span class="add-on"><i class="icon-th"></i></span>\n					  				</div>\n					  			</td>\n							</tr>\n							<tr>\n								<td>\n									<span>Upper:</span>\n								</td>\n								<td>\n									<div id="datetimepicker" class="input-append">\n								  		'),i={valueBinding:e,classNames:e,style:e},r={valueBinding:"STRING",classNames:"STRING",style:"STRING"},t.buffer.push(u(n.view.call(e,"Cibi.DateField",{hash:{valueBinding:"view.parentView.upper_range",classNames:"startDate",style:"width:80px;"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push('\n								    	<span class="add-on"><i class="icon-th"></i></span>\n								  	</div>	\n								</td>\n							</tr>\n						</table>				  	\n					</div>\n				</div>\n			'),a}function s(e,t){var i,r,a="";return t.buffer.push('\n				<div class=\'row\' style="margin-top:5px;">\n					<b>Specify Period</b>\n				</div>\n			    <div class=\'row\' style="margin-top:5px;">\n					<div class=\'span\' style="width:45%;">\n						<input type="radio" name="reference_direction" value="previous" > previous\n					</div>\n					<div class=\'span\' style="width:45%;">\n						<input type="radio" name="reference_direction" value="next" > next\n					</div>\n				</div>\n				<div class=\'row\' style="margin-top:5px;">\n					<div class=\'span\'>\n						'),i={valueBinding:e,min:e,"class":e},r={valueBinding:"STRING",min:"STRING","class":"STRING"},t.buffer.push(u(n.view.call(e,"Cibi.NumberField",{hash:{valueBinding:"view.parentView.reference_count",min:"1","class":"mini"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n					</div>\n					<div class='span' style=\"margin-left:10px;\">\n						"),i={contentBinding:e,valueBinding:e,"class":e},r={contentBinding:"STRING",valueBinding:"STRING","class":"STRING"},t.buffer.push(u(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.period_unit",valueBinding:"view.parentView.reference_unit","class":"input-medium"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n					</div>\n				</div>\n\n				<div class='row' style=\"margin-top:5px;\">\n					<b>Reference Date</b>\n				</div>\n				<div class='row' style=\"margin-top:5px;\">\n					"),i={checkedBinding:e},r={checkedBinding:"STRING"},t.buffer.push(u(n.view.call(e,"Ember.Checkbox",{hash:{checkedBinding:"view.parentView.reference_date_today"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push('Today\n				  	<div id="datetimepicker" class="input-append">\n					    '),i={valueBinding:e,classNames:e,style:e},r={valueBinding:"STRING",classNames:"STRING",style:"STRING"},t.buffer.push(u(n.view.call(e,"Cibi.DateField",{hash:{valueBinding:"view.parentView.reference_date",classNames:"startDate",style:"width:80px;margin-left:10px;"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push('\n					    <span class="add-on"><i class="icon-th"></i></span>\n				  	</div>	\n				</div>\n			'),a}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var o,l,c,h="",u=this.escapeExpression,d=this;return r.buffer.push("<div "),l={id:t},c={id:"STRING"},r.buffer.push(u(n.bindAttr.call(t,{hash:{id:"view.rangeFilterPopoverId"},contexts:[],types:[],hashContexts:l,hashTypes:c,data:r}))),r.buffer.push(">\n	<div style=\"display: block;\">\n		<form class='form form-inline' >\n		    <div class='row'>\n				<div class='span'>\n					<input type=\"radio\" "),l={target:t},c={target:"STRING"},r.buffer.push(u(n.action.call(t,"renderRangeView",{hash:{target:"view"},contexts:[t],types:["STRING"],hashContexts:l,hashTypes:c,data:r}))),r.buffer.push('  class="popup_range_selector" name="range_selector0" value="0"> \n						Choose specific dates\n					</input>\n				</div>\n			</div>\n		    <div class=\'row\'>\n				<div class=\'span\'>\n					<input type="radio" '),l={target:t},c={target:"STRING"},r.buffer.push(u(n.action.call(t,"renderRangeView",{hash:{target:"view"},contexts:[t],types:["STRING"],hashContexts:l,hashTypes:c,data:r}))),r.buffer.push('   class="popup_range_selector" name="range_selector1" value="1">\n						Specify periods w.r.t reference date\n					</input>\n				</div>\n			</div>\n\n			'),c={},l={},o=n["if"].call(t,"view.specific_date",{hash:{},inverse:d.noop,fn:d.program(1,a,r),contexts:[t],types:["ID"],hashContexts:l,hashTypes:c,data:r}),(o||0===o)&&r.buffer.push(o),r.buffer.push("\n\n			"),c={},l={},o=n["if"].call(t,"view.reference_date_option",{hash:{},inverse:d.noop,fn:d.program(3,s,r),contexts:[t],types:["ID"],hashContexts:l,hashTypes:c,data:r}),(o||0===o)&&r.buffer.push(o),r.buffer.push("		\n		</form>\n	</div>\n</div>\n"),h}),Ember.TEMPLATES["charts/controls/chart_filters"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a="";return t.buffer.push("\n							"),i={checkedBinding:e,name:e,value:e,"class":e},r={checkedBinding:"STRING",name:"STRING",value:"BOOLEAN","class":"STRING"},t.buffer.push(O(n.view.call(e,"Ember.Checkbox",{hash:{checkedBinding:"view.is_global",name:"is_global",value:!1,"class":"align-checkbox"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push(" Shared Filter\n							<br>\n						"),a}function s(e,t){var i,r,a,s="";return t.buffer.push("\n							"),r={},a={},i=n["if"].call(e,"view.fieldType",{hash:{},inverse:F.noop,fn:F.program(4,o,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n						"),s}function o(e,t){var i,r,a,s="";return t.buffer.push("\n								"),r={},a={},i=n["if"].call(e,"view.dateTypeField",{hash:{},inverse:F.noop,fn:F.program(5,l,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n							"),s}function l(e,t){var i,r,a,s="";return t.buffer.push("\n									"),r={},a={},i=n.unless.call(e,"view.range_comparison",{hash:{},inverse:F.noop,fn:F.program(6,c,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("									\n								"),s}function c(e,t){var i,r,a="";return t.buffer.push("\n										Format as:\n										<br>\n										"),i={contentBinding:e,valueBinding:e,"class":e},r={contentBinding:"STRING",valueBinding:"STRING","class":"STRING"},t.buffer.push(O(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.period",valueBinding:"view.format_as","class":"input-medium"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n										<br>\n									"),a}function h(e,t){t.buffer.push("\n							<img src='/assets/ajax-loader.gif' />\n						")}function u(e,t){var i,r,a,s="";return t.buffer.push("\n						    <div class='row'>\n						    	<div class='span'>\n									"),r={checkedBinding:e,"class":e,name:e},a={checkedBinding:"STRING","class":"STRING",name:"STRING"},t.buffer.push(O(n.view.call(e,"Ember.Checkbox",{hash:{checkedBinding:"view.specific_date","class":"range_selector radio-align",name:"0"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push("\n								</div>\n								<div class='span'>\n									<label>Choose specific dates</label>\n								</div>\n							</div>\n						    <div class='row'>\n						    	<div class='span'>\n									"),r={checkedBinding:e,"class":e,name:e},a={checkedBinding:"STRING","class":"STRING",name:"STRING"},t.buffer.push(O(n.view.call(e,"Ember.Checkbox",{hash:{checkedBinding:"view.reference_date_option","class":"range_selector radio-align",name:"1"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push("\n								</div>\n								<div class='span'>\n									<label>Specify periods w.r.t reference date</label>\n								</div>\n							</div>\n							"),a={},r={},i=n["if"].call(e,"view.specific_date",{hash:{},inverse:F.noop,fn:F.program(11,d,t),contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n							"),a={},r={},i=n["if"].call(e,"view.reference_date_option",{hash:{},inverse:F.noop,fn:F.program(28,C,t),contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n\n						"),s}function d(e,t){var i,r,a,s="";return t.buffer.push('\n								<div class="row" style="margin-top:5px;">\n									<div class="span" style="margin-right: 40px;">\n										<span>Lower: </span><br/>\n										<div id="datetimepicker" class="input-append">\n											'),r={},a={},i=n["if"].call(e,"view.isDate",{hash:{},inverse:F.program(14,f,t),fn:F.program(12,p,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push('\n										</div>\n									</div>\n									<div class="span">\n										<span>Upper:</span> <br/>\n										<div id="datetimepicker" class="input-append">\n											'),r={},a={},i=n["if"].call(e,"view.isDate",{hash:{},inverse:F.program(22,y,t),fn:F.program(20,b,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("									\n										</div>								\n									</div>\n								</div>\n							"),s
}function p(e,t){var i,r,a="";return t.buffer.push("\n												"),i={valueBinding:e,id:e,classNames:e,style:e},r={valueBinding:"STRING",id:"STRING",classNames:"STRING",style:"STRING"},t.buffer.push(O(n.view.call(e,"Cibi.NewDateField",{hash:{valueBinding:"view.start_date",id:"chart_lower_range",classNames:"startDate",style:"margin-right:10px; width:100px;"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("	\n											"),a}function f(e,t){var i,r,a,s="";return t.buffer.push("\n												"),r={},a={},i=n["if"].call(e,"view.isTime",{hash:{},inverse:F.program(17,m,t),fn:F.program(15,g,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n											"),s}function g(e,t){var i,r,a="";return t.buffer.push("\n													"),i={valueBinding:e,id:e,classNames:e,style:e},r={valueBinding:"STRING",id:"STRING",classNames:"STRING",style:"STRING"},t.buffer.push(O(n.view.call(e,"Cibi.NewTimeField",{hash:{valueBinding:"view.start_date",id:"chart_lower_range",classNames:"startDate",style:"margin-right:10px; width:100px;"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("	\n												"),a}function m(e,t){var i,r,a,s="";return t.buffer.push("\n													"),r={},a={},i=n["if"].call(e,"view.isDateTime",{hash:{},inverse:F.noop,fn:F.program(18,v,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n												"),s}function v(e,t){var i,r,a="";return t.buffer.push("\n														"),i={valueBinding:e,id:e,classNames:e},r={valueBinding:"STRING",id:"STRING",classNames:"STRING"},t.buffer.push(O(n.view.call(e,"Cibi.NewDateTimeField",{hash:{valueBinding:"view.start_date",id:"chart_lower_range",classNames:"startDate"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("			\n													"),a}function b(e,t){var i,r,a="";return t.buffer.push("\n												"),i={valueBinding:e,id:e,classNames:e,style:e},r={valueBinding:"STRING",id:"STRING",classNames:"STRING",style:"STRING"},t.buffer.push(O(n.view.call(e,"Cibi.NewDateField",{hash:{valueBinding:"view.end_date",id:"chart_upper_range",classNames:"startDate",style:"width:100px;"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n											"),a}function y(e,t){var i,r,a,s="";return t.buffer.push("\n												"),r={},a={},i=n["if"].call(e,"view.isTime",{hash:{},inverse:F.program(25,w,t),fn:F.program(23,x,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n											"),s}function x(e,t){var i,r,a="";return t.buffer.push("\n													"),i={valueBinding:e,id:e,classNames:e,style:e},r={valueBinding:"STRING",id:"STRING",classNames:"STRING",style:"STRING"},t.buffer.push(O(n.view.call(e,"Cibi.NewTimeField",{hash:{valueBinding:"view.end_date",id:"chart_upper_range",classNames:"startDate",style:"width:100px;"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("	\n												"),a}function w(e,t){var i,r,a,s="";return t.buffer.push("\n													"),r={},a={},i=n["if"].call(e,"view.isDateTime",{hash:{},inverse:F.noop,fn:F.program(26,_,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n												"),s}function _(e,t){var i,r,a="";return t.buffer.push("\n														"),i={valueBinding:e,id:e,classNames:e},r={valueBinding:"STRING",id:"STRING",classNames:"STRING"},t.buffer.push(O(n.view.call(e,"Cibi.NewDateTimeField",{hash:{valueBinding:"view.end_date",id:"chart_upper_range",classNames:"startDate"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("			\n													"),a}function C(e,t){var i,r,a,s="";return t.buffer.push('\n									<div class=\'row\' style="margin-top:10px;">\n										<b>Specify Period</b>\n									</div>\n								    <div class=\'row\' style="margin-top:5px;">\n										<div class=\'span\' style="width:45%;">\n											<input type="radio" name="reference_direction" value="previous" checked> previous\n										</div>\n										<div class=\'span\' style="width:45%;">\n											<input type="radio" name="reference_direction" value="next"> next\n										</div>\n									</div>\n									<div class=\'row\' style="margin-top:5px;">\n										'),r={valueBinding:e,min:e,style:e},a={valueBinding:"STRING",min:"STRING",style:"STRING"},t.buffer.push(O(n.view.call(e,"Cibi.NumberField",{hash:{valueBinding:"view.reference_count",min:"1",style:"width:80px;margin-left:10px;"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push("\n										"),r={contentBinding:e,valueBinding:e,"class":e},a={contentBinding:"STRING",valueBinding:"STRING","class":"STRING"},t.buffer.push(O(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.period_unit",valueBinding:"view.reference_unit","class":"input-medium"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push('\n									</div>\n\n									<div class=\'row\' style="margin-top:10px;">\n										<b>Reference Date</b>\n									</div>\n									<div class=\'row\' style="margin-top:5px;">\n										<div class="span">\n											'),r={checkedBinding:e,"class":e},a={checkedBinding:"STRING","class":"STRING"},t.buffer.push(O(n.view.call(e,"Ember.Checkbox",{hash:{checkedBinding:"view.reference_date_today","class":"align-top"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push('Today\n										</div>\n										<div class="span" style="max-width: 175px; margin-left: 10px;">\n											<div id="datetimepicker" class="input-append">\n												'),a={},r={},i=n["if"].call(e,"view.isDate",{hash:{},inverse:F.program(31,D,t),fn:F.program(29,T,t),contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n										  	</div>\n										</div>	\n									</div>									\n\n							"),s}function T(e,t){var i,r,a="";return t.buffer.push("\n													"),i={valueBinding:e,id:e,classNames:e,style:e},r={valueBinding:"STRING",id:"STRING",classNames:"STRING",style:"STRING"},t.buffer.push(O(n.view.call(e,"Cibi.NewDateField",{hash:{valueBinding:"view.reference_date",id:"reference_date",classNames:"startDate",style:"margin-right:10px; width:100px;"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("	\n												"),a}function D(e,t){var i,r,a,s="";return t.buffer.push("\n													"),r={},a={},i=n["if"].call(e,"view.isTime",{hash:{},inverse:F.program(34,E,t),fn:F.program(32,S,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n												"),s}function S(e,t){var i,r,a="";return t.buffer.push("\n														"),i={valueBinding:e,id:e,classNames:e,style:e},r={valueBinding:"STRING",id:"STRING",classNames:"STRING",style:"STRING"},t.buffer.push(O(n.view.call(e,"Cibi.NewTimeField",{hash:{valueBinding:"view.reference_date",id:"reference_date",classNames:"startDate",style:"margin-right:10px; width:100px;"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("	\n													"),a}function E(e,t){var i,r,a,s="";return t.buffer.push("\n														"),r={},a={},i=n["if"].call(e,"view.isDateTime",{hash:{},inverse:F.noop,fn:F.program(35,k,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n													"),s}function k(e,t){var i,r,a="";return t.buffer.push("\n															"),i={valueBinding:e,id:e,classNames:e},r={valueBinding:"STRING",id:"STRING",classNames:"STRING"},t.buffer.push(O(n.view.call(e,"Cibi.NewDateTimeField",{hash:{valueBinding:"view.reference_date",id:"reference_date",classNames:"startDate"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("			\n														"),a}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var I,N,A,R,M,P="",O=this.escapeExpression,F=this,B=n.helperMissing;return r.buffer.push('<li class=\'filterDiv\'>\n	<a rel="popover" class="filter_popover"  data-toggle="tooltip" data-placement="right auto" title="Chart Filters"  '),A={id:t},R={id:"STRING"},r.buffer.push(O(n.bindAttr.call(t,{hash:{id:"popoverId"},contexts:[],types:[],hashContexts:A,hashTypes:R,data:r}))),r.buffer.push(' >\n		<i class=\'icon-filter edit_chart_filters muted\'></i>\n	</a>\n\n	<div class="popover fade bottom in hidden" style="display: block; width: 350px; height: 300px;">\n		<div class="arrow hidden" style="left:116px;"></div>\n		<h3 class="popover-title hidden">Chart Filters</h3>\n		<div class="popover-content hidden">\n			<div class=\'row\' style="height: 225px; overflow-y: auto; overflow-x: hidden">\n				<div class=\'span\'>\n					<form class=\'form\' style="margin-bottom:0px;">\n						Filter Display Name: <br>\n						'),A={valueBinding:t,type:t,"class":t},R={valueBinding:"STRING",type:"STRING","class":"STRING"},M={hash:{valueBinding:"view.display_name",type:"text","class":"input-medium"},contexts:[],types:[],hashContexts:A,hashTypes:R,data:r},r.buffer.push(O((I=n.input,I?I.call(t,M):B.call(t,"input",M)))),r.buffer.push("\n						<br>\n\n						"),R={},A={},N=n["if"].call(t,"can_edit",{hash:{},inverse:F.noop,fn:F.program(1,a,r),contexts:[t],types:["ID"],hashContexts:A,hashTypes:R,data:r}),(N||0===N)&&r.buffer.push(N),r.buffer.push("\n\n						Field Name:\n						<br>\n						"),A={contentBinding:t,valueBinding:t,"class":t},R={contentBinding:"STRING",valueBinding:"STRING","class":"STRING"},r.buffer.push(O(n.view.call(t,"Ember.Select",{hash:{contentBinding:"fieldsArr",valueBinding:"view.field_name","class":"input-medium"},contexts:[t],types:["ID"],hashContexts:A,hashTypes:R,data:r}))),r.buffer.push("\n						<br>\n\n						"),R={},A={},N=n["if"].call(t,"view.field_name",{hash:{},inverse:F.noop,fn:F.program(3,s,r),contexts:[t],types:["ID"],hashContexts:A,hashTypes:R,data:r}),(N||0===N)&&r.buffer.push(N),r.buffer.push("\n\n						"),A={contentBinding:t,optionLabelPath:t,optionValuePath:t,valueBinding:t,"class":t},R={contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",valueBinding:"STRING","class":"STRING"},r.buffer.push(O(n.view.call(t,"Ember.Select",{hash:{contentBinding:"view.operators",optionLabelPath:"content.display",optionValuePath:"content.value",valueBinding:"view.comparison_operator","class":"input-medium"},contexts:[t],types:["ID"],hashContexts:A,hashTypes:R,data:r}))),r.buffer.push("\n						"),R={},A={},N=n["if"].call(t,"view.valuesLoading",{hash:{},inverse:F.noop,fn:F.program(8,h,r),contexts:[t],types:["ID"],hashContexts:A,hashTypes:R,data:r}),(N||0===N)&&r.buffer.push(N),r.buffer.push("\n						<br>\n\n						<div "),A={id:t},R={id:"STRING"},r.buffer.push(O(n.bindAttr.call(t,{hash:{id:"view.filterValuesId"},contexts:[],types:[],hashContexts:A,hashTypes:R,data:r}))),r.buffer.push(">\n						</div>\n\n						"),R={},A={},N=n["if"].call(t,"view.range_comparison",{hash:{},inverse:F.noop,fn:F.program(10,u,r),contexts:[t],types:["ID"],hashContexts:A,hashTypes:R,data:r}),(N||0===N)&&r.buffer.push(N),r.buffer.push('\n						\n						<input type="submit" value=\'Save\' class=\'btn\'/ >\n						<button class="btn" aria-hidden="true" '),A={target:t},R={target:"STRING"},r.buffer.push(O(n.action.call(t,"cancel",{hash:{target:"view"},contexts:[t],types:["STRING"],hashContexts:A,hashTypes:R,data:r}))),r.buffer.push("\n						>Cancel</button>\n					</form>\n				</div>\n			</div>\n			\n		</div>\n\n	</div>\n	\n</li>\n"),P}),Ember.TEMPLATES["charts/controls/chart_filters_list"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a,o="";return t.buffer.push("\n		"),r={},a={},i=n["if"].call(e,"filter.isLoaded",{hash:{},inverse:p.noop,fn:p.program(2,s,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n	"),o}function s(e,t){var i,r,a="";return t.buffer.push("\n			"),i={contentBinding:e},r={contentBinding:"ID"},t.buffer.push(d(n.view.call(e,"view.chartFilterView",{hash:{contentBinding:"filter"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n		"),a}function o(e,t){t.buffer.push("\n		<small class='muted pull-right'>No Filters </small>\n	")}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var l,c,h,u="",d=this.escapeExpression,p=this;return r.buffer.push("<div class='row pull-right' style=\"max-height: 20px;max-width: 400px;\">\n	"),c={},h={},l=n.each.call(t,"filter","in","filteredChartFilters",{hash:{},inverse:p.noop,fn:p.program(1,a,r),contexts:[t,t,t],types:["ID","ID","ID"],hashContexts:h,hashTypes:c,data:r}),(l||0===l)&&r.buffer.push(l),r.buffer.push("					\n\n	"),c={},h={},l=n.unless.call(t,"filteredChartFilters",{hash:{},inverse:p.noop,fn:p.program(4,o,r),contexts:[t],types:["ID"],hashContexts:h,hashTypes:c,data:r}),(l||0===l)&&r.buffer.push(l),r.buffer.push("\n</div>				\n"),u}),Ember.TEMPLATES["charts/drill_through"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var a,s,o,l,c="",h=this.escapeExpression,u=n.helperMissing;return r.buffer.push("<li class='filterDiv'>\n	<!-- <button "),s={id:t},o={id:"STRING"},r.buffer.push(h(n.bindAttr.call(t,{hash:{id:"drillId"},contexts:[],types:[],hashContexts:s,hashTypes:o,data:r}))),r.buffer.push(' data-toggle="tooltip" '),s={title:t},o={title:"STRING"},r.buffer.push(h(n.bindAttr.call(t,{hash:{title:"titleToggle"},contexts:[],types:[],hashContexts:s,hashTypes:o,data:r}))),r.buffer.push(" "),s={"class":t},o={"class":"STRING"},r.buffer.push(h(n.bindAttr.call(t,{hash:{"class":"classToggle"},contexts:[],types:[],hashContexts:s,hashTypes:o,data:r}))),r.buffer.push("  "),o={},s={},r.buffer.push(h(n.action.call(t,"toggleDrill","",{hash:{},contexts:[t,t],types:["STRING","ID"],hashContexts:s,hashTypes:o,data:r}))),r.buffer.push(' style="padding: 0px; width: 100%; margin-top: -2px; border: 0px;">\n		<i class = "icon-tasks muted" ></i>\n	</button>\n	-->\n\n\n	<a rel="popover" class=\'drill_through_popover\' data-toggle="tooltip" data-placement="right auto" '),s={title:t},o={title:"STRING"},r.buffer.push(h(n.bindAttr.call(t,{hash:{title:"titleToggle"},contexts:[],types:[],hashContexts:s,hashTypes:o,data:r}))),r.buffer.push(" "),s={id:t},o={id:"STRING"},r.buffer.push(h(n.bindAttr.call(t,{hash:{id:"drillId"},contexts:[],types:[],hashContexts:s,hashTypes:o,data:r}))),r.buffer.push('  style="padding: 0px; width: 100%; margin-top: -2px; border: 0px;">\n		<i class = "icon-tasks muted" ></i>\n	</a>\n\n	<div class="popover fade bottom in hidden" style="display: block; height: auto; ">\n		<div class="arrow hidden" style="left:168px;"></div>\n		<h3 class="popover-title hidden">On click settings</h3>\n		<div class="popover-content hidden">\n			<form class=\'form form-inline\' >				\n				<div class="row">\n\n					<div class="span" style="width:100%; margin-top:10px; margin-bottom:10px;">\n						<div class="row">\n							<div class="span" style="width:40%;">\n								<span style="line-height: 30px;">Details Dashboard</span>\n							</div>\n							<div class="span" style="width:60%;">\n								'),s={contentBinding:t,optionValuePath:t,optionLabelPath:t,valueBinding:t},o={contentBinding:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING"},r.buffer.push(h(n.view.call(t,"Ember.Select",{hash:{contentBinding:"view.dashboardList",optionValuePath:"content.id",optionLabelPath:"content.displayName",valueBinding:"view.detailsDashboard"},contexts:[t],types:["ID"],hashContexts:s,hashTypes:o,data:r}))),r.buffer.push('\n							</div>\n						</div>\n					</div>\n\n					<div class="span" style="width:100%; margin-top:10px; margin-bottom:10px;">\n						<div class="row">\n							<input type="checkbox" '),s={id:t},o={id:"STRING"},r.buffer.push(h(n.bindAttr.call(t,{hash:{id:"drillId"},contexts:[],types:[],hashContexts:s,hashTypes:o,data:r}))),r.buffer.push(' data-toggle="tooltip" '),s={checked:t},o={checked:"ID"},r.buffer.push(h(n.bindAttr.call(t,{hash:{checked:"view.modalEnabled"},contexts:[],types:[],hashContexts:s,hashTypes:o,data:r}))),r.buffer.push('>\n							<span style="vertical-align: sub; margin-left: 5px;">\n								Drill Through on Click\n							</span>\n						</div>\n					</div>\n\n					<div class="span" style="width:100%; margin-top:10px; margin-bottom:10px;">\n						<div class="row" style="margin-bottom:3px;">\n							<span>Title</span>\n						</div>\n						<div class="row">\n							'),s={valueBinding:t},o={valueBinding:"STRING"},r.buffer.push(h(n.view.call(t,"Ember.TextField",{hash:{valueBinding:"modalTitle"},contexts:[t],types:["ID"],hashContexts:s,hashTypes:o,data:r}))),r.buffer.push('\n						</div>\n					</div>\n\n					<div class="span" style="width:100%; margin-top:10px; margin-bottom:10px;">\n						<div class="row" style="margin-bottom:3px;">\n							<span>Select Fields for Drill Through</span>\n						</div>\n						<div class="row">\n							<div class="span" style="height: 80px; overflow: auto; width: 370px; border-width: 1px; border-style: solid; border-radius: 5px; border-color: #ccc;">\n								'),o={},s={},l={hash:{},contexts:[t],types:["STRING"],hashContexts:s,hashTypes:o,data:r},r.buffer.push(h((a=n.partial,a?a.call(t,"fields",l):u.call(t,"partial","fields",l)))),r.buffer.push('\n							</div>\n						</div>\n					</div>\n\n					<div class="span" style="width:100%; margin-top:10px; margin-bottom:10px;">\n						<div class="row">\n							<div class="span2" style="margin-top:10px;">\n								<button type="submit" class=\'btn\' >Save</button>\n								<button class="btn" aria-hidden="true" onclick="$(this).closest(\'li\').find(\'.icon-tasks\').click();return false;">Cancel</button>\n							</div>\n						</div>\n					</div>					\n				</div>\n			</form>\n		</div>\n	</div>\n\n</li> \n'),c}),Ember.TEMPLATES["charts/edit"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var a,s,o="",l=this.escapeExpression;return r.buffer.push('<form class="form-inline">\n	<input type="text" id="title" class="input-medium" placeholder="Chart Title...">\n	<br/>\n	<input type="text" id="subtitle" class="input-medium" placeholder="Chart subtitle..(optional)">\n	<div class="btn btn-small" '),a={target:t},s={target:"ID"},r.buffer.push(l(n.action.call(t,"updateChart","",{hash:{target:"view"},contexts:[t,t],types:["STRING","ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push('>\n		<i class="icon-ok"></i>\n	</div>\n</form>\n'),o}),Ember.TEMPLATES["charts/edit_configs/_bar"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var a,s,o="",l=this.escapeExpression;return r.buffer.push("<strong>\n	Bar Chart Configs\n</strong>\n<hr class='compact'>\n<div class='row'>\n	<div class=\"span4\">\n		<div class='row'>\n			<div class='span2'>\n				<label>Plot Absolute Values?</label>\n			</div>\n			<div class='span'>\n				"),a={checkedBinding:t,name:t,value:t},s={checkedBinding:"STRING",name:"STRING",value:"BOOLEAN"},r.buffer.push(l(n.view.call(t,"Ember.Checkbox",{hash:{checkedBinding:"configObject.plot_abs_values",name:"plot_abs_values",value:!0},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push("\n			</div>\n		</div>\n	</div>\n</div>\n"),o}),Ember.TEMPLATES["charts/edit_configs/_combination"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var a,s,o="",l=this.escapeExpression;return r.buffer.push("<div class='row'>\n	<div class='span'>\n		<h4>Y Axis Labels</h4>\n		<div class=\"input-prepend input-append\">\n			<span class=\"add-on\">Left</span>\n			"),a={"class":t,valueBinding:t,name:t},s={"class":"STRING",valueBinding:"STRING",name:"STRING"},r.buffer.push(l(n.view.call(t,"Ember.TextField",{hash:{"class":"input-large",valueBinding:"configObject.y_axis_label_left",name:"y_axis_label_left"},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push('\n		</div>\n		<br>\n		<div class="input-prepend input-append">\n			<span class="add-on">Right</span>\n			'),a={"class":t,valueBinding:t,name:t},s={"class":"STRING",valueBinding:"STRING",name:"STRING"},r.buffer.push(l(n.view.call(t,"Ember.TextField",{hash:{"class":"input-large",valueBinding:"configObject.y_axis_label_right",name:"y_axis_label_right"},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push("\n		</div>\n	</div>\n</div>\n     \n"),o}),Ember.TEMPLATES["charts/edit_configs/_common"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a,s,o="";return t.buffer.push('\n	<div class="row">\n		<div class="span2">\n			Select Values\n		</div>\n		<div class="span">\n			'),r={"class":e,valueBinding:e,name:e,placeholder:e},a={"class":"STRING",valueBinding:"STRING",name:"STRING",placeholder:"STRING"},t.buffer.push(h(n.view.call(e,"Ember.TextField",{hash:{"class":"arrayField input-medium",valueBinding:"configObject.selection_values",name:"selection_values",placeholder:"Comma Separated List of Fields"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push('\n		</div>\n	</div>\n	<div class="row">\n		<div class="span2">\n			Display Rank\n		</div>\n		<div class="span">      \n			'),r={valueBinding:e,checkedBinding:e,name:e,value:e},a={valueBinding:"STRING",checkedBinding:"STRING",name:"STRING",value:"BOOLEAN"},t.buffer.push(h(n.view.call(e,"Ember.Checkbox",{hash:{valueBinding:"configObject.display_rank",checkedBinding:"configObject.display_rank",name:"display_rank",value:!0},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push('\n		</div>\n	</div>\n	<div class=\'row\'>\n		<div class="span2">\n			Count\n		</div>\n		<div class="span">\n			'),r={type:e,valueBinding:e,"class":e,name:e,style:e},a={type:"STRING",valueBinding:"STRING","class":"STRING",name:"STRING",style:"STRING"},s={hash:{type:"text",valueBinding:"view.count","class":"input-small",name:"Count",style:""},contexts:[],types:[],hashContexts:r,hashTypes:a,data:t},t.buffer.push(h((i=n.input,i?i.call(e,s):u.call(e,"input",s)))),t.buffer.push("\n		</div>\n	</div>\n"),o}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var s,o,l,c="",h=this.escapeExpression,u=n.helperMissing,d=this;return r.buffer.push("\n"),o={},l={},s=n.unless.call(t,"view.single_value",{hash:{},inverse:d.noop,fn:d.program(1,a,r),contexts:[t],types:["ID"],hashContexts:l,hashTypes:o,data:r}),(s||0===s)&&r.buffer.push(s),r.buffer.push("\n\n\n"),c}),Ember.TEMPLATES["charts/edit_configs/_ctable"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var a,s,o="",l=this.escapeExpression;return r.buffer.push('<div class="input-prepend input-append">\n	<span class="add-on">Hierarchy</span>\n	'),a={"class":t,valueBinding:t,name:t},s={"class":"STRING",valueBinding:"STRING",name:"STRING"},r.buffer.push(l(n.view.call(t,"Ember.TextField",{hash:{"class":"input-large arrayField",valueBinding:"configObject.hierarchy",name:"hierarchy"},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push('\n</div>\n\n<div class="input-prepend input-append">\n  <span class="add-on">Expansion Depth</span>\n  '),a={"class":t,valueBinding:t,type:t,name:t},s={"class":"STRING",valueBinding:"STRING",type:"STRING",name:"STRING"},r.buffer.push(l(n.view.call(t,"Ember.TextField",{hash:{"class":"input-mini",valueBinding:"configObject.expansion_depth",type:"number",name:"expansion_depth"},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push('\n</div>\n\n<div class="input-prepend input-append">\n	<span class="add-on">Columns (o)</span>\n	'),a={"class":t,valueBinding:t,name:t},s={"class":"STRING",valueBinding:"STRING",name:"STRING"},r.buffer.push(l(n.view.call(t,"Ember.TextField",{hash:{"class":"input-large arrayField",valueBinding:"configObject.columns",name:"columns"},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push('\n</div>\n\n<div style="margin-top:5px;margin-bottom:5px;">\n	<span style="padding-right:67px;">Number Format </span>\n	'),a={contentBinding:t,valueBinding:t,name:t,"class":t},s={contentBinding:"STRING",valueBinding:"STRING",name:"STRING","class":"STRING"},r.buffer.push(l(n.view.call(t,"Ember.Select",{hash:{contentBinding:"view.displayUnits",valueBinding:"configObject.displayUnit",name:"displayUnit","class":"small"},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push("\n</div>\n\n\n"),o}),Ember.TEMPLATES["charts/edit_configs/_geo"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{},r.buffer.push('<h4>Chart Type</h4>	\n<div class=\'row\'>\n	<div class=\'span\'>\n		<div class="btn-group" data-toggle="buttons-radio" >\n		  <button type="button" class="btn btn-primary" value="world" name=\'geo_chart_type\'>World</button>\n		  <button type="button" class="btn btn-primary" value="india" name=\'geo_chart_type\'>India</button>\n		</div>\n	</div>\n</div>\n<br>\n')}),Ember.TEMPLATES["charts/edit_configs/_groupedTable"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var a,s,o="",l=this.escapeExpression;return r.buffer.push("<strong>\n	Grouped Table Configs\n</strong>\n<hr class='compact'>\n<div class='row'>\n	<div class=\"span4\">\n		<div class='row'>\n			<div class='span2'>\n				<label>Hide row totals</label>\n			</div>\n			<div class='span'>\n				"),a={checkedBinding:t,name:t},s={checkedBinding:"STRING",name:"STRING"},r.buffer.push(l(n.view.call(t,"Ember.Checkbox",{hash:{checkedBinding:"configObject.hide_row_total",name:"hide_row_total"},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push("\n			</div>\n		</div>\n		<div class='row'>\n			<div class='span2'>\n				<label>Hide column totals</label>\n			</div>\n			<div class='span'>\n				"),a={checkedBinding:t,name:t},s={checkedBinding:"STRING",name:"STRING"},r.buffer.push(l(n.view.call(t,"Ember.Checkbox",{hash:{checkedBinding:"configObject.hide_column_total",name:"hide_column_total"},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push("\n			</div>\n		</div>\n		<div class='row'>\n			<div class='span2'>\n				<label>Records per page</label>\n			</div>\n			<div class='span'>\n				"),a={valueBinding:t,min:t,name:t,"class":t},s={valueBinding:"STRING",min:"STRING",name:"STRING","class":"STRING"},r.buffer.push(l(n.view.call(t,"Cibi.NumberField",{hash:{valueBinding:"configObject.limit",min:"1",name:"limit","class":"input-mini"},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push("\n			</div>\n		</div>\n		<div class='row'>\n			<div class='span2'>\n				<label>Draw With Heatmap</label>\n			</div>\n			<div class='span'>\n				"),a={checkedBinding:t,name:t},s={checkedBinding:"STRING",name:"STRING"},r.buffer.push(l(n.view.call(t,"Ember.Checkbox",{hash:{checkedBinding:"configObject.draw_with_heatmap",name:"draw_with_heatmap"},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push('\n			</div>\n		</div>\n		<div style="margin-top:5px;margin-bottom:5px;">\n			<span style="padding-right:67px;">Number Format </span>\n			'),a={contentBinding:t,valueBinding:t,name:t,"class":t},s={contentBinding:"STRING",valueBinding:"STRING",name:"STRING","class":"STRING"},r.buffer.push(l(n.view.call(t,"Ember.Select",{hash:{contentBinding:"view.displayUnits",valueBinding:"configObject.displayUnit",name:"displayUnit","class":"small"},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push("\n		</div>\n	</div>\n</div>\n"),o}),Ember.TEMPLATES["charts/edit_configs/_heatmap"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var a,s,o="",l=this.escapeExpression;return r.buffer.push('<h5>Color Scheme</h5>\n<div class="span" style="margin-bottom:10px;">\n    <div class="input-prepend input-append" style="display:inline; margin-right:8px;">\n        <span class="add-on" style="width:50px;">Low</span>\n        '),a={contentBinding:t,valueBinding:t,name:t,"class":t},s={contentBinding:"STRING",valueBinding:"STRING",name:"STRING","class":"STRING"},r.buffer.push(l(n.view.call(t,"Ember.Select",{hash:{contentBinding:"view.colorPallette",valueBinding:"configObject.colorSchemeLow",name:"colorSchemeLow","class":"small"},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push('\n    </div>\n\n    <div class="input-prepend input-append" style="display:inline; margin-right:8px;">\n    	<span class="add-on" style="width:50px;">High</span>\n    	'),a={contentBinding:t,valueBinding:t,name:t,"class":t},s={contentBinding:"STRING",valueBinding:"STRING",name:"STRING","class":"STRING"},r.buffer.push(l(n.view.call(t,"Ember.Select",{hash:{contentBinding:"view.colorPallette",valueBinding:"configObject.colorSchemeHigh",name:"colorSchemeHigh","class":"small"},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push('\n    </div>\n</div>\n<div class="span" style="margin-bottom:10px;">\n    <div class="input-prepend input-append" style="display:inline; margin-right:8px;">\n        <span class="add-on" style="width:50px;">Low</span>\n        '),a={valueBinding:t,name:t,"class":t},s={valueBinding:"STRING",name:"STRING","class":"STRING"},r.buffer.push(l(n.view.call(t,"Ember.TextField",{hash:{valueBinding:"configObject.colorDomainLow",name:"colorDomainLow","class":"small colorDomainText"},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push('\n    </div>\n\n    <div class="input-prepend input-append" style="display:inline; margin-right:8px;">\n        <span class="add-on" style="width:50px;">High</span>\n        '),a={valueBinding:t,name:t,"class":t},s={valueBinding:"STRING",name:"STRING","class":"STRING"},r.buffer.push(l(n.view.call(t,"Ember.TextField",{hash:{valueBinding:"configObject.colorDomainHigh",name:"colorDomainHigh","class":"small colorDomainText"},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push("\n    </div>\n</div>\n"),o}),Ember.TEMPLATES["charts/edit_configs/_line"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var a,s,o="",l=this.escapeExpression;return r.buffer.push("<h4>Line Chart Configs</h4>\n<hr class='compact'>\n\n<div class=\"row\">\n	<div class='span2'>\n		<label>Step Change?</label>\n	</div>\n	<div class='span'>\n		"),a={checkedBinding:t,name:t,value:t},s={checkedBinding:"STRING",name:"STRING",value:"BOOLEAN"},r.buffer.push(l(n.view.call(t,"Ember.Checkbox",{hash:{checkedBinding:"configObject.step_function",name:"step_function",value:!0},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push("\n	</div>\n</div>\n"),o}),Ember.TEMPLATES["charts/edit_configs/_multiline"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var a,s,o="",l=this.escapeExpression;return r.buffer.push("\n<div class = \"row\">\n	<div class='span2'>\n		<label>Step Change?</label>\n	</div>\n	<div class='span'>\n		"),a={checkedBinding:t,name:t,value:t},s={checkedBinding:"STRING",name:"STRING",value:"BOOLEAN"},r.buffer.push(l(n.view.call(t,"Ember.Checkbox",{hash:{checkedBinding:"configObject.step_function",name:"step_function",value:!0},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push("\n	</div>\n</div>\n"),o}),Ember.TEMPLATES["charts/edit_configs/_singleValue"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var a,s,o,l,c="",h=this.escapeExpression,u=n.helperMissing;return r.buffer.push("\n<table>\n	<tr>\n		<td style='width: 100px;'>Number Format</td>		\n		<td style='width: 100px'>      \n	        "),s={contentBinding:t,valueBinding:t,name:t,"class":t},o={contentBinding:"STRING",valueBinding:"STRING",name:"STRING","class":"STRING"},r.buffer.push(h(n.view.call(t,"Ember.Select",{hash:{contentBinding:"view.displayUnits",valueBinding:"configObject.displayUnit",name:"displayUnit","class":"small"},contexts:[t],types:["ID"],hashContexts:s,hashTypes:o,data:r}))),r.buffer.push("\n\n		</td>\n	</tr>\n	<tr>\n		<td style='width: 100px;'>Count</td>		\n		<td style='width: 100px'>      \n			"),s={type:t,valueBinding:t,"class":t,name:t,style:t},o={type:"STRING",valueBinding:"STRING","class":"STRING",name:"STRING",style:"STRING"},l={hash:{type:"text",valueBinding:"view.count","class":"input-small",name:"Count",style:""},contexts:[],types:[],hashContexts:s,hashTypes:o,data:r},r.buffer.push(h((a=n.input,a?a.call(t,l):u.call(t,"input",l)))),r.buffer.push("\n		</td>\n	</tr>\n</table>\n"),c
}),Ember.TEMPLATES["charts/edit_configs/_table"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var a,s,o="",l=this.escapeExpression;return r.buffer.push('<div class="input-prepend input-append">\n	<span class="add-on">Hierarchy</span>\n	'),a={"class":t,valueBinding:t,name:t},s={"class":"STRING",valueBinding:"STRING",name:"STRING"},r.buffer.push(l(n.view.call(t,"Ember.TextField",{hash:{"class":"input-large arrayField",valueBinding:"configObject.hierarchy",name:"hierarchy"},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push('\n</div>\n<div style="margin-top:5px;margin-bottom:5px;">\n	<span style="padding-right:67px;">Number Format </span>\n	'),a={contentBinding:t,valueBinding:t,name:t,"class":t},s={contentBinding:"STRING",valueBinding:"STRING",name:"STRING","class":"STRING"},r.buffer.push(l(n.view.call(t,"Ember.Select",{hash:{contentBinding:"view.displayUnits",valueBinding:"configObject.displayUnit",name:"displayUnit","class":"small"},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push("\n</div>\n"),o}),Ember.TEMPLATES["charts/forecast"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a,o="";return t.buffer.push('				\n					<div class="row">\n						<div class="span" style="width:100%; margin-top:10px; margin-bottom:10px;">\n							<div class="row">\n								<div class="span" style="width: 125px;">\n									<span>Enable Forecast</span>\n								</div>\n								<div class="span" style="margin-left: 5px;">\n									<input type="checkbox" '),r={id:e},a={id:"STRING"},t.buffer.push(v(n.bindAttr.call(e,{hash:{id:"drillId"},contexts:[],types:[],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push(' data-toggle="tooltip" '),r={checked:e},a={checked:"ID"},t.buffer.push(v(n.bindAttr.call(e,{hash:{checked:"view.forecastObject.enableForecast"},contexts:[],types:[],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push('>\n								</div>							\n							</div>\n						</div>\n\n						<div class="span" style="width:100%; margin-top:10px; margin-bottom:10px;">\n							<div class="row"> \n								<div class="span" style="width: 125px;">\n									<span>Forecast Period</span>\n								</div>\n								<div class="span" style="margin-left: 5px;">\n									'),r={"class":e,valueBinding:e},a={"class":"STRING",valueBinding:"STRING"},t.buffer.push(v(n.view.call(e,"Ember.TextField",{hash:{"class":"input-small",valueBinding:"view.forecastObject.forecastPeriod"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push('\n								</div>\n								<div class="span" style="font-size: 14px; margin-left: 10px; width: 100px;">\n									<span class="muted" style="vertical-align: -webkit-baseline-middle;"> '),a={},r={},t.buffer.push(v(n._triageMustache.call(e,"view.forecastPeriodFormat",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push(' </span>\n								</div>\n							</div>\n						</div>\n\n						<div class="span" style="width:100%; margin-top:10px; margin-bottom:10px;">\n							<div class="row">\n								<div class="span" style="width: 125px;">\n									<span>Forecast Method</span>\n								</div>\n								<div class="span" style="margin-left: 5px;">\n									'),r={contentBinding:e,valueBinding:e},a={contentBinding:"STRING",valueBinding:"STRING"},t.buffer.push(v(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.supportedForecastMethods",valueBinding:"view.forecastObject.forecastMethod"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push("\n								</div>\n							</div>\n						</div>\n\n						"),a={},r={},i=n["if"].call(e,"view.isETS",{hash:{},inverse:b.noop,fn:b.program(2,s,t),contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n\n						"),a={},r={},i=n["if"].call(e,"view.isHoltWinters",{hash:{},inverse:b.noop,fn:b.program(5,l,t),contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n\n						"),a={},r={},i=n["if"].call(e,"view.isArima",{hash:{},inverse:b.noop,fn:b.program(8,h,t),contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push('\n\n						<div class="span" style="width: 100%; margin-top: 10px; margin-bottom: 10px;">\n							'),a={},r={},t.buffer.push(v(n.view.call(e,"view.forecastDetailsView",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push('\n						</div>\n\n						<div class="span" style="width:100%; margin-top:10px; margin-bottom:10px;">\n							<div class="row">\n								<div class="span2" style="margin-top:10px;">\n									<button type="submit" class=\'btn\' >Save</button>\n									<button class="btn" aria-hidden="true" onclick="$(this).closest(\'li\').find(\'.forecast_icon\').click();return false;">Cancel</button>\n								</div>\n							</div>\n						</div>					\n					</div>\n				'),o}function s(e,t){var i,r,a,s="";return t.buffer.push('\n							<div class="span" style="width:100%; margin-top:10px; margin-bottom:10px;">\n								<div class="row" style="margin:5px;">\n									'),r={checkedBinding:e},a={checkedBinding:"STRING"},t.buffer.push(v(n.view.call(e,"Ember.Checkbox",{hash:{checkedBinding:"view.forecastObject.specifyETSModel"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push('\n									<span style="vertical-align:sub;">Specify Model</span>\n								</div>\n\n								'),a={},r={},i=n["if"].call(e,"view.forecastObject.specifyETSModel",{hash:{},inverse:b.noop,fn:b.program(3,o,t),contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n							</div>\n						"),s}function o(e,t){var i,r,a="";return t.buffer.push('\n									<div class="row">\n										<div class="span">\n											<span>Error</span>\n											'),i={contentBinding:e,valueBinding:e,"class":e},r={contentBinding:"STRING",valueBinding:"STRING","class":"STRING"},t.buffer.push(v(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.errorOptions",valueBinding:"view.forecastObject.errorValue","class":"mini"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push('\n										</div>\n										<div class="span" style="margin-left:10px;">\n											<span>Trend</span>\n											'),i={contentBinding:e,valueBinding:e,"class":e},r={contentBinding:"STRING",valueBinding:"STRING","class":"STRING"},t.buffer.push(v(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.trendAndSeasonalityOptions",valueBinding:"view.forecastObject.trendValue","class":"mini"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push('\n										</div>\n										<div class="span" style="margin-left:10px;">\n											<span>Seasonality</span>\n											'),i={contentBinding:e,valueBinding:e,"class":e},r={contentBinding:"STRING",valueBinding:"STRING","class":"STRING"},t.buffer.push(v(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.trendAndSeasonalityOptions",valueBinding:"view.forecastObject.seasonalityValue","class":"mini"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n										</div>\n									</div>\n								"),a}function l(e,t){var i,r,a,s="";return t.buffer.push('\n							<div class="span" style="width:100%; margin-top:10px; margin-bottom:10px;">\n								<div class="row" style="margin:5px;">\n									'),r={checkedBinding:e},a={checkedBinding:"STRING"},t.buffer.push(v(n.view.call(e,"Ember.Checkbox",{hash:{checkedBinding:"view.forecastObject.specifyHoltWintersModel"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push('\n									<span style="vertical-align:sub;">Specify Model</span>\n								</div>\n\n								'),a={},r={},i=n["if"].call(e,"view.forecastObject.specifyHoltWintersModel",{hash:{},inverse:b.noop,fn:b.program(6,c,t),contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n							</div>\n						"),s}function c(e,t){var i,r,a="";return t.buffer.push('\n									<div class="row">\n										<div class="span">\n											<span>alpha</span>\n											'),i={valueBinding:e,"class":e},r={valueBinding:"STRING","class":"STRING"},t.buffer.push(v(n.view.call(e,"Ember.TextField",{hash:{valueBinding:"view.forecastObject.alphaValue","class":"input-mini"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push('\n										</div>\n										<div class="span" style="margin-left:10px;">\n											<span>beta</span>\n											'),i={valueBinding:e,"class":e},r={valueBinding:"STRING","class":"STRING"},t.buffer.push(v(n.view.call(e,"Ember.TextField",{hash:{valueBinding:"view.forecastObject.betaValue","class":"input-mini"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push('\n										</div>\n										<div class="span" style="margin-left:10px;">\n											<span>gamma</span>\n											'),i={valueBinding:e,"class":e},r={valueBinding:"STRING","class":"STRING"},t.buffer.push(v(n.view.call(e,"Ember.TextField",{hash:{valueBinding:"view.forecastObject.gammaValue","class":"input-mini"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n										</div>\n									</div>\n								"),a}function h(e,t){var i,r,a,s="";return t.buffer.push('\n							<div class="span" style="width:100%; margin-top:10px; margin-bottom:10px;">\n								<div class="row" style="margin:5px;">\n									'),r={checkedBinding:e},a={checkedBinding:"STRING"},t.buffer.push(v(n.view.call(e,"Ember.Checkbox",{hash:{checkedBinding:"view.forecastObject.specifyArimaModel"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push('\n									<span style="vertical-align:sub;">Specify Model</span>\n								</div>\n\n								'),a={},r={},i=n["if"].call(e,"view.forecastObject.specifyArimaModel",{hash:{},inverse:b.noop,fn:b.program(9,u,t),contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n							</div>\n						"),s}function u(e,t){var i,r,a="";return t.buffer.push('\n									<div class="row">\n										<div class="span">\n											<span>order</span>\n											'),i={valueBinding:e,"class":e},r={valueBinding:"STRING","class":"STRING"},t.buffer.push(v(n.view.call(e,"Ember.TextField",{hash:{valueBinding:"view.forecastObject.orderValue","class":"input-mini"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n										</div>\n									</div>\n								"),a}function d(e,t){t.buffer.push('\n					<p>Forecasting is only supported for "Simple line and area charts"</p>\n					<div class="span" style="width:100%; margin-top:10px; margin-bottom:10px;">\n							<div class="row">\n								<div class="span2" style="margin-top:10px;">\n									<button class="btn" aria-hidden="true" onclick="$(this).closest(\'li\').find(\'.forecast_icon\').click();return false;">Cancel</button>\n								</div>\n							</div>\n						</div>	\n				')}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var p,f,g,m="",v=this.escapeExpression,b=this;return r.buffer.push('<li class=\'filterDiv\'>\n	<a rel="popover" class=\'forecast_popover\' data-toggle="tooltip" data-placement="right auto" title="Enable/Disable Forecasting" '),f={id:t},g={id:"STRING"},r.buffer.push(v(n.bindAttr.call(t,{hash:{id:"drillId"},contexts:[],types:[],hashContexts:f,hashTypes:g,data:r}))),r.buffer.push('>\n		<i class="icon-eye-open muted forecast_icon"></i>\n	</a>\n\n	<div class="popover fade bottom in hidden" style="top: 64px; display:block; width:375px; height: 350px;">\n		<div class="arrow hidden" style="left:194px;"></div>\n		<h3 class="popover-title hidden">Forecast</h3>\n		<div class="popover-content hidden" style="height:290px; overflow:auto; padding:8px;">\n			<form class=\'form form-inline\' >\n				'),g={},f={},p=n["if"].call(t,"isLineOrAreaChart",{hash:{},inverse:b.program(11,d,r),fn:b.program(1,a,r),contexts:[t],types:["ID"],hashContexts:f,hashTypes:g,data:r}),(p||0===p)&&r.buffer.push(p),r.buffer.push("\n			</form>\n		</div>\n	</div>\n\n</li> \n"),m}),Ember.TEMPLATES["charts/new"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){t.buffer.push("\n						<h4 class='alert alert-info'> Select a chart type </h4>\n					")}function s(e,t){var i,r,a="";return t.buffer.push("\n				<div class='row' style='margin-top: 10px'>\n					<div class='span'>\n						<div class=\"input-prepend input-append\">\n							<span class=\"add-on\">Drill Through Title</span>\n					  		"),i={"class":e,valueBinding:e,placeholder:e,required:e},r={"class":"STRING",valueBinding:"STRING",placeholder:"STRING",required:"STRING"},t.buffer.push(u(n.view.call(e,"Ember.TextField",{hash:{"class":"input-xlarge",valueBinding:"view.modalTitle",placeholder:"Drill Through Title",required:"true"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n						</div>			\n					</div>\n				</div>\n			"),a}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var o,l,c,h="",u=this.escapeExpression,d=this;return r.buffer.push('<div id=\'modal-new-chart\' class=\'modal large-modal hide fade\'>\n	<div class="modal-header">\n		<div style= "float:right;width:100px">\n			<button class="btn" '),l={target:t},c={target:"STRING"},r.buffer.push(u(n.action.call(t,"removeChart","model",{hash:{target:"view"},contexts:[t,t],types:["STRING","ID"],hashContexts:l,hashTypes:c,data:r}))),r.buffer.push(' >Clear</button>\n			<button type="button" class="close" data-dismiss="modal" aria-hidden="true" '),l={target:t},c={target:"STRING"},r.buffer.push(u(n.action.call(t,"removeChart","model",{hash:{target:"view"},contexts:[t,t],types:["STRING","ID"],hashContexts:l,hashTypes:c,data:r}))),r.buffer.push('>\n				×\n			</button>\n		</div>\n		<h3 id="myModalLabel"> Create New Chart </h3>	\n	</div>\n	<div id=\'new-chart-notice\' style="text-align: center">\n	</div>\n	<div class="modal-body">	\n		<form id = "new_chart">\n			<fieldset>\n			<div class="row">\n\n				<div class="span5">\n					<div class="input-prepend">\n					  <span class="add-on">Title</span>\n					  '),l={"class":t,valueBinding:t,required:t,placeholder:t},c={"class":"STRING",valueBinding:"STRING",required:"BOOLEAN",placeholder:"STRING"},r.buffer.push(u(n.view.call(t,"Ember.TextField",{hash:{"class":"input-xlarge",valueBinding:"view.title",required:!0,placeholder:"Title"},contexts:[t],types:["ID"],hashContexts:l,hashTypes:c,data:r}))),r.buffer.push('\n					</div>\n\n					<div class="input-prepend">\n					  <span class="add-on">Subtitle</span>\n					  '),l={"class":t,valueBinding:t,required:t,placeholder:t},c={"class":"STRING",valueBinding:"STRING",required:"BOOLEAN",placeholder:"STRING"},r.buffer.push(u(n.view.call(t,"Ember.TextField",{hash:{"class":"input-xlarge",valueBinding:"view.subtitle",required:!0,placeholder:"Sub Title"},contexts:[t],types:["ID"],hashContexts:l,hashTypes:c,data:r}))),r.buffer.push('\n					</div>\n				</div>\n				\n				<div class="span4">\n				<h4>Orientation</h4>\n				 	<div class=\'row\'>\n					<div class=\'span2\'>\n						<input type="radio" name="orientation_type" value="1" checked> Default\n					</div>\n					<div class=\'span2\'>\n						<input type="radio" name="orientation_type" value="2"> Full width\n					</div>\n					</div>\n					<div class=\'row\'>\n					<div class=\'span2\'>\n						<input type="radio" name="orientation_type" value="3"> Full height\n					</div>\n					<div class=\'span2\'>\n						<input type="radio" name="orientation_type" value="4"> Full screen\n					</div>\n					</div>\n				</div>\n				<div class=\'span10\'>\n					<h4>Margins</h4>	\n					<div class="input-prepend input-append">\n					  <span class="add-on">Top</span>\n					  '),l={"class":t,valueBinding:t,placeholder:t},c={"class":"STRING",valueBinding:"STRING",placeholder:"STRING"},r.buffer.push(u(n.view.call(t,"Ember.TextField",{hash:{"class":"input-mini",valueBinding:"view.marginTop",placeholder:"20"},contexts:[t],types:["ID"],hashContexts:l,hashTypes:c,data:r}))),r.buffer.push('\n					  <span class="add-on">px</span>\n					</div>\n\n					<div class="input-prepend input-append">\n					  <span class="add-on">Bottom</span>\n					  '),l={"class":t,valueBinding:t,placeholder:t},c={"class":"STRING",valueBinding:"STRING",placeholder:"STRING"},r.buffer.push(u(n.view.call(t,"Ember.TextField",{hash:{"class":"input-mini",valueBinding:"view.marginBottom",placeholder:"20"},contexts:[t],types:["ID"],hashContexts:l,hashTypes:c,data:r}))),r.buffer.push('\n					  <span class="add-on">px</span>\n					</div>\n					<br>\n					<div class="input-prepend input-append">\n					  <span class="add-on">Left</span>\n					  '),l={"class":t,valueBinding:t,placeholder:t},c={"class":"STRING",valueBinding:"STRING",placeholder:"STRING"},r.buffer.push(u(n.view.call(t,"Ember.TextField",{hash:{"class":"input-mini",valueBinding:"view.marginLeft",placeholder:"20"},contexts:[t],types:["ID"],hashContexts:l,hashTypes:c,data:r}))),r.buffer.push('\n					  <span class="add-on">px</span>\n					</div>\n\n					<div class="input-prepend input-append">\n					  <span class="add-on">Right</span>\n					  '),l={"class":t,valueBinding:t,placeholder:t},c={"class":"STRING",valueBinding:"STRING",placeholder:"STRING"},r.buffer.push(u(n.view.call(t,"Ember.TextField",{hash:{"class":"input-mini",valueBinding:"view.marginRight",placeholder:"20"},contexts:[t],types:["ID"],hashContexts:l,hashTypes:c,data:r}))),r.buffer.push("\n					  <span class=\"add-on\">px</span>\n					</div>\n				</div>\n\n			</div>\n			<div class='row'>\n				<div class='span' id =\"tests\">\n					"),c={},l={},r.buffer.push(u(n.view.call(t,"view.chartTypeView",{hash:{},contexts:[t],types:["ID"],hashContexts:l,hashTypes:c,data:r}))),r.buffer.push("\n			\n				</div>\n			</div>\n\n			<div class='row'>\n				<div class='span'>\n					"),c={},l={},o=n.unless.call(t,"view.chartType",{hash:{},inverse:d.noop,fn:d.program(1,a,r),contexts:[t],types:["ID"],hashContexts:l,hashTypes:c,data:r}),(o||0===o)&&r.buffer.push(o),r.buffer.push("\n					"),c={},l={},r.buffer.push(u(n.view.call(t,"view.chartTypeConfigsView",{hash:{},contexts:[t],types:["ID"],hashContexts:l,hashTypes:c,data:r}))),r.buffer.push("\n\n				</div>\n			</div>\n			\n			<div class='row'>\n				<div class='span'>\n					"),c={},l={},r.buffer.push(u(n.view.call(t,"view.addDataSourceView",{hash:{},contexts:[t],types:["ID"],hashContexts:l,hashTypes:c,data:r}))),r.buffer.push("\n				</div>\n			</div>\n			<br>\n			<div class='row' id='new-chart-data-source-views'>\n				"),c={},l={},r.buffer.push(u(n.view.call(t,"view.chartsDataSourcesView",{hash:{},contexts:[t],types:["ID"],hashContexts:l,hashTypes:c,data:r}))),r.buffer.push("\n			</div>\n			\n			<div class='row' style='margin-top: 10px'>\n				<div class='span'>\n					<div class=\"input-prepend input-append\">\n					  <span class=\"add-on\">Ext Filter (o)</span>\n					  "),l={"class":t,valueBinding:t,placeholder:t,required:t},c={"class":"STRING",valueBinding:"STRING",placeholder:"STRING",required:"STRING"},r.buffer.push(u(n.view.call(t,"Ember.TextField",{hash:{"class":"input-xlarge",valueBinding:"view.secondaryDimension",placeholder:"Data Source Field",required:"true"},contexts:[t],types:["ID"],hashContexts:l,hashTypes:c,data:r}))),r.buffer.push("\n					</div>			\n				</div>\n			</div>\n			<div class='row' style='margin-top: 10px'>\n				<div class='span'> \n					"),l={checkedBinding:t},c={checkedBinding:"STRING"},r.buffer.push(u(n.view.call(t,"Ember.Checkbox",{hash:{checkedBinding:"view.modalEnabled"},contexts:[t],types:["ID"],hashContexts:l,hashTypes:c,data:r}))),r.buffer.push("\n					<span>Enable Drill Through</span>\n				</div>\n			</div>\n			"),c={},l={},o=n["if"].call(t,"view.modalEnabled",{hash:{},inverse:d.noop,fn:d.program(3,s,r),contexts:[t],types:["ID"],hashContexts:l,hashTypes:c,data:r}),(o||0===o)&&r.buffer.push(o),r.buffer.push('\n\n			<div class="form-actions">\n				<button type="submit" class="btn btn-primary" >Create</button>\n				<button class="btn" data-dismiss="modal" aria-hidden="true" '),l={target:t},c={target:"STRING"},r.buffer.push(u(n.action.call(t,"removeChart","model",{hash:{target:"view"},contexts:[t,t],types:["STRING","ID"],hashContexts:l,hashTypes:c,data:r}))),r.buffer.push(">\n					Cancel\n				</button>\n				\n			</div>\n\n			</fieldset>\n		</form>	\n	</div>\n</div>\n"),h}),Ember.TEMPLATES["charts/pivot_configs"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a="";return t.buffer.push('\n										<li class="draggableElement ui-state-default" \n										style="list-style:none; margin: 5px; padding: 5px;">\n											<a '),i={target:e},r={target:"ID"},t.buffer.push(g(n.action.call(e,"deleteField","field",{hash:{target:"view"},contexts:[e,e],types:["ID","ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push(">\n												<i class='icon-remove-sign pull-right' >\n												</i>\n											</a>\n											<label style=\"margin: 0px;\">"),r={},i={},t.buffer.push(g(n._triageMustache.call(e,"field",{hash:{},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("</label>\n										</li>\n									"),a}function s(e,t){var i,r,a="";return t.buffer.push('\n										<li class="draggableElement ui-state-default ui-box" style="list-style:none; margin: 5px; padding: 5px;">\n												<a '),i={target:e},r={target:"ID"},t.buffer.push(g(n.action.call(e,"deleteField","field",{hash:{target:"view"},contexts:[e,e],types:["ID","ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push(">\n													<i class='icon-remove-sign pull-right' >\n													</i>\n												</a>\n												<label style=\"margin: 0px;\">"),r={},i={},t.buffer.push(g(n._triageMustache.call(e,"field",{hash:{},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("</label>\n										</li>\n									"),a}function o(e,t){t.buffer.push('\n							      		<li class="placeholder ui-state-default">Add row fields here</li>\n									')}function l(e,t){t.buffer.push('\n							      		<li class="placeholder ui-state-default">Add column fields here</li>\n									')}function c(e,t){var i,r,a="";return t.buffer.push('\n										<li class="draggableElement ui-state-default" \n										style="list-style:none; margin: 5px; padding: 5px; display: -webkit-box;">		\n											'),i={contentBinding:e,selectionBinding:e,"class":e},r={contentBinding:"ID",selectionBinding:"ID","class":"ID"},t.buffer.push(g(n.view.call(e,"Ember.Select",{hash:{contentBinding:"measure.content",selectionBinding:"measure.value","class":"measureSelect"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push('\n											<a style="padding: inherit;" '),i={target:e},r={target:"ID"},t.buffer.push(g(n.action.call(e,"deleteField","measure",{hash:{target:"view"},contexts:[e,e],types:["ID","ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push(">\n												<i class='icon-remove-sign pull-right' >\n												</i>\n											</a>\n										</li>\n									"),a}function h(e,t){t.buffer.push('\n							      		<li class="placeholder ui-state-default">Add measurable fields here</li>\n									')}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var u,d,p,f="",g=this.escapeExpression,m=this;return r.buffer.push('<div id=\'modal-pivot-configs\' class=\'modal medium-modal hide fade\'>\n	<div class="modal-header">\n		<div style= "float:right;width:100px">\n				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">\n					×\n				</button>\n			</div>\n			<h3 id="myModalLabel">Configs</h3>	\n		</div>\n	<div class="modal-body">	\n		<div class="row">\n			<div class="span2" style="margin-right:15px;">\n				<table class="table">\n					<thead>\n						<tr>\n							<th>\n								Fields								\n							</th>\n						</tr>						\n					</thead>\n					<tbody>\n						<tr>\n							<td class="droppableElement">\n								<ul class="nav" style="min-height:125px;" id="fields">\n									'),d={},p={},u=n.each.call(t,"field","in","view.fields",{hash:{},inverse:m.noop,fn:m.program(1,a,r),contexts:[t,t,t],types:["ID","ID","ID"],hashContexts:p,hashTypes:d,data:r}),(u||0===u)&&r.buffer.push(u),r.buffer.push('\n								</ul>\n							</td>\n						</tr>\n					</tbody>\n				</table>\n			</div>\n			<div class="span2" style="margin-right:15px;">\n				<table class="table">\n					<thead>\n						<tr>\n							<th>	\n								Rows							\n							</th>\n						</tr>						\n					</thead>\n					<tbody>\n						<tr>\n							<td class="droppableElement">\n								<ul class="nav" id="row_fields" style="min-height:125px;">\n									'),d={},p={},u=n.each.call(t,"field","in","view.row_fields",{hash:{},inverse:m.program(5,o,r),fn:m.program(3,s,r),contexts:[t,t,t],types:["ID","ID","ID"],hashContexts:p,hashTypes:d,data:r}),(u||0===u)&&r.buffer.push(u),r.buffer.push('\n							    </ul>\n							</td>\n						</tr>\n					</tbody>\n				</table>\n			</div>\n			<div class="span2" style="margin-right:15px;">\n				<table class="table">\n					<thead>\n						<tr>\n							<th>	\n								Columns							\n							</th>\n						</tr>						\n					</thead>\n					<tbody>\n						<tr>\n							<td class="droppableElement">\n								<ul class="nav" id="column_fields" style="min-height:125px;">\n									'),d={},p={},u=n.each.call(t,"field","in","view.column_fields",{hash:{},inverse:m.program(7,l,r),fn:m.program(1,a,r),contexts:[t,t,t],types:["ID","ID","ID"],hashContexts:p,hashTypes:d,data:r}),(u||0===u)&&r.buffer.push(u),r.buffer.push('\n							    </ul>\n							</td>\n						</tr>\n					</tbody>\n				</table>\n			</div>\n			<div class="span2" style="margin-right:15px;">\n				<table class="table">\n					<thead>\n						<tr>\n							<th>\n								Measures						\n							</th>\n						</tr>						\n					</thead>\n					<tbody>\n						<tr>\n							<td class="droppableElement">\n								<ul class="nav" id="measure_fields" style="min-height:125px;">\n									'),d={},p={},u=n.each.call(t,"measure","in","view.measure_fields_arr",{hash:{},inverse:m.program(11,h,r),fn:m.program(9,c,r),contexts:[t,t,t],types:["ID","ID","ID"],hashContexts:p,hashTypes:d,data:r}),(u||0===u)&&r.buffer.push(u),r.buffer.push('\n							    </ul>\n							</td>\n						</tr>\n					</tbody>\n				</table>\n			</div>\n		</div>\n		<div class="row" hidden>\n			'),d={},p={},r.buffer.push(g(n.view.call(t,"Ember.Checkbox",{hash:{},contexts:[t],types:["ID"],hashContexts:p,hashTypes:d,data:r}))),r.buffer.push('<span style="padding-left: 5px; vertical-align: sub;">Display Total</span>\n		</div>\n		<div class="row pull-right">\n			<button class="btn btn-primary" '),p={target:t},d={target:"STRING"},r.buffer.push(g(n.action.call(t,"applyPivotConfigs",{hash:{target:"view"},contexts:[t],types:["STRING"],hashContexts:p,hashTypes:d,data:r}))),r.buffer.push(' >Save</button>\n			<button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>\n		</div>\n	</div>\n</div>\n'),f}),Ember.TEMPLATES["charts/secondary_dim"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a="";return t.buffer.push("\n		<li>\n			<a "),i={target:e},r={target:"ID"},t.buffer.push(h(n.action.call(e,"setSecondaryDim","dim",{hash:{target:"view"},contexts:[e,e],types:["STRING","ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push(">\n				"),r={},i={},t.buffer.push(h(n._triageMustache.call(e,"dim",{hash:{},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n			</a>\n		</li>\n	"),a}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var s,o,l,c="",h=this.escapeExpression,u=this;return r.buffer.push('<div class="btn-group">\n  <div class="btn btn-mini disabled">Select Dimension</div>\n  <button class="btn btn-mini dropdown-toggle" data-toggle="dropdown">\n    <span class="caret"></span>\n  </button>\n\n  <ul class="dropdown-menu">\n	'),o={},l={},s=n.each.call(t,"dim","in","secondaryDims",{hash:{},inverse:u.noop,fn:u.program(1,a,r),contexts:[t,t,t],types:["ID","ID","ID"],hashContexts:l,hashTypes:o,data:r}),(s||0===s)&&r.buffer.push(s),r.buffer.push("\n  </ul>\n</div>\n"),c}),Ember.TEMPLATES["charts/secondary_filters"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a="";return t.buffer.push("\n			<li>\n				<a "),i={target:e},r={target:"ID"},t.buffer.push(d(n.action.call(e,"setSecondaryDim","dim",{hash:{target:"view"},contexts:[e,e],types:["STRING","ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push(">\n					"),r={},i={},t.buffer.push(d(n._triageMustache.call(e,"dim",{hash:{},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n				</a>\n			</li>\n		"),a}function s(e,t){var i,r,a="";return t.buffer.push("\n		<span>"),i={},r={},t.buffer.push(d(n._triageMustache.call(e,"currentSecondaryFilter",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("</span>\n	"),a}function o(e,t){var i,r,a="";return t.buffer.push("\n			<li>\n				<a "),i={},r={},t.buffer.push(d(n.action.call(e,"applySecondaryFilter","filter",{hash:{},contexts:[e,e],types:["STRING","ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push(">\n					"),i={},r={},t.buffer.push(d(n._triageMustache.call(e,"filter",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n				</a>\n			</li>\n		"),a}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var l,c,h,u="",d=this.escapeExpression,p=this;return r.buffer.push("	<div class=\"btn-group\">\n	<button class='btn btn-mini disabled'>"),c={},h={},r.buffer.push(d(n._triageMustache.call(t,"secondaryDimension",{hash:{},contexts:[t],types:["ID"],hashContexts:h,hashTypes:c,data:r}))),r.buffer.push('</button>\n	  <button class="btn btn-mini btn-info dropdown-toggle" data-toggle="dropdown" style="max-height:22px;">\n	    <span class=""><i class=\'icon-pencil muted\'></i></span>\n	  </button>\n\n	  <ul class="dropdown-menu">\n	  	<li>\n			<a data-toggle="dropdown" '),h={target:t},c={target:"ID"},r.buffer.push(d(n.action.call(t,"setSecondaryDim","null",{hash:{target:"view"},contexts:[t,t],types:["STRING","ID"],hashContexts:h,hashTypes:c,data:r}))),r.buffer.push(">-- clear -- </a>\n		</li>\n		"),c={},h={},r.buffer.push(d(n.log.call(t,"secondaryDims",{hash:{},contexts:[t],types:["ID"],hashContexts:h,hashTypes:c,data:r}))),r.buffer.push("\n		"),c={},h={},l=n.each.call(t,"dim","in","secondaryDims",{hash:{},inverse:p.noop,fn:p.program(1,a,r),contexts:[t,t,t],types:["ID","ID","ID"],hashContexts:h,hashTypes:c,data:r}),(l||0===l)&&r.buffer.push(l),r.buffer.push("\n	  </ul>\n	</div>\n	"),c={},h={},l=n["if"].call(t,"secondaryFilterOn",{hash:{},inverse:p.noop,fn:p.program(3,s,r),contexts:[t],types:["ID"],hashContexts:h,hashTypes:c,data:r}),(l||0===l)&&r.buffer.push(l),r.buffer.push('\n\n	<div class="btn-group">\n	  <button class="btn btn-mini dropdown-toggle" data-toggle="dropdown">\n	    <i class=\'icon-filter\'></i>\n	  </button>\n\n	  <ul class="dropdown-menu">\n	  	<li>\n			<a '),c={},h={},r.buffer.push(d(n.action.call(t,"applySecondaryFilter","null",{hash:{},contexts:[t,t],types:["STRING","ID"],hashContexts:h,hashTypes:c,data:r}))),r.buffer.push(">All</a>\n		</li>\n		"),c={},h={},r.buffer.push(d(n.log.call(t,"secondaryFilters",{hash:{},contexts:[t],types:["ID"],hashContexts:h,hashTypes:c,data:r}))),r.buffer.push("\n		"),c={},h={},l=n.each.call(t,"filter","in","secondaryFilters",{hash:{},inverse:p.noop,fn:p.program(5,o,r),contexts:[t,t,t],types:["ID","ID","ID"],hashContexts:h,hashTypes:c,data:r}),(l||0===l)&&r.buffer.push(l),r.buffer.push("\n	  </ul>\n	</div>\n"),u}),Ember.TEMPLATES["charts/statistical_relevance"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a="";return t.buffer.push('\n						<div class="row" style="margin-top:10px; margin-bottom:10px;">\n							<div class="span" style="width:100%; margin-top:10px;">\n								<div class="row">\n									<div class="span" style="width:30%;">\n										<span>Choose Test</span>\n									</div>\n									<div class="span" style="width:70%;">\n										'),i={contentBinding:e,valueBinding:e,selectionBinding:e},r={contentBinding:"STRING",valueBinding:"STRING",selectionBinding:"STRING"},t.buffer.push(h(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.supportedTests",valueBinding:"view.test",selectionBinding:"view.test"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push('\n									</div>\n								</div>\n							</div>\n							<div class="span" style="width:100%; margin-top:10px;">\n								<div class="row">\n									<div class="span" style="width:30%;">\n										<span>Control Key</span>\n									</div>\n									<div class="span" style="width:70%;">\n										'),i={contentBinding:e,valueBinding:e,selectionBinding:e},r={contentBinding:"STRING",valueBinding:"STRING",selectionBinding:"STRING"},t.buffer.push(h(n.view.call(e,"Ember.Select",{hash:{contentBinding:"dimension_unique_values",valueBinding:"view.control_field",selectionBinding:"view.control_field"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push('\n									</div>\n								</div>\n							</div>\n							<div class="span" style="width:100%; margin-top:10px;">\n								<div class="row">\n									<div class="span" style="width:30%;">\n										<span>Confidence Interval</span>\n									</div>\n									<div class="span" style="width:70%;">\n										'),i={contentBinding:e,valueBinding:e,selectionBinding:e},r={contentBinding:"STRING",valueBinding:"STRING",selectionBinding:"STRING"},t.buffer.push(h(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.supportedComparisonValues",valueBinding:"view.comparison_value",selectionBinding:"view.comparison_value"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push('\n									</div>\n								</div>\n							</div>\n						</div>\n						<div class="row">\n							<div class="span" style="width: 15px;">\n								'),i={"class":e,checkedBinding:e},r={"class":"STRING",checkedBinding:"STRING"},t.buffer.push(h(n.view.call(e,"Ember.Checkbox",{hash:{"class":"standardErrorCheckbox",checkedBinding:"view.enable_sem"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push('\n							</div>	\n							<div class="span" style="margin-left: 5px;">\n								<span>Display Standard Error</span>\n							</div>						\n						</div>\n					'),a
}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var s,o,l,c="",h=this.escapeExpression,u=this;return r.buffer.push('<li class=\'filterDiv\'>\n	<a rel="popover" class=\'statistical_relevance_popover\' data-toggle="tooltip" data-placement="right auto" title="Statistical Toolbox" '),o={id:t},l={id:"STRING"},r.buffer.push(h(n.bindAttr.call(t,{hash:{id:"drillId"},contexts:[],types:[],hashContexts:o,hashTypes:l,data:r}))),r.buffer.push('>\n		<img src="/assets/statistical_relevance.png" class="statistical_relevance_icon muted" style="width: 13px; height: 13px; opacity: 0.5"></img>\n	</a>\n\n	<div class="popover fade bottom in hidden" style="top: 64px; display:block; width:375px;">\n		<div class="arrow hidden" style="left:220px;"></div>\n		<h3 class="popover-title hidden">Highlight points where</h3>\n		<div class="popover-content hidden" style="height:auto; overflow:auto; padding:8px;">\n			<form class=\'form form-inline\' >\n				<div class="span" style="width:100%;">\n					<div class="row">\n						<div class="span" style="width: 15px;">							\n							'),o={"class":t,checkedBinding:t},l={"class":"STRING",checkedBinding:"STRING"},r.buffer.push(h(n.view.call(t,"Ember.Checkbox",{hash:{"class":"highlightCheckbox",checkedBinding:"view.enable_highlight"},contexts:[t],types:["ID"],hashContexts:o,hashTypes:l,data:r}))),r.buffer.push('\n						</div>\n						<div class="span" style="margin-left: 5px;">\n							<span>Enable Chart Highlighting</span>\n						</div>\n													\n					</div>\n				</div>\n				<div class="span" style="width:100%;">\n					<div class="row" style="margin-top:10px; margin-bottom:10px;">\n						<div class="span" style="width: 125px;">\n							'),o={"class":t,contentBinding:t,valueBinding:t,selectionBinding:t},l={"class":"STRING",contentBinding:"STRING",valueBinding:"STRING",selectionBinding:"STRING"},r.buffer.push(h(n.view.call(t,"Ember.Select",{hash:{"class":"fullWidth",contentBinding:"view.supportedComparisonFunctions",valueBinding:"view.comparison_function",selectionBinding:"view.comparison_function"},contexts:[t],types:["ID"],hashContexts:o,hashTypes:l,data:r}))),r.buffer.push('\n						</div>\n						<div class="span" style="width: 125px; margin-left: 5px;">\n							'),o={"class":t,contentBinding:t,valueBinding:t,selectionBinding:t},l={"class":"STRING",contentBinding:"STRING",valueBinding:"STRING",selectionBinding:"STRING"},r.buffer.push(h(n.view.call(t,"Ember.Select",{hash:{"class":"fullWidth",contentBinding:"view.supportedComparisonOperators",valueBinding:"view.operator",selectionBinding:"view.operator"},contexts:[t],types:["ID"],hashContexts:o,hashTypes:l,data:r}))),r.buffer.push("\n						</div>							\n					</div>\n					"),l={},o={},s=n["if"].call(t,"view.isPValue",{hash:{},inverse:u.noop,fn:u.program(1,a,r),contexts:[t],types:["ID"],hashContexts:o,hashTypes:l,data:r}),(s||0===s)&&r.buffer.push(s),r.buffer.push('					\n				</div>\n				<div class="span" style="width:100%;">\n					<div class="row" style="margin-top:30px; margin-bottom:10px;">\n						<button type="submit" class=\'btn\' >Save</button>\n						<button class="btn" aria-hidden="true" onclick="$(this).closest(\'li\').find(\'.statistical_relevance_icon\').click();return false;">Cancel</button>\n					</div>\n				</div>\n			</form>\n		</div>\n	</div>\n\n</li> \n'),c}),Ember.TEMPLATES.colors=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){t.buffer.push("\n	<h4 class='alert alert-info'>\n		Saving...\n	</h4>\n")}function s(e,t){var i,r,a="";return t.buffer.push("\n				<span class='label' "),i={style:e},r={style:"ID"},t.buffer.push(f(n.bindAttr.call(e,{hash:{style:"color"},contexts:[],types:[],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push(">&nbsp		\n				</span>\n			"),a}function o(e,t){var i,r,a,s="";return t.buffer.push("\n					<li> \n						<a "),r={},a={},t.buffer.push(f(n.action.call(e,"selectTheme","_view.contentIndex",{hash:{},contexts:[e,e],types:["ID","ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push("\n						"),r={},a={},i=n.each.call(e,"c","in","theme",{hash:{},inverse:g.noop,fn:g.program(6,l,t),contexts:[e,e,e],types:["ID","ID","ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n						</a>\n					</li>\n				"),s}function l(e,t){var i,r,a="";return t.buffer.push("\n							<span class='label' "),i={style:e},r={style:"ID"},t.buffer.push(f(n.bindAttr.call(e,{hash:{style:"c"},contexts:[],types:[],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push(">&nbsp		\n							</span>	\n						"),a}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var c,h,u,d,p="",f=this.escapeExpression,g=this,m=n.helperMissing;return r.buffer.push("<h2> Color Preferences </h2>\n<hr class='compact ' />\n\n"),h={},u={},c=n["if"].call(t,"isSaving",{hash:{},inverse:g.noop,fn:g.program(1,a,r),contexts:[t],types:["ID"],hashContexts:u,hashTypes:h,data:r}),(c||0===c)&&r.buffer.push(c),r.buffer.push("\n\n<form class=\"form\" style=\"height: 800px\">\n	<div class='row'>\n		<div class='span'>\n			Color Palette\n		</div>\n		<div class='span'>\n			"),h={},u={},c=n.each.call(t,"color","in","palette",{hash:{},inverse:g.noop,fn:g.program(3,s,r),contexts:[t,t,t],types:["ID","ID","ID"],hashContexts:u,hashTypes:h,data:r}),(c||0===c)&&r.buffer.push(c),r.buffer.push('\n		</div>\n		&nbsp;\n		<div class="btn-group">\n		  <button class="btn-mini dropdown-toggle" data-toggle="dropdown">\n		    <span class="caret"></span>\n		  </button>\n		  <ul class="dropdown-menu" style="max-width: 350px">\n				'),h={},u={},c=n.each.call(t,"theme","in","colorThemes",{hash:{},inverse:g.noop,fn:g.program(5,o,r),contexts:[t,t,t],types:["ID","ID","ID"],hashContexts:u,hashTypes:h,data:r}),(c||0===c)&&r.buffer.push(c),r.buffer.push('	  \n		  </ul>\n		</div>\n	</div>\n	<hr>\n	<h3>Basic Chart Colors</h3>\n	<div class="row">\n		<div class="span">	\n			Bar Color\n			<br />\n			'),u={type:t,"class":t,placeholder:t,valueBinding:t},h={type:"STRING","class":"STRING",placeholder:"STRING",valueBinding:"STRING"},d={hash:{type:"color","class":"input-mini",placeholder:"#0099ff",valueBinding:"bar"},contexts:[],types:[],hashContexts:u,hashTypes:h,data:r},r.buffer.push(f((c=n.input,c?c.call(t,d):m.call(t,"input",d)))),r.buffer.push('\n		</div>\n		<div class="span">	\n			Line Color\n			<br />\n			'),u={type:t,"class":t,placeholder:t,valueBinding:t},h={type:"STRING","class":"STRING",placeholder:"STRING",valueBinding:"STRING"},d={hash:{type:"color","class":"input-mini",placeholder:"#ff6633",valueBinding:"line"},contexts:[],types:[],hashContexts:u,hashTypes:h,data:r},r.buffer.push(f((c=n.input,c?c.call(t,d):m.call(t,"input",d)))),r.buffer.push('\n		</div>\n	\n		<div class="span">\n			Area Color\n			<br />\n			'),u={type:t,"class":t,placeholder:t,valueBinding:t},h={type:"STRING","class":"STRING",placeholder:"STRING",valueBinding:"STRING"},d={hash:{type:"color","class":"input-mini",placeholder:"#0099ff",valueBinding:"area"},contexts:[],types:[],hashContexts:u,hashTypes:h,data:r},r.buffer.push(f((c=n.input,c?c.call(t,d):m.call(t,"input",d)))),r.buffer.push('\n		</div>\n\n	</div>\n\n	<hr>\n	<h3>Statistical Indicators</h3>\n	<div class="row">\n		<div class="span">	\n			Error Bar Color\n			<br />\n			'),u={type:t,"class":t,placeholder:t,valueBinding:t},h={type:"STRING","class":"STRING",placeholder:"STRING",valueBinding:"STRING"},d={hash:{type:"color","class":"input-mini",placeholder:"#999999",valueBinding:"errorBar"},contexts:[],types:[],hashContexts:u,hashTypes:h,data:r},r.buffer.push(f((c=n.input,c?c.call(t,d):m.call(t,"input",d)))),r.buffer.push('\n		</div>\n		<div class="span">	\n			Control Key Color\n			<br />\n			'),u={type:t,"class":t,placeholder:t,valueBinding:t},h={type:"STRING","class":"STRING",placeholder:"STRING",valueBinding:"STRING"},d={hash:{type:"color","class":"input-mini",placeholder:"#FFFF00",valueBinding:"controlKey"},contexts:[],types:[],hashContexts:u,hashTypes:h,data:r},r.buffer.push(f((c=n.input,c?c.call(t,d):m.call(t,"input",d)))),r.buffer.push('\n		</div>\n	\n		<div class="span">\n			Statistical Relevance Color\n			<br />\n			'),u={type:t,"class":t,placeholder:t,valueBinding:t},h={type:"STRING","class":"STRING",placeholder:"STRING",valueBinding:"STRING"},d={hash:{type:"color","class":"input-mini",placeholder:"#00E600",valueBinding:"statisticalRelevance"},contexts:[],types:[],hashContexts:u,hashTypes:h,data:r},r.buffer.push(f((c=n.input,c?c.call(t,d):m.call(t,"input",d)))),r.buffer.push('\n		</div>\n\n	</div>\n	<hr>\n	<div class=\'row\'>\n		<div class="span">\n			<button class="btn btn-primary" '),h={},u={},r.buffer.push(f(n.action.call(t,"save",{hash:{},contexts:[t],types:["ID"],hashContexts:u,hashTypes:h,data:r}))),r.buffer.push("> Save </button>\n		</div>\n\n	</div>\n	\n\n</form>\n"),p}),Ember.TEMPLATES.comments=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a="";return t.buffer.push("\n		<span class='notification-count'>"),i={},r={},t.buffer.push(h(n._triageMustache.call(e,"commentsCount",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("</span>\n	"),a}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var s,o,l,c="",h=this.escapeExpression,u=this;return r.buffer.push("<li class='filterDiv'>\n	"),o={},l={},s=n["if"].call(t,"hasComments",{hash:{},inverse:u.noop,fn:u.program(1,a,r),contexts:[t],types:["ID"],hashContexts:l,hashTypes:o,data:r}),(s||0===s)&&r.buffer.push(s),r.buffer.push('\n	<a rel="popover" class="comment_popover" data-toggle="tooltip" data-placement="right auto" title="Chart Annotations" '),l={id:t},o={id:"STRING"},r.buffer.push(h(n.bindAttr.call(t,{hash:{id:"popoverId"},contexts:[],types:[],hashContexts:l,hashTypes:o,data:r}))),r.buffer.push(">\n		<i class='icon-comment muted'></i>\n		<div id='list_comments' class='hidden'>\n			"),o={},l={},r.buffer.push(h(n.view.call(t,"Cibi.ListCommentsView",{hash:{},contexts:[t],types:["ID"],hashContexts:l,hashTypes:o,data:r}))),r.buffer.push("\n		</div>\n\n		<div id='new_comment' class='hidden'>\n			"),o={},l={},r.buffer.push(h(n.view.call(t,"Cibi.NewCommentView",{hash:{},contexts:[t],types:["ID"],hashContexts:l,hashTypes:o,data:r}))),r.buffer.push("\n		</div>\n	</a>\n\n\n</li>\n"),c}),Ember.TEMPLATES["comments/list"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a,o="";return t.buffer.push("\n	<table class='table table-hover'>\n		<tr>\n			<td>\n				<strong>User</strong>\n			</td>\n			<td>\n				<strong>Message</strong>\n			</td>\n			<td>\n			</td>\n		</tr>\n		"),r={},a={},i=n.each.call(e,"comment","in","activeComments",{hash:{},inverse:f.noop,fn:f.program(2,s,t),contexts:[e,e,e],types:["ID","ID","ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n	</table>\n"),o}function s(e,t){var i,r,a,s,o="";return t.buffer.push("\n			"),r={},a={},s={hash:{},contexts:[e,e],types:["STRING","ID"],hashContexts:a,hashTypes:r,data:t},t.buffer.push(p((i=n.render,i?i.call(e,"comment","comment",s):d.call(e,"render","comment","comment",s)))),t.buffer.push("\n		"),o}function o(e,t){t.buffer.push(" \n	<span class='label'>No comments </span>\n	<hr>\n")}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var l,c,h,u="",d=n.helperMissing,p=this.escapeExpression,f=this;return c={},h={},l=n["if"].call(t,"hasComments",{hash:{},inverse:f.program(4,o,r),fn:f.program(1,a,r),contexts:[t],types:["ID"],hashContexts:h,hashTypes:c,data:r}),(l||0===l)&&r.buffer.push(l),r.buffer.push("\n"),u}),Ember.TEMPLATES["comments/new"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{},r.buffer.push("<form class='form form-inline'>\n	<input type='text' class=\"input-medium\" placeholder='Enter Comment' />\n	<input type='text' class='input-small' placeholder='User Name' /><br><br>\n	<button type='submit' class='btn'>Save</button>\n	<button class=\"btn\" aria-hidden=\"true\" onclick=\"$(this).closest('li').find('.icon-comment').click();return false;\">Cancel</button>\n</form>\n")}),Ember.TEMPLATES["comments/show"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var a,s,o="",l=this.escapeExpression;return r.buffer.push("<tr "),a={"class":t},s={"class":"STRING"},r.buffer.push(l(n.bindAttr.call(t,{hash:{"class":"commentClass"},contexts:[],types:[],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push(">\n	<td>"),s={},a={},r.buffer.push(l(n._triageMustache.call(t,"authorName",{hash:{},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push("</td>\n	<td>"),s={},a={},r.buffer.push(l(n._triageMustache.call(t,"message",{hash:{},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push("</td>\n	<td>"),s={},a={},r.buffer.push(l(n.view.call(t,"view.statusView",{hash:{},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push("</td>\n</tr>\n"),o}),Ember.TEMPLATES.dashboard=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a,o="";return t.buffer.push("\n		"),r={},a={},i=n["if"].call(e,"chartsOnClickFilters",{hash:{},inverse:k.noop,fn:k.program(2,s,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n	"),o}function s(e,t){var i,r,a,s="";return t.buffer.push('\n			<div class="row affix chart-filter-bar">\n				'),r={},a={},i=n.each.call(e,"filter","in","chartsOnClickFilters",{hash:{},inverse:k.noop,fn:k.program(3,o,t),contexts:[e,e,e],types:["ID","ID","ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n				"),r={},a={},i=n["if"].call(e,"Cibi.Auth.linked_dashboard",{hash:{},inverse:k.noop,fn:k.program(6,c,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("	\n				<div class='span pull-right' style=\"margin-right: 10px; line-height: 28px;\">\n					<a "),r={},a={},t.buffer.push(E(n.action.call(e,"reset","",{hash:{},contexts:[e,e],types:["STRING","ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push(' class="btn flat-button new-chart-btn" style="margin-top: 0px; padding: 0px 12px;"> Reset All </a>\n				</div>	\n			</div>\n		'),s}function o(e,t){var i,r,a,s="";return t.buffer.push("\n					"),r={},a={},i=n.each.call(e,"val","in","filter.value",{hash:{},inverse:k.noop,fn:k.program(4,l,t),contexts:[e,e,e],types:["ID","ID","ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n				"),s}function l(e,t){var i,r,a="";return t.buffer.push("\n						<a class='btn btn-mini flat-button chart-filter-btn' "),i={},r={},t.buffer.push(E(n.action.call(e,"resetChartFilter","filter","val",{hash:{},contexts:[e,e,e],types:["STRING","ID","ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push(" >\n							"),i={},r={},t.buffer.push(E(n._triageMustache.call(e,"filter.operator",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("&nbsp;"),i={},r={},t.buffer.push(E(n._triageMustache.call(e,"val",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n							&times;\n						</a>\n					"),a}function c(e,t){var i,r,a="";return t.buffer.push("\n					<div class='span pull-right' style=\"margin-right: 10px; line-height: 28px;\">\n						<a "),i={},r={},t.buffer.push(E(n.action.call(e,"returnToPrevious","",{hash:{},contexts:[e,e],types:["STRING","ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push(' class="btn flat-button new-chart-btn" style="margin-top: 0px; padding: 0px 12px;"> Return & Reset All </a>\n					</div>\n				'),a}function h(e,t){var i,r,a,s,o,l="";return t.buffer.push("\n				<div class='row' style='margin-left:0px; margin-top:0px; width:98%;' >\n					<div class='span' id=\"titlediv\" >\n						<h3 style=\"font-family:Roboto-Medium; font-size:18px;\"> "),a={},s={},t.buffer.push(E(n._triageMustache.call(e,"title",{hash:{},contexts:[e],types:["ID"],hashContexts:s,hashTypes:a,data:t}))),t.buffer.push("\n							"),a={},s={},i=n["if"].call(e,"can_edit",{hash:{},inverse:k.noop,fn:k.program(9,u,t),contexts:[e],types:["ID"],hashContexts:s,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n			           	</h3>\n						<h4> "),a={},s={},t.buffer.push(E(n._triageMustache.call(e,"subtitle",{hash:{},contexts:[e],types:["ID"],hashContexts:s,hashTypes:a,data:t}))),t.buffer.push(' </h4>\n					</div>\n\n					<div class=\'span pull-right\' id="dashboard_menu">\n						<br>\n						<div style="float:left;margin-top:-10px;margin-right:10px;">\n							'),a={},s={},t.buffer.push(E(n.view.call(e,"view.dashboardFiltersView",{hash:{},contexts:[e],types:["ID"],hashContexts:s,hashTypes:a,data:t}))),t.buffer.push('\n						</div>			\n\n						<div style="float:left;margin-top:-10px;margin-right:10px;">\n						  '),a={},s={},t.buffer.push(E(n.view.call(e,"view.dashboardLayoutView",{hash:{},contexts:[e],types:["ID"],hashContexts:s,hashTypes:a,data:t}))),t.buffer.push('\n						</div>\n\n						<div style="float:left;margin-top:-10px;margin-right:10px;">\n							<div>\n							  <a class="btn btn-info flat-button sort-icon" title="Enable/Disable Sorting" data-tooltip="tooltip"  style="background-color:#4093cd; padding-top: 3px; padding-bottom: 4px;" '),a={},s={},t.buffer.push(E(n.action.call(e,"toggleSorting",{hash:{},contexts:[e],types:["ID"],hashContexts:s,hashTypes:a,data:t}))),t.buffer.push('><i class="icon-move icon-white"></i></a>\n							</div>\n\n						</div>\n				\n						<div style="float:left;margin-top:-10px;margin-right:10px;">\n							<div class="dropdown">\n							  <a class="dropdown-toggle btn btn-info flat-button"  style="background-color:#4093cd; padding-top: 3px; padding-bottom: 4px;" data-toggle="dropdown" href="#"><img src="/assets/download_icon.png" style="height: 13px;"/></a>\n							  <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">\n					  				<li>\n										<a data-toggle="tooltip" data-placement="right" id="download_png" '),a={},s={},t.buffer.push(E(n.action.call(e,"download","download_png","",{hash:{},contexts:[e,e,e],types:["STRING","STRING","ID"],hashContexts:s,hashTypes:a,data:t}))),t.buffer.push('>\n											Download PNG\n										</a>\n									</li>\n									<li>\n										<a data-toggle="tooltip" data-placement="right" id="download_pdf" '),a={},s={},t.buffer.push(E(n.action.call(e,"download","download_pdf","",{hash:{},contexts:[e,e,e],types:["STRING","STRING","ID"],hashContexts:s,hashTypes:a,data:t}))),t.buffer.push('>\n											Download PDF\n										</a>\n									</li>\n							  </ul>\n							</div>\n\n						</div>\n\n						<div style="float:left;margin-top:-10px;margin-right:10px;">\n							'),a={},s={},t.buffer.push(E(n.view.call(e,"view.scheduleReportsView",{hash:{},contexts:[e],types:["ID"],hashContexts:s,hashTypes:a,data:t}))),t.buffer.push("\n						</div>\n\n						"),a={},s={},i=n["if"].call(e,"can_edit",{hash:{},inverse:k.noop,fn:k.program(12,p,t),contexts:[e],types:["ID"],hashContexts:s,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push('\n					</div>\n				</div>\n	        	<div class="muted" style="margin-bottom: 5px;">\n	        		<small>Updated '),a={},s={},o={hash:{},contexts:[e],types:["ID"],hashContexts:s,hashTypes:a,data:t},t.buffer.push(E((i=n.time_ago,i?i.call(e,"updatedAt",o):I.call(e,"time_ago","updatedAt",o)))),t.buffer.push("</small>\n	    		</div>\n				"),a={},s={},r=n["if"].call(e,"showDashboardFilters",{hash:{},inverse:k.noop,fn:k.program(15,g,t),contexts:[e],types:["ID"],hashContexts:s,hashTypes:a,data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n\n				"),a={},s={},r=n["if"].call(e,"view.showGridLayout",{hash:{},inverse:k.noop,fn:k.program(21,y,t),contexts:[e],types:["ID"],hashContexts:s,hashTypes:a,data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n			"),l}function u(e,t){var i,r,a,s,o,l="";return t.buffer.push("\n								"),a={},s={},o={hash:{},inverse:k.noop,fn:k.program(10,d,t),contexts:[e,e],types:["STRING","ID"],hashContexts:s,hashTypes:a,data:t},i=n.linkTo,r=i?i.call(e,"dashboard.edit","",o):I.call(e,"linkTo","dashboard.edit","",o),(r||0===r)&&t.buffer.push(r),t.buffer.push(' \n\n									<i class="icon-trash muted" style="cursor: pointer" '),s={target:e},a={target:"ID"},t.buffer.push(E(n.action.call(e,"deleteDashboard","",{hash:{target:"view"},contexts:[e,e],types:["STRING","ID"],hashContexts:s,hashTypes:a,data:t}))),t.buffer.push(" >\n			            			</i>            		\n			            	"),l}function d(e,t){t.buffer.push('\n									<i class="icon-edit muted" style="cursor: pointer" >\n			            			</i>\n			            		')}function p(e,t){var i,r,a,s,o,l="";return t.buffer.push("\n							"),a={"class":e},s={"class":"STRING"},o={hash:{"class":"btn flat-button new-chart-btn"},inverse:k.noop,fn:k.program(13,f,t),contexts:[e,e],types:["STRING","ID"],hashContexts:a,hashTypes:s,data:t},i=n.linkTo,r=i?i.call(e,"dashboard.new","",o):I.call(e,"linkTo","dashboard.new","",o),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n\n						"),l}function f(e,t){t.buffer.push("\n								Add Chart\n							")}function g(e,t){var i,r,a,s="";return t.buffer.push("\n					<div "),r={id:e},a={id:"STRING"},t.buffer.push(E(n.bindAttr.call(e,{hash:{id:"dashboardFiltersId"},contexts:[],types:[],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push(" class='row' style='margin-right:22px;'>\n							"),a={},r={},i=n.each.call(e,"filter","in","dashboardFilters",{hash:{},inverse:k.program(19,b,t),fn:k.program(16,m,t),contexts:[e,e,e],types:["ID","ID","ID"],hashContexts:r,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n					</div>\n				"),s}function m(e,t){var i,r,a,s="";return t.buffer.push("\n								"),r={},a={},i=n["if"].call(e,"filter.isLoaded",{hash:{},inverse:k.noop,fn:k.program(17,v,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("	\n\n								"),s}function v(e,t){var i,r,a="";return t.buffer.push("\n									"),i={contentBinding:e},r={contentBinding:"STRING"},t.buffer.push(E(n.view.call(e,"view.dashboardFilterView",{hash:{contentBinding:"filter"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n								"),a}function b(e,t){t.buffer.push("\n								<h6> No filters defined.</h6>\n							")}function y(e,t){var i,r,a,s="";return t.buffer.push("\n					<div class='overlay' style=\"width:95%;\">\n					"),r={},a={},i=n.each.call(e,"view.rowNums",{hash:{},inverse:k.noop,fn:k.program(22,x,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n					</div>\n				"),s}function x(e,t){var i,r,a,s="";return t.buffer.push("\n						<div class='row'>	\n							"),r={},a={},i=n.each.call(e,"view.colNums",{hash:{},inverse:k.noop,fn:k.program(23,w,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n						</div>\n					"),s}function w(e,t){var i,r,a="";return t.buffer.push('\n								<div class="span chart_grid_placeholder" '),i={style:e},r={style:"STRING"},t.buffer.push(E(n.bindAttr.call(e,{hash:{style:"view.chartGridDimensions"},contexts:[],types:[],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push(">\n								</div>\n							"),a}function _(e,t){var i,r,a="";return t.buffer.push("\n				"),i={},r={},t.buffer.push(E(n._triageMustache.call(e,"outlet",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n			"),a}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var C,T,D,S="",E=this.escapeExpression,k=this,I=n.helperMissing;return r.buffer.push("<div "),T={id:t,"class":t},D={id:"STRING","class":"STRING"},r.buffer.push(E(n.bindAttr.call(t,{hash:{id:"tabId","class":":tab-pane"},contexts:[],types:[],hashContexts:T,hashTypes:D,data:r}))),r.buffer.push(' style="width:100%; margin-top:44px;">\n	'),D={},T={},C=n.unless.call(t,"chartNewEditRoute",{hash:{},inverse:k.noop,fn:k.program(1,a,r),contexts:[t],types:["ID"],hashContexts:T,hashTypes:D,data:r}),(C||0===C)&&r.buffer.push(C),r.buffer.push('\n\n	<div class="row">\n		<div class="span" id="dashboard_charts_container" style="width:100%;">\n			'),D={},T={},C=n.unless.call(t,"chartNewEditRoute",{hash:{},inverse:k.noop,fn:k.program(8,h,r),contexts:[t],types:["ID"],hashContexts:T,hashTypes:D,data:r}),(C||0===C)&&r.buffer.push(C),r.buffer.push("\n\n			"),D={},T={},C=n["if"].call(t,"Cibi.Auth.globalSetting.isLoaded",{hash:{},inverse:k.noop,fn:k.program(25,_,r),contexts:[t],types:["ID"],hashContexts:T,hashTypes:D,data:r}),(C||0===C)&&r.buffer.push(C),r.buffer.push("\n		</div>\n		\n	</div>	\n</div>\n"),S}),Ember.TEMPLATES["dashboard/_dashboard_filter_type"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var a="";return a}),Ember.TEMPLATES["dashboard/dashboard_filter_popup"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a,l="";return t.buffer.push('\n								<div class="row" style="margin-top:5px;">\n									<div class="span" style="width:100%;">\n										<div class="row">\n											<span>Lower: </span><br/>\n										  	<div id="datetimepicker" class="input-append" style="width: 140px; margin-bottom: 0px;">\n											    '),r={},a={},i=n["if"].call(e,"view.isDate",{hash:{},inverse:A.program(4,o,t),fn:A.program(2,s,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push('\n										  	</div>\n										</div>\n										<div class="row">\n										<span>Upper:</span> <br/>\n									  	<div id="datetimepicker" class="input-append" style="width: 140px; margin-bottom: 0px;">\n										    '),r={},a={},i=n["if"].call(e,"view.isDate",{hash:{},inverse:A.program(12,d,t),fn:A.program(10,u,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n									  	</div>								\n										</div>\n									</div>\n								</div>\n							"),l}function s(e,t){var i,r,a="";return t.buffer.push("\n													"),i={valueBinding:e,classNames:e,style:e},r={valueBinding:"STRING",classNames:"STRING",style:"STRING"},t.buffer.push(N(n.view.call(e,"Cibi.NewDateField",{hash:{valueBinding:"view.lower_range",classNames:"startDate dashboard_filter_lower_range",style:"margin-right:10px; width:100px;"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("	\n												"),a}function o(e,t){var i,r,a,s="";return t.buffer.push("\n													"),r={},a={},i=n["if"].call(e,"view.isTime",{hash:{},inverse:A.program(7,c,t),fn:A.program(5,l,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n												"),s}function l(e,t){var i,r,a="";return t.buffer.push("\n														"),i={valueBinding:e,classNames:e,style:e},r={valueBinding:"STRING",classNames:"STRING",style:"STRING"},t.buffer.push(N(n.view.call(e,"Cibi.NewTimeField",{hash:{valueBinding:"view.lower_range",classNames:"startDate dashboard_filter_lower_range",style:"margin-right:10px; width:100px;"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("	\n													"),a}function c(e,t){var i,r,a,s="";return t.buffer.push("\n														"),r={},a={},i=n["if"].call(e,"view.isDateTime",{hash:{},inverse:A.noop,fn:A.program(8,h,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n													"),s}function h(e,t){var i,r,a="";return t.buffer.push("\n															"),i={valueBinding:e,classNames:e},r={valueBinding:"STRING",classNames:"STRING"},t.buffer.push(N(n.view.call(e,"Cibi.NewDateTimeField",{hash:{valueBinding:"view.lower_range",classNames:"startDate dashboard_filter_lower_range"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("	\n														"),a}function u(e,t){var i,r,a="";return t.buffer.push("\n												"),i={valueBinding:e,classNames:e,style:e},r={valueBinding:"STRING",classNames:"STRING",style:"STRING"},t.buffer.push(N(n.view.call(e,"Cibi.NewDateField",{hash:{valueBinding:"view.upper_range",classNames:"startDate dashboard_filter_upper_range",style:"margin-right:10px; width:100px;"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("	\n											"),a}function d(e,t){var i,r,a,s="";return t.buffer.push("\n												"),r={},a={},i=n["if"].call(e,"view.isTime",{hash:{},inverse:A.program(15,f,t),fn:A.program(13,p,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n											"),s}function p(e,t){var i,r,a="";return t.buffer.push("\n													"),i={valueBinding:e,classNames:e,style:e},r={valueBinding:"STRING",classNames:"STRING",style:"STRING"},t.buffer.push(N(n.view.call(e,"Cibi.NewTimeField",{hash:{valueBinding:"view.upper_range",classNames:"startDate dashboard_filter_upper_range",style:"margin-right:10px; width:100px;"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("	\n												"),a}function f(e,t){var i,r,a,s="";return t.buffer.push("\n													"),r={},a={},i=n["if"].call(e,"view.isDateTime",{hash:{},inverse:A.noop,fn:A.program(16,g,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n												"),s}function g(e,t){var i,r,a="";return t.buffer.push("\n														"),i={valueBinding:e,classNames:e},r={valueBinding:"STRING",classNames:"STRING"},t.buffer.push(N(n.view.call(e,"Cibi.NewDateTimeField",{hash:{valueBinding:"view.upper_range",classNames:"startDate dashboard_filter_upper_range"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("	\n													"),a}function m(e,t){var i,r,a,s="";return t.buffer.push('\n								<div class="row">\n									<div class="span" style="width:100%;">\n										<div class=\'row\' style="margin-top:10px;">\n											<b>Specify Period</b>\n										</div>\n									    <div class=\'row\' style="margin-top:5px;">\n											<div class=\'span\' style="width:45%;">\n												<input type="radio" class="radio-align" name="reference_direction" value="previous" > previous\n											</div>\n											<div class=\'span\' style="width:45%;">\n												<input type="radio" class="radio-align" name="reference_direction" value="next" > next\n											</div>\n										</div>\n										<div class=\'row\' style="margin-top:5px;">\n											<div class="span">\n												'),r={valueBinding:e,min:e,style:e},a={valueBinding:"STRING",min:"STRING",style:"STRING"},t.buffer.push(N(n.view.call(e,"Cibi.NumberField",{hash:{valueBinding:"view.reference_count",min:"1",style:"width:80px;"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push('\n											</div>\n											<div class="span" style="margin-left:10px;">\n												'),r={contentBinding:e,valueBinding:e,"class":e},a={contentBinding:"STRING",valueBinding:"STRING","class":"STRING"},t.buffer.push(N(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.period_unit",valueBinding:"view.reference_unit","class":"input-medium"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push('\n											</div>									\n										</div>\n\n										<div class=\'row\' style="margin-top:10px;">\n											<b>Reference Date</b>\n										</div>\n										<div class=\'row\' style="margin-top:5px;">\n											<div class="span">\n												'),r={checkedBinding:e},a={checkedBinding:"STRING"},t.buffer.push(N(n.view.call(e,"Ember.Checkbox",{hash:{checkedBinding:"view.reference_date_today"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push('Today\n											</div>\n											<div class="span" style="margin-left:10px;">\n												<div id="datetimepicker" class="input-append" style="width: 140px; margin-bottom: 0px;">\n												    '),a={},r={},i=n["if"].call(e,"view.isDate",{hash:{},inverse:A.program(21,b,t),fn:A.program(19,v,t),contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n											  	</div>\n											</div>								  		\n										</div>\n									</div>\n								</div>\n							"),s}function v(e,t){var i,r,a="";return t.buffer.push("\n														"),i={valueBinding:e,classNames:e,style:e},r={valueBinding:"STRING",classNames:"STRING",style:"STRING"},t.buffer.push(N(n.view.call(e,"Cibi.NewDateField",{hash:{valueBinding:"view.reference_date",classNames:"startDate dashboard_filter_reference_date",style:"margin-right:10px; width:100px;"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n													"),a}function b(e,t){var i,r,a,s="";return t.buffer.push("\n														"),r={},a={},i=n["if"].call(e,"view.isTime",{hash:{},inverse:A.program(24,x,t),fn:A.program(22,y,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n													"),s
}function y(e,t){var i,r,a="";return t.buffer.push("\n															"),i={valueBinding:e,classNames:e,style:e},r={valueBinding:"STRING",classNames:"STRING",style:"STRING"},t.buffer.push(N(n.view.call(e,"Cibi.NewTimeField",{hash:{valueBinding:"view.reference_date",classNames:"startDate dashboard_filter_reference_date",style:"margin-right:10px; width:100px;"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("	\n														"),a}function x(e,t){var i,r,a,s="";return t.buffer.push("\n															"),r={},a={},i=n["if"].call(e,"view.isDateTime",{hash:{},inverse:A.noop,fn:A.program(25,w,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n														"),s}function w(e,t){var i,r,a="";return t.buffer.push("\n																"),i={valueBinding:e,classNames:e},r={valueBinding:"STRING",classNames:"STRING"},t.buffer.push(N(n.view.call(e,"Cibi.NewDateTimeField",{hash:{valueBinding:"view.reference_date",classNames:"startDate dashboard_filter_reference_date"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("	\n															"),a}function _(e,t){var i,r,a,s="";return t.buffer.push("\n								<div class='row' style=\"margin-top:5px;\">\n									<b>Select a range:</b>\n								</div>\n								<div class='row' style=\"margin-top:5px;\">\n							  		"),r={},a={},i=n["if"].call(e,"view.isDate",{hash:{},inverse:A.program(30,T,t),fn:A.program(28,C,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n								</div>	\n							"),s}function C(e,t){var i,r,a="";return t.buffer.push("\n										"),i={contentBinding:e,valueBinding:e,selectionBinding:e,"class":e},r={contentBinding:"STRING",valueBinding:"STRING",selectionBinding:"STRING","class":"STRING"},t.buffer.push(N(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.range_types",valueBinding:"view.selected_range",selectionBinding:"view.selected_range","class":"input-medium"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("	\n									"),a}function T(e,t){var i,r,a,s="";return t.buffer.push("\n										"),r={},a={},i=n["if"].call(e,"view.isDateTime",{hash:{},inverse:A.noop,fn:A.program(31,D,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("	\n									"),s}function D(e,t){var i,r,a="";return t.buffer.push("\n											"),i={contentBinding:e,valueBinding:e,selectionBinding:e,"class":e},r={contentBinding:"STRING",valueBinding:"STRING",selectionBinding:"STRING","class":"STRING"},t.buffer.push(N(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.combined_range_types",valueBinding:"view.selected_range",selectionBinding:"view.selected_range","class":"input-medium"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n									    "),a}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var S,E,k,I="",N=this.escapeExpression,A=this;return r.buffer.push("		<div "),E={id:t},k={id:"STRING"},r.buffer.push(N(n.bindAttr.call(t,{hash:{id:"view.rangeFilterPopoverId"},contexts:[],types:[],hashContexts:E,hashTypes:k,data:r}))),r.buffer.push(' class="pop_div">\n		<a rel="popover" class="range_filter_popover"  data-toggle="tooltip" data-placement="bottom" style="font-size:12px;border-right:1px solid grey;">	\n				'),k={},E={},r.buffer.push(N(n._triageMustache.call(t,"view.range",{hash:{},contexts:[t],types:["ID"],hashContexts:E,hashTypes:k,data:r}))),r.buffer.push('\n				<span class="caret" style="vertical-align: middle; opacity: 0.4"></span>\n		</a>\n\n		<div class="popover fade bottom in hidden" style="display: block; height: auto; ">\n			<div class="arrow hidden" style="left:64px;"></div>\n			<h3 class="popover-title hidden">Chart Configs</h3>\n			<div class="popover-content hidden">\n				<form class=\'form\' >\n					<div class="row">\n						<div class="span" style="width:100%;">\n						    <div class=\'row\'>\n						    	<div class=\'span\'>\n									'),E={checkedBinding:t,"class":t,name:t},k={checkedBinding:"STRING","class":"STRING",name:"STRING"},r.buffer.push(N(n.view.call(t,"Ember.Checkbox",{hash:{checkedBinding:"view.specific_date","class":"popup_range_selector radio-align",name:"0"},contexts:[t],types:["ID"],hashContexts:E,hashTypes:k,data:r}))),r.buffer.push("\n								</div>\n								<div class='span'>\n									<label>Choose specific dates</label>\n								</div>\n							</div>\n						    <div class='row'>\n						    	<div class='span'>\n									"),E={checkedBinding:t,"class":t,name:t},k={checkedBinding:"STRING","class":"STRING",name:"STRING"},r.buffer.push(N(n.view.call(t,"Ember.Checkbox",{hash:{checkedBinding:"view.reference_date_option","class":"popup_range_selector radio-align",name:"1"},contexts:[t],types:["ID"],hashContexts:E,hashTypes:k,data:r}))),r.buffer.push("\n								</div>\n								<div class='span'>\n									<label>Specify periods w.r.t reference date</label>\n								</div>\n							</div>\n						    <div class='row'>\n						    	<div class='span'>\n									"),E={checkedBinding:t,"class":t,name:t},k={checkedBinding:"STRING","class":"STRING",name:"STRING"},r.buffer.push(N(n.view.call(t,"Ember.Checkbox",{hash:{checkedBinding:"view.predefined_range","class":"popup_range_selector radio-align",name:"2"},contexts:[t],types:["ID"],hashContexts:E,hashTypes:k,data:r}))),r.buffer.push("\n								</div>\n								<div class='span'>\n									<label>Predefined range</label>\n								</div>\n							</div>							\n\n							"),k={},E={},S=n["if"].call(t,"view.specific_date",{hash:{},inverse:A.noop,fn:A.program(1,a,r),contexts:[t],types:["ID"],hashContexts:E,hashTypes:k,data:r}),(S||0===S)&&r.buffer.push(S),r.buffer.push("\n\n							"),k={},E={},S=n["if"].call(t,"view.reference_date_option",{hash:{},inverse:A.noop,fn:A.program(18,m,r),contexts:[t],types:["ID"],hashContexts:E,hashTypes:k,data:r}),(S||0===S)&&r.buffer.push(S),r.buffer.push("\n\n							"),k={},E={},S=n["if"].call(t,"view.predefined_range",{hash:{},inverse:A.noop,fn:A.program(27,_,r),contexts:[t],types:["ID"],hashContexts:E,hashTypes:k,data:r}),(S||0===S)&&r.buffer.push(S),r.buffer.push('\n						</div>	\n					</div>\n					<div class="row">\n						<div class="span2" style="margin-top:10px;">\n							<button type="submit" class=\'btn\' >Save</button>\n							<button class="btn" aria-hidden="true" onclick="$(this).closest(\'.pop_div\').find(\'.range_filter_popover\').click();return false;">Cancel</button>\n						</div>\n					</div>\n				</form>\n				</div>\n			</div>\n			</div>\n\n'),I}),Ember.TEMPLATES["dashboard/dashboard_filter_view"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){t.buffer.push('\n			<span class="label label-info tags" style="font-size:9px;padding:2px 4px 0px 4px;vertical-align:top;" data-toggle="tooltip" title="This filter is visible to all the users of the dashboard">Shared</span>\n		')}function s(e,t){t.buffer.push('\n			<span class="label label-warning tags" style="font-size:9px;padding:2px 4px 0px 4px;vertical-align:top;" data-toggle="tooltip" title="This filter is visible only to you">Personal</span>\n		')}function o(e,t){var i,r,a="";return t.buffer.push(" \n				("),i={},r={},t.buffer.push(k(n._triageMustache.call(e,"view.format_as",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push(") \n			"),a}function l(e,t){var i,r,a="";return t.buffer.push("\n				<span>"),i={},r={},t.buffer.push(k(n._triageMustache.call(e,"view.comparison",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("</span>\n			"),a}function c(e,t){t.buffer.push("\n				<span>is</span>\n			")}function h(e,t){var i,r,a="";return t.buffer.push("\n		<label style=\"color:#2980B9;font-family:'Roboto-Medium'\" class='pull-left'>\n			"),i={},r={},t.buffer.push(k(n._triageMustache.call(e,"view.comparison",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n		</label>\n		<br/><br/>\n	"),a}function u(e,t){var i,r,a,s="";return t.buffer.push("\n		"),r={},a={},i=n["if"].call(e,"view.is_null",{hash:{},inverse:I.program(16,p,t),fn:I.program(14,d,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n	"),s}function d(e,t){t.buffer.push("\n			<label style=\"color:#2980B9;font-family:'Roboto-Medium'\" class='pull-left'>\n				NOT NULL\n			</label>\n			<br/><br/>\n		")}function p(e,t){var i,r,a,s="";return t.buffer.push("\n			"),r={},a={},i=n["if"].call(e,"view.range",{hash:{},inverse:I.program(19,g,t),fn:I.program(17,f,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n\n		"),s}function f(e,t){var i,r,a="";return t.buffer.push("	\n				<div class='row'>					\n					"),i={},r={},t.buffer.push(k(n.view.call(e,"view.dashboardFilterPopup",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n				</div>\n\n			"),a}function g(e,t){var i,r,a,s="";return t.buffer.push("\n				"),r={},a={},i=n["if"].call(e,"view.show_dropdown",{hash:{},inverse:I.noop,fn:I.program(20,m,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n\n				"),r={},a={},i=n["if"].call(e,"view.show_text_box",{hash:{},inverse:I.noop,fn:I.program(22,v,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n			"),s}function m(e,t){var i,r,a="";return t.buffer.push("	\n					<div class='span' style=\"margin-top:0px;\">							\n						<div "),i={id:e},r={id:"STRING"},t.buffer.push(k(n.bindAttr.call(e,{hash:{id:"view.dashboardFilterValuesId"},contexts:[],types:[],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push(">\n						</div>\n					</div>\n					<br><br>\n				"),a}function v(e,t){var i,r,a="";return t.buffer.push("\n				<div class=\"row\">\n			        <div class='span' style=\"margin-top:0px;\">\n						<input class='input-small' style=\"padding:6px;\" type='number' "),i={value:e},r={value:"STRING"},t.buffer.push(k(n.bindAttr.call(e,{hash:{value:"view.filter_value"},contexts:[],types:[],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("></input>\n					</div>				\n				</div>\n				"),a}function b(e,t){var i,r,a,s="";return t.buffer.push("\n		<div class='span'>\n			<a "),r={target:e},a={target:"ID"},t.buffer.push(k(n.action.call(e,"disableFilter",{hash:{target:"view"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push(">\n				"),a={},r={},t.buffer.push(k(n._triageMustache.call(e,"view.filterState",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push(" &nbsp;\n			</a>\n		</div>\n	\n		"),a={},r={},i=n.unless.call(e,"view.content.disabled",{hash:{},inverse:I.noop,fn:I.program(25,y,t),contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n\n		<div class='span'>\n			&nbsp;\n			<a style=\"border-right:none;\" "),r={target:e},a={target:"ID"},t.buffer.push(k(n.action.call(e,"deleteDashboardFilter",{hash:{target:"view"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push(">Delete\n				<!--i class='icon-remove-sign' >\n				</i-->\n			</a>\n		</div>\n		<div class='span'>\n			"),a={},r={},i=n["if"].call(e,"view.content.isSaving",{hash:{},inverse:I.noop,fn:I.program(28,w,t),contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n\n			"),a={},r={},i=n["if"].call(e,"view.saveComplete",{hash:{},inverse:I.noop,fn:I.program(30,_,t),contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n		</div>	\n	"),s}function y(e,t){var i,r,a,s="";return t.buffer.push("\n			"),r={},a={},i=n.unless.call(e,"view.is_null",{hash:{},inverse:I.noop,fn:I.program(26,x,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n		"),s}function x(e,t){var i,r,a="";return t.buffer.push("\n				<div class='span'>\n					&nbsp; <a "),i={target:e},r={target:"ID"},t.buffer.push(k(n.action.call(e,"updateDashboardFilter",{hash:{target:"view"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push(">Save &nbsp;\n					</a>			\n				</div>\n			"),a}function w(e,t){t.buffer.push("\n				<div class='span'>\n					<img src=\"/assets/ajax-loader.gif\"/>\n				</div>\n			")}function _(e,t){t.buffer.push('\n				<i class="icon-ok"> </i>\n			')}function C(e,t){t.buffer.push("\n		<div class='span'>&nbsp;</div>\n	")}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var T,D,S,E="",k=this.escapeExpression,I=this;return r.buffer.push('	\n	<div style="text-align:right;margin-top:-10px; margin-right: -12px; height:15px;">\n		'),D={},S={},T=n["if"].call(t,"view.is_global",{hash:{},inverse:I.program(3,s,r),fn:I.program(1,a,r),contexts:[t],types:["ID"],hashContexts:S,hashTypes:D,data:r}),(T||0===T)&&r.buffer.push(T),r.buffer.push("\n	</div>\n\n	<div class='span'>\n		<label style=\"color:#2980B9;font-family:'Roboto-Medium';margin-bottom:0px;\" class='pull-left'>			\n			"),D={},S={},r.buffer.push(k(n._triageMustache.call(t,"view.field_display",{hash:{},contexts:[t],types:["ID"],hashContexts:S,hashTypes:D,data:r}))),r.buffer.push(" \n			"),D={},S={},T=n["if"].call(t,"view.format_as",{hash:{},inverse:I.noop,fn:I.program(5,o,r),contexts:[t],types:["ID"],hashContexts:S,hashTypes:D,data:r}),(T||0===T)&&r.buffer.push(T),r.buffer.push("\n			"),D={},S={},T=n.unless.call(t,"view.max_min",{hash:{},inverse:I.program(9,c,r),fn:I.program(7,l,r),contexts:[t],types:["ID"],hashContexts:S,hashTypes:D,data:r}),(T||0===T)&&r.buffer.push(T),r.buffer.push("\n		</label>\n	</div>	\n	<br/>\n\n	"),D={},S={},T=n["if"].call(t,"view.max_min",{hash:{},inverse:I.program(13,u,r),fn:I.program(11,h,r),contexts:[t],types:["ID"],hashContexts:S,hashTypes:D,data:r}),(T||0===T)&&r.buffer.push(T),r.buffer.push("\n\n<div class='row'>\n	"),D={},S={},T=n["if"].call(t,"view.check_global_and_admin",{hash:{},inverse:I.program(32,C,r),fn:I.program(24,b,r),contexts:[t],types:["ID"],hashContexts:S,hashTypes:D,data:r}),(T||0===T)&&r.buffer.push(T),r.buffer.push("\n</div>\n"),E}),Ember.TEMPLATES["dashboard/dashboard_filters"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a="";return t.buffer.push("\n							"),i={checkedBinding:e,name:e,value:e,"class":e},r={checkedBinding:"STRING",name:"STRING",value:"BOOLEAN","class":"STRING"},t.buffer.push(j(n.view.call(e,"Ember.Checkbox",{hash:{checkedBinding:"view.is_global",name:"is_global",value:!1,"class":"align-checkbox"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push(" Shared Filter\n							<br>\n						"),a}function s(e,t){var i,r,a,s="";return t.buffer.push("\n							"),r={},a={},i=n["if"].call(e,"view.datatype_date",{hash:{},inverse:L.noop,fn:L.program(4,o,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n						"),s}function o(e,t){var i,r,a,s="";return t.buffer.push("\n								"),r={},a={},i=n.unless.call(e,"view.range_comparison",{hash:{},inverse:L.noop,fn:L.program(5,l,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n							"),s}function l(e,t){var i,r,a="";return t.buffer.push("\n									Format as: <br>\n										"),i={contentBinding:e,valueBinding:e,"class":e},r={contentBinding:"STRING",valueBinding:"STRING","class":"STRING"},t.buffer.push(j(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.period",valueBinding:"view.format_as","class":"input-medium"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n										<br>\n								"),a}function c(e,t){t.buffer.push("\n							<img src='/assets/ajax-loader.gif' />\n						")}function h(e,t){var i,r,a,s="";return t.buffer.push("\n						    <div class='row'>\n						    	<div class='span'>\n									"),r={checkedBinding:e,"class":e,name:e},a={checkedBinding:"STRING","class":"STRING",name:"STRING"},t.buffer.push(j(n.view.call(e,"Ember.Checkbox",{hash:{checkedBinding:"view.specific_date","class":"range_selector radio-align",name:"0"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push("\n								</div>\n								<div class='span'>\n									<label>Choose specific dates</label>\n								</div>\n							</div>\n						    <div class='row'>\n						    	<div class='span'>\n									"),r={checkedBinding:e,"class":e,name:e},a={checkedBinding:"STRING","class":"STRING",name:"STRING"},t.buffer.push(j(n.view.call(e,"Ember.Checkbox",{hash:{checkedBinding:"view.reference_date_option","class":"range_selector radio-align",name:"1"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push("\n								</div>\n								<div class='span'>\n									<label>Specify periods w.r.t reference date</label>\n								</div>\n							</div>\n						    <div class='row'>\n						    	<div class='span'>\n									"),r={checkedBinding:e,"class":e,name:e},a={checkedBinding:"STRING","class":"STRING",name:"STRING"},t.buffer.push(j(n.view.call(e,"Ember.Checkbox",{hash:{checkedBinding:"view.predefined_range","class":"range_selector radio-align",name:"2"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push("\n								</div>\n								<div class='span'>\n									<label>Predefined range</label>\n								</div>\n							</div>							\n\n							"),a={},r={},i=n["if"].call(e,"view.specific_date",{hash:{},inverse:L.noop,fn:L.program(10,u,t),contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n\n							"),a={},r={},i=n["if"].call(e,"view.reference_date_option",{hash:{},inverse:L.noop,fn:L.program(27,_,t),contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n\n							"),a={},r={},i=n["if"].call(e,"view.predefined_range",{hash:{},inverse:L.noop,fn:L.program(36,k,t),contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n\n						"),s}function u(e,t){var i,r,a,s="";return t.buffer.push('\n								<div class="row" style="margin-top:5px;">\n									<div class="span">\n										<span>Lower: </span><br/>\n									  	<div id="datetimepicker" style="width: 150px;">\n									  		'),r={},a={},i=n["if"].call(e,"view.isDate",{hash:{},inverse:L.program(13,p,t),fn:L.program(11,d,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push('\n									  	</div>\n									</div>\n									<div class="span">\n										<span>Upper:</span> <br/>\n									  	<div id="datetimepicker" style="width: 150px;">\n									  		'),r={},a={},i=n["if"].call(e,"view.isDate",{hash:{},inverse:L.program(21,b,t),fn:L.program(19,v,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n									  	</div>								\n									</div>\n								</div>\n							"),s}function d(e,t){var i,r,a="";return t.buffer.push("\n												"),i={valueBinding:e,id:e,classNames:e,style:e},r={valueBinding:"STRING",id:"STRING",classNames:"STRING",style:"STRING"},t.buffer.push(j(n.view.call(e,"Cibi.NewDateField",{hash:{valueBinding:"view.start_date",id:"dashboard_lower_range",classNames:"startDate",style:"margin-right:10px; width:100px;"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("	\n											"),a}function p(e,t){var i,r,a,s="";return t.buffer.push("\n												"),r={},a={},i=n["if"].call(e,"view.isTime",{hash:{},inverse:L.program(16,g,t),fn:L.program(14,f,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n											"),s}function f(e,t){var i,r,a="";return t.buffer.push("\n													"),i={valueBinding:e,id:e,classNames:e,style:e},r={valueBinding:"STRING",id:"STRING",classNames:"STRING",style:"STRING"},t.buffer.push(j(n.view.call(e,"Cibi.NewTimeField",{hash:{valueBinding:"view.start_date",id:"dashboard_lower_range",classNames:"startDate",style:"margin-right:10px; width:100px;"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("	\n												"),a}function g(e,t){var i,r,a,s="";return t.buffer.push("\n													"),r={},a={},i=n["if"].call(e,"view.isDateTime",{hash:{},inverse:L.noop,fn:L.program(17,m,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n												"),s}function m(e,t){var i,r,a="";return t.buffer.push("\n														"),i={valueBinding:e,id:e,classNames:e},r={valueBinding:"STRING",id:"STRING",classNames:"STRING"},t.buffer.push(j(n.view.call(e,"Cibi.NewDateTimeField",{hash:{valueBinding:"view.start_date",id:"dashboard_lower_range",classNames:"startDate"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("			\n													"),a}function v(e,t){var i,r,a="";return t.buffer.push("\n												"),i={valueBinding:e,id:e,classNames:e,style:e},r={valueBinding:"STRING",id:"STRING",classNames:"STRING",style:"STRING"},t.buffer.push(j(n.view.call(e,"Cibi.NewDateField",{hash:{valueBinding:"view.end_date",id:"dashboard_upper_range",classNames:"startDate",style:"margin-right:10px; width:100px;"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("	\n											"),a}function b(e,t){var i,r,a,s="";return t.buffer.push("\n												"),r={},a={},i=n["if"].call(e,"view.isTime",{hash:{},inverse:L.program(24,x,t),fn:L.program(22,y,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n											"),s}function y(e,t){var i,r,a="";return t.buffer.push("\n													"),i={valueBinding:e,id:e,classNames:e,style:e},r={valueBinding:"STRING",id:"STRING",classNames:"STRING",style:"STRING"},t.buffer.push(j(n.view.call(e,"Cibi.NewTimeField",{hash:{valueBinding:"view.end_date",id:"dashboard_upper_range",classNames:"startDate",style:"margin-right:10px; width:100px;"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("	\n												"),a}function x(e,t){var i,r,a,s="";return t.buffer.push("\n													"),r={},a={},i=n["if"].call(e,"view.isDateTime",{hash:{},inverse:L.noop,fn:L.program(25,w,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n												"),s}function w(e,t){var i,r,a="";return t.buffer.push("\n														"),i={valueBinding:e,id:e,classNames:e},r={valueBinding:"STRING",id:"STRING",classNames:"STRING"},t.buffer.push(j(n.view.call(e,"Cibi.NewDateTimeField",{hash:{valueBinding:"view.end_date",id:"dashboard_upper_range",classNames:"startDate"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("			\n													"),a}function _(e,t){var i,r,a,s="";return t.buffer.push('\n								<div class=\'row\' style="margin-top:10px;">\n									<b>Specify Period</b>\n								</div>\n							    <div class=\'row\' style="margin-top:5px;">\n									<div class=\'span\' style="width:45%;">\n										<input type="radio" class="radio-align" name="reference_direction" value="previous" checked> previous\n									</div>\n									<div class=\'span\' style="width:45%;">\n										<input type="radio" class="radio-align" name="reference_direction" value="next"> next\n									</div>\n								</div>\n								<div class=\'row\' style="margin-top:5px; width:100%;">\n									<div class="span">\n										'),r={valueBinding:e,min:e,style:e},a={valueBinding:"STRING",min:"STRING",style:"STRING"},t.buffer.push(j(n.view.call(e,"Cibi.NumberField",{hash:{valueBinding:"view.reference_count",min:"1",style:"width:80px;"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push('\n									</div>\n									<div class="span" style="margin-left: 10px;">\n										'),r={contentBinding:e,valueBinding:e,"class":e},a={contentBinding:"STRING",valueBinding:"STRING","class":"STRING"},t.buffer.push(j(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.period_unit",valueBinding:"view.reference_unit","class":"input-medium"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push('\n					       			</div>\n								</div>\n\n								<div class=\'row\' style="margin-top:5px;">\n									<b>Reference Date</b>\n								</div>\n								<div class=\'row\' style="margin-top:5px;">\n									<div class="span">\n										'),r={checkedBinding:e},a={checkedBinding:"STRING"},t.buffer.push(j(n.view.call(e,"Ember.Checkbox",{hash:{checkedBinding:"view.reference_date_today"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push('Today\n									</div>\n									<div class="span" style="margin-left: 10px;">\n									  	<div id="datetimepicker" style="width: 150px;">\n									  		'),a={},r={},i=n["if"].call(e,"view.isDate",{hash:{},inverse:L.program(30,T,t),fn:L.program(28,C,t),contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("	\n									  	</div>\n									</div>\n								</div>\n							"),s}function C(e,t){var i,r,a="";return t.buffer.push("\n												"),i={valueBinding:e,id:e,classNames:e,style:e},r={valueBinding:"STRING",id:"STRING",classNames:"STRING",style:"STRING"},t.buffer.push(j(n.view.call(e,"Cibi.NewDateField",{hash:{valueBinding:"view.reference_date",id:"reference_date",classNames:"startDate",style:"margin-right:10px; width:100px;"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("	\n											"),a}function T(e,t){var i,r,a,s="";return t.buffer.push("\n												"),r={},a={},i=n["if"].call(e,"view.isTime",{hash:{},inverse:L.program(33,S,t),fn:L.program(31,D,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n											"),s}function D(e,t){var i,r,a="";return t.buffer.push("\n													"),i={valueBinding:e,id:e,classNames:e,style:e},r={valueBinding:"STRING",id:"STRING",classNames:"STRING",style:"STRING"},t.buffer.push(j(n.view.call(e,"Cibi.NewTimeField",{hash:{valueBinding:"view.reference_date",id:"reference_date",classNames:"startDate",style:"margin-right:10px; width:100px;"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("	\n												"),a}function S(e,t){var i,r,a,s="";return t.buffer.push("\n													"),r={},a={},i=n["if"].call(e,"view.isDateTime",{hash:{},inverse:L.noop,fn:L.program(34,E,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n												"),s}function E(e,t){var i,r,a="";return t.buffer.push("\n														"),i={valueBinding:e,id:e,classNames:e},r={valueBinding:"STRING",id:"STRING",classNames:"STRING"},t.buffer.push(j(n.view.call(e,"Cibi.NewDateTimeField",{hash:{valueBinding:"view.reference_date",id:"reference_date",classNames:"startDate"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("			\n													"),a}function k(e,t){var i,r,a,s="";return t.buffer.push("\n								<div class='row' style=\"margin-top:5px;\">\n									<b>Select a range:</b>\n								</div>\n								<div class='row' style=\"margin-top:5px;\">\n							  		"),r={},a={},i=n["if"].call(e,"view.isDate",{hash:{},inverse:L.program(39,N,t),fn:L.program(37,I,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n								</div>	\n							"),s}function I(e,t){var i,r,a="";return t.buffer.push("\n										"),i={contentBinding:e,valueBinding:e,"class":e},r={contentBinding:"STRING",valueBinding:"STRING","class":"STRING"},t.buffer.push(j(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.range_types",valueBinding:"view.selected_range","class":"input-medium"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("	\n									"),a}function N(e,t){var i,r,a,s="";return t.buffer.push("\n										"),r={},a={},i=n["if"].call(e,"view.isDateTime",{hash:{},inverse:L.noop,fn:L.program(40,A,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("	\n									"),s}function A(e,t){var i,r,a="";return t.buffer.push("\n											"),i={contentBinding:e,valueBinding:e,"class":e},r={contentBinding:"STRING",valueBinding:"STRING","class":"STRING"},t.buffer.push(j(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.combined_range_types",valueBinding:"view.selected_range","class":"input-medium"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n									    "),a}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var R,M,P,O,F,B="",j=this.escapeExpression,L=this,V=n.helperMissing;return r.buffer.push('\n	<button class="btn btn-info flat-button" type="button" style="background-color:#4093cd; padding-left: 8px; padding-right: 8px; padding-top: 3px; padding-bottom: 3px;" '),P={target:t,on:t},O={target:"ID",on:"STRING"},r.buffer.push(j(n.action.call(t,"openPopover",{hash:{target:"view",on:"click"},contexts:[t],types:["STRING"],hashContexts:P,hashTypes:O,data:r}))),r.buffer.push('>\n		<a rel="popover" class="dashboard_filter_popover" data-toggle="tooltip" data-placement="right" title="DashBoard Filters"  '),P={id:t},O={id:"STRING"},r.buffer.push(j(n.bindAttr.call(t,{hash:{id:"view.dashboardFiltersPopoverId"},contexts:[],types:[],hashContexts:P,hashTypes:O,data:r}))),r.buffer.push(' >\n			<img src=\'/assets/Filtericon.png\' style="height: 13px; padding-bottom: 5px;">\n			</img>\n			<span class="caret">\n			</span>\n		</a>\n	</button>\n\n	<div class="popover fade bottom in hidden" style="display: block; width: 300px;">\n		<div class="arrow hidden"></div>\n		<h3 class="popover-title hidden">Dashboard Filters</h3>\n		<div class="popover-content hidden">\n			<div class=\'row\' style="min-height: 225px;">\n				<div class=\'span\' style=\'margin-left: 10px;\'>\n					<form class=\'form\' style="margin-bottom:0px;">\n						Filter Display Name: <br>\n						'),P={valueBinding:t,type:t,"class":t},O={valueBinding:"STRING",type:"STRING","class":"STRING"},F={hash:{valueBinding:"view.display_name",type:"text","class":"input-medium"},contexts:[],types:[],hashContexts:P,hashTypes:O,data:r},r.buffer.push(j((R=n.input,R?R.call(t,F):V.call(t,"input",F)))),r.buffer.push("\n						<br>\n\n						"),O={},P={},M=n["if"].call(t,"can_edit",{hash:{},inverse:L.noop,fn:L.program(1,a,r),contexts:[t],types:["ID"],hashContexts:P,hashTypes:O,data:r}),(M||0===M)&&r.buffer.push(M),r.buffer.push('\n						\n						<label style="margin-top:5px;">Field Name: </label>\n						'),P={contentBinding:t,optionValuePath:t,optionLabelPath:t,valueBinding:t,"class":t},O={contentBinding:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING","class":"STRING"},r.buffer.push(j(n.view.call(t,"Ember.Select",{hash:{contentBinding:"dashboardFieldsArr",optionValuePath:"content.text",optionLabelPath:"content.text",valueBinding:"view.field_name","class":"input-medium"},contexts:[t],types:["ID"],hashContexts:P,hashTypes:O,data:r}))),r.buffer.push("						\n						<br>\n						"),O={},P={},M=n["if"].call(t,"view.field_name",{hash:{},inverse:L.noop,fn:L.program(3,s,r),contexts:[t],types:["ID"],hashContexts:P,hashTypes:O,data:r}),(M||0===M)&&r.buffer.push(M),r.buffer.push("						\n\n						"),P={contentBinding:t,optionLabelPath:t,optionValuePath:t,valueBinding:t,"class":t},O={contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",valueBinding:"STRING","class":"STRING"},r.buffer.push(j(n.view.call(t,"Ember.Select",{hash:{contentBinding:"view.operator_list",optionLabelPath:"content.display",optionValuePath:"content.value",valueBinding:"view.comparison_operator","class":"input-medium"},contexts:[t],types:["ID"],hashContexts:P,hashTypes:O,data:r}))),r.buffer.push("\n						"),O={},P={},M=n["if"].call(t,"view.valuesLoading",{hash:{},inverse:L.noop,fn:L.program(7,c,r),contexts:[t],types:["ID"],hashContexts:P,hashTypes:O,data:r}),(M||0===M)&&r.buffer.push(M),r.buffer.push("\n						<br>\n							<div "),P={id:t},O={id:"STRING"},r.buffer.push(j(n.bindAttr.call(t,{hash:{id:"view.filterValuesId"},contexts:[],types:[],hashContexts:P,hashTypes:O,data:r}))),r.buffer.push(">\n							</div>\n						"),O={},P={},M=n["if"].call(t,"view.range_comparison",{hash:{},inverse:L.noop,fn:L.program(9,h,r),contexts:[t],types:["ID"],hashContexts:P,hashTypes:O,data:r}),(M||0===M)&&r.buffer.push(M),r.buffer.push('\n						\n						\n						<input type="submit" value=\'Save\' class=\'btn\'/ >\n						<button class="btn" aria-hidden="true"\n						'),P={target:t},O={target:"STRING"},r.buffer.push(j(n.action.call(t,"cancel",{hash:{target:"view"},contexts:[t],types:["STRING"],hashContexts:P,hashTypes:O,data:r}))),r.buffer.push(">Cancel</button>\n					</form>\n				</div>\n			</div>\n			\n		</div>\n\n	</div>\n\n"),B
}),Ember.TEMPLATES["dashboard/dashboard_layout"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var a,s,o="",l=this.escapeExpression;return r.buffer.push('<button class="btn btn-info flat-button" type="button" style="background-color:#4093cd; padding-left: 8px; padding-right: 8px; padding-top: 3px; padding-bottom: 3px;" '),a={target:t,on:t},s={target:"ID",on:"STRING"},r.buffer.push(l(n.action.call(t,"openPopover",{hash:{target:"view",on:"click"},contexts:[t],types:["STRING"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push('>\n	<a rel="popover" class="dashboard_layout_popover" data-toggle="tooltip" data-placement="right" title="DashBoard Layout"  '),a={id:t},s={id:"STRING"},r.buffer.push(l(n.bindAttr.call(t,{hash:{id:"view.dashboardLayoutPopoverId"},contexts:[],types:[],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push(' >\n		<i class="icon-th icon-white"> </i>\n		<span class="caret">\n		</span>\n	</a>\n</button>\n\n<div class="popover fade bottom in hidden" style="display: block;">\n	<div class="arrow hidden"></div>\n	<h3 class="popover-title hidden">Dashboard Layout</h3>\n	<div class="popover-content hidden">\n		<div class=\'row\'>\n			<div class=\'span\' style=\'margin-left: 10px;\'>\n				<form class=\'form\' style="margin-bottom:0px;">\n					<div class="row">\n						<div class="span" style="width:55px;">\n							<span>Rows</span>\n						</div>\n						<div class="span" style="margin-left:10px;">\n							'),a={valueBinding:t,min:t,"class":t},s={valueBinding:"STRING",min:"STRING","class":"STRING"},r.buffer.push(l(n.view.call(t,"Cibi.NumberField",{hash:{valueBinding:"rows",min:"1","class":"input-mini"},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push('\n						</div>\n					</div>\n					<div class="row">\n						<div class="span" style="width:55px;">\n							<span>Columns</span>\n						</div>\n						<div class="span" style="margin-left:10px;">\n							'),a={valueBinding:t,min:t,"class":t},s={valueBinding:"STRING",min:"STRING","class":"STRING"},r.buffer.push(l(n.view.call(t,"Cibi.NumberField",{hash:{valueBinding:"columns",min:"1","class":"input-mini"},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push('\n						</div>\n					</div>\n					<div class="well-small">\n						<button type="submit" class="btn">Save</button>\n						<button class="btn" '),a={target:t},s={target:"STRING"},r.buffer.push(l(n.action.call(t,"cancel",{hash:{target:"view"},contexts:[t],types:["STRING"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push(' aria-hidden="true">Cancel</button>\n					</div>\n				</form>\n			</div>\n		</div>\n		\n	</div>\n\n</div>\n'),o}),Ember.TEMPLATES["dashboard/edit"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var a,s,o,l,c="",h=n.helperMissing,u=this.escapeExpression;return r.buffer.push('\n\n<div id ="new-dashboard-notice">\n</div>\n<form class="form-horizontal">\n	<fieldset>\n		<div class="control-group" id="display_name_control_group">\n			<label class="control-label" for="input01">Display Name</label>\n			<div class="controls">\n				'),s={type:t,id:t,"class":t,valueBinding:t,placeholder:t},o={type:"STRING",id:"STRING","class":"STRING",valueBinding:"STRING",placeholder:"STRING"},l={hash:{type:"text",id:"display_name","class":"input-xlarge",valueBinding:"displayName",placeholder:"Display Name"},contexts:[],types:[],hashContexts:s,hashTypes:o,data:r},r.buffer.push(u((a=n.input,a?a.call(t,l):h.call(t,"input",l)))),r.buffer.push('\n				\n				<p class="help-block">This name will appear in dashboards list</p>\n			</div>\n		</div>\n		<div class="control-group" id="title_control_group">\n			<label class="control-label" for="input02">Title</label>\n			<div class="controls">\n				'),s={type:t,id:t,"class":t,valueBinding:t,placeholder:t},o={type:"STRING",id:"STRING","class":"STRING",valueBinding:"STRING",placeholder:"STRING"},l={hash:{type:"text",id:"title","class":"input-xlarge",valueBinding:"title",placeholder:"Title"},contexts:[],types:[],hashContexts:s,hashTypes:o,data:r},r.buffer.push(u((a=n.input,a?a.call(t,l):h.call(t,"input",l)))),r.buffer.push('\n			</div> \n		</div>\n		<div class="control-group">\n			<label class="control-label" for="input03">Sub Title</label>\n			<div class="controls">\n				'),s={type:t,id:t,"class":t,valueBinding:t,placeholder:t},o={type:"STRING",id:"STRING","class":"STRING",valueBinding:"STRING",placeholder:"STRING"},l={hash:{type:"text",id:"subtitle","class":"input-xlarge",valueBinding:"subtitle",placeholder:"Sub Title"},contexts:[],types:[],hashContexts:s,hashTypes:o,data:r},r.buffer.push(u((a=n.input,a?a.call(t,l):h.call(t,"input",l)))),r.buffer.push('\n			</div>\n		</div>\n		<div class="control-group">\n			<label class="control-label" for="input04">Description</label>\n			<div class="controls">\n				'),s={rows:t,id:t,"class":t,valueBinding:t,placeholder:t},o={rows:"INTEGER",id:"STRING","class":"STRING",valueBinding:"STRING",placeholder:"STRING"},r.buffer.push(u(n.view.call(t,"Cibi.TextArea",{hash:{rows:3,id:"description","class":"input-xlarge",valueBinding:"description",placeholder:"Description"},contexts:[t],types:["ID"],hashContexts:s,hashTypes:o,data:r}))),r.buffer.push('\n			</div>\n		</div>\n\n		<div class="control-group">\n			<div class="span" style="width: 20%;">\n				<label class="control-label" for="input03">Auto Refresh</label>\n				<div class="controls">\n					'),s={id:t,valueBinding:t,checkedBinding:t},o={id:"STRING",valueBinding:"STRING",checkedBinding:"STRING"},r.buffer.push(u(n.view.call(t,"Ember.Checkbox",{hash:{id:"auto_refresh",valueBinding:"autoRefresh",checkedBinding:"autoRefresh"},contexts:[t],types:["ID"],hashContexts:s,hashTypes:o,data:r}))),r.buffer.push('\n				</div>\n			</div>\n			<div class="span" style="width: 80%;">\n				<div class="row" style="display: -webkit-inline-box;">\n					<label style="padding-top: 4px; margin-right: 5px; margin-left: 5px;">\n						After Every\n					</label>\n					<div style="margin-left: 15px; margin-right: 5px;">\n						'),s={valueBinding:t,min:t,"class":t},o={valueBinding:"STRING",min:"STRING","class":"STRING"},r.buffer.push(u(n.view.call(t,"Cibi.NumberField",{hash:{valueBinding:"refreshInterval",min:"1","class":"input-mini"},contexts:[t],types:["ID"],hashContexts:s,hashTypes:o,data:r}))),r.buffer.push('\n					</div>\n					<label style="padding-top: 4px; font-size: 13px;">Seconds</label>\n				</div>\n			</div>\n		</div>\n		<div class="form-actions">\n			<button class=\'btn btn-primary\' '),s={target:t},o={target:"ID"},r.buffer.push(u(n.action.call(t,"submit","",{hash:{target:"view"},contexts:[t,t],types:["STRING","ID"],hashContexts:s,hashTypes:o,data:r}))),r.buffer.push('>Save</button>\n            <button class="btn" onclick="javascript:history.go(-1); return false;">Cancel</button>\n			\n		</div>\n	</fieldset>\n</form>\n\n\n\n\n\n\n\n\n'),c}),Ember.TEMPLATES["dashboard/edit_chart"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a,o="";return t.buffer.push("\n				"),r={contentBinding:e,valueBinding:e,optionValuePath:e,optionLabelPath:e},a={contentBinding:"STRING",valueBinding:"ID",optionValuePath:"STRING",optionLabelPath:"STRING"},t.buffer.push(_(n.view.call(e,"Ember.Select",{hash:{contentBinding:"data_sources",valueBinding:"view.dataSourceId",optionValuePath:"content.id",optionLabelPath:"content.name"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push("\n	        \n	        	<ul class='unstyled' style=\"margin-top: 10px; max-height: 255px; overflow-y: auto; width:220px;\" "),r={on:e,target:e},a={on:"STRING",target:"STRING"},t.buffer.push(_(n.action.call(e,"attach_drag_n_drop_events",{hash:{on:"mouseEnter",target:"view"},contexts:[e],types:["STRING"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push(">\n		        	"),a={},r={},i=n.each.call(e,"field","in","view.fieldsArr",{hash:{},inverse:C.noop,fn:C.program(2,s,t),contexts:[e,e,e],types:["ID","ID","ID"],hashContexts:r,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("			        \n			    </ul>\n		    "),o}function s(e,t){var i,r,a,s="";return t.buffer.push("\n		        		"),r={},a={},i=n["if"].call(e,"field",{hash:{},inverse:C.noop,fn:C.program(3,o,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n			        "),s}function o(e,t){var i,r,a="";return t.buffer.push('\n			        		<li class="draggable-field">\n			        			'),i={},r={},t.buffer.push(_(n._triageMustache.call(e,"field",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n			        		</li>\n			        	"),a}function l(e,t){t.buffer.push("\n		    	Loading..\n		    ")}function c(e,t){var i,r,a,s="";return t.buffer.push("\n			"),r={},a={},i=n["if"].call(e,"view.toShowRowsAndCols",{hash:{},inverse:C.program(13,p,t),fn:C.program(8,h,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("			\n			<div class=\"row\">\n				<div class='span6'>\n					<label>\n						Measures\n\n						"),r={},a={},i=n["if"].call(e,"view.measure_error_message",{hash:{},inverse:C.noop,fn:C.program(16,g,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n					</label>\n\n					"),r={},a={},t.buffer.push(_(n.view.call(e,"view.chartMeasuresView",{hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push("\n\n				</div>\n			</div>\n"),s}function h(e,t){var i,r,a,s="";return t.buffer.push("\n				<div class=\"row\">\n					<div class='span6'>\n						<label>\n							Rows\n							"),r={},a={},i=n["if"].call(e,"view.row_error_message",{hash:{},inverse:C.noop,fn:C.program(9,u,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n						</label>\n						"),r={},a={},t.buffer.push(_(n.view.call(e,"view.chartRowsView",{hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push("\n					</div>\n				</div>\n				<div class=\"row\">\n					<div class='span6'>\n						<label>\n							Columns\n							"),r={},a={},i=n["if"].call(e,"view.column_error_message",{hash:{},inverse:C.noop,fn:C.program(11,d,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n						</label>\n						"),r={},a={},t.buffer.push(_(n.view.call(e,"view.chartColumnsView",{hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push("\n					</div>\n				</div>\n			"),s}function u(e,t){var i,r,a="";return t.buffer.push("\n								&nbsp;&nbsp;\n								<span class='text-error'>\n									"),i={},r={},t.buffer.push(_(n._triageMustache.call(e,"view.row_error_message",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n								</span>\n							"),a}function d(e,t){var i,r,a="";return t.buffer.push("\n								&nbsp;&nbsp;\n								<span class='text-error'>\n									"),i={},r={},t.buffer.push(_(n._triageMustache.call(e,"view.column_error_message",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n								</span>\n							"),a}function p(e,t){var i,r,a,s="";return t.buffer.push("\n				<div class=\"row\" >\n					<div class='span6'>\n						<label>\n							Dimensions\n							"),r={},a={},i=n["if"].call(e,"view.dimension_error_message",{hash:{},inverse:C.noop,fn:C.program(14,f,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n						</label>\n						"),r={},a={},t.buffer.push(_(n.view.call(e,"view.chartDimensionsView",{hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push("\n					</div>\n				</div>\n			"),s}function f(e,t){var i,r,a="";return t.buffer.push("\n								&nbsp;&nbsp;\n								<span class='text-error'>\n									"),i={},r={},t.buffer.push(_(n._triageMustache.call(e,"view.dimension_error_message",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n								</span>\n							"),a}function g(e,t){var i,r,a="";return t.buffer.push("\n							&nbsp;&nbsp;\n							<span class='text-error'>\n								"),i={},r={},t.buffer.push(_(n._triageMustache.call(e,"view.measure_error_message",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n							</span>\n						"),a}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var m,v,b,y,x,w="",_=this.escapeExpression,C=this,T=n.helperMissing;return r.buffer.push('\n<div class="row">\n	<div class="span">\n		<h3 style="font-family:Roboto-Medium; font-size:18px;">\n			Edit Chart\n		</h3>\n		<hr class=\'compact\' />\n	</div>\n</div>\n<div id=\'new-chart-notice\' style="text-align: center">\n</div>\n<form class="form-horizontal">\n	<div class="row" style="width:91.5%;">\n		<div class=\'span4\' style="margin-right:10px;">\n			<label>\n				Title\n			</label>\n			'),b={type:t,"class":t,valueBinding:t},y={type:"STRING","class":"STRING",valueBinding:"STRING"},x={hash:{type:"text","class":"input-xlarge title",valueBinding:"view.title"},contexts:[],types:[],hashContexts:b,hashTypes:y,data:r},r.buffer.push(_((m=n.input,m?m.call(t,x):T.call(t,"input",x)))),r.buffer.push("		\n		</div>\n		<div class='span4'>\n			<label>Sub Title</label>\n			"),b={type:t,"class":t,valueBinding:t},y={type:"STRING","class":"STRING",valueBinding:"STRING"},x={hash:{type:"text","class":"input-xlarge subtitle",valueBinding:"view.subtitle"},contexts:[],types:[],hashContexts:b,hashTypes:y,data:r},r.buffer.push(_((m=n.input,m?m.call(t,x):T.call(t,"input",x)))),r.buffer.push('		\n		</div>\n		<div class=\'span pull-right\'>\n			<label>\n				&nbsp;\n			</label>\n			<div class=" ">\n				<button type="submit" class="btn btn-primary">Update</button>\n				<button class="btn" onclick="javascript:history.go(-1); return false;">Cancel</button>\n			</div>\n		</div>\n	</div>\n	<div class="row" style="width:91.5%;">\n		<div class=\'span7\'>\n			<label>Description</label>\n			'),b={rows:t,valueBinding:t,"class":t},y={rows:"INTEGER",valueBinding:"STRING","class":"STRING"},r.buffer.push(_(n.view.call(t,"Cibi.TextArea",{hash:{rows:3,valueBinding:"view.description","class":"queryTextArea"},contexts:[t],types:["ID"],hashContexts:b,hashTypes:y,data:r}))),r.buffer.push('		\n		</div>\n	</div>	\n	<br/>\n	<div class="row">\n		'),y={},b={},r.buffer.push(_(n.view.call(t,"view.chartTypeView",{hash:{},contexts:[t],types:["ID"],hashContexts:b,hashTypes:y,data:r}))),r.buffer.push("\n		\n		<div class='span3' style=\"margin-left: 20px;\">\n			<h5 class='text-info'> \n				Select Data Source\n			</h5>\n\n			"),y={},b={},v=n["if"].call(t,"data_sources",{hash:{},inverse:C.program(5,l,r),fn:C.program(1,a,r),contexts:[t],types:["ID"],hashContexts:b,hashTypes:y,data:r}),(v||0===v)&&r.buffer.push(v),r.buffer.push("\n		</div>\n		<div class='span'>\n			<h5 class='text-info'> \n				Define Chart Attributes\n			</h5>\n\n		"),y={},b={},v=n["if"].call(t,"isSetup",{hash:{},inverse:C.noop,fn:C.program(7,c,r),contexts:[t],types:["ID"],hashContexts:b,hashTypes:y,data:r}),(v||0===v)&&r.buffer.push(v),r.buffer.push('			\n			<div class="row" style="margin-bottom: 15px">\n				<div class=\'span\'>\n					<label>\n						Count\n					</label>\n					'),b={type:t,valueBinding:t,"class":t,style:t},y={type:"STRING",valueBinding:"STRING","class":"STRING",style:"STRING"},x={hash:{type:"text",valueBinding:"view.count","class":"input-small count",style:""},contexts:[],types:[],hashContexts:b,hashTypes:y,data:r},r.buffer.push(_((m=n.input,m?m.call(t,x):T.call(t,"input",x)))),r.buffer.push("\n				</div>\n				<div class='span' style=\"padding-left:5%;\">\n					<label> \n						Isolated \n					</label>					\n					&nbsp &nbsp "),b={id:t,"class":t,checkedBinding:t},y={id:"STRING","class":"STRING",checkedBinding:"STRING"},r.buffer.push(_(n.view.call(t,"Ember.Checkbox",{hash:{id:"isolated","class":"input-small isolated",checkedBinding:"view.isolated"},contexts:[t],types:["ID"],hashContexts:b,hashTypes:y,data:r}))),r.buffer.push(' 				\n				</div>\n				<div class=\'span pull-right\'>\n					<label>\n						&nbsp;\n					</label>\n					<button type="button" class="btn pull-right"  value="generate_preview" '),b={target:t},y={target:"STRING"},r.buffer.push(_(n.action.call(t,"getPreviewData","generate_preview",{hash:{target:"view"},contexts:[t,t],types:["STRING","STRING"],hashContexts:b,hashTypes:y,data:r}))),r.buffer.push(' >Generate Preview</button>\n				</div>\n			</div>\n		\n			<div class="row">\n				<div id="display_option" class="btn-group" data-toggle="buttons-radio" valueBinding="view.display_option">\n			      <button type="button" class="btn active" value="chart_data" '),b={target:t},y={target:"STRING"},r.buffer.push(_(n.action.call(t,"getPreviewData","chart_data",{hash:{target:"view"},contexts:[t,t],types:["STRING","STRING"],hashContexts:b,hashTypes:y,data:r}))),r.buffer.push('>\n				  	Chart Data\n				  </button>\n		  	      <button type="button" class="btn" value="visualization" '),b={target:t},y={target:"STRING"},r.buffer.push(_(n.action.call(t,"getPreviewData","visualization",{hash:{target:"view"},contexts:[t,t],types:["STRING","STRING"],hashContexts:b,hashTypes:y,data:r}))),r.buffer.push('>\n				  	Visualization\n				  </button>\n				</div>\n\n				<div class="row" >\n					<div class=\'span6\' style="border:1px solid grey;height:300px;overflow-y:auto;overflow-x:hidden;">\n						<div id="new-preview-notice"></div>\n						<div id="chart-null">\n						<div class=\'alert alert-info\'><b>Define chart attributes and click Generate Preview</b></div>\n						</div>\n					</div>\n				</div>			\n			</div>	\n		</div>\n	</div>\n\n</form>\n'),w}),Ember.TEMPLATES["dashboard/edit_chart/_chartType"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{},r.buffer.push('		<div class=\'span2\' style=\'padding-right: 5px;\'>\n			<h5 class=\'text-info\'> \n				Select Chart Type \n			</h5>\n			<div id="btn-group" class="btn-group" data-toggle="buttons-radio" valueBinding="view.chartType">\n				<label> Basic Chart Types  </label>\n\n				<button type="button" class="btn" value="pie" data-toggle="tooltip" title="Pie Chart">\n					<img src="/assets/pie.png" style="width: 25px; height: 25px"/>\n				</button>\n\n				<button type="button" class="btn" value="donut" data-toggle="tooltip" title="Donut Chart">\n					<img src="/assets/chart_types.png" style="width: 25px; height: 25px"/>\n				</button>\n				\n				<button type="button" class="btn" value="gauge" data-toggle="tooltip" title="Gauge Chart">\n					<img src="/assets/gaugeicon.png" style="width: 25px; height: 25px"/>\n				</button>	\n\n				<br />\n\n				<button type="button" class="btn" value="single_value" data-toggle="tooltip" title="Single Value">\n					<img src="/assets/one.png" style="width: 25px; height: 25px"/>\n				</button>\n\n				<button type="button" class="btn" value="line" data-toggle="tooltip" title="Line Chart">\n					<img src="/assets/line.png" style="width: 25px; height: 25px"/>\n				</button>\n				\n				<button type="button" class="btn" value="multiline" data-toggle="tooltip" title="Multiline Chart">\n					<img src="/assets/multiline.png" style="width: 25px; height: 25px"/>\n				</button>\n\n				<br />\n\n				<button type="button" class="btn" value="bar" data-toggle="tooltip" title="Bar Chart">\n					<img src="/assets/bar.png" style="width: 25px; height: 25px"/>\n				</button>\n\n				<button type="button" class="btn" value="hbar" data-toggle="tooltip" title="Horizontal Bar Chart">\n					<img src="/assets/horizontal_bar_n.ico" style="width: 25px; height: 25px"/>\n				</button>\n\n				<button type="button" class="btn" value="combo" data-toggle="tooltip" title="Combination Chart">\n					<img src="/assets/combination.png" style="width: 25px; height: 25px"/>\n				</button>\n\n				<br />\n\n				<button type="button" class="btn" value="area" data-toggle="tooltip" title="Area Chart">\n					<img src="/assets/area.png" style="width: 25px; height: 25px"/>\n				</button>\n\n				<button type="button" class="btn" value="stacked_area" data-toggle="tooltip" title="Stacked Area Chart">\n					<img src="/assets/chart_area.png" style="width: 25px; height: 25px"/>\n				</button>				\n				\n				<button type="button" class="btn" value="ctree" data-toggle="tooltip" title="Collapsible Tree Chart">\n					<img src="/assets/ctree.png" style="width: 25px; height: 25px"/>\n				</button>\n				\n				<br/>\n				\n				<button type="button" class="btn" value="heatmap" data-toggle="tooltip" title="Heatmap">\n					<img src="/assets/heatmap.png" style="width: 25px; height: 25px"/>\n				</button>	\n				\n				<button type="button" class="btn" value="scatter_plot" data-toggle="tooltip" title="Scatter Plot">\n					<img src="/assets/scatterplot.png" style="width: 25px; height: 25px"/>\n				</button>\n\n				<button type="button" class="btn" value="funnel" data-toggle="tooltip" title="Funnel Chart">\n					<img src="/assets/funnel.png" style="width: 25px; height: 25px"/>\n				</button>					\n				\n				<label> Table Charts  </label>\n				\n				<button type="button" class="btn" value="table" data-toggle="tooltip" title="Table Chart">\n					<img src="/assets/table.png" style="width: 25px; height: 25px"/>\n				</button>\n				\n				<button type="button" class="btn" value="ctable" data-toggle="tooltip" title="Collapsible Table Chart">\n					<img src="/assets/ctable.png" style="width: 25px; height: 25px"/>\n				</button>\n				\n				<button type="button" class="btn" value="grouped_table" data-toggle="tooltip" title="Grouped Table">\n					<img src="/assets/grouped_table.png" style="width: 25px; height: 25px"/>\n				</button>\n				\n				<br/>\n\n				<label> Geo Charts  </label>\n				\n				<button type="button" class="btn" value="geo" data-toggle="tooltip" title="Geo Chart">\n					<img src="/assets/geo.png" style="width: 25px; height: 25px"/>\n				</button>\n				\n				<button type="button" class="btn" value="geo_india" data-toggle="tooltip" title="India Chart">\n					<img src="/assets/india-icon.png" style="width: 25px; height: 25px"/>\n				</button>\n\n				<button type="button" class="btn" value="geo_usa" data-toggle="tooltip" title="USA Chart">\n					<img src="/assets/usa-icon.png" style="width: 25px; height: 25px"/>\n				</button>					\n			  			  		  \n			</div>			\n		</div>\n')}),Ember.TEMPLATES["dashboard/edit_chart/_chart_dimension"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a="";return t.buffer.push('\n					<div class="row">\n						<div class="span2">\n							Format As\n						</div>	\n						<div class="span2">\n							'),i={contentBinding:e,optionValuePath:e,optionLabelPath:e,valueBinding:e,required:e,"class":e},r={contentBinding:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING",required:"BOOLEAN","class":"STRING"},t.buffer.push(u(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.supportedFormats",optionValuePath:"content.key",optionLabelPath:"content.key",valueBinding:"view.field_display_format",required:!0,"class":"format_as dimension-format-as input-medium"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push('\n							<!-- <select class="format_as dimension-format-as input-medium">\n							  <option value=""></option>\n							  <option value="Month">Month</option>\n							  <option value="Quarter">Quarter</option>\n							  <option value="Year">Year</option>\n							</select> -->\n						</div>			\n					</div>\n					'),a}function s(e,t){var i,r,a="";return t.buffer.push('\n						<div class="alert" style="margin-bottom: 0px; margin-top: 10px;">\n							<span>'),i={},r={},t.buffer.push(u(n._triageMustache.call(e,"view.error_msg",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("</span>\n						</div>\n					"),a}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var o,l,c,h="",u=this.escapeExpression,d=this;return r.buffer.push('\n  <div class="dropdown">\n    <a class="dropdown-toggle" data-toggle="dropdown" href="#" style="text-decoration:none;color:#000000;">\n        '),l={},c={},r.buffer.push(u(n._triageMustache.call(t,"view.field_display",{hash:{},contexts:[t],types:["ID"],hashContexts:c,hashTypes:l,data:r}))),r.buffer.push(" \n    </a>  &nbsp;<a "),c={target:t},l={target:"STRING"},r.buffer.push(u(n.action.call(t,"removeFromList","",{hash:{target:"view"},contexts:[t,t],types:["STRING","ID"],hashContexts:c,hashTypes:l,data:r}))),r.buffer.push('>&times;</a>\n\n\n	  <ul class="dropdown-menu" style="top:110%;left:-7px;">\n	    <div class="span4" style="height:auto;overflow-x:auto;">\n				<form class=\'form form-inline\' style="margin-bottom:0px;padding:10px 10px;">\n					<div class="row" style="margin-bottom:8px;">\n						<div class="span2">\n							Field Display\n						</div>	\n						<div class="span2">\n							'),c={"class":t,type:t},l={"class":"STRING",type:"STRING"},r.buffer.push(u(n.view.call(t,"Ember.TextField",{hash:{"class":"input-medium field_display",type:"text"},contexts:[t],types:["ID"],hashContexts:c,hashTypes:l,data:r}))),r.buffer.push('\n						</div>\n					</div>\n					<div class="row" style="margin-bottom:8px;">\n						<div class="span2">\n							Field Name\n						</div>	\n						<div class="span2">\n							'),c={"class":t,type:t},l={"class":"STRING",type:"STRING"},r.buffer.push(u(n.view.call(t,"Cibi.DisabledTextField",{hash:{"class":"input-medium fieldName",type:"text"},contexts:[t],types:["ID"],hashContexts:c,hashTypes:l,data:r}))),r.buffer.push("\n						</div>\n					</div>\n					"),l={},c={},o=n["if"].call(t,"view.date_type",{hash:{},inverse:d.noop,fn:d.program(1,a,r),contexts:[t],types:["ID"],hashContexts:c,hashTypes:l,data:r}),(o||0===o)&&r.buffer.push(o),r.buffer.push('	\n\n					<div class="row">\n						<div class="span2">\n							Sort Order\n						</div>	\n						<select class="sort_order dimension-format-as input-medium">\n						  <option value=""></option>\n						  <option value="asc">Ascending</option>\n						  <option value="desc">Descending</option>\n						</select>\n					</div>\n					\n					'),l={},c={},o=n["if"].call(t,"view.error_msg",{hash:{},inverse:d.noop,fn:d.program(3,s,r),contexts:[t],types:["ID"],hashContexts:c,hashTypes:l,data:r}),(o||0===o)&&r.buffer.push(o),r.buffer.push('\n\n					<div class="row">\n						<div class="span2" style="margin-top:10px;text-align:right;">\n							<button class=\'btn\' '),c={target:t},l={target:"STRING"},r.buffer.push(u(n.action.call(t,"save_changes",{hash:{target:"view"},contexts:[t],types:["STRING"],hashContexts:c,hashTypes:l,data:r}))),r.buffer.push('>Ok</button>\n							<button class="btn" aria-hidden="true" '),c={target:t},l={target:"STRING"},r.buffer.push(u(n.action.call(t,"cancel_changes",{hash:{target:"view"},contexts:[t],types:["STRING"],hashContexts:c,hashTypes:l,data:r}))),r.buffer.push(">Cancel</button>\n						</div>\n					</div>\n				</form>\n	    </div>\n	  </ul>\n  </div>\n"),h}),Ember.TEMPLATES["dashboard/edit_chart/_chart_measure"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a="";return t.buffer.push('\n							<div class="span2">\n								Field Name\n							</div>	\n							<div class="span2">\n								'),i={"class":e,type:e},r={"class":"STRING",type:"STRING"},t.buffer.push(d(n.view.call(e,"Cibi.DisabledTextField",{hash:{"class":"input-medium fieldName",type:"text"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n							</div>\n						"),a}function s(e,t){var i,r,a="";return t.buffer.push('\n							<div class="span2">\n								Enter Formula\n							</div>\n							<div class="span2">\n							'),i={"class":e,placeholder:e,required:e,type:e},r={"class":"STRING",placeholder:"STRING",required:"BOOLEAN",type:"STRING"},t.buffer.push(d(n.view.call(e,"Ember.TextField",{hash:{"class":"field_name fact input-medium",placeholder:"Enter Formula. Put field in []",required:!0,type:"text"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n							</div>\n						"),a}function o(e,t){var i,r,a="";return t.buffer.push('\n						<div class="alert" style="margin-bottom: 0px; margin-top: 10px;">\n							<span>'),i={},r={},t.buffer.push(d(n._triageMustache.call(e,"view.error_msg",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("</span>\n						</div>\n					"),a}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var l,c,h,u="",d=this.escapeExpression,p=this;return r.buffer.push('\n  <div class="dropdown">\n    <a class="dropdown-toggle" data-toggle="dropdown" href="#" style="text-decoration:none;color:#000000;">\n        '),c={},h={},r.buffer.push(d(n._triageMustache.call(t,"view.field_display",{hash:{},contexts:[t],types:["ID"],hashContexts:h,hashTypes:c,data:r}))),r.buffer.push(" \n    </a>  &nbsp;<a "),h={target:t},c={target:"STRING"},r.buffer.push(d(n.action.call(t,"removeFromList","",{hash:{target:"view"},contexts:[t,t],types:["STRING","ID"],hashContexts:h,hashTypes:c,data:r}))),r.buffer.push('>&times;</a>\n\n\n	  <ul class="dropdown-menu" style="top:110%;max-height:300px;">\n	    <div class="span4" style="height:auto;overflow-x:auto;">\n				<form class=\'form form-inline\' style="margin-bottom:0px;padding:10px 10px;">\n					<div class="row" style="margin-bottom:8px;">\n						<div class="span2">\n							Field Display\n						</div>\n						<div class="span2">\n							'),h={"class":t,type:t},c={"class":"STRING",type:"STRING"},r.buffer.push(d(n.view.call(t,"Ember.TextField",{hash:{"class":"field_display input-medium",type:"text"},contexts:[t],types:["ID"],hashContexts:h,hashTypes:c,data:r}))),r.buffer.push('\n						</div>\n					</div>\n					<div class="row" style="margin-bottom:8px;">\n						'),c={},h={},l=n["if"].call(t,"view.toDisplayFieldName",{hash:{},inverse:p.noop,fn:p.program(1,a,r),contexts:[t],types:["ID"],hashContexts:h,hashTypes:c,data:r}),(l||0===l)&&r.buffer.push(l),r.buffer.push('\n					</div>\n					<div class=\'row\' style="margin-bottom:8px;">\n						<div class="span2">\n							<label> Calculated Field </label>\n						</div> \n						<div class="span2">\n							'),h={checkedBinding:t,"class":t},c={checkedBinding:"STRING","class":"STRING"},r.buffer.push(d(n.view.call(t,"Ember.Checkbox",{hash:{checkedBinding:"view.isCalculated","class":"is_calculated"},contexts:[t],types:["ID"],hashContexts:h,hashTypes:c,data:r}))),r.buffer.push('\n						</div>\n					</div>\n	\n					<div class="row">	\n						'),c={},h={},l=n["if"].call(t,"view.isCalculated",{hash:{},inverse:p.noop,fn:p.program(3,s,r),contexts:[t],types:["ID"],hashContexts:h,hashTypes:c,data:r}),(l||0===l)&&r.buffer.push(l),r.buffer.push('							\n					</div>\n\n					<div class="row">\n						<div class="span2">\n							Format As\n						</div>						\n						<div class="span2">\n							'),h={contentBinding:t,optionValuePath:t,optionLabelPath:t,valueBinding:t,required:t,"class":t},c={contentBinding:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING",required:"BOOLEAN","class":"STRING"},r.buffer.push(d(n.view.call(t,"Ember.Select",{hash:{contentBinding:"view.fact_formats",optionValuePath:"content.key",optionLabelPath:"content.name",valueBinding:"view.field_display_format",required:!0,"class":"format_as dimension-format-as input-medium"},contexts:[t],types:["ID"],hashContexts:h,hashTypes:c,data:r}))),r.buffer.push('\n						</div>	\n					</div>\n\n					<div class="row">\n						<div class="span2">\n							Sort Order\n						</div>	\n						<select class="sort_order dimension-format-as input-medium">\n						  <option value=""></option>\n						  <option value="asc">Ascending</option>\n						  <option value="desc">Descending</option>\n						</select>\n					</div>\n					<div class="row">\n						<div class="span2">\n							Prefix\n						</div>	\n						<select class="prefix input-medium">\n						  <option value=""></option>\n						  <option value="USD">USD</option>\n						  <option value="Rs">Rs</option>\n						  <option value="Euro">Euro</option>\n						</select>\n					</div>\n\n					<div class="row">\n						<div class="span2">\n							Suffix\n						</div>	\n						<select class="suffix input-medium">\n						  <option value=""></option>\n						  <option value="%">%</option>\n						</select>\n					</div>					\n\n					'),c={},h={},l=n["if"].call(t,"view.error_msg",{hash:{},inverse:p.noop,fn:p.program(5,o,r),contexts:[t],types:["ID"],hashContexts:h,hashTypes:c,data:r}),(l||0===l)&&r.buffer.push(l),r.buffer.push('\n\n					<div class="row">\n						<div class="span2" style="margin-top:10px;text-align:right;">\n							<button class=\'btn\' '),h={target:t},c={target:"STRING"},r.buffer.push(d(n.action.call(t,"save_changes",{hash:{target:"view"},contexts:[t],types:["STRING"],hashContexts:h,hashTypes:c,data:r}))),r.buffer.push('>Ok</button>\n							<button class="btn" aria-hidden="true" '),h={target:t},c={target:"STRING"},r.buffer.push(d(n.action.call(t,"cancel_changes",{hash:{target:"view"},contexts:[t],types:["STRING"],hashContexts:h,hashTypes:c,data:r}))),r.buffer.push(">Cancel</button>\n						</div>\n					</div>\n				</form>\n	    </div>\n	  </ul>\n  </div>\n"),u
}),Ember.TEMPLATES["dashboard/edit_chart/_chart_sort_field"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var a,s,o="",l=this.escapeExpression;return a={},s={},r.buffer.push(l(n._triageMustache.call(t,"view.field_name",{hash:{},contexts:[t],types:["ID"],hashContexts:s,hashTypes:a,data:r}))),r.buffer.push("\n<a "),s={target:t},a={target:"STRING"},r.buffer.push(l(n.action.call(t,"removeFromList","",{hash:{target:"view"},contexts:[t,t],types:["STRING","ID"],hashContexts:s,hashTypes:a,data:r}))),r.buffer.push(">&times;</a>\n"),o}),Ember.TEMPLATES["dashboard/new"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a,o="";return t.buffer.push("\n				"),r={contentBinding:e,valueBinding:e,optionValuePath:e,optionLabelPath:e},a={contentBinding:"STRING",valueBinding:"ID",optionValuePath:"STRING",optionLabelPath:"STRING"},t.buffer.push(w(n.view.call(e,"Ember.Select",{hash:{contentBinding:"data_sources",valueBinding:"view.dataSourceId",optionValuePath:"content.id",optionLabelPath:"content.name"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push("\n	        \n	        	<ul class='unstyled' style=\"margin-top: 10px; max-height: 255px; overflow-y: auto; width:220px;\" "),r={on:e,target:e},a={on:"STRING",target:"STRING"},t.buffer.push(w(n.action.call(e,"attach_drag_n_drop_events",{hash:{on:"mouseEnter",target:"view"},contexts:[e],types:["STRING"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push(">\n		        	"),a={},r={},i=n.each.call(e,"field","in","view.fieldsArr",{hash:{},inverse:_.noop,fn:_.program(2,s,t),contexts:[e,e,e],types:["ID","ID","ID"],hashContexts:r,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("			        \n			    </ul>\n		    "),o}function s(e,t){var i,r,a,s="";return t.buffer.push("\n		        		"),r={},a={},i=n["if"].call(e,"field",{hash:{},inverse:_.noop,fn:_.program(3,o,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n			        "),s}function o(e,t){var i,r,a="";return t.buffer.push('\n			        		<li class="draggable-field" >\n			        			'),i={},r={},t.buffer.push(w(n._triageMustache.call(e,"field",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n			        		</li>\n			        	"),a}function l(e,t){t.buffer.push("\n		    	Loading..\n		    ")}function c(e,t){var i,r,a,s="";return t.buffer.push("\n				<div class=\"row\">\n					<div class='span6'>\n						<label>\n							Rows\n							"),r={},a={},i=n["if"].call(e,"view.row_error_message",{hash:{},inverse:_.noop,fn:_.program(8,h,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n						</label>\n						"),r={},a={},t.buffer.push(w(n.view.call(e,"view.chartRowsView",{hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push("\n					</div>\n				</div>\n				<div class=\"row\">\n					<div class='span6'>\n						<label>\n							Columns\n							"),r={},a={},i=n["if"].call(e,"view.column_error_message",{hash:{},inverse:_.noop,fn:_.program(10,u,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n						</label>\n						"),r={},a={},t.buffer.push(w(n.view.call(e,"view.chartColumnsView",{hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push("\n					</div>\n				</div>\n			"),s}function h(e,t){var i,r,a="";return t.buffer.push("\n								&nbsp;&nbsp;\n								<span class='text-error'>\n									"),i={},r={},t.buffer.push(w(n._triageMustache.call(e,"view.row_error_message",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n								</span>\n							"),a}function u(e,t){var i,r,a="";return t.buffer.push("\n								&nbsp;&nbsp;\n								<span class='text-error'>\n									"),i={},r={},t.buffer.push(w(n._triageMustache.call(e,"view.column_error_message",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n								</span>\n							"),a}function d(e,t){var i,r,a,s="";return t.buffer.push("\n				<div class=\"row\" >\n					<div class='span6'>\n						<label>\n							Dimensions\n							"),r={},a={},i=n["if"].call(e,"view.dimension_error_message",{hash:{},inverse:_.noop,fn:_.program(13,p,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n						</label>\n						"),r={},a={},t.buffer.push(w(n.view.call(e,"view.chartDimensionsView",{hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push("\n					</div>\n				</div>\n			"),s}function p(e,t){var i,r,a="";return t.buffer.push("\n								&nbsp;&nbsp;\n								<span class='text-error'>\n									"),i={},r={},t.buffer.push(w(n._triageMustache.call(e,"view.dimension_error_message",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n								</span>\n							"),a}function f(e,t){var i,r,a="";return t.buffer.push("\n							&nbsp;&nbsp;\n							<span class='text-error'>\n								"),i={},r={},t.buffer.push(w(n._triageMustache.call(e,"view.measure_error_message",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n							</span>\n						"),a}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var g,m,v,b,y,x="",w=this.escapeExpression,_=this,C=n.helperMissing;return r.buffer.push('<div class="row">\n	<div class="span">\n		<h3 style="font-family:Roboto-Medium; font-size:18px;">\n			Create a New Chart\n		</h3>\n		<hr class=\'compact\' />\n	</div>\n</div>\n<div id=\'new-chart-notice\' style="text-align: center">\n</div>\n<form class="form-horizontal">\n	<div class="row" style="width:91.5%;">\n		<div class=\'span4\' style="margin-right:10px;">\n			<label>\n				Title\n			</label>\n			'),v={type:t,"class":t,valueBinding:t},b={type:"STRING","class":"STRING",valueBinding:"STRING"},y={hash:{type:"text","class":"input-xlarge",valueBinding:"view.title"},contexts:[],types:[],hashContexts:v,hashTypes:b,data:r},r.buffer.push(w((g=n.input,g?g.call(t,y):C.call(t,"input",y)))),r.buffer.push("		\n		</div>\n		<div class='span4'>\n			<label>Sub Title</label>\n			"),v={type:t,"class":t,valueBinding:t},b={type:"STRING","class":"STRING",valueBinding:"STRING"},y={hash:{type:"text","class":"input-xlarge",valueBinding:"view.subtitle"},contexts:[],types:[],hashContexts:v,hashTypes:b,data:r},r.buffer.push(w((g=n.input,g?g.call(t,y):C.call(t,"input",y)))),r.buffer.push('		\n		</div>\n		<div class=\'span pull-right\'>\n			<label>\n				&nbsp;\n			</label>\n			<div class=" ">\n				<button type="submit" class="btn btn-primary">Create</button>\n				<button class="btn" onclick="javascript:history.go(-1); return false;">Cancel</button>\n			</div>\n		</div>\n	</div>\n	<div class="row" style="width:91.5%;">\n		<div class=\'span7\'>\n			<label>Description</label>\n			'),v={rows:t,valueBinding:t,"class":t},b={rows:"INTEGER",valueBinding:"STRING","class":"STRING"},r.buffer.push(w(n.view.call(t,"Cibi.TextArea",{hash:{rows:3,valueBinding:"view.description","class":"queryTextArea"},contexts:[t],types:["ID"],hashContexts:v,hashTypes:b,data:r}))),r.buffer.push('	\n		</div>\n	</div>\n	<br/>\n	<div class="row">\n		'),b={},v={},r.buffer.push(w(n.view.call(t,"view.chartTypeView",{hash:{},contexts:[t],types:["ID"],hashContexts:v,hashTypes:b,data:r}))),r.buffer.push("\n		\n		<div class='span3' style=\"margin-left: 20px;\">\n			<h5 class='text-info'> \n				Select Data Source\n			</h5>\n\n			"),b={},v={},m=n["if"].call(t,"data_sources",{hash:{},inverse:_.program(5,l,r),fn:_.program(1,a,r),contexts:[t],types:["ID"],hashContexts:v,hashTypes:b,data:r}),(m||0===m)&&r.buffer.push(m),r.buffer.push("\n		</div>\n\n		<div class='span'>\n			<h5 class='text-info'> \n				Define Chart Attributes\n			</h5>\n\n			"),b={},v={},m=n["if"].call(t,"view.toShowRowsAndCols",{hash:{},inverse:_.program(12,d,r),fn:_.program(7,c,r),contexts:[t],types:["ID"],hashContexts:v,hashTypes:b,data:r}),(m||0===m)&&r.buffer.push(m),r.buffer.push("			\n			<div class=\"row\">\n				<div class='span6'>\n					<label>\n						Measures\n\n						"),b={},v={},m=n["if"].call(t,"view.measure_error_message",{hash:{},inverse:_.noop,fn:_.program(15,f,r),contexts:[t],types:["ID"],hashContexts:v,hashTypes:b,data:r}),(m||0===m)&&r.buffer.push(m),r.buffer.push("\n					</label>\n\n					"),b={},v={},r.buffer.push(w(n.view.call(t,"view.chartMeasuresView",{hash:{},contexts:[t],types:["ID"],hashContexts:v,hashTypes:b,data:r}))),r.buffer.push('\n\n				</div>\n			</div>\n			<div class="row" style="margin-bottom: 15px">\n				<div class=\'span\'>\n					<label>\n						Count\n					</label>\n					'),v={type:t,valueBinding:t,"class":t,style:t},b={type:"STRING",valueBinding:"STRING","class":"STRING",style:"STRING"},y={hash:{type:"text",valueBinding:"view.count","class":"input-small",style:""},contexts:[],types:[],hashContexts:v,hashTypes:b,data:r},r.buffer.push(w((g=n.input,g?g.call(t,y):C.call(t,"input",y)))),r.buffer.push("\n				</div>\n				<div class='span' style=\"padding-left:5%;\">\n					<label> \n						Isolated \n					</label>					\n					&nbsp &nbsp "),v={id:t,"class":t,checkedBinding:t},b={id:"STRING","class":"STRING",checkedBinding:"STRING"},r.buffer.push(w(n.view.call(t,"Ember.Checkbox",{hash:{id:"isolated","class":"input-small",checkedBinding:"view.isolated"},contexts:[t],types:["ID"],hashContexts:v,hashTypes:b,data:r}))),r.buffer.push(' 				\n				</div>\n				<div class=\'span pull-right\'>\n					<label>\n						&nbsp;\n					</label>\n					<button type="button" class="btn pull-right" value="generate_preview" '),v={target:t},b={target:"STRING"},r.buffer.push(w(n.action.call(t,"getPreviewData","generate_preview",{hash:{target:"view"},contexts:[t,t],types:["STRING","STRING"],hashContexts:v,hashTypes:b,data:r}))),r.buffer.push(' >Generate Preview</button>\n				</div>\n			</div>\n		\n			<div class="row">\n				<div id="display_option" class="btn-group" data-toggle="buttons-radio" valueBinding="view.display_option">\n			      <button type="button" class="btn active" value="chart_data" '),v={target:t},b={target:"STRING"},r.buffer.push(w(n.action.call(t,"getPreviewData","chart_data",{hash:{target:"view"},contexts:[t,t],types:["STRING","STRING"],hashContexts:v,hashTypes:b,data:r}))),r.buffer.push('>\n				  	Chart Data\n				  </button>\n		  	      <button type="button" class="btn" value="visualization" '),v={target:t},b={target:"STRING"},r.buffer.push(w(n.action.call(t,"getPreviewData","visualization",{hash:{target:"view"},contexts:[t,t],types:["STRING","STRING"],hashContexts:v,hashTypes:b,data:r}))),r.buffer.push('>\n				  	Visualization\n				  </button>\n				</div>\n\n				<div class="row" >\n					<div class=\'span6\' style="border:1px solid grey;height:300px;overflow-y:auto;overflow-x:hidden;">\n						<div id="new-preview-notice"></div>\n						<div id="chart-null">\n						<div class=\'alert alert-info\'><b>Define chart attributes and click Generate Preview</b></div>\n						</div>\n					</div>\n				</div>			\n			</div>	\n		</div>\n	</div>\n\n</form>\n'),x}),Ember.TEMPLATES["dashboard/new_chart/_chartType"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{},r.buffer.push('		<div class=\'span2\' style=\'padding-right: 5px;\'>\n			<h5 class=\'text-info\'> \n				Select Chart Type \n			</h5>\n			<div id="btn-group" class="btn-group" data-toggle="buttons-radio" valueBinding="view.chartType">\n				<label> Basic Chart Types  </label>\n\n				<button type="button" class="btn" value="pie" data-toggle="tooltip" title="Pie Chart">\n					<img src="/assets/pie.png" style="width: 25px; height: 25px"/>\n				</button>\n\n				<button type="button" class="btn" value="donut" data-toggle="tooltip" title="Donut Chart">\n					<img src="/assets/chart_types.png" style="width: 25px; height: 25px"/>\n				</button>\n\n				<button type="button" class="btn" value="gauge" data-toggle="tooltip" title="Gauge Chart">\n					<img src="/assets/gaugeicon.png" style="width: 25px; height: 25px"/>\n				</button>\n\n				<br />\n				\n				<button type="button" class="btn" value="single_value" data-toggle="tooltip" title="Single Value">\n					<img src="/assets/one.png" style="width: 25px; height: 25px"/>\n				</button>\n\n				<button type="button" class="btn" value="line" data-toggle="tooltip" title="Line Chart">\n					<img src="/assets/line.png" style="width: 25px; height: 25px"/>\n				</button>\n\n				<button type="button" class="btn" value="multiline" data-toggle="tooltip" title="Multiline Chart">\n					<img src="/assets/multiline.png" style="width: 25px; height: 25px"/>\n				</button>\n\n				<br />\n				\n				<button type="button" class="btn" value="bar" data-toggle="tooltip" title="Bar Chart">\n					<img src="/assets/bar.png" style="width: 25px; height: 25px"/>\n				</button>\n\n				<button type="button" class="btn" value="hbar" data-toggle="tooltip" title="Horizontal Bar Chart">\n					<img src="/assets/horizontal_bar_n.ico" style="width: 25px; height: 25px"/>\n				</button>	\n				\n				<button type="button" class="btn" value="combo" data-toggle="tooltip" title="Combination Chart">\n					<img src="/assets/combination.png" style="width: 25px; height: 25px"/>\n				</button>\n\n				<br />			\n\n				<button type="button" class="btn" value="area" data-toggle="tooltip" title="Area Chart">\n					<img src="/assets/area.png" style="width: 25px; height: 25px"/>\n				</button>	\n\n				<button type="button" class="btn" value="stacked_area" data-toggle="tooltip" title="Stacked Area Chart">\n					<img src="/assets/chart_area.png" style="width: 25px; height: 25px"/>\n				</button>			\n				\n				<button type="button" class="btn" value="ctree" data-toggle="tooltip" title="Collapsible Tree Chart">\n					<img src="/assets/ctree.png" style="width: 25px; height: 25px"/>\n				</button>\n				\n				<br />\n				\n				<button type="button" class="btn" value="heatmap" data-toggle="tooltip" title="Heatmap">\n					<img src="/assets/heatmap.png" style="width: 25px; height: 25px"/>\n				</button>\n\n				<button type="button" class="btn" value="scatter_plot" data-toggle="tooltip" title="Scatter Plot">\n					<img src="/assets/scatterplot.png" style="width: 25px; height: 25px"/>\n				</button>	\n\n				<button type="button" class="btn" value="funnel" data-toggle="tooltip" title="Funnel Chart">\n					<img src="/assets/funnel.png" style="width: 25px; height: 25px"/>\n				</button>				  \n								  \n				<br/>\n				\n				<label> Table Charts  </label>\n\n				<button type="button" class="btn" value="table" data-toggle="tooltip" title="Table Chart">\n					<img src="/assets/table.png" style="width: 25px; height: 25px"/>\n				</button>\n\n				<button type="button" class="btn" value="ctable" data-toggle="tooltip" title="Collapsible Table Chart">\n					<img src="/assets/ctable.png" style="width: 25px; height: 25px"/>\n				</button>\n				\n				<button type="button" class="btn" value="grouped_table" data-toggle="tooltip" title="Grouped Table">\n					<img src="/assets/grouped_table.png" style="width: 25px; height: 25px"/>\n				</button>\n				\n				<br/>\n\n				<label> Geo Charts  </label>\n\n				<button type="button" class="btn" value="geo" data-toggle="tooltip" title="Geo Chart">\n					<img src="/assets/geo.png" style="width: 25px; height: 25px"/>\n				</button>\n				\n				<button type="button" class="btn" value="geo_india" data-toggle="tooltip" title="India Chart">\n					<img src="/assets/india-icon.png" style="width: 25px; height: 25px"/>\n				</button>\n\n				<button type="button" class="btn" value="geo_usa" data-toggle="tooltip" title="USA Chart">\n					<img src="/assets/usa-icon.png" style="width: 25px; height: 25px"/>\n				</button>							  		  \n			</div>			\n		</div>\n')}),Ember.TEMPLATES["dashboard/new_chart/_chart_dimension"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a="";return t.buffer.push('\n					<div class="row">\n						<div class="span2">\n							Format As\n						</div>	\n						<div class="span2">\n							'),i={contentBinding:e,optionValuePath:e,optionLabelPath:e,valueBinding:e,required:e,"class":e},r={contentBinding:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING",required:"BOOLEAN","class":"STRING"},t.buffer.push(u(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.supportedFormats",optionValuePath:"content.key",optionLabelPath:"content.key",valueBinding:"view.field_display_format",required:!0,"class":"format_as dimension-format-as input-medium"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push('\n							<!-- <select class="format_as dimension-format-as input-medium">\n							  <option value=""></option>\n							  <option value="Month">Month</option>\n							  <option value="Quarter">Quarter</option>\n							  <option value="Year">Year</option>\n							</select> -->\n						</div>			\n					</div>\n					'),a}function s(e,t){var i,r,a="";return t.buffer.push('\n						<div class="alert" style="margin-bottom: 0px; margin-top: 10px;">\n							<span>'),i={},r={},t.buffer.push(u(n._triageMustache.call(e,"view.error_msg",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("</span>\n						</div>\n					"),a}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var o,l,c,h="",u=this.escapeExpression,d=this;return r.buffer.push('\n  <div class="dropdown">\n    <a class="dropdown-toggle" data-toggle="dropdown" href="#" style="text-decoration:none;color:#000000;">\n        '),l={},c={},r.buffer.push(u(n._triageMustache.call(t,"view.field_display",{hash:{},contexts:[t],types:["ID"],hashContexts:c,hashTypes:l,data:r}))),r.buffer.push(" \n    </a>  &nbsp;<a "),c={target:t},l={target:"STRING"},r.buffer.push(u(n.action.call(t,"removeFromList","",{hash:{target:"view"},contexts:[t,t],types:["STRING","ID"],hashContexts:c,hashTypes:l,data:r}))),r.buffer.push('>&times;</a>\n\n\n	  <ul class="dropdown-menu" style="top:110%;">\n	    <div class="span4" style="height:auto;overflow-x:auto;">\n				<form class=\'form form-inline\' style="margin-bottom:0px;padding:10px 10px;">\n					<div class="row" style="margin-bottom:8px;">\n						<div class="span2">\n							Field Display\n						</div>	\n						<div class="span2">\n							'),c={"class":t,type:t},l={"class":"STRING",type:"STRING"},r.buffer.push(u(n.view.call(t,"Ember.TextField",{hash:{"class":"input-medium field_display",type:"text"},contexts:[t],types:["ID"],hashContexts:c,hashTypes:l,data:r}))),r.buffer.push('\n						</div>\n					</div>\n					<div class="row" style="margin-bottom:8px;">\n						<div class="span2">\n							Field Name\n						</div>	\n						<div class="span2">\n							'),c={"class":t,type:t},l={"class":"STRING",type:"STRING"},r.buffer.push(u(n.view.call(t,"Cibi.DisabledTextField",{hash:{"class":"input-medium fieldName",type:"text"},contexts:[t],types:["ID"],hashContexts:c,hashTypes:l,data:r}))),r.buffer.push("\n						</div>\n					</div>\n					"),l={},c={},o=n["if"].call(t,"view.date_type",{hash:{},inverse:d.noop,fn:d.program(1,a,r),contexts:[t],types:["ID"],hashContexts:c,hashTypes:l,data:r}),(o||0===o)&&r.buffer.push(o),r.buffer.push('	\n\n					<div class="row">\n						<div class="span2">\n							Sort Order\n						</div>	\n						<select class="sort_order dimension-format-as input-medium">\n						  <option value=""></option>\n						  <option value="asc">Ascending</option>\n						  <option value="desc">Descending</option>\n						</select>\n					</div>\n					\n					'),l={},c={},o=n["if"].call(t,"view.error_msg",{hash:{},inverse:d.noop,fn:d.program(3,s,r),contexts:[t],types:["ID"],hashContexts:c,hashTypes:l,data:r}),(o||0===o)&&r.buffer.push(o),r.buffer.push('\n\n					<div class="row">\n						<div class="span2" style="margin-top:10px;text-align:right;">\n							<button class=\'btn\' '),c={target:t},l={target:"STRING"},r.buffer.push(u(n.action.call(t,"save_changes",{hash:{target:"view"},contexts:[t],types:["STRING"],hashContexts:c,hashTypes:l,data:r}))),r.buffer.push('>Ok</button>\n							<button class="btn" aria-hidden="true" '),c={target:t},l={target:"STRING"},r.buffer.push(u(n.action.call(t,"cancel_changes",{hash:{target:"view"},contexts:[t],types:["STRING"],hashContexts:c,hashTypes:l,data:r}))),r.buffer.push(">Cancel</button>\n						</div>\n					</div>\n				</form>\n	    </div>\n	  </ul>\n  </div>\n"),h}),Ember.TEMPLATES["dashboard/new_chart/_chart_measure"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a="";return t.buffer.push('\n							<div class="span2">\n								Field Name\n							</div>	\n							<div class="span2">\n								'),i={"class":e,type:e},r={"class":"STRING",type:"STRING"},t.buffer.push(d(n.view.call(e,"Cibi.DisabledTextField",{hash:{"class":"input-medium fieldName",type:"text"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n							</div>\n						"),a}function s(e,t){var i,r,a="";return t.buffer.push('\n							<div class="span2">\n								Enter Formula\n							</div>\n							<div class="span2">\n							'),i={"class":e,placeholder:e,required:e,type:e},r={"class":"STRING",placeholder:"STRING",required:"BOOLEAN",type:"STRING"},t.buffer.push(d(n.view.call(e,"Ember.TextField",{hash:{"class":"field_name fact input-medium",placeholder:"Enter Formula. Put field in []",required:!0,type:"text"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n							</div>\n						"),a}function o(e,t){var i,r,a="";return t.buffer.push('\n						<div class="alert" style="margin-bottom: 0px; margin-top: 10px;">\n							<span>'),i={},r={},t.buffer.push(d(n._triageMustache.call(e,"view.error_msg",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("</span>\n						</div>\n					"),a}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var l,c,h,u="",d=this.escapeExpression,p=this;return r.buffer.push('\n  <div class="dropdown">\n    <a class="dropdown-toggle" data-toggle="dropdown" href="#" style="text-decoration:none;color:#000000;">\n        '),c={},h={},r.buffer.push(d(n._triageMustache.call(t,"view.field_display",{hash:{},contexts:[t],types:["ID"],hashContexts:h,hashTypes:c,data:r}))),r.buffer.push(" \n    </a>  &nbsp;<a "),h={target:t},c={target:"STRING"},r.buffer.push(d(n.action.call(t,"removeFromList","",{hash:{target:"view"},contexts:[t,t],types:["STRING","ID"],hashContexts:h,hashTypes:c,data:r}))),r.buffer.push('>&times;</a>\n\n\n	  <ul class="dropdown-menu" style="top:110%;max-height:300px;">\n	    <div class="span4" style="height:auto;overflow-x:auto;">\n				<form class=\'form form-inline\' style="margin-bottom:0px;padding:10px 10px;">\n					<div class="row" style="margin-bottom:8px;">\n						<div class="span2">\n							Field Display\n						</div>\n						<div class="span2">\n							'),h={"class":t,type:t},c={"class":"STRING",type:"STRING"},r.buffer.push(d(n.view.call(t,"Ember.TextField",{hash:{"class":"field_display input-medium",type:"text"},contexts:[t],types:["ID"],hashContexts:h,hashTypes:c,data:r}))),r.buffer.push('\n						</div>\n					</div>\n					<div class="row" style="margin-bottom:8px;">\n						'),c={},h={},l=n["if"].call(t,"view.toDisplayFieldName",{hash:{},inverse:p.noop,fn:p.program(1,a,r),contexts:[t],types:["ID"],hashContexts:h,hashTypes:c,data:r}),(l||0===l)&&r.buffer.push(l),r.buffer.push('\n					</div>\n					<div class=\'row\' style="margin-bottom:8px;">\n						<div class="span2">\n							<label> Calculated Field </label>\n						</div> \n						<div class="span2">\n							'),h={checkedBinding:t,"class":t},c={checkedBinding:"STRING","class":"STRING"},r.buffer.push(d(n.view.call(t,"Ember.Checkbox",{hash:{checkedBinding:"view.isCalculated","class":"is_calculated"},contexts:[t],types:["ID"],hashContexts:h,hashTypes:c,data:r}))),r.buffer.push('\n						</div>\n					</div>\n	\n					<div class="row">	\n						'),c={},h={},l=n["if"].call(t,"view.isCalculated",{hash:{},inverse:p.noop,fn:p.program(3,s,r),contexts:[t],types:["ID"],hashContexts:h,hashTypes:c,data:r}),(l||0===l)&&r.buffer.push(l),r.buffer.push('							\n					</div>\n\n					<div class="row">\n						<div class="span2">\n							Format As\n						</div>						\n						<div class="span2">\n							'),h={contentBinding:t,optionValuePath:t,optionLabelPath:t,valueBinding:t,required:t,"class":t},c={contentBinding:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING",required:"BOOLEAN","class":"STRING"},r.buffer.push(d(n.view.call(t,"Ember.Select",{hash:{contentBinding:"view.fact_formats",optionValuePath:"content.key",optionLabelPath:"content.name",valueBinding:"view.field_display_format",required:!0,"class":"format_as dimension-format-as input-medium"},contexts:[t],types:["ID"],hashContexts:h,hashTypes:c,data:r}))),r.buffer.push('\n						</div>	\n					</div>\n\n					<div class="row">\n						<div class="span2">\n							Sort Order\n						</div>	\n						<select class="sort_order dimension-format-as input-medium">\n						  <option value=""></option>\n						  <option value="asc">Ascending</option>\n						  <option value="desc">Descending</option>\n						</select>\n					</div>\n\n					<div class="row">\n						<div class="span2">\n							Prefix\n						</div>	\n						<select class="prefix input-medium">\n						  <option value=""></option>\n						  <option value="USD">USD</option>\n						  <option value="Rs">Rs</option>\n						  <option value="Euro">Euro</option>\n						</select>\n					</div>\n\n					<div class="row">\n						<div class="span2">\n							Suffix\n						</div>	\n						<select class="suffix input-medium">\n						  <option value=""></option>\n						  <option value="%">%</option>\n						</select>\n					</div>					\n					'),c={},h={},l=n["if"].call(t,"view.error_msg",{hash:{},inverse:p.noop,fn:p.program(5,o,r),contexts:[t],types:["ID"],hashContexts:h,hashTypes:c,data:r}),(l||0===l)&&r.buffer.push(l),r.buffer.push('\n\n					<div class="row">\n						<div class="span2" style="margin-top:10px;text-align:right;">\n							<button class=\'btn\' '),h={target:t},c={target:"STRING"},r.buffer.push(d(n.action.call(t,"save_changes",{hash:{target:"view"},contexts:[t],types:["STRING"],hashContexts:h,hashTypes:c,data:r}))),r.buffer.push('>Ok</button>\n							<button class="btn" aria-hidden="true" '),h={target:t},c={target:"STRING"},r.buffer.push(d(n.action.call(t,"cancel_changes",{hash:{target:"view"},contexts:[t],types:["STRING"],hashContexts:h,hashTypes:c,data:r}))),r.buffer.push(">Cancel</button>\n						</div>\n					</div>\n				</form>\n	    </div>\n	  </ul>\n  </div>\n"),u}),Ember.TEMPLATES["dashboard/new_chart/_chart_sort_field"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var a,s,o="",l=this.escapeExpression;return a={},s={},r.buffer.push(l(n._triageMustache.call(t,"view.field_name",{hash:{},contexts:[t],types:["ID"],hashContexts:s,hashTypes:a,data:r}))),r.buffer.push("\n<a "),s={target:t},a={target:"STRING"},r.buffer.push(l(n.action.call(t,"removeFromList","",{hash:{target:"view"},contexts:[t,t],types:["STRING","ID"],hashContexts:s,hashTypes:a,data:r}))),r.buffer.push(">&times;</a>\n"),o}),Ember.TEMPLATES["dashboard/schedule_reports"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var a,s,o="",l=this.escapeExpression;return r.buffer.push('	<button class="btn btn-info flat-button" type="button" style="background-color:#4093cd; padding-left: 8px; padding-right: 8px; padding-top: 3px; padding-bottom: 3px;" '),a={target:t,on:t},s={target:"ID",on:"STRING"},r.buffer.push(l(n.action.call(t,"openPopover",{hash:{target:"view",on:"click"},contexts:[t],types:["STRING"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push('>\n		<a rel="popover" class="schedule_reports_popover" data-toggle="tooltip" data-placement="right" title="Schedule Report"  '),a={id:t},s={id:"STRING"},r.buffer.push(l(n.bindAttr.call(t,{hash:{id:"view.scheduleReportsPopoverId"},contexts:[],types:[],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push(' >\n			<img src=\'/assets/alarm-clock.png\' style="height: 13px; padding-bottom: 5px;">\n			</img>\n			<span class="caret">\n			</span>\n		</a>\n	</button>\n\n	<div class="popover fade bottom in hidden" style="display: block; width: 250px;">\n		<div class="arrow hidden"></div>\n		<h3 class="popover-title hidden">Schedule Report</h3>\n		<div class="popover-content hidden">\n			<div class=\'row\' style="min-height: 50px;">\n				<div class=\'span\' style=\'margin-left: 10px;\'>\n					<form class=\'form\' style="margin-bottom:0px;">\n						<div class="row">							\n								'),a={checkedBinding:t,name:t,value:t,"class":t},s={checkedBinding:"STRING",name:"STRING",value:"BOOLEAN","class":"STRING"},r.buffer.push(l(n.view.call(t,"Ember.Checkbox",{hash:{checkedBinding:"view.is_scheduled",name:"is_global",value:!1,"class":"align-checkbox"},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push(" Schedule Report\n								<br>							\n						</div>\n\n						<div class=\"row\">\n							<div class='span1'>\n								Every \n							</div>\n							<div class='span'>\n								"),a={"class":t,valueBinding:t,required:t,id:t,placeholder:t},s={"class":"STRING",valueBinding:"STRING",required:"STRING",id:"STRING",placeholder:"STRING"},r.buffer.push(l(n.view.call(t,"Ember.TextField",{hash:{"class":"input-mini",valueBinding:"view.days",required:"true",id:"days",placeholder:""},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push(" day(s)\n							</div>\n						</div>\n\n						<div class=\"row\">\n							<div class='span1'>\n								at \n							</div>\n							<div class='span'>\n							"),a={contentBinding:t,valueBinding:t,checkedBinding:t,id:t,"class":t},s={contentBinding:"STRING",valueBinding:"STRING",checkedBinding:"STRING",id:"STRING","class":"STRING"},r.buffer.push(l(n.view.call(t,"Ember.Select",{hash:{contentBinding:"view.time_arr",valueBinding:"view.time",checkedBinding:"view.time",id:"time","class":"input-mini"},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push('	hrs\n					    	</div>\n				        </div>	\n	\n						\n						<div class="row">\n							<input type="submit" value=\'Save\' class=\'btn\'/ >\n							<button class="btn" aria-hidden="true" '),a={target:t},s={target:"STRING"},r.buffer.push(l(n.action.call(t,"cancel",{hash:{target:"view"},contexts:[t],types:["STRING"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push(">Cancel</button>\n						</div>\n					</form>\n				</div>\n			</div>\n			\n		</div>\n\n	</div>\n\n"),o}),Ember.TEMPLATES["dashboard/show"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a="";return t.buffer.push("\n				<a "),i={},r={},t.buffer.push(p(n.action.call(e,"reset","",{hash:{},contexts:[e,e],types:["STRING","ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("> Reset All </a> &nbsp; | &nbsp;\n			"),a}function s(e,t){var i,r,a,s,l,c="";return t.buffer.push("\n				<a "),a={},s={},t.buffer.push(p(n.action.call(e,"showNewChartForm",{hash:{},contexts:[e],types:["ID"],hashContexts:s,hashTypes:a,data:t}))),t.buffer.push(" >Add Chart <i class='icon-plus-sign muted icon-white'></i></a>\n				 &nbsp; | &nbsp;\n				"),a={},s={},l={hash:{},inverse:f.noop,fn:f.program(4,o,t),contexts:[e],types:["STRING"],hashContexts:s,hashTypes:a,data:t},i=n.linkTo,r=i?i.call(e,"dashboard.users",l):g.call(e,"linkTo","dashboard.users",l),(r||0===r)&&t.buffer.push(r),t.buffer.push("		\n			"),c}function o(e,t){t.buffer.push("\n					Authorized Users <i class='icon-user muted icon-white'></i>\n				")}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var l,c,h,u,d="",p=this.escapeExpression,f=this,g=n.helperMissing;return r.buffer.push("<div "),c={id:t,"class":t},h={id:"STRING","class":"STRING"},r.buffer.push(p(n.bindAttr.call(t,{hash:{id:"tabId","class":":tab-pane"},contexts:[],types:[],hashContexts:c,hashTypes:h,data:r}))),r.buffer.push(">\n	<div class='row main-tab-title' >\n		<div class='span'>\n			<h3> "),h={},c={},r.buffer.push(p(n._triageMustache.call(t,"title",{hash:{},contexts:[t],types:["ID"],hashContexts:c,hashTypes:h,data:r}))),r.buffer.push(" 	  </h3>\n			<h4> "),h={},c={},r.buffer.push(p(n._triageMustache.call(t,"subtitle",{hash:{},contexts:[t],types:["ID"],hashContexts:c,hashTypes:h,data:r}))),r.buffer.push(" </h4>\n		</div>\n		<div class='span pull-right right-contained'>\n			<br>\n			"),h={},c={},l=n["if"].call(t,"isFiltered",{hash:{},inverse:f.noop,fn:f.program(1,a,r),contexts:[t],types:["ID"],hashContexts:c,hashTypes:h,data:r}),(l||0===l)&&r.buffer.push(l),r.buffer.push("\n\n			"),h={},c={},l=n["if"].call(t,"can_edit",{hash:{},inverse:f.noop,fn:f.program(3,s,r),contexts:[t],types:["ID"],hashContexts:c,hashTypes:h,data:r}),(l||0===l)&&r.buffer.push(l),r.buffer.push("\n		</div>\n	</div>\n	<hr class='compact'>\n\n	"),h={},c={},u={hash:{},contexts:[t,t],types:["STRING","ID"],hashContexts:c,hashTypes:h,data:r},r.buffer.push(p((l=n.render,l?l.call(t,"charts","charts",u):g.call(t,"render","charts","charts",u)))),r.buffer.push("\n</div>\n\n"),d
}),Ember.TEMPLATES["dashboard/users"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a="";return t.buffer.push("\n			<button class='btn' "),i={target:e},r={target:"ID"},t.buffer.push(g(n.action.call(e,"addNew",{hash:{target:"view"},contexts:[e],types:["STRING"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push(" >\n				User\n				<i class='icon-plus-sign muted'></i>				\n			</button>\n		"),a}function s(e,t){var i,r,a,s="";return t.buffer.push('\n		<div class=\'span3 pull-right ui-box\' style="margin-right: 40px">\n			<h4>Add new user</h4>\n			<hr class="compact">\n\n			'),r={},a={},i=n["if"].call(e,"users",{hash:{},inverse:m.program(6,l,t),fn:m.program(4,o,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n		</div>\n	"),s}function o(e,t){var i,r,a="";return t.buffer.push("\n				<form class='form-vertical'>\n					<label>User</label>\n					"),i={contentBinding:e,optionValuePath:e,optionLabelPath:e,valueBinding:e,"class":e,required:e},r={contentBinding:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"ID","class":"STRING",required:"BOOLEAN"},t.buffer.push(g(n.view.call(e,"Ember.Select",{hash:{contentBinding:"users",optionValuePath:"content.id",optionLabelPath:"content.fullName",valueBinding:"view.user","class":"input-large",required:!0},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n					<label>Role</label>\n					"),i={contentBinding:e,valueBinding:e,"class":e,required:e},r={contentBinding:"STRING",valueBinding:"ID","class":"STRING",required:"BOOLEAN"},t.buffer.push(g(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.roles",valueBinding:"view.role","class":"input-large",required:!0},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n					<hr>\n					<button class='btn' "),i={target:e},r={target:"ID"},t.buffer.push(g(n.action.call(e,"save",{hash:{target:"view"},contexts:[e],types:["STRING"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push(">\n						Save\n					</button>\n\n					<button class='btn' "),i={target:e},r={target:"ID"},t.buffer.push(g(n.action.call(e,"cancel",{hash:{target:"view"},contexts:[e],types:["STRING"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push(">\n						Cancel\n					</button>\n				</form>\n			"),a}function l(e,t){t.buffer.push("\n				<h4 class='alert alert-info'>\n					All users are already authorized for this workspace!\n				</h4>\n			")}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var c,h,u,d,p,f="",g=this.escapeExpression,m=this,v=n.helperMissing;return r.buffer.push("<br>\n<div class='row main-tab-title'>\n	<div class='span'>\n		<h4 class='text-info'>Authorized Users</h4>\n	</div>\n	<div class='span pull-right right-contained'>\n		"),u={},d={},c=n["if"].call(t,"can_destroy",{hash:{},inverse:m.noop,fn:m.program(1,a,r),contexts:[t],types:["ID"],hashContexts:d,hashTypes:u,data:r}),(c||0===c)&&r.buffer.push(c),r.buffer.push('\n	</div>\n</div>\n\n<div class="row">\n	<div class="span">\n		'),u={},d={},p={hash:{},contexts:[t],types:["STRING"],hashContexts:d,hashTypes:u,data:r},r.buffer.push(g((c=n.render,c?c.call(t,"permissions",p):v.call(t,"render","permissions",p)))),r.buffer.push("\n	</div>\n\n	"),u={},d={},h=n["if"].call(t,"view.showCreateForm",{hash:{},inverse:m.noop,fn:m.program(3,s,r),contexts:[t],types:["ID"],hashContexts:d,hashTypes:u,data:r}),(h||0===h)&&r.buffer.push(h),r.buffer.push("\n</div>\n"),f}),Ember.TEMPLATES.dashboards=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a,o,l,c="";return t.buffer.push("\n		<li>\n			"),a={"class":e},o={"class":"STRING"},l={hash:{"class":"tab-link"},inverse:d.noop,fn:d.program(2,s,t),contexts:[e,e],types:["STRING","ID"],hashContexts:a,hashTypes:o,data:t},i=n.linkTo,r=i?i.call(e,"dashboard.charts","dashboard",l):p.call(e,"linkTo","dashboard.charts","dashboard",l),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n		</li>	\n	"),c}function s(e,t){var i,r,a="";return t.buffer.push("\n				"),i={},r={},t.buffer.push(u(n._triageMustache.call(e,"dashboard.displayName",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n			"),a}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var o,l,c,h="",u=this.escapeExpression,d=this,p=n.helperMissing;return r.buffer.push('<ul class="dash-board-menu" id="dashboard_list">\n	'),l={},c={},o=n.each.call(t,"dashboard","in","controller",{hash:{},inverse:d.noop,fn:d.program(1,a,r),contexts:[t,t,t],types:["ID","ID","ID"],hashContexts:c,hashTypes:l,data:r}),(o||0===o)&&r.buffer.push(o),r.buffer.push("\n</ul>\n"),h}),Ember.TEMPLATES["dashboards/index"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{},r.buffer.push("<h1>Dashboards</h1>\n")}),Ember.TEMPLATES.data_connections=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a="";return t.buffer.push('\n			<div class="alert alert-error">\n				<p>'),i={},r={},t.buffer.push(g(n._triageMustache.call(e,"errors",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("</p>\n			</div>\n		"),a}function s(e,t){var i,r,a,s="";return t.buffer.push("\n			<table class='table table-bordered'>\n				<tr>\n					<th>Name</th>\n					<th>Host</th>\n					<th>Database</th>\n					<th>UserName</th>\n					<th>Port</th>\n					<th>Type</th>\n					<th><icon class='icon-signal icon-white'></i></th>\n					<th>&nbsp;</th>\n				</tr>	\n				"),r={},a={},i=n.each.call(e,"data_connection","in","controller",{hash:{},inverse:m.noop,fn:m.program(4,o,t),contexts:[e,e,e],types:["ID","ID","ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n			</table>\n\n		"),s}function o(e,t){var i,r,a,s="";return t.buffer.push("\n				<tr>\n					<td>"),r={},a={},t.buffer.push(g(n._triageMustache.call(e,"data_connection.displayName",{hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push("</td>\n					<td>"),r={},a={},t.buffer.push(g(n._triageMustache.call(e,"data_connection.host",{hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push("</td>\n					<td>"),r={},a={},t.buffer.push(g(n._triageMustache.call(e,"data_connection.dbname",{hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push("</td>\n					<td>"),r={},a={},t.buffer.push(g(n._triageMustache.call(e,"data_connection.username",{hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push("</td>\n					<td>"),r={},a={},t.buffer.push(g(n._triageMustache.call(e,"data_connection.port",{hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push("</td>\n					<td>"),r={},a={},t.buffer.push(g(n._triageMustache.call(e,"data_connection.connectionType",{hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push('</td>\n					<td style="display: inline-flex;"><a '),r={},a={},t.buffer.push(g(n.action.call(e,"testConnection","data_connection",{hash:{},contexts:[e,e],types:["STRING","ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push('>Test Connection</a>\n					<div style="visibility: hidden;" '),a={"class":e},r={"class":"STRING"},t.buffer.push(g(n.bindAttr.call(e,{hash:{"class":"data_connection.connectionInfoClass"},contexts:[],types:[],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push(">\n						"),r={},a={},i=n["if"].call(e,"data_connection.connectionStatus",{hash:{},inverse:m.program(7,c,t),fn:m.program(5,l,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n					</div>\n					</td>\n					<td>\n						<button class='btn btn-mini' "),r={},a={},t.buffer.push(g(n.action.call(e,"deleteConnection","data_connection",{hash:{},contexts:[e,e],types:["STRING","ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push('>\n							<i class="icon-trash muted"></i>\n						</button>\n					</td>\n				</tr>\n				'),s}function l(e,t){t.buffer.push("\n							<span class='badge badge-success'>\n								<i class='icon-ok-circle icon-white'></i>\n							</span>\n						")}function c(e,t){t.buffer.push("							\n							<span class='badge badge-important'><i class='icon-ban-circle icon-white'></i></span>\n						")}function h(e,t){t.buffer.push(" \n			<h4 class='alert alert-info'>\n				No Data Connections Defined\n			</h4>\n		")}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var u,d,p,f="",g=this.escapeExpression,m=this;return r.buffer.push("<div class='row'>\n	<div class='span7 divided' >\n		<h3> Data Connections </h3>\n		<hr>\n		"),d={},p={},u=n["if"].call(t,"errors",{hash:{},inverse:m.noop,fn:m.program(1,a,r),contexts:[t],types:["ID"],hashContexts:p,hashTypes:d,data:r}),(u||0===u)&&r.buffer.push(u),r.buffer.push("\n		"),d={},p={},u=n["if"].call(t,"controller.length",{hash:{},inverse:m.program(9,h,r),fn:m.program(3,s,r),contexts:[t],types:["ID"],hashContexts:p,hashTypes:d,data:r}),(u||0===u)&&r.buffer.push(u),r.buffer.push("\n	</div>\n	<div class='span4'>\n		<h3> New Connection </h3>\n		<hr>\n		"),d={},p={},r.buffer.push(g(n.view.call(t,"Cibi.DataConnectionNewView",{hash:{},contexts:[t],types:["ID"],hashContexts:p,hashTypes:d,data:r}))),r.buffer.push("\n	</div>\n</div>\n"),f}),Ember.TEMPLATES["data_connections/new"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a="";return t.buffer.push('\n		<div class="input-prepend">\n		  <span class="add-on">Service Name</span>\n		  '),i={"class":e,valueBinding:e,required:e,placeholder:e},r={"class":"STRING",valueBinding:"STRING",required:"BOOLEAN",placeholder:"STRING"},t.buffer.push(u(n.view.call(e,"Ember.TextField",{hash:{"class":"input-large",valueBinding:"view.serviceName",required:!0,placeholder:"Service Name"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n		</div>\n		<p class='muted'>Service name as specified in tnsnames.ora file</p>\n	"),a}function s(e,t){var i,r,a="";return t.buffer.push('\n		<div class="input-prepend">\n		  <span class="add-on">Data Server Name</span>\n		  '),i={"class":e,valueBinding:e,required:e,placeholder:e},r={"class":"STRING",valueBinding:"STRING",required:"BOOLEAN",placeholder:"STRING"},t.buffer.push(u(n.view.call(e,"Ember.TextField",{hash:{"class":"input-large",valueBinding:"view.dataServerName",required:!0,placeholder:"Data Server Name"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n		</div>\n		<p class='muted'>Data Server name as specified in freetds.conf file</p>\n	"),a}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var o,l,c,h="",u=this.escapeExpression,d=this;return r.buffer.push("<form class='form form-inline fixed' id='new-data-connection-form'>\n	<div class=\"input-prepend\">	\n		<span class=\"add-on\">Data Source Type</span>\n			"),l={contentBinding:t,valueBinding:t},c={contentBinding:"STRING",valueBinding:"STRING"},r.buffer.push(u(n.view.call(t,"Ember.Select",{hash:{contentBinding:"view.connectionTypes",valueBinding:"view.connectionType"},contexts:[t],types:["ID"],hashContexts:l,hashTypes:c,data:r}))),r.buffer.push('\n	</div>\n	<br><br>\n\n	<div class="input-prepend">\n	  <span class="add-on">Display Name</span>\n	  '),l={"class":t,valueBinding:t,required:t,placeholder:t},c={"class":"STRING",valueBinding:"STRING",required:"BOOLEAN",placeholder:"STRING"},r.buffer.push(u(n.view.call(t,"Ember.TextField",{hash:{"class":"input-large",valueBinding:"view.displayName",required:!0,placeholder:"Display Name"},contexts:[t],types:["ID"],hashContexts:l,hashTypes:c,data:r}))),r.buffer.push('\n	</div>\n	<p class=\'muted\'>Unique name to represent this connection</p>\n	\n	<div class="input-prepend">\n	  <span class="add-on">Host</span>\n	  '),l={"class":t,valueBinding:t,required:t,placeholder:t},c={"class":"STRING",valueBinding:"STRING",required:"BOOLEAN",placeholder:"STRING"},r.buffer.push(u(n.view.call(t,"Ember.TextField",{hash:{"class":"input-large",valueBinding:"view.host",required:!0,placeholder:"Host eg. localhost"},contexts:[t],types:["ID"],hashContexts:l,hashTypes:c,data:r}))),r.buffer.push('\n	</div>\n	<p class=\'muted\'>Domain Name or IP Address of the DB Host</p>\n\n	<div class="input-prepend">\n	  <span class="add-on">DB Name</span>\n	  '),l={"class":t,valueBinding:t,required:t,placeholder:t},c={"class":"STRING",valueBinding:"STRING",required:"BOOLEAN",placeholder:"STRING"},r.buffer.push(u(n.view.call(t,"Ember.TextField",{hash:{"class":"input-large",valueBinding:"view.dbname",required:!0,placeholder:"DB Name"},contexts:[t],types:["ID"],hashContexts:l,hashTypes:c,data:r}))),r.buffer.push('\n	</div>\n	<p class=\'muted\'>Data base name</p>\n\n	<div class="input-prepend">\n	  <span class="add-on">User Name</span>\n	  '),l={"class":t,valueBinding:t,required:t,placeholder:t},c={"class":"STRING",valueBinding:"STRING",required:"BOOLEAN",placeholder:"STRING"},r.buffer.push(u(n.view.call(t,"Ember.TextField",{hash:{"class":"input-large",valueBinding:"view.username",required:!0,placeholder:"User Name"},contexts:[t],types:["ID"],hashContexts:l,hashTypes:c,data:r}))),r.buffer.push('\n	</div>\n	<p class=\'muted\'>User Name (Preferable read only user)</p>\n\n	<div class="input-prepend">\n	  <span class="add-on">Password</span>\n	  '),l={type:t,"class":t,valueBinding:t,required:t,placeholder:t},c={type:"STRING","class":"STRING",valueBinding:"STRING",required:"BOOLEAN",placeholder:"STRING"},r.buffer.push(u(n.view.call(t,"Ember.TextField",{hash:{type:"password","class":"input-large",valueBinding:"view.password",required:!0,placeholder:"Password"},contexts:[t],types:["ID"],hashContexts:l,hashTypes:c,data:r}))),r.buffer.push("\n	</div>\n	<p class='muted'>Password for the above username</p>\n\n	"),c={},l={},o=n["if"].call(t,"view.isOracle",{hash:{},inverse:d.noop,fn:d.program(1,a,r),contexts:[t],types:["ID"],hashContexts:l,hashTypes:c,data:r}),(o||0===o)&&r.buffer.push(o),r.buffer.push("\n\n	"),c={},l={},o=n["if"].call(t,"view.isMssql",{hash:{},inverse:d.noop,fn:d.program(3,s,r),contexts:[t],types:["ID"],hashContexts:l,hashTypes:c,data:r}),(o||0===o)&&r.buffer.push(o),r.buffer.push('\n\n	<div class="input-prepend">\n	  <span class="add-on">Port</span>\n	  '),l={"class":t,valueBinding:t,required:t,placeholder:t},c={"class":"STRING",valueBinding:"STRING",required:"BOOLEAN",placeholder:"STRING"},r.buffer.push(u(n.view.call(t,"Ember.TextField",{hash:{"class":"input-large",valueBinding:"view.port",required:!0,placeholder:"Port eg. 3306"},contexts:[t],types:["ID"],hashContexts:l,hashTypes:c,data:r}))),r.buffer.push('\n	</div>\n	<p class=\'muted\'>Port on which the service is running</p>\n\n	<div class="input-prepend">\n	  <span class="add-on">Socket</span>\n	  '),l={"class":t,valueBinding:t,required:t,placeholder:t},c={"class":"STRING",valueBinding:"STRING",required:"BOOLEAN",placeholder:"STRING"},r.buffer.push(u(n.view.call(t,"Ember.TextField",{hash:{"class":"input-large",valueBinding:"view.socket",required:!0,placeholder:"Socket"},contexts:[t],types:["ID"],hashContexts:l,hashTypes:c,data:r}))),r.buffer.push('\n	</div>\n	<p class=\'muted\'>Socket on which the service is running</p>\n\n	<div class="input-prepend">\n	  <span class="add-on">Query Duration (ms)</span>\n	  '),l={"class":t,valueBinding:t,required:t,placeholder:t},c={"class":"STRING",valueBinding:"STRING",required:"BOOLEAN",placeholder:"STRING"},r.buffer.push(u(n.view.call(t,"Ember.TextField",{hash:{"class":"input-large",valueBinding:"view.queryDuration",required:!0,placeholder:"Query Duration in ms eg. 5000"},contexts:[t],types:["ID"],hashContexts:l,hashTypes:c,data:r}))),r.buffer.push("\n	</div>\n	<p class='muted'>Define Query Timeout. Default is 3s</p>\n\n\n	<input type='submit' class='btn btn-primary' value='Create' />\n</form>\n"),h}),Ember.TEMPLATES["data_contents/show"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{},r.buffer.push("show.handlebars\n")}),Ember.TEMPLATES.data_source=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a="";return t.buffer.push("\n		<div id='data-source-new-content' class='pull-right'>\n			"),i={},r={},t.buffer.push(tt(n.view.call(e,"view.newDataContentView",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n		</div>\n"),a}function s(e,t){var n="";return t.buffer.push("\n	<div id='data-source-details'>\n		"),t.buffer.push("\n	</div>\n"),n}function o(e,t){t.buffer.push('\n				<li>\n					<a href="#query" data-toggle="tab">Query</a>\n				</li>\n			')}function l(e,t){t.buffer.push('\n				<li>\n					<a href="#store_details" data-toggle="tab">Store Details</a>\n				</li>				\n			')}function c(e,t){t.buffer.push("\n				<h4 class='text-info'> Saving... </h4>\n			")}function h(e,t){t.buffer.push("\n				<h4 class='text-error'> Unable to Save!</h4>\n			")}function u(e,t){t.buffer.push("\n				<h4 class='text-info'> Uploading File <img src='/assets/file-loader.gif' /></h4>\n			")}function d(e,t){t.buffer.push("\n				<h4 class='text-success'> File Uploaded Successfully!</h4>\n			")}function p(e,t){var i,r,a="";return t.buffer.push("\n				<h4 class='text-error'> File Upload Failed! "),i={},r={},t.buffer.push(tt(n._triageMustache.call(e,"errorMessage",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("</h4>\n			"),a}function f(e,t){var i,r,a="";return t.buffer.push("\n				<h4 class='text-error'>"),i={},r={},t.buffer.push(tt(n._triageMustache.call(e,"errorMessage",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("</h4>\n			"),a}function g(e,t){var i,r,a="";return t.buffer.push("\n				"),i={},r={},t.buffer.push(tt(n.view.call(e,"view.selectSheetView",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n			"),a}function m(e,t){t.buffer.push('\n							<i class="icon-edit muted" style="padding-left:5px; cursor: pointer" >\n							</i>\n						')}function v(e,t){var i,r,a="";return t.buffer.push("\n						<span class='cancel-button' style='margin-right:10px;float:right;'>\n							<button class=\"btn btn-info\" style=\"color:white;\" "),i={},r={},t.buffer.push(tt(n.action.call(e,"cancelUploadProcess","",{hash:{},contexts:[e,e],types:["STRING","ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push(">Cancel</button>\n						</span>\n					"),a}function b(e,t){var i,r,a,s="";return t.buffer.push("\n						"),r={},a={},i=n.unless.call(e,"dataTypesUpdated",{hash:{},inverse:nt.noop,fn:nt.program(28,y,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n					"),s}function y(e,t){var i,r,a,s="";return t.buffer.push("\n							"),r={},a={},i=n.unless.call(e,"uploadedToRedis",{hash:{},inverse:nt.noop,fn:nt.program(29,x,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("	\n						"),s}function x(e,t){var i,r,a="";return t.buffer.push("\n									"),i={},r={},t.buffer.push(tt(n.view.call(e,"view.saveButtonView",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n								"),a}function w(e,t){var i,r,a,s,o="";return t.buffer.push("\n				<div class='row'>\n	            	<div class=\"span muted\">\n	            		<small>Last import:&nbsp; "),r={},a={},s={hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t},t.buffer.push(tt((i=n.time_ago,i?i.call(e,"updatedAt",s):it.call(e,"time_ago","updatedAt",s)))),t.buffer.push("</small>\n	        		</div>\n	        	</div>\n    		"),o}function _(e,t){var i,r,a,s="";return t.buffer.push("\n    			"),r={},a={},i=n["if"].call(e,"nextRun",{hash:{},inverse:nt.noop,fn:nt.program(34,C,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n	        	"),r={},a={},i=n["if"].call(e,"lastRunStatus",{hash:{},inverse:nt.noop,fn:nt.program(36,T,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n    		"),s}function C(e,t){var i,r,a,s,o="";return t.buffer.push("\n	    			<div class='row'>\n		        		<div class=\"span muted\">\n		            		<small>Next run at:&nbsp; "),r={},a={},s={hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t},t.buffer.push(tt((i=n.time_ago,i?i.call(e,"nextRun",s):it.call(e,"time_ago","nextRun",s)))),t.buffer.push("</small>\n		        		</div>\n		        	</div>\n	        	"),o}function T(e,t){var i,r,a="";return t.buffer.push('\n	        		<div class="row">\n	        			<div class="span muted">\n	        				<small>Last Run Status:&nbsp; '),i={},r={},t.buffer.push(tt(n._triageMustache.call(e,"lastRunStatus",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("</small>\n	        			</div>\n	        		</div>\n	        	"),a}function D(e,t){var i,r,a,s="";return t.buffer.push("			\n					"),r={},a={},i=n["if"].call(e,"uploadedToRedis",{hash:{},inverse:nt.program(41,E,t),fn:nt.program(39,S,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("					\n				"),s}function S(e,t){var i,r,a="";return t.buffer.push("\n						<div class='span' style=\"width:100%;background-color:#fff;\">\n							"),i={},r={},t.buffer.push(tt(n.view.call(e,"view.dataModelingView",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n						</div>	\n					"),a}function E(e,t){var i,r,a,s="";return t.buffer.push("						\n						"),r={},a={},i=n["if"].call(e,"ruleApplied",{hash:{},inverse:nt.noop,fn:nt.program(42,k,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("						\n					"),s}function k(e,t){var i,r,a,s="";return t.buffer.push('\n							<div class="row">\n								<div class="span pull-right">\n									'),r={},a={},i=n["if"].call(e,"dataTypesUpdated",{hash:{},inverse:nt.program(45,N,t),fn:nt.program(43,I,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push('\n								</div>\n								<div class="span pull-right" style="width: 10%;margin-top: 3px;">\n									<h4>Unique Key</h4>\n								</div>								\n							</div>\n\n							<div class=\'span\' style="width:100%;background-color:#fff;">\n								<table class=" span table" style="border-right-style:solid; border-right-width:1px; border-right-color:#D7D7D7;">\n									<tr>\n										<th>Field</th>\n										<!--th>Alias</th-->\n										<th>Data type</th>\n										'),r={},a={},i=n.unless.call(e,"dataTypesUpdated",{hash:{},inverse:nt.noop,fn:nt.program(47,A,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n										<th>Default Value</th>\n										"),r={},a={},i=n.unless.call(e,"dataTypesUpdated",{hash:{},inverse:nt.noop,fn:nt.program(49,R,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n									</tr>\n									"),r={},a={},i=n.each.call(e,"field","in","fieldsHash",{hash:{},inverse:nt.noop,fn:nt.program(51,M,t),contexts:[e,e,e],types:["ID","ID","ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n								</table>\n							</div>\n						"),s}function I(e,t){var i,r,a="";return t.buffer.push("\n										"),i={"class":e,valueBinding:e,disabled:e},r={"class":"STRING",valueBinding:"STRING",disabled:"STRING"},t.buffer.push(tt(n.view.call(e,"Ember.TextField",{hash:{"class":"input-medium",valueBinding:"uniqueKeyField",disabled:"disabled"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n									"),a}function N(e,t){var i,r,a="";return t.buffer.push("\n										"),i={contentBinding:e,id:e,"class":e},r={contentBinding:"STRING",id:"STRING","class":"STRING"},t.buffer.push(tt(n.view.call(e,"Ember.Select",{hash:{contentBinding:"uniqueKeyFieldsArr",id:"file_ds_unique_key_id","class":"pull-left"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n									"),a}function A(e,t){t.buffer.push("\n											<th>Options</th>\n										")}function R(e,t){t.buffer.push('\n											<th style="text-align:center;">Ignore Field</th>\n										')}function M(e,t){var i,r,a,s,o,l="";return t.buffer.push('\n										<tr class="fieldsList">\n											<td>\n												<label>										\n													'),a={},s={},o={hash:{},contexts:[e],types:["ID"],hashContexts:s,hashTypes:a,data:t},t.buffer.push(tt((i=n.fieldname,i?i.call(e,"field",o):it.call(e,"fieldname","field",o)))),t.buffer.push("					\n												</label>\n											</td>											\n											\n											"),a={},s={},r=n["if"].call(e,"dataTypesUpdated",{hash:{},inverse:nt.program(54,O,t),fn:nt.program(52,P,t),contexts:[e],types:["ID"],hashContexts:s,hashTypes:a,data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("											\n										</tr>\n									"),l}function P(e,t){var i,r,a,s,o="";return t.buffer.push("\n												<td>\n													<label>"),r={},a={},s={hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t},t.buffer.push(tt((i=n.datatype,i?i.call(e,"field",s):it.call(e,"datatype","field",s)))),t.buffer.push("</label>\n												</td>\n										        \n								       			<td>\n								       			  	<label>"),r={},a={},s={hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t},t.buffer.push(tt((i=n.default_value,i?i.call(e,"field",s):it.call(e,"default_value","field",s)))),t.buffer.push("</label>\n								       			</td>												\n											"),o}function O(e,t){var i,r,a="";return t.buffer.push("\n												"),i={contentBinding:e},r={contentBinding:"STRING"},t.buffer.push(tt(n.view.call(e,"view.check_dataTypes",{hash:{contentBinding:"field"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("       \n									        "),a}function F(e,t){var i,r,a,s="";return t.buffer.push("\n					"),r={},a={},i=n["if"].call(e,"fileDataSource",{hash:{},inverse:nt.noop,fn:nt.program(57,B,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("		\n					"),r={},a={},i=n["if"].call(e,"spreeApi",{hash:{},inverse:nt.noop,fn:nt.program(59,j,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n				"),s}function B(e,t){t.buffer.push("\n						<h4>No Contents Uploaded! Get Started by uploading a Content File</h4>			\n					")}function j(e,t){t.buffer.push('\n						<h4>Get started by entering your store\'s details in the "Store Details" tab</h4>			\n					')}function L(e,t){var i,r,a,s,o,l="";return t.buffer.push('\n			<div  class="tab-pane" id="query" style="padding-left: 10px;">\n				<div class=\'row\' style="min-height:55px; line-height:50px;">\n					<div class=\'span\'>\n						<img '),a={src:e},s={src:"STRING"},t.buffer.push(tt(n.bindAttr.call(e,{hash:{src:"imageUrl"},contexts:[],types:[],hashContexts:a,hashTypes:s,data:t}))),t.buffer.push("  class='img-rounded' style=\"height: 28px; width: 28px;\"/>\n					</div>\n					<div class='span' style='margin-left:5px;'>\n						<h3 style=\"line-height:50px;\">\n							"),s={},a={},t.buffer.push(tt(n._triageMustache.call(e,"name",{hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:s,data:t}))),t.buffer.push(" \n							"),s={},a={},o={hash:{},inverse:nt.noop,fn:nt.program(62,V,t),contexts:[e,e],types:["STRING","ID"],hashContexts:a,hashTypes:s,data:t},i=n.linkTo,r=i?i.call(e,"data_sources.edit","",o):it.call(e,"linkTo","data_sources.edit","",o),(r||0===r)&&t.buffer.push(r),t.buffer.push('\n							<i class="icon-trash muted" style="padding-left:5px; cursor: pointer" '),a={target:e},s={target:"ID"},t.buffer.push(tt(n.action.call(e,"deleteDataSource","",{hash:{target:"view"},contexts:[e,e],types:["STRING","ID"],hashContexts:a,hashTypes:s,data:t}))),t.buffer.push(' >\n					        </i>\n						</h3>						\n					</div>\n				</div>\n				<div class="row">\n					'),s={},a={},t.buffer.push(tt(n.view.call(e,"Cibi.QueryDataSourceView",{hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:s,data:t}))),t.buffer.push("\n				</div>\n			</div>\n		"),l}function V(e,t){t.buffer.push('\n								<i class="icon-edit muted" style="padding-left:5px; cursor: pointer" >\n								</i>\n							')}function $(e,t){var i,r,a,s,o,l="";return t.buffer.push('\n		<div  class="tab-pane" id="store_details" style="padding-left: 10px;">\n			<div class=\'row\' style="min-height:55px; line-height:50px;">\n				<div class=\'span\'>\n					<img '),a={src:e},s={src:"STRING"},t.buffer.push(tt(n.bindAttr.call(e,{hash:{src:"imageUrl"},contexts:[],types:[],hashContexts:a,hashTypes:s,data:t}))),t.buffer.push("  class='img-rounded' style=\"height: 28px; width: 28px;\"/>\n				</div>\n				<div class='span' style='margin-left:5px;'>\n					<h3 style=\"line-height:50px;\">\n						"),s={},a={},t.buffer.push(tt(n._triageMustache.call(e,"name",{hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:s,data:t}))),t.buffer.push(" \n						"),s={},a={},o={hash:{},inverse:nt.noop,fn:nt.program(23,m,t),contexts:[e,e],types:["STRING","ID"],hashContexts:a,hashTypes:s,data:t},i=n.linkTo,r=i?i.call(e,"data_sources.edit","",o):it.call(e,"linkTo","data_sources.edit","",o),(r||0===r)&&t.buffer.push(r),t.buffer.push('\n						<i class="icon-trash muted" style="padding-left:5px; cursor: pointer" '),a={target:e},s={target:"ID"},t.buffer.push(tt(n.action.call(e,"deleteDataSource","",{hash:{target:"view"},contexts:[e,e],types:["STRING","ID"],hashContexts:a,hashTypes:s,data:t}))),t.buffer.push(' >\n				        </i>\n					</h3>						\n				</div>\n			</div>\n			<div class="row">\n				'),s={},a={},t.buffer.push(tt(n.view.call(e,"Cibi.SpreeDataSourceView",{hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:s,data:t}))),t.buffer.push("\n			</div>			\n		</div>\n		"),l}function H(e,t){var i,r,a="";return t.buffer.push('\n					<div class="span pull-right">\n						<a '),i={},r={},t.buffer.push(tt(n.action.call(e,"fetchData",{hash:{},contexts:[e],types:["STRING"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push(' class="btn btn-medium" style="padding: 4px 10px;">\n							<i class="icon-upload" style="margin-top:3px;"></i>\n							<span>Fetch</span>\n						</a>\n					</div>\n				'),a}function G(e,t){var i,r,a,s="";return t.buffer.push('\n							<table id="paginate-contents" class="table table-bordered" width="1000px" >\n							  	<thead>\n								    <tr>\n									    <th width="20%">Filename</th>\n									    <th width="20%">Format</th>\n									    <th width="20%">Size</th>\n									    <th width="20%">Created</th>\n									    <th width="10%"><i class="icon-exclamation-sign icon-white"></i></th>\n									</tr>\n								</thead>\n								'),r={},a={},i=n.each.call(e,"data_content","in","data_contents",{hash:{},inverse:nt.noop,fn:nt.program(69,z,t),contexts:[e,e,e],types:["ID","ID","ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n						</table>\n				"),s}function z(e,t){var i,r,a,s="";return t.buffer.push('\n								  	<tbody>\n									    <tr>\n									      	<td width="20%">'),r={},a={},t.buffer.push(tt(n._triageMustache.call(e,"data_content.filename",{hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push('</td>\n											<td width="20%">'),r={},a={},t.buffer.push(tt(n._triageMustache.call(e,"data_content.format",{hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push("</td>\n											"),r={},a={},i=n["if"].call(e,"data_content.size",{hash:{},inverse:nt.program(72,W,t),fn:nt.program(70,U,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push('\n											<td width="20%">'),r={},a={},t.buffer.push(tt(n._triageMustache.call(e,"data_content.created_at",{hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push('</td>\n											<td width="10%">\n											  	<a '),r={},a={},t.buffer.push(tt(n.action.call(e,"deleteDataContent","data_content",{hash:{},contexts:[e,e],types:["STRING","ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push(' class="btn btn-danger btn-small">	<i class="icon-trash icon-white"></i>\n											  	</a>\n											</td>\n										</tr>\n								</tbody>\n							'),s}function U(e,t){var i,r,a="";return t.buffer.push('\n											   	<td width="20%">'),i={},r={},t.buffer.push(tt(n._triageMustache.call(e,"data_content.size",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("kb</td>\n											"),a}function W(e,t){t.buffer.push('\n											   	<td width="20%"> < 1kb</td>\n											')
}function q(e,t){var i,r,a,s="";return t.buffer.push("\n					"),r={},a={},i=n["if"].call(e,"fileDataSource",{hash:{},inverse:nt.noop,fn:nt.program(75,Y,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n				"),s}function Y(e,t){t.buffer.push("\n						<td><h4>No Contents Uploaded! Get Started by uploading a Content File</h4></td>\n					")}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var K,X,Q,J,Z,et="",tt=this.escapeExpression,nt=this,it=n.helperMissing;return Q={},J={},K=n["if"].call(t,"fileDataSource",{hash:{},inverse:nt.program(3,s,r),fn:nt.program(1,a,r),contexts:[t],types:["ID"],hashContexts:J,hashTypes:Q,data:r}),(K||0===K)&&r.buffer.push(K),r.buffer.push("	\n<div class='tabbable tabs-below'>\n	<div class=\"row\" "),J={style:t},Q={style:"ID"},r.buffer.push(tt(n.bindAttr.call(t,{hash:{style:"view.accountTopNavColor"},contexts:[],types:[],hashContexts:J,hashTypes:Q,data:r}))),r.buffer.push('>\n		<ul class="nav nav-tabs data-source-nav">\n		  	<li id = \'data_model\' class=\'active\'>\n		  		<a href="#model" data-toggle="tab">Data Model</a>\n		  	</li>\n		  	<li id =\'data_content\'>\n		  		<a href="#content" data-toggle="tab" '),J={target:t},Q={target:"ID"},r.buffer.push(tt(n.action.call(t,"change_dataContents",{hash:{target:"view"},contexts:[t],types:["STRING"],hashContexts:J,hashTypes:Q,data:r}))),r.buffer.push(">Data Content</a>\n		  	</li>		  \n			"),Q={},J={},K=n["if"].call(t,"queryDataSourceApi",{hash:{},inverse:nt.noop,fn:nt.program(5,o,r),contexts:[t],types:["ID"],hashContexts:J,hashTypes:Q,data:r}),(K||0===K)&&r.buffer.push(K),r.buffer.push("\n			"),Q={},J={},K=n["if"].call(t,"spreeApi",{hash:{},inverse:nt.noop,fn:nt.program(7,l,r),contexts:[t],types:["ID"],hashContexts:J,hashTypes:Q,data:r}),(K||0===K)&&r.buffer.push(K),r.buffer.push('\n		</ul>\n	</div>\n	<div class=\'tab-content\' style="padding-left:15px; padding-right:15px;">			\n		<div class="row" style="padding-left: 10px;">\n			'),Q={},J={},K=n["if"].call(t,"isSaving",{hash:{},inverse:nt.noop,fn:nt.program(9,c,r),contexts:[t],types:["ID"],hashContexts:J,hashTypes:Q,data:r}),(K||0===K)&&r.buffer.push(K),r.buffer.push("\n			\n			"),Q={},J={},K=n["if"].call(t,"isError",{hash:{},inverse:nt.noop,fn:nt.program(11,h,r),contexts:[t],types:["ID"],hashContexts:J,hashTypes:Q,data:r}),(K||0===K)&&r.buffer.push(K),r.buffer.push("\n			"),Q={},J={},K=n["if"].call(t,"isAddingContent",{hash:{},inverse:nt.noop,fn:nt.program(13,u,r),contexts:[t],types:["ID"],hashContexts:J,hashTypes:Q,data:r}),(K||0===K)&&r.buffer.push(K),r.buffer.push("\n			"),Q={},J={},K=n["if"].call(t,"fileUploadSuccessful",{hash:{},inverse:nt.noop,fn:nt.program(15,d,r),contexts:[t],types:["ID"],hashContexts:J,hashTypes:Q,data:r}),(K||0===K)&&r.buffer.push(K),r.buffer.push("\n			"),Q={},J={},K=n["if"].call(t,"fileUploadFailed",{hash:{},inverse:nt.noop,fn:nt.program(17,p,r),contexts:[t],types:["ID"],hashContexts:J,hashTypes:Q,data:r}),(K||0===K)&&r.buffer.push(K),r.buffer.push("\n			"),Q={},J={},K=n["if"].call(t,"uploadError",{hash:{},inverse:nt.noop,fn:nt.program(19,f,r),contexts:[t],types:["ID"],hashContexts:J,hashTypes:Q,data:r}),(K||0===K)&&r.buffer.push(K),r.buffer.push("			\n			"),Q={},J={},K=n["if"].call(t,"multipleSheets",{hash:{},inverse:nt.noop,fn:nt.program(21,g,r),contexts:[t],types:["ID"],hashContexts:J,hashTypes:Q,data:r}),(K||0===K)&&r.buffer.push(K),r.buffer.push("\n		</div>\n		<div id=\"model\" class='tab-pane active' style=\"padding-left: 10px;\">\n			<div class='row' style=\"min-height:55px; line-height:50px;\">\n				<div class='span'>\n					<img "),J={src:t},Q={src:"STRING"},r.buffer.push(tt(n.bindAttr.call(t,{hash:{src:"imageUrl"},contexts:[],types:[],hashContexts:J,hashTypes:Q,data:r}))),r.buffer.push("  class='img-rounded' style=\"height: 28px; width: 28px;\"/>\n				</div>\n				<div class='span' style='margin-left:5px;'>\n					<h3 style=\"line-height:50px;\">\n						"),Q={},J={},r.buffer.push(tt(n._triageMustache.call(t,"name",{hash:{},contexts:[t],types:["ID"],hashContexts:J,hashTypes:Q,data:r}))),r.buffer.push(" \n						"),Q={},J={},Z={hash:{},inverse:nt.noop,fn:nt.program(23,m,r),contexts:[t,t],types:["STRING","ID"],hashContexts:J,hashTypes:Q,data:r},K=n.linkTo,X=K?K.call(t,"data_sources.edit","",Z):it.call(t,"linkTo","data_sources.edit","",Z),(X||0===X)&&r.buffer.push(X),r.buffer.push('\n						<i class="icon-trash muted" style="padding-left:5px; cursor: pointer" '),J={target:t},Q={target:"ID"},r.buffer.push(tt(n.action.call(t,"deleteDataSource","",{hash:{target:"view"},contexts:[t,t],types:["STRING","ID"],hashContexts:J,hashTypes:Q,data:r}))),r.buffer.push(" >\n				        </i>\n					</h3>						\n				</div>\n\n\n				<div "),J={"class":t},Q={"class":"STRING"},r.buffer.push(tt(n.bindAttr.call(t,{hash:{"class":"progressVisible :span4"},contexts:[],types:[],hashContexts:J,hashTypes:Q,data:r}))),r.buffer.push(' style="margin:20px 0 0 10px;">\n					<div class="progress progress-success progress-striped active" >\n					  <div id="progressbar" class="bar" style="width: 0%;">0</div>\n					</div>\n				</div>\n\n\n				<div class="span pull-right" style="vertical-align:middle;width:146px;">\n					'),Q={},J={},X=n["if"].call(t,"isUploadingFile",{hash:{},inverse:nt.noop,fn:nt.program(25,v,r),contexts:[t],types:["ID"],hashContexts:J,hashTypes:Q,data:r}),(X||0===X)&&r.buffer.push(X),r.buffer.push("\n\n					"),Q={},J={},X=n["if"].call(t,"fileUploadState",{hash:{},inverse:nt.noop,fn:nt.program(27,b,r),contexts:[t],types:["ID"],hashContexts:J,hashTypes:Q,data:r}),(X||0===X)&&r.buffer.push(X),r.buffer.push("\n				</div>\n			</div>\n			"),Q={},J={},X=n["if"].call(t,"dataContents",{hash:{},inverse:nt.noop,fn:nt.program(31,w,r),contexts:[t],types:["ID"],hashContexts:J,hashTypes:Q,data:r}),(X||0===X)&&r.buffer.push(X),r.buffer.push("\n    		"),Q={},J={},X=n.unless.call(t,"fileDataSource",{hash:{},inverse:nt.noop,fn:nt.program(33,_,r),contexts:[t],types:["ID"],hashContexts:J,hashTypes:Q,data:r}),(X||0===X)&&r.buffer.push(X),r.buffer.push("\n			<div class='row' "),J={id:t},Q={id:"STRING"},r.buffer.push(tt(n.bindAttr.call(t,{hash:{id:"containerId"},contexts:[],types:[],hashContexts:J,hashTypes:Q,data:r}))),r.buffer.push(">\n				"),Q={},J={},X=n["if"].call(t,"fieldsStr",{hash:{},inverse:nt.program(56,F,r),fn:nt.program(38,D,r),contexts:[t],types:["ID"],hashContexts:J,hashTypes:Q,data:r}),(X||0===X)&&r.buffer.push(X),r.buffer.push("\n			</div>\n		</div>\n		"),Q={},J={},X=n["if"].call(t,"queryDataSourceApi",{hash:{},inverse:nt.noop,fn:nt.program(61,L,r),contexts:[t],types:["ID"],hashContexts:J,hashTypes:Q,data:r}),(X||0===X)&&r.buffer.push(X),r.buffer.push("\n		"),Q={},J={},X=n["if"].call(t,"spreeApi",{hash:{},inverse:nt.noop,fn:nt.program(64,$,r),contexts:[t],types:["ID"],hashContexts:J,hashTypes:Q,data:r}),(X||0===X)&&r.buffer.push(X),r.buffer.push("		\n		<div id='content' class=\"tab-pane\"  style=\"padding-left: 10px;\">\n			<div class='row' style=\"min-height:55px; line-height:50px;\">\n				<div class='span'>\n					<img "),J={src:t},Q={src:"STRING"},r.buffer.push(tt(n.bindAttr.call(t,{hash:{src:"imageUrl"},contexts:[],types:[],hashContexts:J,hashTypes:Q,data:r}))),r.buffer.push("  class='img-rounded' style=\"height: 28px; width: 28px;\"/>\n				</div>\n				<div class='span' style='margin-left:5px;'>\n					<h3 style=\"line-height:50px;\">\n						"),Q={},J={},r.buffer.push(tt(n._triageMustache.call(t,"name",{hash:{},contexts:[t],types:["ID"],hashContexts:J,hashTypes:Q,data:r}))),r.buffer.push(" \n						"),Q={},J={},Z={hash:{},inverse:nt.noop,fn:nt.program(23,m,r),contexts:[t,t],types:["STRING","ID"],hashContexts:J,hashTypes:Q,data:r},K=n.linkTo,X=K?K.call(t,"data_sources.edit","",Z):it.call(t,"linkTo","data_sources.edit","",Z),(X||0===X)&&r.buffer.push(X),r.buffer.push('\n						<i class="icon-trash muted" style="padding-left:5px; cursor: pointer" '),J={target:t},Q={target:"ID"},r.buffer.push(tt(n.action.call(t,"deleteDataSource","",{hash:{target:"view"},contexts:[t,t],types:["STRING","ID"],hashContexts:J,hashTypes:Q,data:r}))),r.buffer.push(" >\n				        </i>\n					</h3>						\n				</div>\n				"),Q={},J={},X=n["if"].call(t,"queryDataSourceApi",{hash:{},inverse:nt.noop,fn:nt.program(66,H,r),contexts:[t],types:["ID"],hashContexts:J,hashTypes:Q,data:r}),(X||0===X)&&r.buffer.push(X),r.buffer.push('\n			</div>\n			<div class="row">\n				<div class="span" style="width:100%;">\n				'),Q={},J={},X=n["if"].call(t,"data_contents",{hash:{},inverse:nt.program(74,q,r),fn:nt.program(68,G,r),contexts:[t],types:["ID"],hashContexts:J,hashTypes:Q,data:r}),(X||0===X)&&r.buffer.push(X),r.buffer.push('\n					<div class="data-contents" style="margin-bottom:0px;background-color:#cccccc;"></div>\n				</div>\n			</div>\n		</div>\n	</div>	\n</div>\n'),et}),Ember.TEMPLATES.data_sources=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){t.buffer.push(' \n		    		<h4 style="opacity: 0.5; width: 11.3%; height:15px; margin-top:10px; background-color: #3a3a3a; color: #cecece; font-size:11pt; font-weight: normal; display: inline;">\n		    			New Data Source	 \n		    			&nbsp;   			\n						<img src="/assets/plus_icon.png" width="15" height="15" />					\n		    		</h4>\n	    		')}function s(e,t){var i,r,a,s,l,c="";return t.buffer.push("\n					<li>\n						"),a={"class":e},s={"class":"STRING"},l={hash:{"class":"tab-link"},inverse:g.noop,fn:g.program(4,o,t),contexts:[e,e],types:["STRING","ID"],hashContexts:a,hashTypes:s,data:t},i=n.linkTo,r=i?i.call(e,"data_source","data_source",l):m.call(e,"linkTo","data_source","data_source",l),(r||0===r)&&t.buffer.push(r),t.buffer.push("						\n					</li>\n				"),c}function o(e,t){var i,r,a="";return t.buffer.push("\n							"),i={},r={},t.buffer.push(f(n._triageMustache.call(e,"data_source.name",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n						"),a}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var l,c,h,u,d,p="",f=this.escapeExpression,g=this,m=n.helperMissing;return r.buffer.push('\n<div class="row" style="margin-left:0px; padding-top:0px;">\n  	<div class="span affix" style="width:11.3%;" data-spy="affix">    \n	    <div class="tabbable tabs-left" style="width:100%;">\n	    	<div id="create-data-source" class="pagination-centered" '),h={style:t},u={style:"ID"},r.buffer.push(f(n.bindAttr.call(t,{hash:{style:"view.accountLeftNavColor"},contexts:[],types:[],hashContexts:h,hashTypes:u,data:r}))),r.buffer.push(">\n	    		\n	    		"),u={},h={},d={hash:{},inverse:g.noop,fn:g.program(1,a,r),contexts:[t],types:["STRING"],hashContexts:h,hashTypes:u,data:r},l=n.linkTo,c=l?l.call(t,"data_sources.new",d):m.call(t,"linkTo","data_sources.new",d),(c||0===c)&&r.buffer.push(c),r.buffer.push('    						\n		    	\n	    	</div>	 \n	    	<!--input type=\'text\' id="data_source_search" class="input-small" style="width:110px;"/-->\n			<div class="input-prepend" style="width:100%;text-align:center;margin:0px;padding:3px 0;background-color:#323232;">\n				<span class="add-on" style="width:0px;"><i class="icon-search"></i></span>\n		        '),h={"class":t,valueBinding:t,name:t,placeholder:t},u={"class":"STRING",valueBinding:"STRING",name:"STRING",placeholder:"STRING"},r.buffer.push(f(n.view.call(t,"Ember.TextField",{hash:{"class":"input-small",valueBinding:"view.search_text",name:"search_text",placeholder:"search"},contexts:[t],types:["ID"],hashContexts:h,hashTypes:u,data:r}))),r.buffer.push('        \n		    </div>\n		    <ul class="nav nav-tabs span" id="data_sources_nav" '),h={style:t},u={style:"ID"},r.buffer.push(f(n.bindAttr.call(t,{hash:{style:"view.accountLeftNavPillsColor"},contexts:[],types:[],hashContexts:h,hashTypes:u,data:r}))),r.buffer.push("> \n				"),u={},h={},c=n.each.call(t,"data_source","in","view.data_sources",{hash:{},inverse:g.noop,fn:g.program(3,s,r),contexts:[t,t,t],types:["ID","ID","ID"],hashContexts:h,hashTypes:u,data:r}),(c||0===c)&&r.buffer.push(c),r.buffer.push('\n		    </ul>   \n		    <div class="holder" style="margin-bottom:0px;background-color:#323232;"></div>   \n		    <div style="font-size:12px;color:#CCCCCC;padding:5px 0 15px 5px;background-color:#323232;">Product by <a target="_blank" href="http://www.cerebrateinc.com">Cerebrate Inc</a></div>	   \n	    </div>   \n  	</div>\n  	<div class="span tab-content" id="data_sources_content" style="width:88.7%; min-height:620px; margin-left:11.3%">\n        '),u={},h={},r.buffer.push(f(n._triageMustache.call(t,"outlet",{hash:{},contexts:[t],types:["ID"],hashContexts:h,hashTypes:u,data:r}))),r.buffer.push("\n  	</div>\n</div>\n"),p}),Ember.TEMPLATES["data_sources/check_dataTypes"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var a,s,o,l,c="",h=this.escapeExpression,u=n.helperMissing;return r.buffer.push("	<!--td>\n		<input type='text' "),r.buffer.push(" class='alias input-small'></input>\n	</td-->\n	<td>\n		"),s={contentBinding:t,optionValuePath:t,optionLabelPath:t,valueBinding:t,"class":t},o={contentBinding:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING","class":"STRING"},r.buffer.push(h(n.view.call(t,"Ember.Select",{hash:{contentBinding:"view.datatypes",optionValuePath:"content.value",optionLabelPath:"content.label",valueBinding:"view.seleted_datatype","class":"data_type input-small"},contexts:[t],types:["ID"],hashContexts:s,hashTypes:o,data:r}))),r.buffer.push("\n    </td>\n    <td>\n    	"),o={},s={},l={hash:{},contexts:[t,t],types:["STRING","ID"],hashContexts:s,hashTypes:o,data:r},r.buffer.push(h((a=n.render,a?a.call(t,"data_sources/options","",l):u.call(t,"render","data_sources/options","",l)))),r.buffer.push("\n    </td>\n	<td>\n	 	<input type='text' class='default_value input-small'></input>\n	</td>	\n	<td style=\"text-align:center;\">\n		<input type='checkbox' class='ignored'></input>\n	</td> \n"),c}),Ember.TEMPLATES["data_sources/data_modeling"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a="";return t.buffer.push("\n						<th>"),i={},r={},t.buffer.push(d(n._triageMustache.call(e,"",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("</th>\n					"),a}function s(e,t){var i,r,a,s="";return t.buffer.push("\n							<tr>\n								"),r={},a={},i=n.each.call(e,"",{hash:{},inverse:p.noop,fn:p.program(4,o,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n							<tr>\n					"),s}function o(e,t){var i,r,a="";return t.buffer.push('\n									<td style="height:auto;">\n										'),i={},r={},t.buffer.push(d(n._triageMustache.call(e,"",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n									</td>\n								"),a}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var l,c,h,u="",d=this.escapeExpression,p=this;return r.buffer.push('	<div class="row" style="padding: 10px">\n		<div class="span">\n			Data Preview\n		</div>		\n	</div>\n	<div class="row" style="margin-bottom:30px;padding: 5px">\n		<div style="height:350px;overflow:auto;border:1px solid grey;">\n			<table id="table" class="table table-bordered" >\n				<thead>\n				<tr>\n					'),c={},h={},l=n.each.call(t,"previewHeadersArr",{hash:{},inverse:p.noop,fn:p.program(1,a,r),contexts:[t],types:["ID"],hashContexts:h,hashTypes:c,data:r}),(l||0===l)&&r.buffer.push(l),r.buffer.push('\n				</tr>\n				</thead>\n				<tbody style="">\n					'),c={},h={},l=n.each.call(t,"dataPreviewHash",{hash:{},inverse:p.noop,fn:p.program(3,s,r),contexts:[t],types:["ID"],hashContexts:h,hashTypes:c,data:r}),(l||0===l)&&r.buffer.push(l),r.buffer.push('\n				</tbody>\n			</table>	\n		</div>		\n		<div class=\'pull-right\'>\n\n		</div>\n	</div>\n\n	<div class="row" style="padding: 10px; padding-bottom: 0px; padding-top: 0px;">\n		<div class="span2">\n			<label>Combine Columns</label>\n		</div>\n		<div class="span">\n			<input type="text" id="combine_columns" ondrop="$(\'#apply-pivot\').prop(\'disabled\', false);" style="width:500px;" placeholder="Drag and drop column headers here." ></input>\n		</div>\n	</div>\n	<div class="row" style="padding: 10px; padding-bottom: 0px; padding-top: 0px;">\n		<div class="span2">\n			<label>into New Keys Columns</label>\n		</div>\n		<div class="span">\n			<input type="text" id="new_keys_column"></input>\n		</div>\n	</div>\n	<div class="row" style="padding: 10px; padding-bottom: 0px; padding-top: 0px;">\n		<div class="span2">\n			<label>New Values Columns</label>\n		</div>\n		<div class="span2">\n			<input type="text" id="new_values_column"></input>\n		</div>\n		<div class="span2 pull-right" style="text-align:right;">\n			<button id="apply-pivot" class="btn btn-medium" disabled="disabled" '),h={target:t},c={target:"ID"},r.buffer.push(d(n.action.call(t,"applyPivot","",{hash:{target:"view"},contexts:[t,t],types:["STRING","ID"],hashContexts:h,hashTypes:c,data:r}))),r.buffer.push('>Apply Pivot</button>\n		</div>\n	</div>\n	<div class="row" style="padding: 10px; padding-bottom: 0px; padding-top: 0px;">\n		<div class="span6 pull-right" style="text-align:right;">\n			<button class="btn btn-medium" '),h={target:t},c={target:"ID"},r.buffer.push(d(n.action.call(t,"applyRule","",{hash:{target:"view"},contexts:[t,t],types:["STRING","ID"],hashContexts:h,hashTypes:c,data:r}))),r.buffer.push(">Looks Good! Define Data Types</button>\n		</div>\n	</div>\n"),u}),Ember.TEMPLATES["data_sources/edit"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a="";return t.buffer.push("\n					<div id='new-data-source-notice' class='text-success'>\n						"),i={},r={},t.buffer.push(h(n._triageMustache.call(e,"view.noticeMessage",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n					</div>\n				"),a}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var s,o,l,c="",h=this.escapeExpression,u=this;return r.buffer.push('<div class="row" '),o={style:t},l={style:"ID"},r.buffer.push(h(n.bindAttr.call(t,{hash:{style:"view.accountTopNavColor"},contexts:[],types:[],hashContexts:o,hashTypes:l,data:r}))),r.buffer.push('>\n	\n</div>\n<div class="row" id="main-tab" style="min-height:550px; padding-left:15px;"> \n	<div class=\'tabbable\'>\n		<div class=\'tab-content\' style="padding: 10px">\n			<div id="new-ds" class=\'tab-pane active\'>\n				<h3> Edit '),l={},o={},r.buffer.push(h(n._triageMustache.call(t,"name",{hash:{},contexts:[t],types:["ID"],hashContexts:o,hashTypes:l,data:r}))),r.buffer.push('</h3>\n				<hr class="compact">\n				'),l={},o={},s=n["if"].call(t,"view.noticeMessage",{hash:{},inverse:u.noop,fn:u.program(1,a,r),contexts:[t],types:["ID"],hashContexts:o,hashTypes:l,data:r}),(s||0===s)&&r.buffer.push(s),r.buffer.push('\n				<form class="form" id=\'new-data-source-form\'>\n					<fieldset>\n						<div class="control-group">\n							<label class="control-label" for="input01">Display Name</label>\n							<div class="controls">\n								<input type="text" id=\'new-data-source-name\' class="input-xlarge" '),o={value:t},l={value:"ID"},r.buffer.push(h(n.bindAttr.call(t,{hash:{value:"name"},contexts:[],types:[],hashContexts:o,hashTypes:l,data:r}))),r.buffer.push('>\n								<p class="help-block">This name will appear in left navigation of data sources</p>\n							</div>\n						</div>\n						<!--div class="control-group">\n							<label class="control-label" for="input01">Load Count</label>\n							<div class="controls">\n							    <input type="text" id="count" class="input-medium" type=\'number\' '),r.buffer.push('>\n							</div>\n						</div>\n						<div class="control-group">\n							<label class="control-label" for="input01">Enabled</label>\n							<div class="controls">\n							    '),r.buffer.push('\n							</div>\n						</div-->\n						<div class="form-actions">\n							<button type="submit" class="btn btn-primary">Save</button>\n							<button class="btn" onclick="javascript:history.go(-1); return false;">Cancel</button>\n						</div>\n					</fieldset>\n				</form>	\n			</div>\n		</div>\n	</div>\n</div>\n'),c}),Ember.TEMPLATES["data_sources/new"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a="";return t.buffer.push('					\n			          <div class="text-error" style="margin-top:15px;">\n			            '),i={},r={},t.buffer.push(d(n._triageMustache.call(e,"view.errorMessage",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n			          </h4>\n		        "),a}function s(e,t){var i,r,a="";return t.buffer.push('					\n			          <h4 class="text-success" style="margin-top:15px;">\n			            '),i={},r={},t.buffer.push(d(n._triageMustache.call(e,"view.successMessage",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n			          </h4>\n		        "),a}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var o,l,c,h,u="",d=this.escapeExpression,p=this,f=n.helperMissing;return r.buffer.push('<div class="row" id="main-tab" style="width:100%; min-height:620px;"> \n	<div class=\'tabbable\'>\n		<div class="row" '),l={style:t},c={style:"ID"},r.buffer.push(d(n.bindAttr.call(t,{hash:{style:"view.accountTopNavColor"},contexts:[],types:[],hashContexts:l,hashTypes:c,data:r}))),r.buffer.push('>\n			<ul class="nav nav-tabs data-source-nav">\n			  <li class=\'active\'><a href="#new-ds" data-toggle="tab">Add Data Source</a></li>\n			  <li><a href="#connections" data-toggle="tab">Connections</a></li>\n			</ul>\n		</div>\n		<div class=\'tab-content\' style="padding-left:15px; padding-right:15px;">\n			<div id=\'new-data-source-notice\'>\n				'),c={},l={},o=n["if"].call(t,"view.errorMessage",{hash:{},inverse:p.noop,fn:p.program(1,a,r),contexts:[t],types:["ID"],hashContexts:l,hashTypes:c,data:r}),(o||0===o)&&r.buffer.push(o),r.buffer.push("				\n				"),c={},l={},o=n["if"].call(t,"view.successMessage",{hash:{},inverse:p.noop,fn:p.program(3,s,r),contexts:[t],types:["ID"],hashContexts:l,hashTypes:c,data:r}),(o||0===o)&&r.buffer.push(o),r.buffer.push('				\n			</div>\n			<div id="new-ds" class=\'tab-pane active\' style="padding: 10px">\n				<h3> New Data Source </h3>\n				<hr class=\'compact\'>\n				<form class="form" id=\'new-data-source-form\'>\n					<fieldset>\n						<div class="control-group">\n							<label class="control-label" for="input01">Display Name</label>\n							<div class="controls">\n								<input type="text" id=\'new-data-source-name\' class="input-xlarge" placeholder="Name" required>\n								<p class="help-block">This name will appear in left navigation of data sources</p>\n							</div>\n						</div>\n\n						<div class="btn-group" data-toggle="buttons-radio" id=\'new-data-source-type\'>\n							<h4>File Data Sources</h4>\n							  <button type="button" class="btn" value="csv">\n							  	<img src="/assets/csv" class="img-rounded" style="width: 60px; height: 65px"/>\n							  </button>\n	  						  <button type="button" class="btn" value="excel">\n							  	<img src="/assets/excel" class="img-rounded data-source-icon" />\n							  	<br>Excel\n							  </button>\n						  	<br/><br/>\n						  	<h4>RDBMS Systems</h4>\n							  <button type="button" class="btn" value="mysql">\n							  		<img src="/assets/mysql" class="img-rounded data-source-icon" />\n							  		<br>MySQL\n							  </button>\n							  <button type="button" class="btn" value="mssql">\n							  		<img src="/assets/mssql" class="img-rounded data-source-icon" />\n							  		<br>MsSQL\n							  </button>\n							  <button type="button" class="btn" value="oracle">\n							  		<img src="/assets/oracle" class="img-rounded data-source-icon" />\n							  		<br>Oracle\n							  </button>\n						  	<br/><br/>\n\n						 \n						  \n						  \n\n						   <!--\n\n						  <button type="button" class="btn" value="sfdc">\n						  	<img src="/assets/sfdc.png" class="img-rounded data-source-icon" />\n						  	<br>\n						  	Salesforce\n						  </button>\n\n						  <button type="button" class="btn" value="web_api">\n						  	<img src="/assets/web_api" class="img-rounded data-source-icon" />\n						  	<br>Web API\n						  </button>\n\n						  -->\n						  	<h4>Web Services</h4>\n		  					  <button type="button" class="btn" value="spree_commerce">\n							  	<img src="/assets/spree_commerce" alt="Spree Commerce" class="img-rounded data-source-icon" />\n							  	<br>Spree Commerce\n							  </button>\n							  <br/>\n						</div>\n\n						<br><br>\n						<div>\n							<button type="submit" class="btn btn-primary">Save</button>\n							<button class="btn" onclick="javascript:history.go(-1); return false;">Cancel</button>\n						</div>\n					</fieldset>\n				</form>	\n			</div>\n			<div id=\'connections\' class=\'tab-pane\' style="padding: 10px">\n				'),c={},l={},h={hash:{},contexts:[t],types:["STRING"],hashContexts:l,hashTypes:c,data:r},r.buffer.push(d((o=n.render,o?o.call(t,"data_connections",h):f.call(t,"render","data_connections",h)))),r.buffer.push("\n			</div>\n		</div>\n	</div>\n</div>\n\n\n\n\n"),u}),Ember.TEMPLATES["data_sources/new_content"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var a,s,o="",l=this.escapeExpression;return r.buffer.push("<form id='new-content-form'  "),a={"class":t},s={"class":"STRING"},r.buffer.push(l(n.bindAttr.call(t,{hash:{"class":"visibilty"},contexts:[],types:[],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push(" style='margin-top: 10px; margin-bottom: 10px; margin-right:15px;'>\n	<span class='fileinput-button'>\n		<i class='icon-plus muted icon-white'></i>\n		<span style=\"color:white;\" > Content File </span>\n		<input  type=\"file\" name='files[]' multiple>\n	</span>\n</form>\n\n\n\n"),o}),Ember.TEMPLATES["data_sources/options"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){t.buffer.push('\n			<tr>\n				<td>Length:</td>\n				<td><input type="number" min="200" value=\'200\' class="string_length" style="width:40px;margin-left:10px;"/></td>\n			<tr>\n		')}function s(e,t){t.buffer.push('\n			<tr>\n				<td>Max Digits:</td>\n				<td><input type="number" value=\'15\' class="max_digits" style="width:40px;margin-left:10px;"/></td>\n			</tr>\n			<tr>\n				<td>Max Decimals:</td>\n				<td><input type="number" value=\'3\' class="max_decimals" style="width:40px;margin-left:10px;"/></td>\n			</tr>\n		')}function o(e,t){var i,r,a="";return t.buffer.push("\n			\n			<tr>\n				<td>Format:</td>	\n				<td>\n					"),i={contentBinding:e,"class":e},r={contentBinding:"STRING","class":"STRING"},t.buffer.push(w(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.date_formats","class":"date_format input small"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n		        </td>\n	        </tr>\n		"),a}function l(e,t){var i,r,a,s="";return t.buffer.push("\n			<!--tr>\n				<td>Seperator:</td>\n				<td-->\n					"),t.buffer.push("		\n		        <!--/td>\n			</tr-->\n\n			<tr>\n				<td>Format:</td>\n				<td>\n					"),r={},a={},i=n["if"].call(e,"view.colon_format",{hash:{},inverse:_.program(10,h,t),fn:_.program(8,c,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("	\n		        </td>\n	        </tr>	\n		"),s}function c(e,t){var i,r,a="";return t.buffer.push("\n						"),i={contentBinding:e,"class":e},r={contentBinding:"STRING","class":"STRING"},t.buffer.push(w(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.time_formats_colon","class":"time_format input-small"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n			        "),a}function h(e,t){var i,r,a="";return t.buffer.push("\n						"),i={contentBinding:e,"class":e},r={contentBinding:"STRING","class":"STRING"},t.buffer.push(w(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.time_formats_space","class":"time_format input-small"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n			        "),a}function u(e,t){var i,r,a,s="";return t.buffer.push("\n		<!--tr>\n			<td>Date Seperator:</td>\n			<td-->\n			"),t.buffer.push("\n	        <!--/td>\n		</tr-->\n\n			<tr>\n			<td>Date Format:</td>\n			<td>\n			"),r={},a={},i=n["if"].call(e,"view.valid_date_separator",{hash:{},inverse:_.program(15,p,t),fn:_.program(13,d,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n	        </td>\n			\n			<!--tr>\n			<td>Time Seperator:</td>\n			<td-->\n			"),t.buffer.push("	\n	        <!--/td>	\n			</tr-->\n\n			<tr>\n			<td>Time Format:</td>\n			<td>\n			"),r={},a={},i=n["if"].call(e,"view.colon_format",{hash:{},inverse:_.program(19,g,t),fn:_.program(17,f,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("		\n	        </td>\n	        </tr>\n		"),s}function d(e,t){var i,r,a="";return t.buffer.push("\n				"),i={contentBinding:e,"class":e},r={contentBinding:"STRING","class":"STRING"},t.buffer.push(w(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.date_formats","class":"date_format input-small"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n	        "),a}function p(e,t){t.buffer.push('\n				<label class="text text-error">Invalid seperator</label>\n		    ')}function f(e,t){var i,r,a="";return t.buffer.push("\n				"),i={contentBinding:e,"class":e},r={contentBinding:"STRING","class":"STRING"},t.buffer.push(w(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.time_formats_colon","class":"time_format input-small"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n	        "),a}function g(e,t){var i,r,a="";return t.buffer.push("\n				"),i={contentBinding:e,"class":e},r={contentBinding:"STRING","class":"STRING"},t.buffer.push(w(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.time_formats_space","class":"time_format input-small"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n	        "),a}function m(e,t){t.buffer.push("\n		<tr>\n			<td>No options</td>\n		</tr>\n		")}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var v,b,y,x="",w=this.escapeExpression,_=this;return r.buffer.push('<table class="table-small">	\n		'),b={},y={},v=n["if"].call(t,"view.varchar",{hash:{},inverse:_.noop,fn:_.program(1,a,r),contexts:[t],types:["ID"],hashContexts:y,hashTypes:b,data:r}),(v||0===v)&&r.buffer.push(v),r.buffer.push("\n\n		"),b={},y={},v=n["if"].call(t,"view.decimal",{hash:{},inverse:_.noop,fn:_.program(3,s,r),contexts:[t],types:["ID"],hashContexts:y,hashTypes:b,data:r}),(v||0===v)&&r.buffer.push(v),r.buffer.push("\n\n		"),b={},y={},v=n["if"].call(t,"view.date",{hash:{},inverse:_.noop,fn:_.program(5,o,r),contexts:[t],types:["ID"],hashContexts:y,hashTypes:b,data:r}),(v||0===v)&&r.buffer.push(v),r.buffer.push("\n\n		"),b={},y={},v=n["if"].call(t,"view.time",{hash:{},inverse:_.noop,fn:_.program(7,l,r),contexts:[t],types:["ID"],hashContexts:y,hashTypes:b,data:r}),(v||0===v)&&r.buffer.push(v),r.buffer.push("		\n\n		"),b={},y={},v=n["if"].call(t,"view.datetime",{hash:{},inverse:_.noop,fn:_.program(12,u,r),contexts:[t],types:["ID"],hashContexts:y,hashTypes:b,data:r}),(v||0===v)&&r.buffer.push(v),r.buffer.push("		\n\n		"),b={},y={},v=n["if"].call(t,"view.no_options",{hash:{},inverse:_.noop,fn:_.program(21,m,r),contexts:[t],types:["ID"],hashContexts:y,hashTypes:b,data:r}),(v||0===v)&&r.buffer.push(v),r.buffer.push("\n</table>\n"),x}),Ember.TEMPLATES["data_sources/select_sheet"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a="";return t.buffer.push('\n					<div class=\'span\' style="padding: 5px;">\n						<input type="radio" style="margin-top: -3px;" name="sheet_name" '),i={value:e},r={value:"ID"},t.buffer.push(h(n.bindAttr.call(e,{hash:{value:"sheet"},contexts:[],types:[],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("> "),r={},i={},t.buffer.push(h(n._triageMustache.call(e,"sheet",{hash:{},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n					</div>\n			"),a}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var s,o,l,c="",h=this.escapeExpression,u=this;return r.buffer.push('\n<div class="modal-backdrop fade in"></div>\n<div id=\'modal-select-sheet\' class=\'modal small-modal\'>\n	<div class="modal-header">\n	<div style= "float:right;width:100px">\n		<button type="button" class="close" data-dismiss="modal" aria-hidden="true" '),o={},l={},r.buffer.push(h(n.action.call(t,"cancelUploadProcess","model",{hash:{},contexts:[t,t],types:["STRING","ID"],hashContexts:l,hashTypes:o,data:r}))),r.buffer.push('>\n			×\n		</button>\n	</div>\n		<h3 id="myModalLabel"> Select a Worksheet </h3>\n\n	</div>\n	<div id=\'new-chart-notice\' style="text-align: center"></div>\n	<div class="modal-body">\n	\n	<form id = "new_chart">\n		<fieldset>\n		<div class="row">\n			'),o={},l={},s=n.each.call(t,"sheet","in","view.sheetsArr",{hash:{},inverse:u.noop,fn:u.program(1,a,r),contexts:[t,t,t],types:["ID","ID","ID"],hashContexts:l,hashTypes:o,data:r}),(s||0===s)&&r.buffer.push(s),r.buffer.push('\n		</div>		\n		<div class="form-actions">\n			<button type="submit" class="btn btn-primary" > Upload </button>\n			<button class="btn" '),o={},l={},r.buffer.push(h(n.action.call(t,"cancelUploadProcess","model",{hash:{},contexts:[t,t],types:["STRING","ID"],hashContexts:l,hashTypes:o,data:r}))),r.buffer.push("  >\n				Cancel\n			</button>\n			\n		</div>\n\n		</fieldset>\n	</form>\n	\n	</div>\n</div>\n"),c
}),Ember.TEMPLATES.date_time=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{},r.buffer.push('<div class="input-append date datetimepicker">\n    <input type="text" value="" readonly style="width:100%;">\n    <span class="add-on">\n        <i data-time-icon="icon-time" data-date-icon="icon-calendar"></i>\n    </span>\n</div>\n')}),Ember.TEMPLATES.field_preview=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var a,s,o,l,c="",h=this.escapeExpression,u=n.helperMissing;return r.buffer.push('<td class="field_name">\n	<label> '),s={},o={},r.buffer.push(h(n._triageMustache.call(t,"field",{hash:{},contexts:[t],types:["ID"],hashContexts:o,hashTypes:s,data:r}))),r.buffer.push(" </label>\n</td>\n\n<td>\n	"),o={contentBinding:t,optionValuePath:t,optionLabelPath:t,valueBinding:t,"class":t},s={contentBinding:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING","class":"STRING"},r.buffer.push(h(n.view.call(t,"Ember.Select",{hash:{contentBinding:"view.datatypes",optionValuePath:"content.value",optionLabelPath:"content.label",valueBinding:"view.data_type","class":"data_type input-small"},contexts:[t],types:["ID"],hashContexts:o,hashTypes:s,data:r}))),r.buffer.push("\n</td>\n\n<td>\n    "),s={},o={},l={hash:{},contexts:[t,t],types:["STRING","ID"],hashContexts:o,hashTypes:s,data:r},r.buffer.push(h((a=n.render,a?a.call(t,"data_sources/options","",l):u.call(t,"render","data_sources/options","",l)))),r.buffer.push('\n</td>\n\n<td>\n	<input type="text" '),o={value:t},s={value:"STRING"},r.buffer.push(h(n.bindAttr.call(t,{hash:{value:"view.default_value"},contexts:[],types:[],hashContexts:o,hashTypes:s,data:r}))),r.buffer.push(" class=\"default_value\">\n</td>\n\n<td style=\"text-align:center;\">\n	<input type='checkbox' class='ignored'></input>\n</td>\n"),c}),Ember.TEMPLATES.fields_preview=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a="";return t.buffer.push('\n		<tr class="previewFields">\n			'),i={contentBinding:e},r={contentBinding:"STRING"},t.buffer.push(h(n.view.call(e,"view.previewFieldView",{hash:{contentBinding:"field"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n		</tr>\n	"),a}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var s,o,l,c="",h=this.escapeExpression,u=this;return r.buffer.push("<table class='table table-bordered'>\n	<tr>\n		<th>Fields</th>\n		<th>Data Types</th>\n		<th>Options</th>\n		<th>Default Values</th>\n		<th>Ignore Field</th>\n	</tr>\n	"),o={},l={},s=n.each.call(t,"field","in","view.fields",{hash:{},inverse:u.noop,fn:u.program(1,a,r),contexts:[t,t,t],types:["ID","ID","ID"],hashContexts:l,hashTypes:o,data:r}),(s||0===s)&&r.buffer.push(s),r.buffer.push("\n</table>\n"),c}),Ember.TEMPLATES.home=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var a="";return a}),Ember.TEMPLATES.permission=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a="";return t.buffer.push("\n			"),i={contentBinding:e,valueBinding:e,"class":e,required:e},r={contentBinding:"STRING",valueBinding:"ID","class":"STRING",required:"BOOLEAN"},t.buffer.push(g(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.roles",valueBinding:"permission.role","class":"input-small",required:!0},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n		"),a}function s(e,t){var i,r,a="";return t.buffer.push("\n			"),i={contentBinding:e,valueBinding:e,"class":e,required:e,disabled:e},r={contentBinding:"STRING",valueBinding:"ID","class":"STRING",required:"BOOLEAN",disabled:"STRING"},t.buffer.push(g(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.roles",valueBinding:"permission.role","class":"input-small",required:!0,disabled:"disabled"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n		"),a}function o(e,t){var i,r,a="";return t.buffer.push("\n				<button class='btn btn-mini' "),i={target:e},r={target:"ID"},t.buffer.push(g(n.action.call(e,"save","permission",{hash:{target:"view"},contexts:[e,e],types:["STRING","ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push(">\n					Save\n				</button>\n			"),a}function l(e,t){t.buffer.push("						\n				<button class='btn btn-mini disabled'>\n					<i class=\"icon-pencil\"></i>\n				</button>\n			")}function c(e,t){var i,r,a="";return t.buffer.push("\n				<button class='btn btn-mini' "),i={target:e},r={target:"ID"},t.buffer.push(g(n.action.call(e,"delete","permission",{hash:{target:"view"},contexts:[e,e],types:["STRING","ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push('>\n					<i class="icon-trash"></i>\n				</button>\n			'),a}function h(e,t){t.buffer.push("\n				<button class='btn btn-mini disabled'>\n					<i class=\"icon-trash\"></i>\n				</button>\n			")}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var u,d,p,f="",g=this.escapeExpression,m=this;return r.buffer.push("<tr>\n	<td>"),d={},p={},r.buffer.push(g(n._triageMustache.call(t,"permission.userName",{hash:{},contexts:[t],types:["ID"],hashContexts:p,hashTypes:d,data:r}))),r.buffer.push("</td>\n	<td>\n		"),d={},p={},r.buffer.push(g(n._triageMustache.call(t,"permission.entityName",{hash:{},contexts:[t],types:["ID"],hashContexts:p,hashTypes:d,data:r}))),r.buffer.push("\n	</td>\n	<td>\n		"),d={},p={},u=n["if"].call(t,"can_destroy",{hash:{},inverse:m.program(3,s,r),fn:m.program(1,a,r),contexts:[t],types:["ID"],hashContexts:p,hashTypes:d,data:r}),(u||0===u)&&r.buffer.push(u),r.buffer.push('\n	</td>	\n	<td>\n		<div class="btn-group">\n\n			'),d={},p={},u=n["if"].call(t,"permission.isDirty",{hash:{},inverse:m.program(7,l,r),fn:m.program(5,o,r),contexts:[t],types:["ID"],hashContexts:p,hashTypes:d,data:r}),(u||0===u)&&r.buffer.push(u),r.buffer.push("\n\n\n			\n			"),d={},p={},u=n["if"].call(t,"can_destroy",{hash:{},inverse:m.program(11,h,r),fn:m.program(9,c,r),contexts:[t],types:["ID"],hashContexts:p,hashTypes:d,data:r}),(u||0===u)&&r.buffer.push(u),r.buffer.push("				\n		</div>\n	</td>\n</tr>\n"),f}),Ember.TEMPLATES.permissions=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a,o="";return t.buffer.push('\n	<table class="table table-bordered">\n		<tr>\n			<th>User Name</th>			\n			<th>Entity</th>\n			<th>Role</th>\n			<th>Edit | Delete</th>\n		</tr>\n	'),r={},a={},i=n.each.call(e,"permission","in","permissions",{hash:{},inverse:f.noop,fn:f.program(2,s,t),contexts:[e,e,e],types:["ID","ID","ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n\n	</table>\n"),o}function s(e,t){var i,r,a,s,o="";return t.buffer.push("\n		"),r={},a={},s={hash:{},contexts:[e,e],types:["STRING","ID"],hashContexts:a,hashTypes:r,data:t},t.buffer.push(p((i=n.render,i?i.call(e,"permission","permission",s):d.call(e,"render","permission","permission",s)))),t.buffer.push("\n	"),o}function o(e,t){t.buffer.push("\n	<h4 class='alert alert-info'>\n		No permissions for this workspace!\n	</h4>\n")}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var l,c,h,u="",d=n.helperMissing,p=this.escapeExpression,f=this;return c={},h={},l=n["if"].call(t,"permissions",{hash:{},inverse:f.program(4,o,r),fn:f.program(1,a,r),contexts:[t],types:["ID"],hashContexts:h,hashTypes:c,data:r}),(l||0===l)&&r.buffer.push(l),r.buffer.push("\n"),u}),Ember.TEMPLATES.query_data_source=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){t.buffer.push('\n				<div class=\'span\' style="margin-left: 10px; margin-right: 10px;">\n					<img src="/assets/ajax-loader.gif"/>\n				</div>\n			')}function s(e,t){var i,r,a,s="";return t.buffer.push('\n			<div class=\'row\' style="width:100%;">\n				<div class="span modal" style="width:99.7%; min-height:200px; position:inherit; margin-bottom:10px;">\n					<div class="row modal-header">\n						<h4 style="display: inline;">Results Preview</h4>\n						<a style="vertical-align: sub;" '),r={target:e,on:e},a={target:"ID",on:"STRING"},t.buffer.push(S(n.action.call(e,"previewResults",{hash:{target:"view",on:"click"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push('>\n							<i class = "icon-repeat pull-right" style="padding: 0px; margin: 5px;"></i>\n						</a>\n					</div>\n					<div class="row modal-body">\n						\n						'),a={},r={},i=n["if"].call(e,"preview_results",{hash:{},inverse:E.program(6,l,t),fn:E.program(4,o,t),contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push('	\n					</div>\n				</div>\n			</div>\n\n			<div class=\'row\' style="width:100%;">\n				<div class="span modal" style="width:99.7%; min-height:200px; position:inherit; margin-bottom:10px;">\n					<div class="row modal-header">\n						<h4>Fields</h4>\n					</div>\n					<div class="row modal-body fieldsPreview">\n						'),a={},r={},i=n["if"].call(e,"preview_results",{hash:{},inverse:E.noop,fn:E.program(11,u,t),contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("	\n					</div>\n				</div>\n			</div>\n		"),s}function o(e,t){var i,r,a="";return t.buffer.push("\n							"),i={},r={},t.buffer.push(S(n.view.call(e,"view.previewResultsView",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n						"),a}function l(e,t){var i,r,a,s="";return t.buffer.push("\n							"),r={},a={},i=n["if"].call(e,"preview_error",{hash:{},inverse:E.program(9,h,t),fn:E.program(7,c,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("					\n						"),s}function c(e,t){var i,r,a="";return t.buffer.push('\n								<div class="alert alert-error">\n									<p>'),i={},r={},t.buffer.push(S(n._triageMustache.call(e,"preview_error",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("</p>\n								</div>\n							"),a}function h(e,t){t.buffer.push('\n								<div class="alert alert-block">\n									<p>No preview. Please hit refresh</p>\n								</div>\n							')}function u(e,t){var i,r,a="";return t.buffer.push("\n							"),i={},r={},t.buffer.push(S(n.view.call(e,"view.previewFieldsView",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n						"),a}function d(e,t){var i,r,a="";return t.buffer.push('\n										<input type="text" '),i={value:e},r={value:"STRING"},t.buffer.push(S(n.bindAttr.call(e,{hash:{value:"view.getImportTypeLabel"},contexts:[],types:[],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push(' class="pull-left disabled" style="background-color:#eeeeee;">\n									'),a}function p(e,t){var i,r,a="";return t.buffer.push("\n										"),i={id:e,contentBinding:e,optionValuePath:e,optionLabelPath:e,valueBinding:e,"class":e},r={id:"STRING",contentBinding:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING","class":"STRING"},t.buffer.push(S(n.view.call(e,"Ember.Select",{hash:{id:"query_ds_import_type_id",contentBinding:"view.importTypes",optionValuePath:"content.value",optionLabelPath:"content.label",valueBinding:"view.import_type","class":"pull-left"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n									"),a}function f(e,t){var i,r,a,s="";return t.buffer.push('\n								<div class="span" style="width:50%;">\n									<div class="row">\n										<h5>Unique Key</h5>\n									</div>\n									<div class="row" style="margin-bottom: 10px;">\n										'),r={},a={},i=n["if"].call(e,"view.isDisabled",{hash:{},inverse:E.program(20,m,t),fn:E.program(18,g,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n									</div>\n								</div>\n							"),s}function g(e,t){var i,r,a="";return t.buffer.push('\n											<input type="text" '),i={value:e},r={value:"STRING"},t.buffer.push(S(n.bindAttr.call(e,{hash:{value:"view.uniqueKey"},contexts:[],types:[],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push(' class="pull-left disabled" style="background-color:#eeeeee;">\n										'),a}function m(e,t){var i,r,a="";return t.buffer.push("\n											"),i={contentBinding:e,valueBinding:e,id:e,"class":e},r={contentBinding:"STRING",valueBinding:"STRING",id:"STRING","class":"STRING"},t.buffer.push(S(n.view.call(e,"Ember.Select",{hash:{contentBinding:"keyFields",valueBinding:"view.uniqueKey",id:"query_ds_unique_key_id","class":"pull-left"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n										"),a}function v(e,t){var i,r,a,s="";return t.buffer.push('\n						<div class="span" style="width:40%;">\n							<div class="row">\n								<fieldset>\n								    <legend style="font-size: 16px; line-height: 20px;">\n								    	Bookmark Conditions\n								    	<i class="icon-question-sign pull-right"></i>\n								    </legend>\n								    <div class="span" style="width:50%;">\n								    	<div class="row">\n											<h5>Bookmark Key</h5>\n										</div>\n										<div class="row" style="margin-bottom: 10px;">\n											'),r={},a={},i=n["if"].call(e,"view.isDisabled",{hash:{},inverse:E.program(25,y,t),fn:E.program(23,b,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push('\n										</div>\n\n										<div class="row">\n											<h5>Bookmark Comparison Operator</h5>\n										</div>\n										<div class="row" style="margin-bottom: 10px;">\n											'),r={},a={},i=n["if"].call(e,"view.isDisabled",{hash:{},inverse:E.program(29,w,t),fn:E.program(27,x,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n										</div>\n								    </div>\n								</fieldset>\n							</div>\n						</div>					\n					"),s}function b(e,t){var i,r,a="";return t.buffer.push('\n												<input type="text" '),i={value:e},r={value:"STRING"},t.buffer.push(S(n.bindAttr.call(e,{hash:{value:"view.bookmarkKey"},contexts:[],types:[],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push(' class="pull-left disabled" style="background-color:#eeeeee;">\n											'),a}function y(e,t){var i,r,a="";return t.buffer.push("\n												"),i={contentBinding:e,valueBinding:e,id:e,"class":e},r={contentBinding:"STRING",valueBinding:"STRING",id:"STRING","class":"STRING"},t.buffer.push(S(n.view.call(e,"Ember.Select",{hash:{contentBinding:"keyFields",valueBinding:"view.bookmarkKey",id:"query_ds_bookmark_key_id","class":"pull-left"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n											"),a}function x(e,t){var i,r,a="";return t.buffer.push('\n												<input type="text" '),i={value:e},r={value:"STRING"},t.buffer.push(S(n.bindAttr.call(e,{hash:{value:"view.bookmarkComparison"},contexts:[],types:[],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push(' class="pull-left disabled mini" style="background-color:#eeeeee; text-align: center;">\n											'),a}function w(e,t){var i,r,a="";return t.buffer.push("\n												"),i={contentBinding:e,valueBinding:e,id:e,"class":e},r={contentBinding:"STRING",valueBinding:"STRING",id:"STRING","class":"STRING"},t.buffer.push(S(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.bookmarkComparisonOperators",valueBinding:"view.bookmarkComparison",id:"query_ds_bookmark_comparison_id","class":"pull-left mini"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n											"),a}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var _,C,T,D="",S=this.escapeExpression,E=this;return r.buffer.push("<div>\n		<div class='row' style=\"width:100%;\">\n			"),C={contentBinding:t,valueBinding:t,optionValuePath:t,optionLabelPath:t,id:t,"class":t,selectionBinding:t},T={contentBinding:"STRING",valueBinding:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",id:"STRING","class":"STRING",selectionBinding:"STRING"},r.buffer.push(S(n.view.call(t,"Ember.Select",{hash:{contentBinding:"view.connections",valueBinding:"view.connection",optionValuePath:"content.id",optionLabelPath:"content.displayName",id:"query_ds_conn_id","class":"pull-left",selectionBinding:"view.data_connection_id"},contexts:[t],types:["ID"],hashContexts:C,hashTypes:T,data:r}))),r.buffer.push("\n\n		    "),T={},C={},_=n["if"].call(t,"data_loading",{hash:{},inverse:E.noop,fn:E.program(1,a,r),contexts:[t],types:["ID"],hashContexts:C,hashTypes:T,data:r}),(_||0===_)&&r.buffer.push(_),r.buffer.push('\n\n			<div class="span alert alert-info qds_info_message" style="visibility: hidden;">\n			</div>\n\n		    <button class=\'btn pull-right\' '),C={target:t,on:t},T={target:"STRING",on:"STRING"},r.buffer.push(S(n.action.call(t,"saveQuery",{hash:{target:"view",on:"click"},contexts:[t],types:["ID"],hashContexts:C,hashTypes:T,data:r}))),r.buffer.push('>Save</button>\n		</div>\n\n		<div class=\'row\' style="width:100%;">\n			<div class="span modal" style="width:99.7%; min-height:200px; position:inherit; margin-right:10px; margin-bottom:10px;">\n				<div class="row modal-header">\n					<h4>Query</h4>\n				</div>\n				<div class="row modal-body">\n					'),C={rows:t,valueBinding:t,required:t,placeholder:t,"class":t,disabledBinding:t},T={rows:"INTEGER",valueBinding:"STRING",required:"BOOLEAN",placeholder:"STRING","class":"STRING",disabledBinding:"STRING"},r.buffer.push(S(n.view.call(t,"Cibi.TextArea",{hash:{rows:5,valueBinding:"view.query",required:!0,placeholder:"Query","class":"queryTextArea",disabledBinding:"view.isDisabled"},contexts:[t],types:["ID"],hashContexts:C,hashTypes:T,data:r}))),r.buffer.push("\n				</div>\n			</div>\n		</div>		\n\n		"),T={},C={},_=n.unless.call(t,"view.isDisabled",{hash:{},inverse:E.noop,fn:E.program(3,s,r),contexts:[t],types:["ID"],hashContexts:C,hashTypes:T,data:r}),(_||0===_)&&r.buffer.push(_),r.buffer.push('\n\n		<div class=\'row\' style="width:100%;">\n			<div class="span modal" style="width:99.7%; min-height:200px; position:inherit; margin-bottom:10px;">\n				<div class="row modal-header">\n					<h4>Data Source Properties</h4>\n				</div>\n				<div class="row modal-body">\n					<div class="span" style="width:60%;">\n						<div class="row" style="margin-bottom: 10px;">\n							<div class="span" style="width:50%;">\n								<div class="row">\n									<h5>Import Type</h5>\n								</div>\n								<div class="row" style="margin-bottom: 5px;">\n									'),T={},C={},_=n["if"].call(t,"view.isDisabled",{hash:{},inverse:E.program(15,p,r),fn:E.program(13,d,r),contexts:[t],types:["ID"],hashContexts:C,hashTypes:T,data:r}),(_||0===_)&&r.buffer.push(_),r.buffer.push('									\n								</div>\n							</div>\n							<div class="span" style="width:50%;">\n								<div class="row">\n									<h5>Disable Query</h5>\n								</div>\n								<div class="row" style="margin-bottom: 10px;">\n									'),C={valueBinding:t,checkedBinding:t},T={valueBinding:"STRING",checkedBinding:"STRING"},r.buffer.push(S(n.view.call(t,"Ember.Checkbox",{hash:{valueBinding:"view.disable",checkedBinding:"view.disable"},contexts:[t],types:["ID"],hashContexts:C,hashTypes:T,data:r}))),r.buffer.push('\n								</div>\n							</div>\n							\n						</div>\n						<div class="row" style="margin-bottom: 10px;">\n							<div class="span" style="width:50%;">\n								<div class="row">\n									<h5>Frequency of import (in minutes)</h5>\n								</div>\n								<div class="row" style="margin-bottom: 10px;">\n									'),C={min:t,"class":t,valueBinding:t,required:t},T={min:"STRING","class":"STRING",valueBinding:"STRING",required:"BOOLEAN"},r.buffer.push(S(n.view.call(t,"Cibi.NumberField",{hash:{min:"1","class":"input-mini",valueBinding:"view.frequency",required:!0},contexts:[t],types:["ID"],hashContexts:C,hashTypes:T,data:r}))),r.buffer.push(" minutes\n								</div>\n							</div>\n							"),T={},C={},_=n["if"].call(t,"view.isAppendTo",{hash:{},inverse:E.noop,fn:E.program(17,f,r),contexts:[t],types:["ID"],hashContexts:C,hashTypes:T,data:r}),(_||0===_)&&r.buffer.push(_),r.buffer.push("\n						</div>\n					</div>\n					"),T={},C={},_=n["if"].call(t,"view.isAppendTo",{hash:{},inverse:E.noop,fn:E.program(22,v,r),contexts:[t],types:["ID"],hashContexts:C,hashTypes:T,data:r}),(_||0===_)&&r.buffer.push(_),r.buffer.push("\n				</div>\n			</div>\n		</div>\n</div>\n"),D}),Ember.TEMPLATES.settings=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var a,s,o="",l=this.escapeExpression;return r.buffer.push('<div class="span" style="width:100%;">\n	<div class="row" '),a={style:t},s={style:"ID"},r.buffer.push(l(n.bindAttr.call(t,{hash:{style:"view.accountTopNavColor"},contexts:[],types:[],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push('>	\n		<button class="btn btn-info flat-button" type="button" style="margin-top:7px; background-color:#4093cd;">Color Preferences</button>\n	</div>\n</div>\n\n\n	<div class="tab-content main-tab">\n		<div class="row" style="background-color: #E3E3E3;min-height: 620px; padding:20px 0 0 20px;">\n			'),s={},a={},r.buffer.push(l(n._triageMustache.call(t,"outlet",{hash:{},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push("\n		</div>\n	</div><!-- tab-content -->	\n"),o}),Ember.TEMPLATES["settings/colors"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){t.buffer.push("\n	<h4 class='alert alert-info'>\n		Saving...\n	</h4>\n")}function s(e,t){var i,r,a="";return t.buffer.push("\n				<span class='label' "),i={style:e},r={style:"ID"},t.buffer.push(f(n.bindAttr.call(e,{hash:{style:"color"},contexts:[],types:[],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push(">&nbsp		\n				</span>\n			"),a}function o(e,t){var i,r,a,s="";return t.buffer.push("\n					<li> \n						<a "),r={},a={},t.buffer.push(f(n.action.call(e,"selectTheme","_view.contentIndex",{hash:{},contexts:[e,e],types:["ID","ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push("\n						"),r={},a={},i=n.each.call(e,"c","in","theme",{hash:{},inverse:g.noop,fn:g.program(6,l,t),contexts:[e,e,e],types:["ID","ID","ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n						</a>\n					</li>\n				"),s}function l(e,t){var i,r,a="";return t.buffer.push("\n							<span class='label' "),i={style:e},r={style:"ID"},t.buffer.push(f(n.bindAttr.call(e,{hash:{style:"c"},contexts:[],types:[],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push(">&nbsp		\n							</span>	\n						"),a}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var c,h,u,d,p="",f=this.escapeExpression,g=this,m=n.helperMissing;return r.buffer.push("\n"),h={},u={},c=n["if"].call(t,"isSaving",{hash:{},inverse:g.noop,fn:g.program(1,a,r),contexts:[t],types:["ID"],hashContexts:u,hashTypes:h,data:r}),(c||0===c)&&r.buffer.push(c),r.buffer.push("\n\n<form class=\"form\" >\n	<div class='row'>\n		<div class='span'>\n			Color Palette\n		</div>\n		<div class='span'>\n			"),h={},u={},c=n.each.call(t,"color","in","palette",{hash:{},inverse:g.noop,fn:g.program(3,s,r),contexts:[t,t,t],types:["ID","ID","ID"],hashContexts:u,hashTypes:h,data:r}),(c||0===c)&&r.buffer.push(c),r.buffer.push('\n		</div>\n		&nbsp;\n		<div class="btn-group">\n		  <button class="btn-mini dropdown-toggle" data-toggle="dropdown">\n		    <span class="caret"></span>\n		  </button>\n		  <ul class="dropdown-menu" style="max-width: 350px">\n				'),h={},u={},c=n.each.call(t,"theme","in","colorThemes",{hash:{},inverse:g.noop,fn:g.program(5,o,r),contexts:[t,t,t],types:["ID","ID","ID"],hashContexts:u,hashTypes:h,data:r}),(c||0===c)&&r.buffer.push(c),r.buffer.push('	  \n		  </ul>\n		</div>\n	</div>\n	<hr>\n	<h3>Basic Chart Colors</h3>\n	<div class="row">\n		<div class="span2">	\n			Bar Color\n			<br />\n			'),u={type:t,"class":t,placeholder:t,valueBinding:t},h={type:"STRING","class":"STRING",placeholder:"STRING",valueBinding:"STRING"},d={hash:{type:"color","class":"input-mini",placeholder:"#0099ff",valueBinding:"bar"},contexts:[],types:[],hashContexts:u,hashTypes:h,data:r},r.buffer.push(f((c=n.input,c?c.call(t,d):m.call(t,"input",d)))),r.buffer.push('\n		</div>\n		<div class="span2">	\n			Line Color\n			<br />\n			'),u={type:t,"class":t,placeholder:t,valueBinding:t},h={type:"STRING","class":"STRING",placeholder:"STRING",valueBinding:"STRING"},d={hash:{type:"color","class":"input-mini",placeholder:"#ff6633",valueBinding:"line"},contexts:[],types:[],hashContexts:u,hashTypes:h,data:r},r.buffer.push(f((c=n.input,c?c.call(t,d):m.call(t,"input",d)))),r.buffer.push('\n		</div>\n	\n		<div class="span2">\n			Area Color\n			<br />\n			'),u={type:t,"class":t,placeholder:t,valueBinding:t},h={type:"STRING","class":"STRING",placeholder:"STRING",valueBinding:"STRING"},d={hash:{type:"color","class":"input-mini",placeholder:"#0099ff",valueBinding:"area"},contexts:[],types:[],hashContexts:u,hashTypes:h,data:r},r.buffer.push(f((c=n.input,c?c.call(t,d):m.call(t,"input",d)))),r.buffer.push('\n		</div>\n\n	</div>\n\n	<hr>\n	<h3>Statistical Indicators</h3>\n	<div class="row">\n		<div class="span2">	\n			Error Bar Color\n			<br />\n			'),u={type:t,"class":t,placeholder:t,valueBinding:t},h={type:"STRING","class":"STRING",placeholder:"STRING",valueBinding:"STRING"},d={hash:{type:"color","class":"input-mini",placeholder:"#999999",valueBinding:"errorBar"},contexts:[],types:[],hashContexts:u,hashTypes:h,data:r},r.buffer.push(f((c=n.input,c?c.call(t,d):m.call(t,"input",d)))),r.buffer.push('\n		</div>\n		<div class="span2">	\n			Control Key Color\n			<br />\n			'),u={type:t,"class":t,placeholder:t,valueBinding:t},h={type:"STRING","class":"STRING",placeholder:"STRING",valueBinding:"STRING"},d={hash:{type:"color","class":"input-mini",placeholder:"#FFFF00",valueBinding:"controlKey"},contexts:[],types:[],hashContexts:u,hashTypes:h,data:r},r.buffer.push(f((c=n.input,c?c.call(t,d):m.call(t,"input",d)))),r.buffer.push('\n		</div>\n	\n		<div class="span2">\n			Statistical Relevance Color\n			<br />\n			'),u={type:t,"class":t,placeholder:t,valueBinding:t},h={type:"STRING","class":"STRING",placeholder:"STRING",valueBinding:"STRING"},d={hash:{type:"color","class":"input-mini",placeholder:"#00E600",valueBinding:"statisticalRelevance"},contexts:[],types:[],hashContexts:u,hashTypes:h,data:r},r.buffer.push(f((c=n.input,c?c.call(t,d):m.call(t,"input",d)))),r.buffer.push('\n		</div>\n\n	</div>\n	<hr>\n	<div class=\'row\'>\n		<div class="span">\n			<button class="btn btn-primary" '),h={},u={},r.buffer.push(f(n.action.call(t,"save",{hash:{},contexts:[t],types:["ID"],hashContexts:u,hashTypes:h,data:r}))),r.buffer.push("> Save </button>\n		</div>\n\n	</div>\n	\n\n</form>\n"),p}),Ember.TEMPLATES["settings/user"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var a,s,o="",l=this.escapeExpression;return r.buffer.push("<h2>Hello "),a={},s={},r.buffer.push(l(n._triageMustache.call(t,"Cibi.Auth.currentUser.email",{hash:{},contexts:[t],types:["ID"],hashContexts:s,hashTypes:a,data:r}))),r.buffer.push("</h2\n"),o}),Ember.TEMPLATES.spree_data_source=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a="";return t.buffer.push("\n			"),i={valueBinding:e,name:e,placeholder:e,disabled:e},r={valueBinding:"STRING",name:"STRING",placeholder:"STRING",disabled:"STRING"},t.buffer.push(y(n.view.call(e,"Ember.TextField",{hash:{valueBinding:"view.storeName",name:"storeName",placeholder:"Store Name",disabled:"true"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n		"),a}function s(e,t){var i,r,a="";return t.buffer.push("\n			"),i={valueBinding:e,name:e,placeholder:e},r={valueBinding:"STRING",name:"STRING",placeholder:"STRING"},t.buffer.push(y(n.view.call(e,"Ember.TextField",{hash:{valueBinding:"view.storeName",name:"storeName",placeholder:"Store Name"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n		"),a}function o(e,t){var i,r,a="";return t.buffer.push("\n			"),i={valueBinding:e,name:e,placeholder:e,disabled:e},r={valueBinding:"STRING",name:"STRING",placeholder:"STRING",disabled:"STRING"},t.buffer.push(y(n.view.call(e,"Ember.TextField",{hash:{valueBinding:"view.storeUrl",name:"storeUrl",placeholder:"Store URL",disabled:"true"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n		"),a}function l(e,t){var i,r,a="";return t.buffer.push("	\n			"),i={valueBinding:e,name:e,placeholder:e},r={valueBinding:"STRING",name:"STRING",placeholder:"STRING"},t.buffer.push(y(n.view.call(e,"Ember.TextField",{hash:{valueBinding:"view.storeUrl",name:"storeUrl",placeholder:"Store URL"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n		"),a}function c(e,t){var i,r,a="";return t.buffer.push("\n			"),i={valueBinding:e,name:e,placeholder:e,disabled:e},r={valueBinding:"STRING",name:"STRING",placeholder:"STRING",disabled:"STRING"},t.buffer.push(y(n.view.call(e,"Ember.TextField",{hash:{valueBinding:"view.apiToken",name:"apiToken",placeholder:"Spree Api Token",disabled:"true"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n		"),a}function h(e,t){var i,r,a="";return t.buffer.push("\n			"),i={valueBinding:e,name:e,placeholder:e},r={valueBinding:"STRING",name:"STRING",placeholder:"STRING"},t.buffer.push(y(n.view.call(e,"Ember.TextField",{hash:{valueBinding:"view.apiToken",name:"apiToken",placeholder:"Spree Api Token"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n		"),a}function u(e,t){var i,r,a="";return t.buffer.push("\n			"),i={valueBinding:e,name:e,placeholder:e,disabled:e},r={valueBinding:"STRING",name:"STRING",placeholder:"STRING",disabled:"STRING"},t.buffer.push(y(n.view.call(e,"Ember.TextField",{hash:{valueBinding:"view.importType",name:"importType",placeholder:"Import type",disabled:"true"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n	    "),a}function d(e,t){var i,r,a="";return t.buffer.push("\n			"),i={contentBinding:e,valueBinding:e,optionValuePath:e,optionLabelPath:e,"class":e},r={contentBinding:"STRING",valueBinding:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING","class":"STRING"},t.buffer.push(y(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.importOptions",valueBinding:"view.importType",optionValuePath:"content.key",optionLabelPath:"content.name","class":"input-medium"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n	    "),a}function p(e,t){t.buffer.push('\n			<input type="submit" value="Update" class="btn btn-primary"></input>\n		')}function f(e,t){t.buffer.push('\n			<input type="submit" value="Save" class="btn btn-primary"></input>\n		')}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var g,m,v,b="",y=this.escapeExpression,x=this;return r.buffer.push('<div class="alert alert-info sds_info_message" style="display: none;">\n</div>\n<form>\n	<div class="row">\n		<h5>Store Name</h5>\n	</div>\n	<div class="row control-group" id="store_name_control_grp">\n		'),m={},v={},g=n["if"].call(t,"view.modelExist",{hash:{},inverse:x.program(3,s,r),fn:x.program(1,a,r),contexts:[t],types:["ID"],hashContexts:v,hashTypes:m,data:r}),(g||0===g)&&r.buffer.push(g),r.buffer.push('\n	</div>\n	<div class="row">\n		<h5>Store URL</h5>\n	</div>\n	<div class="row control-group" id="store_url_control_grp">\n		'),m={},v={},g=n["if"].call(t,"view.modelExist",{hash:{},inverse:x.program(7,l,r),fn:x.program(5,o,r),contexts:[t],types:["ID"],hashContexts:v,hashTypes:m,data:r}),(g||0===g)&&r.buffer.push(g),r.buffer.push('\n	</div>\n	<div class="row">\n		<h5>Spree Api Token</h5>\n	</div>\n	<div class="row control-group" id="api_token_control_grp">\n		'),m={},v={},g=n["if"].call(t,"view.modelExist",{hash:{},inverse:x.program(11,h,r),fn:x.program(9,c,r),contexts:[t],types:["ID"],hashContexts:v,hashTypes:m,data:r}),(g||0===g)&&r.buffer.push(g),r.buffer.push('\n	</div>\n	<div class="row">\n		<h5>Import type</h5>\n	</div>\n	<div class="row">\n		'),m={},v={},g=n["if"].call(t,"view.modelExist",{hash:{},inverse:x.program(15,d,r),fn:x.program(13,u,r),contexts:[t],types:["ID"],hashContexts:v,hashTypes:m,data:r}),(g||0===g)&&r.buffer.push(g),r.buffer.push('\n	</div>	\n	<div class="row">\n		<h5>Frequency of import</h5>\n	</div>\n	<div class="row">\n		'),r.buffer.push("\n			"),r.buffer.push("\n		"),r.buffer.push("\n			"),v={valueBinding:t,name:t,"class":t,min:t},m={valueBinding:"STRING",name:"STRING","class":"STRING",min:"STRING"},r.buffer.push(y(n.view.call(t,"Cibi.NumberField",{hash:{valueBinding:"view.frequencyOfImport",name:"frequncy","class":"mini",min:"5"},contexts:[t],types:["ID"],hashContexts:v,hashTypes:m,data:r}))),r.buffer.push("\n		"),r.buffer.push('\n	    Minutes\n	</div>\n	<div class="row">\n		<h5>\n			'),v={checkedBinding:t,valueBinding:t,name:t},m={checkedBinding:"STRING",valueBinding:"STRING",name:"STRING"},r.buffer.push(y(n.view.call(t,"Ember.Checkbox",{hash:{checkedBinding:"view.enabled",valueBinding:"view.enabled",name:"enabled"},contexts:[t],types:["ID"],hashContexts:v,hashTypes:m,data:r}))),r.buffer.push('\n		Enabled</h5>\n	</div>	\n	<div class=\'row\'>\n		<div class="span" style="margin-top:10px;">\n		'),m={},v={},g=n["if"].call(t,"view.modelExist",{hash:{},inverse:x.program(19,f,r),fn:x.program(17,p,r),contexts:[t],types:["ID"],hashContexts:v,hashTypes:m,data:r}),(g||0===g)&&r.buffer.push(g),r.buffer.push("\n		</div>\n	</div>	\n</form>\n"),b
}),Ember.TEMPLATES.user_mgmt=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var a,s,o="",l=this.escapeExpression;return r.buffer.push('<div class="span" style="width:100%;">\n	<div class="row" '),a={style:t},s={style:"ID"},r.buffer.push(l(n.bindAttr.call(t,{hash:{style:"view.accountTopNavColor"},contexts:[],types:[],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push('>	\n		<button class="btn btn-info flat-button" type="button" style="margin-top:7px; background-color:#4093cd;">Manage</button>\n	</div>\n</div>\n\n'),s={},a={},r.buffer.push(l(n._triageMustache.call(t,"outlet",{hash:{},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:r}))),r.buffer.push("\n\n"),o}),Ember.TEMPLATES["user_mgmt/create_user_filter"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){t.buffer.push("\n			<h5 class='muted'>\n				User will have no visibility for this data source!\n			</h5>\n		")}function s(e,t){var i,r,a,s="";return t.buffer.push('\n\n			<label style="margin-top: 3px;">\n				Select Field\n			</label>	\n			'),r={contentBinding:e,optionValuePath:e,optionLabelPath:e,valueBinding:e,"class":e},a={contentBinding:"ID",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"STRING","class":"STRING"},t.buffer.push(f(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.fields",optionValuePath:"content",optionLabelPath:"content.name",valueBinding:"view.field","class":"input-medium"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push("\n\n			"),a={},r={},i=n["if"].call(e,"view.isDateField",{hash:{},inverse:g.noop,fn:g.program(4,o,t),contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n\n			"),r={contentBinding:e,optionLabelPath:e,optionValuePath:e,valueBinding:e,"class":e},a={contentBinding:"STRING",optionLabelPath:"STRING",optionValuePath:"STRING",valueBinding:"STRING","class":"STRING"},t.buffer.push(f(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.operators",optionLabelPath:"content.display",optionValuePath:"content.value",valueBinding:"view.comparison_operator","class":"input-medium"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push("\n\n			<div "),r={id:e},a={id:"STRING"},t.buffer.push(f(n.bindAttr.call(e,{hash:{id:"view.filterValuesId"},contexts:[],types:[],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push(">\n			</div>\n		"),s}function o(e,t){var i,r,a="";return t.buffer.push("\n				<label>\n					Format As\n				</label>\n				"),i={contentBinding:e,valueBinding:e,"class":e},r={contentBinding:"ID",valueBinding:"STRING","class":"STRING"},t.buffer.push(f(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.dateFormats",valueBinding:"view.format_as","class":"input-medium"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n			"),a}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var l,c,h,u,d,p="",f=this.escapeExpression,g=this,m=n.helperMissing;return r.buffer.push("<a "),h={target:t},u={target:"ID"},r.buffer.push(f(n.action.call(t,"open_popover",{hash:{target:"view"},contexts:[t],types:["ID"],hashContexts:h,hashTypes:u,data:r}))),r.buffer.push(' rel="popover" class="dropdown-toggle" data-toggle="dropdown" >\n	Add Filter &nbsp;<i class="icon-filter"></i>					\n</a>		\n\n<div class="popover fade bottom in hidden" '),h={id:t},u={id:"STRING"},r.buffer.push(f(n.bindAttr.call(t,{hash:{id:"userFilterPopoverId"},contexts:[],types:[],hashContexts:h,hashTypes:u,data:r}))),r.buffer.push(' style="display: block; width: 300px;">\n	<div class="arrow hidden"></div>\n	<h3 class="popover-title hidden">Create Filter for '),u={},h={},r.buffer.push(f(n._triageMustache.call(t,"view.dataSource.name",{hash:{},contexts:[t],types:["ID"],hashContexts:h,hashTypes:u,data:r}))),r.buffer.push('</h3>	\n	\n	<div class="popover-content hidden">	\n		<form class="form" style="margin-bottom:0px;">\n		<div class=\'row\'>				\n			<label>\n				Filter Display Name\n			</label>\n			'),h={valueBinding:t,"class":t},u={valueBinding:"STRING","class":"STRING"},d={hash:{valueBinding:"view.display_name","class":"input-medium"},contexts:[],types:[],hashContexts:h,hashTypes:u,data:r},r.buffer.push(f((l=n.input,l?l.call(t,d):m.call(t,"input",d)))),r.buffer.push("\n\n			<div class='span' style=\"margin: 4px 0px 0px;\">\n				Hide Data Source\n				&nbsp;&nbsp;\n			</div>\n			<div class='span'>\n			&nbsp;&nbsp;\n				"),h={checkedBinding:t,style:t},u={checkedBinding:"ID",style:"STRING"},r.buffer.push(f(n.view.call(t,"Ember.Checkbox",{hash:{checkedBinding:"view.hide",style:"margin: 0px;"},contexts:[t],types:["ID"],hashContexts:h,hashTypes:u,data:r}))),r.buffer.push("\n			</div>\n				\n		</div>\n		<br />\n		"),u={},h={},c=n["if"].call(t,"view.hide",{hash:{},inverse:g.program(3,s,r),fn:g.program(1,a,r),contexts:[t],types:["ID"],hashContexts:h,hashTypes:u,data:r}),(c||0===c)&&r.buffer.push(c),r.buffer.push('\n		<div style="margin-top: 5px">\n			<input type="submit" value="Save" />\n			<button '),h={target:t},u={target:"ID"},r.buffer.push(f(n.action.call(t,"cancel",{hash:{target:"view"},contexts:[t],types:["ID"],hashContexts:h,hashTypes:u,data:r}))),r.buffer.push("> Cancel </button>\n		</div>\n	\n		</form>\n	</div>\n	\n</div>\n"),p}),Ember.TEMPLATES["user_mgmt/index"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a,s,o="";return t.buffer.push("\n	"),r={},a={},t.buffer.push(u(n.view.call(e,"Cibi.UsersNewView",{hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push('\n	<div class="span" style="width:100%;">\n		<div class="row" style="background-color: #E3E3E3;min-height: 620px; padding-left:20px;">\n			<div class="span" style="width:100%;">\n				<div class="row">\n					<div class="span"><h3>User Management</h3></div>\n					<button class="btn btn-info flat-button pull-right" type="button" style="background-color:#4093cd; margin:7px; margin-right:20px;" '),r={},a={},t.buffer.push(u(n.action.call(e,"showNewUserForm",{hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push(' >Create User</button>\n				</div>\n			</div>\n			<div class="span" style="width:100%;">\n				<div class="row" style="padding-right:20px;">\n					<table class="span table table-striped table-bordered" style="width:100%;">\n			 			<thead>\n						    <tr>\n						      <th>Name</th>\n						      <th>Email</th>\n						      <th>IsAdmin</th>\n						      <th>Grant API Access</th>\n						      <th>Status</th>\n						      <th>&nbsp;</th>\n						      <th>&nbsp;</th>\n						    </tr>\n						</thead>\n						<tbody>\n							'),r={},a={},s={hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t},t.buffer.push(u((i=n.render,i?i.call(e,"users",s):d.call(e,"render","users",s)))),t.buffer.push("\n						</tbody>\n					</table>\n				</div>\n			</div>	\n		</div>\n	</div>\n"),o}function s(e,t){t.buffer.push('\n	<div class="span" style="width:100%;">\n		<div class="row" style="background-color: #E3E3E3;min-height: 620px; padding-left:20px;padding-top:20px;">\n			<div class="span text-error" style="width:100%;">\n				You are not authorized to see this page!\n			</div>\n		</div>\n	</div>\n')}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var o,l,c,h="",u=this.escapeExpression,d=n.helperMissing,p=this;return r.buffer.push("\n"),l={},c={},o=n["if"].call(t,"Cibi.Auth.currentUser.isAdmin",{hash:{},inverse:p.program(3,s,r),fn:p.program(1,a,r),contexts:[t],types:["ID"],hashContexts:c,hashTypes:l,data:r}),(o||0===o)&&r.buffer.push(o),r.buffer.push("\n"),h}),Ember.TEMPLATES["user_mgmt/user"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){t.buffer.push(" User Management ")}function s(e,t){var i,r,a="";return t.buffer.push("\n				<span class='text-success'>"),i={},r={},t.buffer.push(g(n._triageMustache.call(e,"success_message",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("</span>\n			"),a}function o(e,t){var i,r,a="";return t.buffer.push("\n				<span class='text-error'>"),i={},r={},t.buffer.push(g(n._triageMustache.call(e,"error_message",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("</span>\n			"),a}function l(e,t){var i,r,a="";return t.buffer.push("\n					<tr>\n						<td>"),i={},r={},t.buffer.push(g(n._triageMustache.call(e,"dataSource.name",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("</td>\n						<td>\n							"),r={dataSourceBinding:e},i={dataSourceBinding:"ID"},t.buffer.push(g(n.view.call(e,"view.userFiltersListView",{hash:{dataSourceBinding:"dataSource"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("								\n						</td>\n						<td>\n 						    "),r={dataSourceBinding:e,userBinding:e},i={dataSourceBinding:"ID",userBinding:"ID"},t.buffer.push(g(n.view.call(e,"view.createUserFilterView",{hash:{dataSourceBinding:"dataSource",userBinding:"controller.content"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("			\n 						</td>\n					</tr>\n				"),a}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var c,h,u,d,p,f="",g=this.escapeExpression,m=this,v=n.helperMissing;return r.buffer.push('<div class="span" style="width:100%;">\n	<div class="row" style="background-color: #E3E3E3; padding-left:20px; padding-top: 10px">\n		<div class="span7" >\n			<h4> Data Filters for '),u={},d={},r.buffer.push(g(n._triageMustache.call(t,"fullName",{hash:{},contexts:[t],types:["ID"],hashContexts:d,hashTypes:u,data:r}))),r.buffer.push(' </h4>\n		</div>\n		<div class="span pull-right right-contained">\n			'),u={},d={},p={hash:{},inverse:m.noop,fn:m.program(1,a,r),contexts:[t],types:["STRING"],hashContexts:d,hashTypes:u,data:r},c=n.linkTo,h=c?c.call(t,"user_mgmt.index",p):v.call(t,"linkTo","user_mgmt.index",p),(h||0===h)&&r.buffer.push(h),r.buffer.push(" &nbsp; > &nbsp; "),u={},d={},r.buffer.push(g(n._triageMustache.call(t,"fullName",{hash:{},contexts:[t],types:["ID"],hashContexts:d,hashTypes:u,data:r}))),r.buffer.push("			\n		</div>\n	</div>\n	<div class='row' style=\"background-color: #E3E3E3; padding-left:20px; padding-top: 10px\">\n		<div class='span'>\n			"),u={},d={},h=n["if"].call(t,"success_message",{hash:{},inverse:m.noop,fn:m.program(3,s,r),contexts:[t],types:["ID"],hashContexts:d,hashTypes:u,data:r}),(h||0===h)&&r.buffer.push(h),r.buffer.push("\n			"),u={},d={},h=n["if"].call(t,"error_message",{hash:{},inverse:m.noop,fn:m.program(5,o,r),contexts:[t],types:["ID"],hashContexts:d,hashTypes:u,data:r}),(h||0===h)&&r.buffer.push(h),r.buffer.push('\n		</div>\n	</div>\n\n	<div class="row" style="background-color: #E3E3E3; min-height: 620px; padding-left:20px; padding-top: 10px">\n		<div class="span right-contained">\n			<table class="table table-striped table-bordered" style="width:100%;">\n				<thead>\n					<tr>\n						<th>Data Sources</th>						\n						<th>Existing Filters</th>\n						<th>Add</th>\n					</tr>\n				</thead>\n				'),u={},d={},h=n.each.call(t,"dataSource","in","dataSources",{hash:{},inverse:m.noop,fn:m.program(7,l,r),contexts:[t,t,t],types:["ID","ID","ID"],hashContexts:d,hashTypes:u,data:r}),(h||0===h)&&r.buffer.push(h),r.buffer.push("\n			</table>\n		</div>\n	</div>\n\n</div>\n\n"),f}),Ember.TEMPLATES["user_mgmt/user_filter"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){t.buffer.push("\n						<span class='small muted'>This data source is hidden for the current user!</span>\n					")}function s(e,t){var i,r,a="";return t.buffer.push("\n						<div class=\"row\">\n							<label style=\"color: #2980B9; font-family: 'Roboto-Medium'; font-size: 14px;\" class='pull-left'>\n								"),i={},r={},t.buffer.push(u(n._triageMustache.call(e,"view.content.fieldName",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n								<br />\n								"),i={},r={},t.buffer.push(u(n._triageMustache.call(e,"view.content.operator",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push('\n							</label>		\n\n						</div>\n\n						<div class="row" '),r={id:e},i={id:"STRING"},t.buffer.push(u(n.bindAttr.call(e,{hash:{id:"view.userFilterValuesId"},contexts:[],types:[],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push(">\n						</div>\n					"),a}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var o,l,c,h="",u=this.escapeExpression,d=this;return r.buffer.push('<div>\n	<div class="dropdown">\n		<a class="dropdown-toggle" data-toggle="dropdown" data-target="#" style="color:#2980B9;font-family:\'Roboto-Medium\';text-decoration:none;">\n			'),l={},c={},r.buffer.push(u(n._triageMustache.call(t,"view.content.displayName",{hash:{},contexts:[t],types:["ID"],hashContexts:c,hashTypes:l,data:r}))),r.buffer.push(' 	\n		</a>\n\n		<ul class="dropdown-menu" role="menu"  style="top:110%;left:-25px; font-size: 14px;">\n			<div class="row" style="min-width: 250px;max-width: 250px; overflow-y: auto">\n				<div class="span" style="margin: 10px;">\n					<div class="row">\n						<h5> '),l={},c={},r.buffer.push(u(n._triageMustache.call(t,"view.content.displayName",{hash:{},contexts:[t],types:["ID"],hashContexts:c,hashTypes:l,data:r}))),r.buffer.push(" </h5>\n						<hr class='compact' />						\n					</div>\n\n					"),l={},c={},o=n["if"].call(t,"view.content.hide",{hash:{},inverse:d.program(3,s,r),fn:d.program(1,a,r),contexts:[t],types:["ID"],hashContexts:c,hashTypes:l,data:r}),(o||0===o)&&r.buffer.push(o),r.buffer.push('\n				</div>\n			</div>\n			<hr class="compact">\n			<div class="row well-small">\n				<div class="span">\n					<a '),c={target:t},l={target:"ID"},r.buffer.push(u(n.action.call(t,"disableFilter",{hash:{target:"view"},contexts:[t],types:["ID"],hashContexts:c,hashTypes:l,data:r}))),r.buffer.push("> "),l={},c={},r.buffer.push(u(n._triageMustache.call(t,"view.filterState",{hash:{},contexts:[t],types:["ID"],hashContexts:c,hashTypes:l,data:r}))),r.buffer.push(' </a> &nbsp; | &nbsp;\n				</div>\n				<div class="span">\n					<a '),c={target:t},l={target:"ID"},r.buffer.push(u(n.action.call(t,"updateFilter",{hash:{target:"view"},contexts:[t],types:["ID"],hashContexts:c,hashTypes:l,data:r}))),r.buffer.push('> Save </a>  &nbsp; | &nbsp;\n				</div>\n				<div class="span">\n					<a '),c={target:t},l={target:"ID"},r.buffer.push(u(n.action.call(t,"deleteFilter",{hash:{target:"view"},contexts:[t],types:["ID"],hashContexts:c,hashTypes:l,data:r}))),r.buffer.push('> Delete </a> \n				</div>\n\n				<div class="span pull-right" style="color: blue">\n					<a '),c={target:t},l={target:"ID"},r.buffer.push(u(n.action.call(t,"closeFilter",{hash:{target:"view"},contexts:[t],types:["ID"],hashContexts:c,hashTypes:l,data:r}))),r.buffer.push("> Close </a> \n				</div>\n			</div>\n		</ul>			\n	</div>\n</div>\n"),h}),Ember.TEMPLATES["user_mgmt/user_filters_list"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a="";return t.buffer.push("\n	"),i={contentBinding:e,dataSourceBinding:e},r={contentBinding:"ID",dataSourceBinding:"ID"},t.buffer.push(u(n.view.call(e,"view.userFilterView",{hash:{contentBinding:"filter",dataSourceBinding:"view.dataSource"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n"),a}function s(e,t){t.buffer.push('\n	<h5 class="muted"> \n		No filters defined for this data source! \n	</h5>\n')}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var o,l,c,h="",u=this.escapeExpression,d=this;return l={},c={},o=n.each.call(t,"filter","in","view.userFilters",{hash:{},inverse:d.program(3,s,r),fn:d.program(1,a,r),contexts:[t,t,t],types:["ID","ID","ID"],hashContexts:c,hashTypes:l,data:r}),(o||0===o)&&r.buffer.push(o),r.buffer.push("\n"),h}),Ember.TEMPLATES.user_profile=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a,u,d,p="";return t.buffer.push('\n			<form class="form-horizontal pull-right">\n			  	<div class="control-group">\n				    <label class="control-label">Name</label>\n				    <div class="controls">\n				      '),a={type:e,disabled:e,value:e},u={type:"STRING",disabled:"STRING",value:"ID"},d={hash:{type:"text",disabled:"disabled",value:"view.userName"},contexts:[],types:[],hashContexts:a,hashTypes:u,data:t},t.buffer.push(v((i=n.input,i?i.call(e,d):b.call(e,"input",d)))),t.buffer.push('  \n				    </div>\n			  	</div>\n			  	<div class="control-group">\n				    <label class="control-label">Email</label>\n				    <div class="controls">\n				      '),a={type:e,disabled:e,value:e},u={type:"STRING",disabled:"STRING",value:"ID"},d={hash:{type:"text",disabled:"disabled",value:"view.userEmail"},contexts:[],types:[],hashContexts:a,hashTypes:u,data:t},t.buffer.push(v((i=n.input,i?i.call(e,d):b.call(e,"input",d)))),t.buffer.push("\n				    </div>\n			  	</div>\n			  	"),u={},a={},r=n["if"].call(e,"Cibi.Auth.currentUser.isAdmin",{hash:{},inverse:y.program(4,o,t),fn:y.program(2,s,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:u,data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n			  	"),u={},a={},r=n["if"].call(e,"view.userHasApiAccess",{hash:{},inverse:y.noop,fn:y.program(6,l,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:u,data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n				"),u={},a={},r=n["if"].call(e,"view.information",{hash:{},inverse:y.noop,fn:y.program(8,c,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:u,data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n				"),u={},a={},r=n["if"].call(e,"Cibi.Auth.currentUser.isAdmin",{hash:{},inverse:y.noop,fn:y.program(10,h,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:u,data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n			</form>\n		"),p}function s(e,t){var i,r,a="";return t.buffer.push('\n			  		<div class="control-group">\n				    	<label class="control-label">Account Name</label>\n				    	<div class="controls">\n				      	'),i={"class":e,valueBinding:e},r={"class":"STRING",valueBinding:"ID"},t.buffer.push(v(n.view.call(e,"Ember.TextField",{hash:{"class":"updated_accountname",valueBinding:"view.userAccountName"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n				    	</div>\n			  		</div>\n			  	"),a}function o(e,t){var i,r,a="";return t.buffer.push('\n			  		<div class="control-group">\n				    	<label class="control-label">Account Name</label>\n				    	<div class="controls">\n				      	'),i={disabled:e,valueBinding:e},r={disabled:"STRING",valueBinding:"ID"},t.buffer.push(v(n.view.call(e,"Ember.TextField",{hash:{disabled:"disabled",valueBinding:"view.userAccountName"},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n				    	</div>\n			  		</div>\n			  	"),a}function l(e,t){var i,r,a,s,o="";return t.buffer.push('\n				  	<div class="control-group" style="margin-left: 90px;"> \n						<h4>API Access Token</h4>\n						<hr style="border-bottom-color: darkgray; border-bottom-width: 3px; margin-bottom: 0px;">\n					</div>			  			    \n				    <div class="control-group" style="margin-left: 90px;">			    \n				    	'),r={type:e,disabled:e,"class":e,value:e},a={type:"STRING",disabled:"STRING","class":"STRING",value:"ID"},s={hash:{type:"text",disabled:"disabled","class":"input-xlarge",value:"view.userApiAccessToken"},contexts:[],types:[],hashContexts:r,hashTypes:a,data:t},t.buffer.push(v((i=n.input,i?i.call(e,s):b.call(e,"input",s)))),t.buffer.push("	\n				    </div>\n				"),o}function c(e,t){var i,r,a="";return t.buffer.push('\n			        <div class="alert alert-info" style="padding: 5px; text-align: center; margin-top: 5px; margin-bottom: 5px; max-width:205px;">\n			          <label style="font-weight: bold; font-size: 15px; margin: 0px; padding: 0px;">\n			            '),i={},r={},t.buffer.push(v(n._triageMustache.call(e,"view.information",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n			          </label>\n			        </div>\n			    "),a}function h(e,t){t.buffer.push('\n					<div class="control-group">    \n			    		<input type="submit" value="Save" class="btn btn-primary" style="margin-left:65px;">\n			    	</div>\n				')}function u(e,t){var i,r,a="";return t.buffer.push('\n				        <div class="alert alert-error" style="padding: 5px; text-align: center; margin-top: 5px; margin-bottom: 5px; max-width:205px;">\n				          <label style="font-weight: bold; font-size: 15px; margin: 0px; padding: 0px;">\n				            '),i={},r={},t.buffer.push(v(n._triageMustache.call(e,"view.errors",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n				          </label>\n				        </div>\n				    "),a}function d(e,t){var i,r,a="";return t.buffer.push('\n				        <div class="alert alert-info" style="padding: 5px; text-align: center; margin-top: 5px; margin-bottom: 5px; max-width:205px;">\n				          <label style="font-weight: bold; font-size: 15px; margin: 0px; padding: 0px;">\n				            '),i={},r={},t.buffer.push(v(n._triageMustache.call(e,"view.info",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n				          </label>\n				        </div>\n				    "),a}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var p,f,g,m="",v=this.escapeExpression,b=n.helperMissing,y=this;return r.buffer.push('\n<div class="span" style="width:100%;">\n	<div class="row" '),f={style:t},g={style:"ID"},r.buffer.push(v(n.bindAttr.call(t,{hash:{style:"view.accountTopNavColor"},contexts:[],types:[],hashContexts:f,hashTypes:g,data:r}))),r.buffer.push('>	\n		<button class="btn btn-info flat-button" type="button" style="margin-top:7px; background-color:#4093cd;">Profile</button>\n	</div>\n</div>\n<div class="span" style="width:100%;">\n	<div class="row" style="background-color: #E3E3E3;min-height: 620px; padding-left:20px; padding-top: 20px;">\n		<div class="span5">\n		'),g={},f={},p=n["if"].call(t,"Cibi.Auth.currentUser.isLoaded",{hash:{},inverse:y.noop,fn:y.program(1,a,r),contexts:[t],types:["ID"],hashContexts:f,hashTypes:g,data:r}),(p||0===p)&&r.buffer.push(p),r.buffer.push('\n		</div>\n		<div class="span5">\n			<form class="form-horizontal pull-right">\n				<div class="control-group"> \n					<h4>Change Password</h4>\n					<hr style="border-bottom-color: darkgray; border-bottom-width: 3px; margin-bottom: 0px;">\n				</div>			  			    \n			    <div class="control-group">			    \n			    	<input type="password" placeholder="Password" id="inputPassword">	\n			    </div>\n			    <div class="control-group">\n			    	<input type="password" placeholder="Confirm Password" id="inputConfirmPassword">\n			    </div>\n			    \n			    	'),g={},f={},p=n["if"].call(t,"view.errors",{hash:{},inverse:y.noop,fn:y.program(12,u,r),contexts:[t],types:["ID"],hashContexts:f,hashTypes:g,data:r}),(p||0===p)&&r.buffer.push(p),r.buffer.push("\n				    "),g={},f={},p=n["if"].call(t,"view.info",{hash:{},inverse:y.noop,fn:y.program(14,d,r),contexts:[t],types:["ID"],hashContexts:f,hashTypes:g,data:r}),(p||0===p)&&r.buffer.push(p),r.buffer.push('  \n			    \n			    <div class="control-group">    \n			    	<button type="submit" class="btn">Change</button>\n			    </div>			 \n			</form>\n\n		</div>	\n	</div>\n</div>\n'),m}),Ember.TEMPLATES.users=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a,c,h,d="";return t.buffer.push("\n		<tr>\n			<td>\n				"),a={},c={},t.buffer.push(m(n._triageMustache.call(e,"user.fullName",{hash:{},contexts:[e],types:["ID"],hashContexts:c,hashTypes:a,data:t}))),t.buffer.push(" \n			</td>\n			<td>\n				"),a={},c={},t.buffer.push(m(n._triageMustache.call(e,"user.email",{hash:{},contexts:[e],types:["ID"],hashContexts:c,hashTypes:a,data:t}))),t.buffer.push("\n			</td>\n			<td>\n				"),c={checkedBinding:e},a={checkedBinding:"STRING"},t.buffer.push(m(n.view.call(e,"Ember.Checkbox",{hash:{checkedBinding:"user.isAdmin"},contexts:[e],types:["ID"],hashContexts:c,hashTypes:a,data:t}))),t.buffer.push("				\n			</td>\n			<td>\n				"),c={checkedBinding:e},a={checkedBinding:"STRING"},t.buffer.push(m(n.view.call(e,"Ember.Checkbox",{hash:{checkedBinding:"user.hasApiAccess"},contexts:[e],types:["ID"],hashContexts:c,hashTypes:a,data:t}))),t.buffer.push("	\n			</td>\n			<td>\n				"),a={},c={},i=n["if"].call(e,"user.confirmedAt",{hash:{},inverse:v.program(4,o,t),fn:v.program(2,s,t),contexts:[e],types:["ID"],hashContexts:c,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n			</td>\n			<td>\n				"),a={},c={},i=n["if"].call(e,"Cibi.Auth.currentUser.isAdmin",{hash:{},inverse:v.noop,fn:v.program(6,l,t),contexts:[e],types:["ID"],hashContexts:c,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n			</td>\n\n			<td>\n				"),a={},c={},h={hash:{},inverse:v.noop,fn:v.program(11,u,t),contexts:[e,e],types:["STRING","ID"],hashContexts:c,hashTypes:a,data:t},i=n.linkTo,r=i?i.call(e,"user_mgmt.user","user",h):b.call(e,"linkTo","user_mgmt.user","user",h),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n			</td>\n		</tr>\n"),d}function s(e,t){t.buffer.push("\n					active\n				")}function o(e,t){t.buffer.push("\n					pending\n				")}function l(e,t){var i,r,a,s="";return t.buffer.push("\n					"),r={},a={},i=n["if"].call(e,"user.isDirty",{hash:{},inverse:v.program(9,h,t),fn:v.program(7,c,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n					| <a "),r={},a={},t.buffer.push(m(n.action.call(e,"delete_user","user",{hash:{},contexts:[e,e],types:["STRING","ID"],hashContexts:a,hashTypes:r,data:t}))),t.buffer.push(">Delete</a>\n				"),s}function c(e,t){var i,r,a="";return t.buffer.push("\n						<a "),i={},r={},t.buffer.push(m(n.action.call(e,"update_user","user",{hash:{},contexts:[e,e],types:["STRING","ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push(">Save</a>\n					"),a}function h(e,t){t.buffer.push('						\n						<a class="disabled">Save</a>\n					')}function u(e,t){t.buffer.push(" <i class='icon-filter'> </i> ")}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var d,p,f,g="",m=this.escapeExpression,v=this,b=n.helperMissing;return p={},f={},d=n.each.call(t,"user","in","controller",{hash:{},inverse:v.noop,fn:v.program(1,a,r),contexts:[t,t,t],types:["ID","ID","ID"],hashContexts:f,hashTypes:p,data:r}),(d||0===d)&&r.buffer.push(d),r.buffer.push("\n"),g}),Ember.TEMPLATES["users/new"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{},r.buffer.push('<div id=\'modal-new-user\' class=\'modal hide fade\'>\n	<div class="modal-header" style="background-color:323232;">\n	<h1>Create New User</h1>\n	</div>\n	<div class="modal-body">\n	<!--	<form id="new_user_form">\n			<table>\n				<tr>\n					<td>Email</td>\n					<td><input type="text" id="inputEmail" placeholder="Email"></td>\n				</tr>\n				<tr>\n					<td>First Name</td>\n					<td><input type="text" id="inputFirstName" placeholder="First Name"></td>\n				</tr>\n				<tr>\n					<td>Last Name</td>\n					<td><input type="text" id="inputLastName" placeholder="Last Name"></td>\n				</tr>\n				<tr>\n					<td>&nbsp;</td>\n					<td><input type="checkbox"> Is Admin</td>\n				</tr>\n			</table>\n		</form> -->\n\n		<form class="form-horizontal">\n		  	<div class="control-group">\n			    <label class="control-label" for="inputEmail">Email</label>\n			    <div class="controls">\n			      	<input type="text" id="inputEmail" placeholder="Email">\n			    </div>\n		  	</div>\n		  	<div class="control-group">\n			    <label class="control-label" for="inputFirstName">First Name</label>\n			    <div class="controls">\n			      	<input type="text" id="inputFirstName" placeholder="First Name">\n			    </div>\n		  	</div>\n			<div class="control-group">\n			    <label class="control-label" for="inputLastName">Last Name</label>\n			    <div class="controls">\n			      	<input type="text" id="inputLastName" placeholder="Last Name">\n			    </div>\n			</div>\n			<div class="control-group">\n			    <div class="controls">\n			    	<div class="span" style="width: 30%;">\n						<label class="checkbox">\n							<input type="checkbox" id="checkIsAdmin"> Is Admin\n						</label>\n					</div>\n					<div class="span" style="width: 40%;">\n			    		<label class="checkbox">\n			        		<input type="checkbox" id="checkHasAPIAccess"> Has API Access\n			      		</label>\n			      	</div>\n			    </div>\n			    <div class="form-actions">\n				  <button type="submit" class="btn btn-primary">Save</button>\n				  <button type="button" data-dismiss="modal" class="btn">Cancel</button>\n				</div>\n			</div>\n		</form>\n	</div>\n</div>\n')}),Ember.TEMPLATES.vertical=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a,o,l,c="";return t.buffer.push('\n		  	<div style="text-align: center;">\n				<input type="text" placeholder="Dashboard" id="dashboard_input" style="width:100px; vertical-align: baseline;">\n				<i class="icon-search" style="margin-right:20px;"></i>\n				'),a={},o={},l={hash:{},inverse:v.noop,fn:v.program(2,s,t),contexts:[e,e],types:["STRING","ID"],hashContexts:o,hashTypes:a,data:t},i=n.linkTo,r=i?i.call(e,"vertical.new","",l):b.call(e,"linkTo","vertical.new","",l),(r||0===r)&&t.buffer.push(r),t.buffer.push('\n			</div>\n			<hr class="compact" style="border-bottom-color:#2093cd; border-top-color:#2093cd;"/>\n		'),c}function s(e,t){t.buffer.push('\n					<button class="btn btn-inverse" type="button">Add</button>\n				')}function o(e,t){var i,r,a,s,o,c="";return t.buffer.push("\n			<li>			\n				"),a={},s={},o={hash:{},inverse:v.noop,fn:v.program(5,l,t),contexts:[e,e],types:["STRING","ID"],hashContexts:s,hashTypes:a,data:t},i=n.linkTo,r=i?i.call(e,"dashboard.charts","dashboard",o):b.call(e,"linkTo","dashboard.charts","dashboard",o),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n			</li>\n			"),c}function l(e,t){var i,r,a="";return t.buffer.push("\n					"),i={},r={},t.buffer.push(y(n._triageMustache.call(e,"dashboard.displayName",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n				"),a}function c(e,t){t.buffer.push('\n			<img src="/assets/users_icon.png" style="margin-left:7px; height:18px; width:25px;" />			\n		')}function h(e,t){t.buffer.push('\n		<div id="createDashHead" class="" style="margin-top:60px;">\n			<img src="assets/blank-workspace.png"/>\n		</div>\n	')}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var u,d,p,f,g,m="",v=this,b=n.helperMissing,y=this.escapeExpression;return r.buffer.push('<div id="vertical-bar" class="row affix vertical-bar" data-spy="affix" '),p={style:t},f={style:"ID"},r.buffer.push(y(n.bindAttr.call(t,{hash:{style:"view.accountTopNavColor"},contexts:[],types:[],hashContexts:p,hashTypes:f,data:r}))),r.buffer.push('>\n	<div class="span btn-group" '),p={style:t},f={style:"ID"},r.buffer.push(y(n.bindAttr.call(t,{hash:{style:"view.accountDBdropColor"},contexts:[],types:[],hashContexts:p,hashTypes:f,data:r}))),r.buffer.push('>\n	  <a class="btn dropdown-toggle btn-inverse flat-button" data-toggle="dropdown" href="#">\n	    Dashboard\n	    <span class="caret"></span>\n	  </a>\n	  <ul class="dropdown-menu" style="width:250px;">\n	  	'),f={},p={},u=n["if"].call(t,"can_edit",{hash:{},inverse:v.noop,fn:v.program(1,a,r),contexts:[t],types:["ID"],hashContexts:p,hashTypes:f,data:r}),(u||0===u)&&r.buffer.push(u),r.buffer.push("\n	    "),f={},p={},g={hash:{},contexts:[t,t],types:["STRING","ID"],hashContexts:p,hashTypes:f,data:r},r.buffer.push(y((u=n.render,u?u.call(t,"dashboards","dashboards",g):b.call(t,"render","dashboards","dashboards",g)))),r.buffer.push('\n	  </ul>\n	</div>\n	<div class="span custom-divider"></div>\n	<div class="span dashboards">		\n		<ul class="nav nav-pills" >\n			<li style="margin-top:9px;">\n				<i class=" icon-fast-backward muted icon-white" style="cursor: pointer; vertical-align:middle;" '),f={},p={},r.buffer.push(y(n.action.call(t,"getPreviousDashBoards",{hash:{},contexts:[t],types:["STRING"],hashContexts:p,hashTypes:f,data:r}))),r.buffer.push("></i>			\n			</li>\n			"),f={},p={},d=n.each.call(t,"dashboard","in","currentDashboards",{hash:{},inverse:v.noop,fn:v.program(4,o,r),contexts:[t,t,t],types:["ID","ID","ID"],hashContexts:p,hashTypes:f,data:r}),(d||0===d)&&r.buffer.push(d),r.buffer.push('\n			<li style="margin-top:9px;">\n				<i class="icon-fast-forward muted icon-white" style="cursor: pointer; vertical-align:middle;" '),f={},p={},r.buffer.push(y(n.action.call(t,"getNextDashBoards",{hash:{},contexts:[t],types:["STRING"],hashContexts:p,hashTypes:f,data:r}))),r.buffer.push('> </i>\n			</li>\n		</ul>\n	</div>\n	<div class="span pull-right" style="margin-right:20px; margin-top:10px;">\n	  	'),f={},p={},g={hash:{},inverse:v.noop,fn:v.program(7,c,r),contexts:[t,t],types:["STRING","ID"],hashContexts:p,hashTypes:f,data:r},u=n.linkTo,d=u?u.call(t,"vertical.users","",g):b.call(t,"linkTo","vertical.users","",g),(d||0===d)&&r.buffer.push(d),r.buffer.push('\n	</div>		\n</div>\n<div class="row" id="main-tab" style="min-height:625px; padding-left:15px;">\n	'),f={},p={},d=n.unless.call(t,"dashboards",{hash:{},inverse:v.noop,fn:v.program(9,h,r),contexts:[t],types:["ID"],hashContexts:p,hashTypes:f,data:r}),(d||0===d)&&r.buffer.push(d),r.buffer.push("		\n	"),f={},p={},r.buffer.push(y(n._triageMustache.call(t,"outlet",{hash:{},contexts:[t],types:["ID"],hashContexts:p,hashTypes:f,data:r}))),r.buffer.push("	\n</div>\n"),m
}),Ember.TEMPLATES["vertical/_noDashboards"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{},r.buffer.push('<div id="createDashHead" class="alert alert-info" style="margin-top:60px;">\n	<h4>Please create a dashboard</h4>\n</div>\n')}),Ember.TEMPLATES["vertical/edit"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){t.buffer.push("\n            <h4 class='alert alert-error'> Unable to Save!</h4>\n        ")}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var s,o,l,c="",h=this.escapeExpression,u=this;return r.buffer.push('<div class="span" style="width:100%;">\n	<div class="row affix vertical-bar" id="account-settings" '),o={style:t},l={style:"ID"},r.buffer.push(h(n.bindAttr.call(t,{hash:{style:"view.accountTopNavColor"},contexts:[],types:[],hashContexts:o,hashTypes:l,data:r}))),r.buffer.push('>	\n		<button class="btn btn-info flat-button" type="button" style="margin-top:7px; background-color:#4093cd;">Update Workspace</button>\n	</div>\n</div>\n<div class="row" style="min-height:600px;padding-top:50px;padding-left:20px;">\n	<div class="span">\n        '),l={},o={},s=n["if"].call(t,"isError",{hash:{},inverse:u.noop,fn:u.program(1,a,r),contexts:[t],types:["ID"],hashContexts:o,hashTypes:l,data:r}),(s||0===s)&&r.buffer.push(s),r.buffer.push('\n\n		<form method="POST">\n			<h3 style="margin-bottom:10px;">Update Workspace </h4>\n				<div class="row">\n					<div class="span2"><h4 style="margin-top:10px;">Name of Vertical*</h4></div>\n				</div>\n				<div class="row">\n					<div class="span">\n						'),o={valueBinding:t,name:t,placeholder:t,"class":t},l={valueBinding:"STRING",name:"STRING",placeholder:"STRING","class":"STRING"},r.buffer.push(h(n.view.call(t,"Ember.TextField",{hash:{valueBinding:"view.verticalName",name:"verticalName",placeholder:"Vertical Name","class":"input-xlarge"},contexts:[t],types:["ID"],hashContexts:o,hashTypes:l,data:r}))),r.buffer.push('\n					</div>\n				</div>\n				<div class="row">\n					<div class="span"><h4 style="margin-top:10px;">Description</h4></div>\n				</div>\n				<div class="row">\n					<div class="span">\n						'),o={valueBinding:t,name:t,placeholder:t,rows:t,"class":t},l={valueBinding:"STRING",name:"STRING",placeholder:"STRING",rows:"STRING","class":"STRING"},r.buffer.push(h(n.view.call(t,"Ember.TextArea",{hash:{valueBinding:"view.verticalDescription",name:"verticalDescription",placeholder:"Description",rows:"3","class":"input-xlarge"},contexts:[t],types:["ID"],hashContexts:o,hashTypes:l,data:r}))),r.buffer.push('\n					</div>\n				</div>\n				<div class="row">\n					<div class="span"><h4 style="margin-top:10px;">Icon</h4></div>\n				</div>\n\n				<div class="row">\n					<div class="span">\n						<div class="row">\n							<img id="icon-preview" style="background-color: grey;" width="40" height="40"/>\n						</div>\n						<div class="row" style="padding-right:20px;">\n							<input id="iconUpload" type="file" name="files[]" multiple>	\n						</div>						\n					</div>\n				</div>\n\n				<div class="row">\n					<div class="span" >Or select from commonly used ones</div>\n				</div>\n				<div class="row">\n					<div class="span" style="margin-left:10px;">\n						'),l={},o={},r.buffer.push(h(n.view.call(t,"view.iconTypesView",{hash:{},contexts:[t],types:["ID"],hashContexts:o,hashTypes:l,data:r}))),r.buffer.push('\n					</div>\n				</div>																				\n				<div class="row" style="margin-top:50px;">\n					<div class="span">\n						<button type=\'submit\' class=\'btn btn-primary\'>Update</button>\n						<button class="btn" onclick="javascript:history.go(-1); return false;">Cancel</button>\n					</div>\n				</div>																				\n		</form>\n	</div>\n</div>\n\n'),c}),Ember.TEMPLATES["vertical/new"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){t.buffer.push("\n	<h4 class='alert alert-success'>New Dashboard Created </h4>\n")}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var s,o,l,c,h="",u=this,d=n.helperMissing,p=this.escapeExpression;return r.buffer.push("<div class='row' style=\"margin-top: 50px;\">\n	<div class='span'>\n		<h3>Add New Dashboard</h3>\n	</div>\n</div>\n<hr class='compact'>\n"),o={},l={},s=n["if"].call(t,"dashboardCreated",{hash:{},inverse:u.noop,fn:u.program(1,a,r),contexts:[t],types:["ID"],hashContexts:l,hashTypes:o,data:r}),(s||0===s)&&r.buffer.push(s),r.buffer.push('\n<form class="form-horizontal">\n	<fieldset>\n		<div class="control-group" id="display_name_control_group">\n			<label class="control-label" for="input01">Display Name</label>\n			<div class="controls">\n				'),l={type:t,"class":t,placeholder:t,valueBinding:t},o={type:"STRING","class":"STRING",placeholder:"STRING",valueBinding:"STRING"},c={hash:{type:"text","class":"input-xlarge",placeholder:"Display Name",valueBinding:"view.displayName"},contexts:[],types:[],hashContexts:l,hashTypes:o,data:r},r.buffer.push(p((s=n.input,s?s.call(t,c):d.call(t,"input",c)))),r.buffer.push('\n				\n				<p class="help-block">This name will appear in dashboards list</p>\n			</div>\n		</div>\n		<div class="control-group" id="title_control_group">\n			<label class="control-label" for="input02">Title</label>\n			<div class="controls">\n				'),l={type:t,"class":t,placeholder:t,valueBinding:t,required:t},o={type:"STRING","class":"STRING",placeholder:"STRING",valueBinding:"STRING",required:"BOOLEAN"},c={hash:{type:"text","class":"input-xlarge",placeholder:"Title",valueBinding:"view.title",required:!0},contexts:[],types:[],hashContexts:l,hashTypes:o,data:r},r.buffer.push(p((s=n.input,s?s.call(t,c):d.call(t,"input",c)))),r.buffer.push('\n			</div> \n		</div>\n		<div class="control-group">\n			<label class="control-label" for="input03">Sub Title</label>\n			<div class="controls">\n				'),l={type:t,"class":t,placeholder:t,valueBinding:t},o={type:"STRING","class":"STRING",placeholder:"STRING",valueBinding:"STRING"},c={hash:{type:"text","class":"input-xlarge",placeholder:"Sub Title",valueBinding:"view.subtitle"},contexts:[],types:[],hashContexts:l,hashTypes:o,data:r},r.buffer.push(p((s=n.input,s?s.call(t,c):d.call(t,"input",c)))),r.buffer.push('\n			</div>\n		</div>\n		<div class="control-group">\n			<label class="control-label" for="input04">Description</label>\n			<div class="controls">\n				'),l={rows:t,valueBinding:t,placeholder:t,"class":t},o={rows:"INTEGER",valueBinding:"STRING",placeholder:"STRING","class":"STRING"},r.buffer.push(p(n.view.call(t,"Cibi.TextArea",{hash:{rows:3,valueBinding:"view.description",placeholder:"Description","class":"input-xlarge"},contexts:[t],types:["ID"],hashContexts:l,hashTypes:o,data:r}))),r.buffer.push('\n			</div>\n		</div>\n		<div class="control-group">\n			<div class="span" style="width: 20%;">\n				<label class="control-label" for="input03">Auto Refresh</label>\n				<div class="controls">\n					'),l={id:t,valueBinding:t,checkedBinding:t},o={id:"STRING",valueBinding:"STRING",checkedBinding:"STRING"},r.buffer.push(p(n.view.call(t,"Ember.Checkbox",{hash:{id:"auto_refresh",valueBinding:"view.autoRefresh",checkedBinding:"view.autoRefresh"},contexts:[t],types:["ID"],hashContexts:l,hashTypes:o,data:r}))),r.buffer.push('\n				</div>\n			</div>\n			<div class="span" style="width: 80%;">\n				<div class="row" style="display: -webkit-inline-box;">\n					<label style="padding-top: 4px; margin-right: 5px; margin-left: 5px;">\n						After Every\n					</label>\n					<div style="margin-left: 15px; margin-right: 5px;">\n						'),l={valueBinding:t,min:t,"class":t},o={valueBinding:"STRING",min:"STRING","class":"STRING"},r.buffer.push(p(n.view.call(t,"Cibi.NumberField",{hash:{valueBinding:"view.refreshInterval",min:"1","class":"input-mini"},contexts:[t],types:["ID"],hashContexts:l,hashTypes:o,data:r}))),r.buffer.push('\n					</div>\n					<label style="padding-top: 4px; font-size: 13px;">Seconds</label>\n				</div>\n			</div>\n		</div>\n		<div class="form-actions">\n			<button type="submit" class="btn btn-primary">Save</button>\n			<button class="btn" '),l={target:t},o={target:"STRING"},r.buffer.push(p(n.action.call(t,"cancel",{hash:{target:"view"},contexts:[t],types:["STRING"],hashContexts:l,hashTypes:o,data:r}))),r.buffer.push(">Cancel</button>\n		</div>\n	</fieldset>\n</form>\n"),h}),Ember.TEMPLATES["vertical/users"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a="";return t.buffer.push("\n				<button class='btn' "),i={target:e},r={target:"ID"},t.buffer.push(b(n.action.call(e,"addNew",{hash:{target:"view"},contexts:[e],types:["STRING"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push(" >\n					New Permission\n					<i class='icon-plus-sign muted'></i>				\n				</button>\n			"),a}function s(e,t){var i,r,a,s="";return t.buffer.push('\n			<form class="form-horizontal">\n				<div class="control-group">\n					<label class="control-label">User</label>\n			    <div class="controls">\n				      '),r={contentBinding:e,optionValuePath:e,optionLabelPath:e,valueBinding:e,"class":e,required:e},a={contentBinding:"STRING",optionValuePath:"STRING",optionLabelPath:"STRING",valueBinding:"ID","class":"STRING",required:"BOOLEAN"},t.buffer.push(b(n.view.call(e,"Ember.Select",{hash:{contentBinding:"users",optionValuePath:"content.id",optionLabelPath:"content.fullName",valueBinding:"view.user","class":"input-large",required:!0},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push('\n				    </div>\n				</div>\n				<div class="control-group">\n					<label class="control-label">Role</label>\n					 <div class="controls">\n						'),r={contentBinding:e,valueBinding:e,"class":e,required:e},a={contentBinding:"STRING",valueBinding:"ID","class":"STRING",required:"BOOLEAN"},t.buffer.push(b(n.view.call(e,"Ember.Select",{hash:{contentBinding:"view.roles",valueBinding:"view.role","class":"input-large",required:!0},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push('\n					</div>\n				</div>\n				<div class="control-group">\n					<label class="control-label">Select Entity</label>\n					 <div class="controls">\n					 	\n						'),r={checkedBinding:e},a={checkedBinding:"STRING"},t.buffer.push(b(n.view.call(e,"Ember.Checkbox",{hash:{checkedBinding:"view.entityType"},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push("&nbsp; Entire Workspace<br>\n						"),a={},r={},i=n["if"].call(e,"view.entityType",{hash:{},inverse:x.program(7,c,t),fn:x.program(4,o,t),contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n					</div>\n				</div>\n				<div class=\"form-actions\">\n					<button class='btn btn-primary' "),r={target:e},a={target:"ID"},t.buffer.push(b(n.action.call(e,"save",{hash:{target:"view"},contexts:[e],types:["STRING"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push(">\n						Save\n					</button>\n\n					<button class='btn' "),r={target:e},a={target:"ID"},t.buffer.push(b(n.action.call(e,"cancel",{hash:{target:"view"},contexts:[e],types:["STRING"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push(">\n						Cancel\n					</button>\n				</div>\n			</form>\n		"),s}function o(e,t){var i,r,a,s="";return t.buffer.push("							\n							"),r={},a={},i=n.each.call(e,"dashboard","in","dashboards",{hash:{},inverse:x.noop,fn:x.program(5,l,t),contexts:[e,e,e],types:["ID","ID","ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n						"),s}function l(e,t){var i,r,a,s,o="";return t.buffer.push("\n								<br>\n								"),r={type:e,name:e,disabled:e},a={type:"STRING",name:"ID",disabled:"STRING"},s={hash:{type:"checkbox",name:"dashboard.id",disabled:"disabled"},contexts:[],types:[],hashContexts:r,hashTypes:a,data:t},t.buffer.push(b((i=n.input,i?i.call(e,s):y.call(e,"input",s)))),t.buffer.push("&nbsp;"),a={},r={},t.buffer.push(b(n._triageMustache.call(e,"dashboard.displayName",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push("\n							"),o}function c(e,t){var i,r,a,s="";return t.buffer.push("	\n							"),r={},a={},i=n.each.call(e,"dashboard","in","dashboards",{hash:{},inverse:x.noop,fn:x.program(8,h,t),contexts:[e,e,e],types:["ID","ID","ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("						\n						"),s}function h(e,t){var i,r,a,s,o="";return t.buffer.push("\n								<br>\n								"),r={type:e,name:e},a={type:"STRING",name:"ID"},s={hash:{type:"checkbox",name:"dashboard.id"},contexts:[],types:[],hashContexts:r,hashTypes:a,data:t},t.buffer.push(b((i=n.input,i?i.call(e,s):y.call(e,"input",s)))),t.buffer.push("&nbsp;"),a={},r={},t.buffer.push(b(n._triageMustache.call(e,"dashboard.displayName",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push("\n							"),o}function u(e,t){t.buffer.push("\n			<h4 class='alert alert-info'>\n				All users are already authorized for this workspace!\n			</h4>\n		")}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var d,p,f,g,m,v="",b=this.escapeExpression,y=n.helperMissing,x=this;return r.buffer.push("<div class=\"span\" style=\"width:100%; margin-top:44px;\">\n	<div class='row main-tab-title'>\n		<div class='span'>\n			<h3>Authorized Users For Workspace "),f={},g={},r.buffer.push(b(n._triageMustache.call(t,"view.name",{hash:{},contexts:[t],types:["ID"],hashContexts:g,hashTypes:f,data:r}))),r.buffer.push("</h3>\n		</div>\n		<div class='span pull-right right-contained' style=\"margin: 7px\">\n			"),f={},g={},d=n["if"].call(t,"can_destroy",{hash:{},inverse:x.noop,fn:x.program(1,a,r),contexts:[t],types:["ID"],hashContexts:g,hashTypes:f,data:r}),(d||0===d)&&r.buffer.push(d),r.buffer.push('\n		</div>\n	</div>\n	<hr class=\'compact\'>\n	<div class="row">\n		<div class="span">\n			'),f={},g={},m={hash:{},contexts:[t],types:["STRING"],hashContexts:g,hashTypes:f,data:r},r.buffer.push(b((d=n.render,d?d.call(t,"permissions",m):y.call(t,"render","permissions",m)))),r.buffer.push("\n		</div>\n	</div>\n\n</div>\n<hr class='compact'>\n\n<div id='modal-new-permission' class='modal hide fade'>\n	<div class=\"modal-header\" style=\"background-color:#323232; border-top-left-radius: 6px; border-top-right-radius: 6px; color: #eee;\">\n		<h3>Create New Permission</h3>\n	</div>\n\n	<div class=\"modal-body\">\n		"),f={},g={},p=n["if"].call(t,"users",{hash:{},inverse:x.program(10,u,r),fn:x.program(3,s,r),contexts:[t],types:["ID"],hashContexts:g,hashTypes:f,data:r}),(p||0===p)&&r.buffer.push(p),r.buffer.push("\n	</div>\n</div>\n"),v}),Ember.TEMPLATES.vertical_old=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){t.buffer.push("\n				<i class='icon-user muted pull-right'></i>\n			")}function s(e,t){var i,r,a,s,l,c="";return t.buffer.push("\n				"),a={"class":e},s={"class":"STRING"},l={hash:{"class":"btn new-dashboard"},inverse:g.noop,fn:g.program(4,o,t),contexts:[e,e],types:["STRING","ID"],hashContexts:a,hashTypes:s,data:t},i=n.linkTo,r=i?i.call(e,"vertical.new","",l):m.call(e,"linkTo","vertical.new","",l),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n			"),c}function o(e,t){t.buffer.push("\n					<i class='icon-plus-sign muted pull-right'></i>\n				")}function l(e,t){t.buffer.push("\n     	<h4 class='alert alert-success'> Dashboard Deleted </h4>\n    ")}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var c,h,u,d,p,f="",g=this,m=n.helperMissing,v=this.escapeExpression;return r.buffer.push('<div class="tabbable tabs-left">\n	<ul class="nav nav-tabs span2 main-tab-links" style="width:210px">\n	<li>\n		<div class=\'row dashboardsheading\'>\n			<div class=\'span\'>\n				<h5>'),u={},d={},r.buffer.push(v(n._triageMustache.call(t,"name",{hash:{},contexts:[t],types:["ID"],hashContexts:d,hashTypes:u,data:r}))),r.buffer.push(" Dashboards</h5>\n			</div>\n		</div>\n	</li>\n	<hr style=\"margin: 5px; border-bottom-width: 0px\">\n	<li>\n		<input type='hidden' id='currentVertical' "),d={value:t},u={value:"STRING"},r.buffer.push(v(n.bindAttr.call(t,{hash:{value:"id"},contexts:[],types:[],hashContexts:d,hashTypes:u,data:r}))),r.buffer.push(' />\n		<div class="tab-link">\n			'),d={"class":t},u={"class":"STRING"},p={hash:{"class":"btn auth-users"},inverse:g.noop,fn:g.program(1,a,r),contexts:[t,t],types:["STRING","ID"],hashContexts:d,hashTypes:u,data:r},c=n.linkTo,h=c?c.call(t,"vertical.users","",p):m.call(t,"linkTo","vertical.users","",p),(h||0===h)&&r.buffer.push(h),r.buffer.push("		\n\n			"),u={},d={},h=n["if"].call(t,"can_edit",{hash:{},inverse:g.noop,fn:g.program(3,s,r),contexts:[t],types:["ID"],hashContexts:d,hashTypes:u,data:r}),(h||0===h)&&r.buffer.push(h),r.buffer.push('\n		</div>		\n	</li>\n	<hr style="margin: 5px; border-bottom-width: 0px">\n	'),u={},d={},p={hash:{},contexts:[t,t],types:["STRING","ID"],hashContexts:d,hashTypes:u,data:r},r.buffer.push(v((c=n.render,c?c.call(t,"dashboards","dashboards",p):m.call(t,"render","dashboards","dashboards",p)))),r.buffer.push('\n	</ul>\n\n	<div class="tab-content main-tab" id="main-tab">\n		 '),u={},d={},h=n["if"].call(t,"dashboardDeleted",{hash:{},inverse:g.noop,fn:g.program(6,l,r),contexts:[t],types:["ID"],hashContexts:d,hashTypes:u,data:r}),(h||0===h)&&r.buffer.push(h),r.buffer.push("\n		"),u={},d={},r.buffer.push(v(n._triageMustache.call(t,"outlet",{hash:{},contexts:[t],types:["ID"],hashContexts:d,hashTypes:u,data:r}))),r.buffer.push("\n		\n	</div><!-- tab-content -->\n\n</div><!-- tabbable -->\n\n"),f}),Ember.TEMPLATES.verticals=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){var i,r,a,o="";return t.buffer.push('\n  <div class="span affix" id="vertical_affix" style="width:4.3%;" data-spy="affix">\n    <div id="create-vertical" class="row" '),r={style:e},a={style:"ID"},t.buffer.push(x(n.bindAttr.call(e,{hash:{style:"view.accountLeftNavColor"},contexts:[],types:[],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push('>\n      <!--input type="text" class="input_vertical" style="background-color: #3a3a3a; box-shadow: none; border-width: 0px; border-radius: 0px; padding-left: 4px; color: #fff; opacity: 0.8;" placeholder="New Workspace*" id="newVerticalName"/-->\n      '),a={},r={},i=n["if"].call(e,"Cibi.Auth.currentUser.isAdmin",{hash:{},inverse:b.noop,fn:b.program(2,s,t),contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push('\n    </div>\n    \n    <div id="show-vertical" class="row tabbable tabs-left" style="width:100%;">\n      '),a={},r={},i=n["if"].call(e,"errors",{hash:{},inverse:b.noop,fn:b.program(5,l,t),contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push(' \n\n    <ul style="text-align:right;position:absolute;width:97.5%;opacity:0.8;background-color:#000000;padding:2px;margin-left:0px;" id="collapse-li"><a href="javascript:void(0);" id="collapse"><i class="icon-fast-forward icon-white" id="collapse-icon"></i></a></ul>\n     <ul id = "verticals_nav" onmouseout="$(this).find(\'.options\').hide();" class="nav nav-tabs" '),r={style:e},a={style:"ID"},t.buffer.push(x(n.bindAttr.call(e,{hash:{style:"view.accountLeftNavPillsColor"},contexts:[],types:[],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push(">\n        "),a={},r={},i=n.each.call(e,"vertical","in","controller",{hash:{},inverse:b.noop,fn:b.program(7,c,t),contexts:[e,e,e],types:["ID","ID","ID"],hashContexts:r,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push('\n      </ul>      \n    </div>   \n  </div>\n\n  <div id="verticals_content" class="span tab-content" style="width:95.7%; margin-left: 4.3%; overflow: hidden; -webkit-overflow-scrolling: touch">\n        '),a={},r={},t.buffer.push(x(n._triageMustache.call(e,"outlet",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:a,data:t}))),t.buffer.push("\n  </div>\n"),o}function s(e,t){var i,r,a,s,l,c="";return t.buffer.push("  \n        "),a={},s={},l={hash:{},inverse:b.noop,fn:b.program(3,o,t),contexts:[e],types:["STRING"],hashContexts:s,hashTypes:a,data:t},i=n.linkTo,r=i?i.call(e,"verticals.new",l):y.call(e,"linkTo","verticals.new",l),(r||0===r)&&t.buffer.push(r),t.buffer.push(" \n      "),c}function o(e,t){t.buffer.push('\n          <span class="btn btn-primary" id="new-workspace" style="margin-top:7px;">\n            <i class="icon-plus"></i>\n          </span>                \n        ')}function l(e,t){var i,r,a="";return t.buffer.push('\n        <div class="alert alert-error" style="padding: 5px; text-align: center; margin-top: 5px; margin-bottom: 5px;">\n          <label style="font-weight: bold; font-size: 15px; margin: 0px; padding: 0px;">\n            '),i={},r={},t.buffer.push(x(n._triageMustache.call(e,"errors",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n          </label>\n        </div>\n      "),a}function c(e,t){var i,r,a,s,o,l="";return t.buffer.push('\n            <li style="word-wrap: break-word;" class="vertical-tooltip" '),a={title:e},s={title:"ID"},t.buffer.push(x(n.bindAttr.call(e,{hash:{title:"vertical.titleDescription"},contexts:[],types:[],hashContexts:a,hashTypes:s,data:t}))),t.buffer.push(' data-placement="right" >\n                '),a={"class":e},s={"class":"STRING"},o={hash:{"class":"tab-link"},inverse:b.noop,fn:b.program(8,h,t),contexts:[e,e],types:["STRING","ID"],hashContexts:a,hashTypes:s,data:t},i=n.linkTo,r=i?i.call(e,"vertical","vertical",o):y.call(e,"linkTo","vertical","vertical",o),(r||0===r)&&t.buffer.push(r),t.buffer.push('\n                <div class="options" style="display:none;margin-top:-25px;float:right;;margin-right:7px;padding:0 2px;" onmouseout="$(this).hide();">\n                  '),s={},a={},r=n["if"].call(e,"vertical.can_edit",{hash:{},inverse:b.noop,fn:b.program(10,u,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:s,data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("                  \n                </div>                \n            </li>\n            "),s={},a={},t.buffer.push(x(n.view.call(e,"view.editVerticalsView",{hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:s,data:t}))),t.buffer.push("\n        "),l}function h(e,t){var i,r,a="";return t.buffer.push('                        \n                            <div class="row">\n                              <table>\n                                <tr>\n                                  <td>\n                                    <div class="span" style="margin-right:3px;">\n                                    <img '),i={src:e},r={src:"STRING"},t.buffer.push(x(n.bindAttr.call(e,{hash:{src:"vertical.iconUrl"},contexts:[],types:[],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push(' width="25" height="25" />\n                                    </div>\n                                  </td>\n                                  <td>\n                                    <span class="span vertical-name" style="display:none;">\n                                      '),r={},i={},t.buffer.push(x(n._triageMustache.call(e,"vertical.name",{hash:{},contexts:[e],types:["ID"],hashContexts:i,hashTypes:r,data:t}))),t.buffer.push("\n                                    </span>\n                                  </td>\n                                </tr>\n                              </table>\n                            </div>                            \n                "),a}function u(e,t){var i,r,a,s,o,l="";return t.buffer.push("                    \n                    "),a={},s={},o={hash:{},inverse:b.noop,fn:b.program(11,d,t),contexts:[e,e],types:["STRING","ID"],hashContexts:s,hashTypes:a,data:t},i=n.linkTo,r=i?i.call(e,"vertical.edit","vertical",o):y.call(e,"linkTo","vertical.edit","vertical",o),(r||0===r)&&t.buffer.push(r),t.buffer.push('  \n                      <i class="icon-trash icon-white" '),s={target:e},a={target:"ID"},t.buffer.push(x(n.action.call(e,"deleteVertical","vertical",{hash:{target:"view"},contexts:[e,e],types:["STRING","ID"],hashContexts:s,hashTypes:a,data:t}))),t.buffer.push("></i>           \n                  "),l}function d(e,t){t.buffer.push('\n                      <i class="icon-edit icon-white" ></i>\n                    ')}function p(e,t){var i,r,a,s,o="";return t.buffer.push("\n  "),r={},a={},s={hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t},t.buffer.push(x((i=n.partial,i?i.call(e,"main_landing",s):y.call(e,"partial","main_landing",s)))),t.buffer.push("\n"),o}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var f,g,m,v="",b=this,y=n.helperMissing,x=this.escapeExpression;return r.buffer.push("\n"),g={},m={},f=n["if"].call(t,"Cibi.Auth.signedIn",{hash:{},inverse:b.program(13,p,r),fn:b.program(1,a,r),contexts:[t],types:["ID"],hashContexts:m,hashTypes:g,data:r}),(f||0===f)&&r.buffer.push(f),r.buffer.push("\n"),v}),Ember.TEMPLATES["verticals/_iconTypes"]=Ember.Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{},r.buffer.push('<div class="btn-group" data-toggle="buttons-radio" valueBinding="view.iconType">\n<br/>						\n  <button type="button" class="btn btn-icon" value="sales">\n  	<img src="/assets/sales.png" style="width: 25px; height: 25px"/>\n  	<span>Sales</span>\n  </button>\n  <button type="button" class="btn btn-icon" value="finance" >\n  	<img src="/assets/finance.png" style="width: 25px; height: 25px"/>\n  	<span>Finance</span>\n  </button>\n  <button type="button" class="btn btn-icon" value="marketing" >\n  	<img src="/assets/marketing.png" style="width: 25px; height: 25px"/>\n  	<span>Marketing</span>\n  </button>\n  <button type="button" class="btn btn-icon" value="hr">\n  	<img src="/assets/hr.png" style="width: 25px; height: 25px"/>\n  	<span>HR</span>\n  </button>\n  <button type="button" class="btn btn-icon" value="customer_service" >\n  	<img src="/assets/customer_service.png" style="width: 25px; height: 25px"/>\n  	<span>Customer<br/>Service</span>\n  </button>\n  <button type="button" class="btn btn-icon" value="education" >\n  	<img src="/assets/education.png" style="width: 25px; height: 25px"/>\n  	<span>Education</span>\n  </button>\n  <button type="button" class="btn btn-icon" value="healthcare" >\n  	<img src="/assets/healthcare.png" style="width: 25px; height: 25px"/>\n  	<span>Healthcare</span>\n  </button>	\n  <button type="button" class="btn btn-icon" value="banking" >\n  	<img src="/assets/banking.png" style="width: 25px; height: 25px"/>\n  	<span>Banking</span>\n  </button>	\n  <button type="button" class="btn btn-icon" value="manufacturing">\n  	<img src="/assets/manufacturing.png" style="width: 25px; height: 25px"/>\n  	<span>Manufacturing</span>\n  </button>						  \n  <br/>						  \n</div>\n')}),Ember.TEMPLATES["verticals/index"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){t.buffer.push("\n	\n")}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var s,o,l,c="",h=this;return o={},l={},s=n.unless.call(t,"Cibi.Auth.signedIn",{hash:{},inverse:h.noop,fn:h.program(1,a,r),contexts:[t],types:["ID"],hashContexts:l,hashTypes:o,data:r}),(s||0===s)&&r.buffer.push(s),r.buffer.push("\n"),c}),Ember.TEMPLATES["verticals/new"]=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){t.buffer.push("\n            <h4 class='alert alert-error'> Unable to Save!</h4>\n        ")}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var s,o,l,c="",h=this.escapeExpression,u=this;return r.buffer.push('<div class="span" style="width:100%;">\n	<div class="row affix vertical-bar" id="account-settings" '),o={style:t},l={style:"ID"},r.buffer.push(h(n.bindAttr.call(t,{hash:{style:"view.accountTopNavColor"},contexts:[],types:[],hashContexts:o,hashTypes:l,data:r}))),r.buffer.push('>	\n		<button class="btn btn-info flat-button" type="button" style="margin-top:7px; background-color:#4093cd;">Create new</button>\n	</div>\n</div>\n<div class="row" style="min-height:600px;padding-top:50px;padding-left:20px;">\n	<div class="span">\n        '),l={},o={},s=n["if"].call(t,"isError",{hash:{},inverse:u.noop,fn:u.program(1,a,r),contexts:[t],types:["ID"],hashContexts:o,hashTypes:l,data:r}),(s||0===s)&&r.buffer.push(s),r.buffer.push('\n\n		<form method="POST">\n			<h3 style="margin-bottom:10px;">Create New Workspace </h4>\n				<div class="row">\n					<div class="span2"><h4 style="margin-top:10px;">Name of Vertical*</h4></div>\n				</div>\n				<div class="row">\n					<div class="span">\n						'),o={valueBinding:t,name:t,placeholder:t,"class":t},l={valueBinding:"STRING",name:"STRING",placeholder:"STRING","class":"STRING"},r.buffer.push(h(n.view.call(t,"Ember.TextField",{hash:{valueBinding:"view.verticalName",name:"verticalName",placeholder:"Vertical Name","class":"input-xlarge"},contexts:[t],types:["ID"],hashContexts:o,hashTypes:l,data:r}))),r.buffer.push('\n					</div>\n				</div>\n				<div class="row">\n					<div class="span"><h4 style="margin-top:10px;">Description</h4></div>\n				</div>\n				<div class="row">\n					<div class="span">\n						'),o={valueBinding:t,name:t,placeholder:t,rows:t,"class":t},l={valueBinding:"STRING",name:"STRING",placeholder:"STRING",rows:"STRING","class":"STRING"},r.buffer.push(h(n.view.call(t,"Ember.TextArea",{hash:{valueBinding:"view.verticalDescription",name:"verticalDescription",placeholder:"Description",rows:"3","class":"input-xlarge"},contexts:[t],types:["ID"],hashContexts:o,hashTypes:l,data:r}))),r.buffer.push('\n					</div>\n				</div>\n				<div class="row">\n					<div class="span"><h4 style="margin-top:10px;">Icon</h4></div>\n				</div>\n\n				<div class="row">\n					<div class="span">\n						<div class="row" >\n							<img id="icon-preview" style="background-color: grey;" width="40" height="40"/>\n						</div>\n						<div class="row" style="padding-right:20px;">\n							<input id="iconUpload" type="file" name="files[]" multiple>	\n						</div>						\n					</div>\n				</div>\n\n				<div class="row">\n					<div class="span" >Or select from commonly used ones</div>\n				</div>\n				<div class="row">\n					<div class="span" style="margin-left:10px;">\n						'),l={},o={},r.buffer.push(h(n.view.call(t,"view.iconTypesView",{hash:{},contexts:[t],types:["ID"],hashContexts:o,hashTypes:l,data:r}))),r.buffer.push('\n					</div>\n				</div>																				\n				<div class="row" style="margin-top:50px;">\n					<div class="span">\n						<button type=\'submit\' class=\'btn btn-primary\'>Create</button>\n						<button class="btn" onclick="javascript:history.go(-1); return false;">Cancel</button>\n					</div>\n				</div>																				\n		</form>\n	</div>\n</div>\n\n'),c}),Ember.TEMPLATES.verticals_old=Ember.Handlebars.template(function(e,t,n,i,r){function a(e,t){t.buffer.push('\n          <!-- Begin MailChimp Signup Form -->\n          \n          <form action="http://cerebrateinc.us7.list-manage1.com/subscribe/post?u=350f7a60fb61c3ad43b1aa166&amp;id=290af04075" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate navbar-form pull-right" target="_blank" novalidate style="padding-top: 26px">\n            <div class="email-box">\n              TRY OUR DEMO\n              <input type="email" class="input-large"  value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="Email" required>\n              <input type="submit" value="Register" name="subscribe" id="mc-embedded-subscribe" class="btn btn-homepage" style="margin-top: -4px;">\n            </div>\n          </form>\n   \n      ')}function s(e,t){var i,r,a,s,l,c="";return t.buffer.push("\n        <ul class=\"nav\">\n          <li class='divider-vertical'></li>\n    			"),a={},s={},i=n.each.call(e,"vertical","in","controller",{hash:{},inverse:_.noop,fn:_.program(4,o,t),contexts:[e,e,e],types:["ID","ID","ID"],hashContexts:s,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push('\n          <!-- li class="divider-vertical"></li -->\n\n          '),a={},s={},i=n["if"].call(e,"Cibi.Auth.currentUser.isAdmin",{hash:{},inverse:_.noop,fn:_.program(11,d,t),contexts:[e],types:["ID"],hashContexts:s,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push('\n        </ul>\n\n        <ul class="nav pull-right" style="margin-right: -40px">\n          '),a={},s={},i=n["if"].call(e,"Cibi.Auth.currentUser.isAdmin",{hash:{},inverse:_.noop,fn:_.program(14,f,t),contexts:[e],types:["ID"],hashContexts:s,hashTypes:a,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n          <li>\n            "),a={},s={},l={hash:{},inverse:_.noop,fn:_.program(17,m,t),contexts:[e],types:["STRING"],hashContexts:s,hashTypes:a,data:t},i=n.linkTo,r=i?i.call(e,"settings.colors",l):C.call(e,"linkTo","settings.colors",l),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n          </li>\n        </ul>\n        \n        "),c}function o(e,t){var i,r,a,s,o,c="";
return t.buffer.push("\n    				<li>\n      					"),a={"class":e},s={"class":"STRING"},o={hash:{"class":"tab-link"},inverse:_.noop,fn:_.program(5,l,t),contexts:[e,e],types:["STRING","ID"],hashContexts:a,hashTypes:s,data:t},i=n.linkTo,r=i?i.call(e,"vertical","vertical",o):C.call(e,"linkTo","vertical","vertical",o),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n    				</li>\n            "),s={},a={},t.buffer.push(w(n.view.call(e,"view.editVerticalsView",{hash:{},contexts:[e],types:["ID"],hashContexts:a,hashTypes:s,data:t}))),t.buffer.push("\n    			"),c}function l(e,t){var i,r,a,s="";return t.buffer.push("\n                  "),r={},a={},i=n["if"].call(e,"vertical.can_edit",{hash:{},inverse:_.program(9,u,t),fn:_.program(6,c,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n      					"),s}function c(e,t){var i,r,a,s="";return t.buffer.push("\n                      "),r={},a={},i=n.view.call(e,"Cibi.MouseOverView",{hash:{},inverse:_.noop,fn:_.program(7,h,t),contexts:[e],types:["ID"],hashContexts:a,hashTypes:r,data:t}),(i||0===i)&&t.buffer.push(i),t.buffer.push("\n                  "),s}function h(e,t){var i,r,a="";return t.buffer.push("\n                        "),i={},r={},t.buffer.push(w(n._triageMustache.call(e,"vertical.name",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push('\n                        <i class="hidden" '),r={target:e},i={target:"ID"},t.buffer.push(w(n.action.call(e,"editVertical","vertical",{hash:{target:"view"},contexts:[e,e],types:["STRING","ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push('></i>\n                        <i class="hidden" '),r={target:e},i={target:"ID"},t.buffer.push(w(n.action.call(e,"deleteVertical","vertical",{hash:{target:"view"},contexts:[e,e],types:["STRING","ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("></i>\n                      "),a}function u(e,t){var i,r,a="";return t.buffer.push("\n                    "),i={},r={},t.buffer.push(w(n._triageMustache.call(e,"vertical.name",{hash:{},contexts:[e],types:["ID"],hashContexts:r,hashTypes:i,data:t}))),t.buffer.push("\n                  "),a}function d(e,t){var i,r,a,s,o,l="";return t.buffer.push("\n            <li>\n              "),a={"class":e},s={"class":"STRING"},o={hash:{"class":"tab-link"},inverse:_.noop,fn:_.program(12,p,t),contexts:[e],types:["STRING"],hashContexts:a,hashTypes:s,data:t},i=n.linkTo,r=i?i.call(e,"verticals.new",o):C.call(e,"linkTo","verticals.new",o),(r||0===r)&&t.buffer.push(r),t.buffer.push('\n            </li>\n            <!-- li class="divider-vertical"></li -->\n          '),l}function p(e,t){t.buffer.push('\n                <i class="icon-plus muted"></i>\n              ')}function f(e,t){var i,r,a,s,o,l="";return t.buffer.push("\n              <li>"),a={},s={},o={hash:{},inverse:_.noop,fn:_.program(15,g,t),contexts:[e],types:["STRING"],hashContexts:s,hashTypes:a,data:t},i=n.linkTo,r=i?i.call(e,"data_sources",o):C.call(e,"linkTo","data_sources",o),(r||0===r)&&t.buffer.push(r),t.buffer.push("</li>\n          "),l}function g(e,t){t.buffer.push("Data Sources")}function m(e,t){t.buffer.push(' <i class="icon-user muted" ></i> ')}this.compilerInfo=[3,">= 1.0.0-rc.4"],n=n||Ember.Handlebars.helpers,r=r||{};var v,b,y,x="",w=this.escapeExpression,_=this,C=n.helperMissing;return r.buffer.push('\n<div id=\'top-nav-bar\' class="navbar navbar-fixed-top" style="background-color: white; max-height:60px;">\n  <div >\n    <div class="container" style="padding-bottom: 0px;">\n      <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n      </a>\n      <a class="brand" href="/" style= "padding-top: 12px;">\n        <img src="/assets/logo_long.png" class="brand-image">\n        \n      </a>\n     '),b={},y={},v=n.unless.call(t,"Cibi.Auth.signedIn",{hash:{},inverse:_.noop,fn:_.program(1,a,r),contexts:[t],types:["ID"],hashContexts:y,hashTypes:b,data:r}),(v||0===v)&&r.buffer.push(v),r.buffer.push('\n      <div class="nav-collapse collapse" style="padding-top: 12px;">\n      \n        '),b={},y={},v=n["if"].call(t,"Cibi.Auth.signedIn",{hash:{},inverse:_.noop,fn:_.program(3,s,r),contexts:[t],types:["ID"],hashContexts:y,hashTypes:b,data:r}),(v||0===v)&&r.buffer.push(v),r.buffer.push(' <!-- #if signedIn -->\n\n      </div><!--/.nav-collapse -->\n    </div>\n  </div>\n</div>\n<div class="container" style="width: 100%;padding-top:16px">\n	'),b={},y={},r.buffer.push(w(n._triageMustache.call(t,"outlet",{hash:{},contexts:[t],types:["ID"],hashContexts:y,hashTypes:b,data:r}))),r.buffer.push("\n</div>\n"),x}),Cibi.CheckboxGroupView=Em.Checkbox.extend({checkedObserver:function(){var e=this.get("checkedVal"),t=this.get("selectedArr");this.get("checked")?t.pushObject(e):t.removeObject(e)}.observes("checked")}),Cibi.DisabledTextField=Ember.TextField.extend({disabled:!0}),Cibi.TextArea=Ember.TextArea.extend({disabled:!1}),Cibi.Router.map(function(){this.resource("verticals",function(){this.route("new"),this.resource("vertical",{path:":vertical_id"},function(){this.resource("dashboard",{path:":dashboard_id"},function(){this.route("new"),this.route("edit"),this.route("filtered_charts",{path:"charts/:filter"}),this.route("charts"),this.route("users"),this.route("edit_chart",{path:"edit_chart/:chart_id"})}),this.route("new"),this.route("users"),this.route("edit")})}),this.resource("data_sources",function(){this.resource("data_source",{path:":data_source_id"}),this.route("new"),this.route("edit",{path:":data_source_id/edit"})}),this.resource("account_settings",{path:"account_settings/:account_id"},function(){this.route("account_templates",{path:"/templates"})}),this.resource("user_mgmt",function(){this.route("index"),this.route("user",{path:":user_id"})}),this.route("user_profile"),this.resource("settings",function(){this.route("user"),this.route("colors")}),this.route("forgot_password"),this.route("invalid_token"),this.route("reset_password",{path:"reset_password/:reset_password_token"})}),Cibi.IndexRoute=Ember.Route.extend({redirect:function(){"/jasmine"!=this.router.location.location.pathname&&this.transitionTo("verticals")}}),Cibi.AccountSettingsIndexRoute=Ember.Route.extend({model:function(){return this.controllerFor("account_settings").get("content")}}),Cibi.AccountSettingsRoute=Ember.Route.extend({model:function(e){return Cibi.AccountSetting.find(e.account_id)}}),Cibi.ApplicationRoute=Ember.Route.extend({events:{error:function(){}},setupController:function(){if(Cibi.Auth.get("signedIn")){this.controllerFor("users").set("model",Cibi.User.find());var e=Cibi.User.find(Cibi.Auth.get("userId"));e.then(function(e){accountSetting=Cibi.AccountSetting.find(0),Cibi.Auth.set("globalSetting",accountSetting);var t=e.get("account");Cibi.Auth.set("accountExpired",!1),t.then(function(e){if(e.get("isLoaded")){time_limit=e.get("timeLimit"),time_limit<new Date&&Cibi.Auth.set("accountExpired",!0);var t=Math.round((time_limit-new Date)/864e5);Cibi.Auth.set("daysRemain",t),"trial"==e.get("accountType")?Cibi.Auth.set("isTrial",!0):Cibi.Auth.set("isTrial",!1)}})}),Cibi.Auth.set("currentUser",e),Cibi.Auth.set("colorPreference",Cibi.UserColorPreference.find(1))}}}),Cibi.AuthorizedRoute=Em.Route.extend(Cibi.Auth.AuthRedirectable,{beforeModel:function(e){var t=this;Cibi.Auth.get("signedIn")||($.QueryString.sso_token&&$.QueryString.client_id?(Cibi.Auth.signIn({data:{sso_token:$.QueryString.sso_token,client_id:$.QueryString.client_id,remember:!0}}),Cibi.Auth.on("signInSuccess",function(){Cibi.Auth.set("signing_in",!0),Cibi.Auth.set("errorMessage",!1),Cibi.Auth.set("infoMessage","Signed In Successfully!");var e=window.location.origin+window.location.pathname+window.location.hash;window.location=e}),Cibi.Auth.on("signInError",function(){t.transitionTo("invalid_token")})):$.QueryString.backend_secret_token&&(Cibi.Auth.signIn({data:{backend_secret_token:$.QueryString.backend_secret_token,remember:!0}}),Cibi.Auth.on("signInSuccess",function(){Cibi.Auth.set("signing_in",!0),Cibi.Auth.set("errorMessage",!1),Cibi.Auth.set("infoMessage","Signed In Successfully!"),window.location="/"})),Cibi.Auth.set("attemptedTransition",e),"verticals.index"!=e.targetName&&Cibi.Auth.set("errorMessage","Please Sign in!"),t.transitionTo("verticals"))},error:function(e){alert(e),console.log(e),console.log("$%%%%%%%%%%%%%%%%%%%%%%%%%%%%%")},actions:{error:function(e){alert(e),console.log(e),console.log("################################################")}}}),Cibi.DashboardChartsRoute=Cibi.AuthorizedRoute.extend({events:{willTransition:function(e){if("vertical.index"==e.targetName){Cibi.Auth.get("dashboardInterval")&&clearInterval(Cibi.Auth.get("dashboardInterval"));var t=this.modelFor("dashboard");t&&(t.set("showDashboardFilters",!1),t.set("drawCharts",!1)),$("#"+t.get("tabId")).find(".sort-icon").attr("style","background-color:#4093cd"),$("#"+t.get("tabId")).find(".chart-control-bar").css("cursor","default")}if("dashboard.new"==e.targetName||"dashboard.edit_chart"==e.targetName){var t=this.modelFor("dashboard");t&&t.set("chartNewEditRoute",!0)}}},model:function(){var e=this.modelFor("dashboard");if(e){var t=e.get("id");if(t)return Cibi.Chart.find({dashboard_id:t})}},afterModel:function(){var e=this.modelFor("dashboard");if(e){if(e.set("showDashboardFilters",!0),e.set("drawCharts",!0),e.set("chartNewEditRoute",!1),e.get("autoRefresh")&&e.get("refreshInterval")){var t=setInterval(function(){e.drawAll()},1e3*e.get("refreshInterval"));Cibi.Auth.set("dashboardInterval",t)}Cibi.ScheduledReport.find({dashboard_id:e.id}).then(function(t){e.set("scheduled_report",t)})}},renderTemplate:function(){this.render("charts")}}),Cibi.DashboardEditChartRoute=Cibi.AuthorizedRoute.extend({beforeModel:function(){$("body").scrollTop(0)},model:function(e){this.modelFor("dashboard");var t=e.chart_id;return t?Cibi.Chart.find(t):void 0},afterModel:function(e){e.checkSetup()}}),Cibi.DashboardEditRoute=Cibi.AuthorizedRoute.extend({model:function(){var e=this.modelFor("dashboard");if(e){e.set("showDashboardFilters",!1);var t=e.get("id");if(t)return Cibi.Dashboard.find(t)}}}),Cibi.DashboardFilteredChartsRoute=Cibi.AuthorizedRoute.extend({model:function(){var e=this.modelFor("dashboard");if(e){var t=e.get("id");if(t)return Cibi.Chart.find({dashboard_id:t})}},afterModel:function(e,t){var n=this.modelFor("dashboard");if(n){var i=t.params.filter;if(n.set("showDashboardFilters",!0),n.set("drawCharts",!0),i){var r=decodeURIComponent(i),a=JSON.parse(r),s=[];if(a.length>1)for(var o=0;o<a.length;o++)s.addObject(a[o]);else s.addObject(a);n.set("chartFilterObj",s),n.drawAll()}if(n.get("autoRefresh")&&n.get("refreshInterval")){var l=setInterval(function(){n.drawAll()},1e3*n.get("refreshInterval"));Cibi.Auth.set("dashboardInterval",l)}}},renderTemplate:function(){this.render("charts")}}),Cibi.DashboardNewRoute=Cibi.AuthorizedRoute.extend({model:function(){var e=this.modelFor("dashboard");return e?e:void 0}}),Cibi.DashboardUsersRoute=Cibi.AuthorizedRoute.extend({model:function(){var e=this.controllerFor("dashboard");if(e){var t=e.get("content");if(t)return t}},setupController:function(){var e=this.controllerFor("dashboard").get("content");if("undefined"!=typeof e){var t=e.id;this.controllerFor("permissions").set("model",Cibi.Permission.find({dashboard_id:t}))}}}),Cibi.DashboardRoute=Cibi.AuthorizedRoute.extend({model:function(e){return Cibi.Dashboard.find(e.dashboard_id)}}),Cibi.DashboardsRoute=Cibi.AuthorizedRoute.extend({model:function(e){return Cibi.Dashboard.find({vertical_id:e.vertical_id})}}),Cibi.DataSourceRoute=Cibi.AuthorizedRoute.extend({events:{willTransition:function(){this.controller.set("fileUploadFailed",!1)}},model:function(e){return Cibi.DataSource.find(e.data_source_id,{summary:!0})}}),Cibi.DataSourcesRoute=Cibi.AuthorizedRoute.extend({model:function(){return Cibi.DataSource.find()}}),Cibi.DataSourcesNewRoute=Ember.Route.extend({setupController:function(){this.controllerFor("dataConnections").set("model",Cibi.DataConnection.find())}}),Cibi.DataSourcesIndexRoute=Ember.Route.extend({model:function(){return Cibi.DataSource.find()},redirect:function(e){var t=e;if(void 0!==typeof t&&t.get("isLoaded")){var n=t.get("firstObject");"undefined"!=typeof n&&this.transitionTo("data_source",n)}}}),Cibi.DataSourcesEditRoute=Ember.Route.extend({model:function(e){return Cibi.DataSource.find(e.data_source_id,{summary:!0})}}),Cibi.LoginRoute=Ember.Route.extend({setupController:function(){}}),Cibi.SettingsColorsRoute=Em.Route.extend({model:function(){return Cibi.UserColorPreference.find(1)},renderTemplate:function(){this.render("settings/colors")}}),Cibi.SettingsUserRoute=Cibi.AuthorizedRoute.extend({model:function(){return Cibi.Auth.get("currentUser")},setupController:function(e,t){this._super(),e.set("model",t)}}),Cibi.UserMgmtIndexRoute=Cibi.AuthorizedRoute.extend({renderTemplate:function(){this.render("user_mgmt/index")}}),Cibi.UserMgmtRoute=Cibi.AuthorizedRoute.extend({renderTemplate:function(){this.render("user_mgmt")}}),Cibi.UserMgmtUserRoute=Cibi.AuthorizedRoute.extend({model:function(e){return Cibi.User.find(e.user_id)},renderTemplate:function(){this.render("user_mgmt/user")}}),Cibi.VerticalEditRoute=Ember.Route.extend({model:function(e){return Cibi.Vertical.find(e.vertical_id)}}),Cibi.VerticalNewRoute=Ember.Route.extend({model:function(e){return Cibi.Vertical.find(e.vertical_id)}}),Cibi.VerticalUsersRoute=Ember.Route.extend({model:function(){var e=this.controllerFor("vertical");if(e){var t=e.get("content");if(t)return t}},setupController:function(){var e=this.controllerFor("vertical").get("content").id;this.controllerFor("permissions").set("model",Cibi.Permission.find({vertical_id:e}))}}),Cibi.VerticalRoute=Cibi.AuthorizedRoute.extend({events:{willTransition:function(){}},model:function(e){return Cibi.Vertical.find(e.vertical_id)},afterModel:function(e,t){if(void 0!==t.providedModels.vertical&&"vertical.new"!==t.targetName&&"vertical.users"!==t.targetName&&"vertical.edit"!==t.targetName){var n=e.get("dashboards.firstObject");"undefined"!=typeof n&&this.transitionTo("dashboard.charts",n)}}}),Cibi.VerticalsRoute=Em.Route.extend({model:function(){return Cibi.Auth.get("signedIn")?Cibi.Vertical.find():void 0}}),Cibi.VerticalsIndexRoute=Cibi.AuthorizedRoute.extend({redirect:function(){if(Cibi.Auth.get("signedIn")){var e=this.controllerFor("verticals").get("content");if(void 0!==typeof e&&e.get("isLoaded")){var t=e.get("firstObject");"undefined"!=typeof t&&this.transitionTo("vertical",t)}}}}),function(){function e(){var e={};return e.FRAMERATE=30,e.MAX_VIRTUAL_PIXELS=3e4,e.init=function(t){e.Definitions={},e.Styles={},e.Animations=[],e.Images=[],e.ctx=t,e.ViewPort=new function(){this.viewPorts=[],this.Clear=function(){this.viewPorts=[]},this.SetCurrent=function(e,t){this.viewPorts.push({width:e,height:t})},this.RemoveCurrent=function(){this.viewPorts.pop()},this.Current=function(){return this.viewPorts[this.viewPorts.length-1]},this.width=function(){return this.Current().width},this.height=function(){return this.Current().height},this.ComputeSize=function(e){return null!=e&&"number"==typeof e?e:"x"==e?this.width():"y"==e?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}},e.init(),e.ImagesLoaded=function(){for(var t=0;t<e.Images.length;t++)if(!e.Images[t].loaded)return!1;return!0},e.trim=function(e){return e.replace(/^\s+|\s+$/g,"")},e.compressSpaces=function(e){return e.replace(/[\s\r\t\n]+/gm," ")},e.ajax=function(e){var t;return t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),t?(t.open("GET",e,!1),t.send(null),t.responseText):null},e.parseXml=function(e){if(window.DOMParser){var t=new DOMParser;return t.parseFromString(e,"text/xml")}e=e.replace(/<!DOCTYPE svg[^>]*>/,"");var n=new ActiveXObject("Microsoft.XMLDOM");return n.async="false",n.loadXML(e),n},e.Property=function(e,t){this.name=e,this.value=t},e.Property.prototype.getValue=function(){return this.value},e.Property.prototype.hasValue=function(){return null!=this.value&&""!==this.value},e.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var e=parseFloat(this.value);return(this.value+"").match(/%$/)&&(e/=100),e},e.Property.prototype.valueOrDefault=function(e){return this.hasValue()?this.value:e},e.Property.prototype.numValueOrDefault=function(e){return this.hasValue()?this.numValue():e},e.Property.prototype.addOpacity=function(t){var n=this.value;if(null!=t&&""!=t&&"string"==typeof this.value){var i=new RGBColor(this.value);i.ok&&(n="rgba("+i.r+", "+i.g+", "+i.b+", "+t+")")}return new e.Property(this.name,n)},e.Property.prototype.getDefinition=function(){var t=this.value.replace(/^(url\()?#([^\)]+)\)?$/,"$2");return e.Definitions[t]},e.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")},e.Property.prototype.getFillStyleDefinition=function(t){var n=this.getDefinition();return null!=n&&n.createGradient?n.createGradient(e.ctx,t):null!=n&&n.createPattern?n.createPattern(e.ctx,t):null},e.Property.prototype.getDPI=function(){return 96},e.Property.prototype.getEM=function(t){var n=12,i=new e.Property("fontSize",e.Font.Parse(e.ctx.font).fontSize);return i.hasValue()&&(n=i.toPixels(t)),n},e.Property.prototype.getUnits=function(){var e=this.value+"";return e.replace(/[0-9\.\-]/g,"")},e.Property.prototype.toPixels=function(t){if(!this.hasValue())return 0;var n=this.value+"";return n.match(/em$/)?this.numValue()*this.getEM(t):n.match(/ex$/)?this.numValue()*this.getEM(t)/2:n.match(/px$/)?this.numValue():n.match(/pt$/)?this.numValue()*this.getDPI(t)*(1/72):n.match(/pc$/)?15*this.numValue():n.match(/cm$/)?this.numValue()*this.getDPI(t)/2.54:n.match(/mm$/)?this.numValue()*this.getDPI(t)/25.4:n.match(/in$/)?this.numValue()*this.getDPI(t):n.match(/%$/)?this.numValue()*e.ViewPort.ComputeSize(t):this.numValue()},e.Property.prototype.toMilliseconds=function(){if(!this.hasValue())return 0;var e=this.value+"";return e.match(/s$/)?1e3*this.numValue():e.match(/ms$/)?this.numValue():this.numValue()},e.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var e=this.value+"";return e.match(/deg$/)?this.numValue()*(Math.PI/180):e.match(/grad$/)?this.numValue()*(Math.PI/200):e.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)},e.Font=new function(){this.Styles="normal|italic|oblique|inherit",this.Variants="normal|small-caps|inherit",this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit",this.CreateFont=function(t,n,i,r,a,s){var o=null!=s?this.Parse(s):this.CreateFont("","","","","",e.ctx.font);return{fontFamily:a||o.fontFamily,fontSize:r||o.fontSize,fontStyle:t||o.fontStyle,fontWeight:i||o.fontWeight,fontVariant:n||o.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var t=this;this.Parse=function(n){for(var i={},r=e.trim(e.compressSpaces(n||"")).split(" "),a={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1},s="",o=0;o<r.length;o++)a.fontStyle||-1==t.Styles.indexOf(r[o])?a.fontVariant||-1==t.Variants.indexOf(r[o])?a.fontWeight||-1==t.Weights.indexOf(r[o])?a.fontSize?"inherit"!=r[o]&&(s+=r[o]):("inherit"!=r[o]&&(i.fontSize=r[o].split("/")[0]),a.fontStyle=a.fontVariant=a.fontWeight=a.fontSize=!0):("inherit"!=r[o]&&(i.fontWeight=r[o]),a.fontStyle=a.fontVariant=a.fontWeight=!0):("inherit"!=r[o]&&(i.fontVariant=r[o]),a.fontStyle=a.fontVariant=!0):("inherit"!=r[o]&&(i.fontStyle=r[o]),a.fontStyle=!0);return""!=s&&(i.fontFamily=s),i}},e.ToNumberArray=function(t){for(var n=e.trim(e.compressSpaces((t||"").replace(/,/g," "))).split(" "),i=0;i<n.length;i++)n[i]=parseFloat(n[i]);return n},e.Point=function(e,t){this.x=e,this.y=t},e.Point.prototype.angleTo=function(e){return Math.atan2(e.y-this.y,e.x-this.x)},e.Point.prototype.applyTransform=function(e){var t=this.x*e[0]+this.y*e[2]+e[4],n=this.x*e[1]+this.y*e[3]+e[5];this.x=t,this.y=n},e.CreatePoint=function(t){var n=e.ToNumberArray(t);return new e.Point(n[0],n[1])},e.CreatePath=function(t){for(var n=e.ToNumberArray(t),i=[],r=0;r<n.length;r+=2)i.push(new e.Point(n[r],n[r+1]));return i},e.BoundingBox=function(e,t,n,r){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.x=function(){return this.x1},this.y=function(){return this.y1},this.width=function(){return this.x2-this.x1},this.height=function(){return this.y2-this.y1},this.addPoint=function(e,t){null!=e&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),null!=t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))},this.addX=function(e){this.addPoint(e,null)},this.addY=function(e){this.addPoint(null,e)},this.addBoundingBox=function(e){this.addPoint(e.x1,e.y1),this.addPoint(e.x2,e.y2)},this.addQuadraticCurve=function(e,t,n,i,r,a){var s=e+2/3*(n-e),o=t+2/3*(i-t),l=s+1/3*(r-e),c=o+1/3*(a-t);this.addBezierCurve(e,t,s,l,o,c,r,a)},this.addBezierCurve=function(e,t,n,r,a,s,o,l){var c=[e,t],h=[n,r],u=[a,s],d=[o,l];for(this.addPoint(c[0],c[1]),this.addPoint(d[0],d[1]),i=0;1>=i;i++){var p=function(e){return Math.pow(1-e,3)*c[i]+3*Math.pow(1-e,2)*e*h[i]+3*(1-e)*Math.pow(e,2)*u[i]+Math.pow(e,3)*d[i]},f=6*c[i]-12*h[i]+6*u[i],g=-3*c[i]+9*h[i]-9*u[i]+3*d[i],m=3*h[i]-3*c[i];if(0!=g){var v=Math.pow(f,2)-4*m*g;if(!(0>v)){var b=(-f+Math.sqrt(v))/(2*g);b>0&&1>b&&(0==i&&this.addX(p(b)),1==i&&this.addY(p(b)));var y=(-f-Math.sqrt(v))/(2*g);y>0&&1>y&&(0==i&&this.addX(p(y)),1==i&&this.addY(p(y)))}}else{if(0==f)continue;var x=-m/f;x>0&&1>x&&(0==i&&this.addX(p(x)),1==i&&this.addY(p(x)))}}},this.isPointInBox=function(e,t){return this.x1<=e&&e<=this.x2&&this.y1<=t&&t<=this.y2},this.addPoint(e,t),this.addPoint(n,r)},e.Transform=function(t){var n=this;this.Type={},this.Type.translate=function(t){this.p=e.CreatePoint(t),this.apply=function(e){e.translate(this.p.x||0,this.p.y||0)},this.applyToPoint=function(e){e.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(t){var n=e.ToNumberArray(t);this.angle=new e.Property("angle",n[0]),this.cx=n[1]||0,this.cy=n[2]||0,this.apply=function(e){e.translate(this.cx,this.cy),e.rotate(this.angle.toRadians()),e.translate(-this.cx,-this.cy)},this.applyToPoint=function(e){var t=this.angle.toRadians();e.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),e.applyTransform([Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0]),e.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(t){this.p=e.CreatePoint(t),this.apply=function(e){e.scale(this.p.x||1,this.p.y||this.p.x||1)},this.applyToPoint=function(e){e.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(t){this.m=e.ToNumberArray(t),this.apply=function(e){e.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.applyToPoint=function(e){e.applyTransform(this.m)}},this.Type.SkewBase=function(t){this.base=n.Type.matrix,this.base(t),this.angle=new e.Property("angle",t)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(e){this.base=n.Type.SkewBase,this.base(e),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(e){this.base=n.Type.SkewBase,this.base(e),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(e){for(var t=0;t<this.transforms.length;t++)this.transforms[t].apply(e)},this.applyToPoint=function(e){for(var t=0;t<this.transforms.length;t++)this.transforms[t].applyToPoint(e)};for(var i=e.trim(e.compressSpaces(t)).split(/\s(?=[a-z])/),r=0;r<i.length;r++){var a=i[r].split("(")[0],s=i[r].split("(")[1].replace(")",""),o=new this.Type[a](s);this.transforms.push(o)}},e.AspectRatio=function(t,n,i,r,a,s,o,l,c,h){n=e.compressSpaces(n),n=n.replace(/^defer\s/,"");var u=n.split(" ")[0]||"xMidYMid",d=n.split(" ")[1]||"meet",p=i/r,f=a/s,g=Math.min(p,f),m=Math.max(p,f);"meet"==d&&(r*=g,s*=g),"slice"==d&&(r*=m,s*=m),c=new e.Property("refX",c),h=new e.Property("refY",h),c.hasValue()&&h.hasValue()?t.translate(-g*c.toPixels("x"),-g*h.toPixels("y")):(u.match(/^xMid/)&&("meet"==d&&g==f||"slice"==d&&m==f)&&t.translate(i/2-r/2,0),u.match(/YMid$/)&&("meet"==d&&g==p||"slice"==d&&m==p)&&t.translate(0,a/2-s/2),u.match(/^xMax/)&&("meet"==d&&g==f||"slice"==d&&m==f)&&t.translate(i-r,0),u.match(/YMax$/)&&("meet"==d&&g==p||"slice"==d&&m==p)&&t.translate(0,a-s)),"none"==u?t.scale(p,f):"meet"==d?t.scale(g,g):"slice"==d&&t.scale(m,m),t.translate(null==o?0:-o,null==l?0:-l)},e.Element={},e.EmptyProperty=new e.Property("EMPTY",""),e.Element.ElementBase=function(t){if(this.attributes={},this.styles={},this.children=[],this.attribute=function(t,n){var i=this.attributes[t];return null!=i?i:(1==n&&(i=new e.Property(t,""),this.attributes[t]=i),i||e.EmptyProperty)},this.style=function(t,n){var i=this.styles[t];if(null!=i)return i;var r=this.attribute(t);if(null!=r&&r.hasValue())return this.styles[t]=r,r;var a=this.parent;if(null!=a){var s=a.style(t);if(null!=s&&s.hasValue())return s}return 1==n&&(i=new e.Property(t,""),this.styles[t]=i),i||e.EmptyProperty},this.render=function(e){if("none"!=this.style("display").value&&"hidden"!=this.attribute("visibility").value){if(e.save(),this.setContext(e),this.attribute("mask").hasValue()){var t=this.attribute("mask").getDefinition();null!=t&&t.apply(e,this)}else if(this.style("filter").hasValue()){var n=this.style("filter").getDefinition();null!=n&&n.apply(e,this)}else this.renderChildren(e);this.clearContext(e),e.restore()}},this.setContext=function(){},this.clearContext=function(){},this.renderChildren=function(e){for(var t=0;t<this.children.length;t++)this.children[t].render(e)},this.addChild=function(t,n){var i=t;n&&(i=e.CreateElement(t)),i.parent=this,this.children.push(i)},null!=t&&1==t.nodeType){for(var n=0;n<t.childNodes.length;n++){var i=t.childNodes[n];1==i.nodeType&&this.addChild(i,!0)}for(var n=0;n<t.attributes.length;n++){var r=t.attributes[n];this.attributes[r.nodeName]=new e.Property(r.nodeName,r.nodeValue)}var a=e.Styles[t.nodeName];if(null!=a)for(var s in a)this.styles[s]=a[s];if(this.attribute("class").hasValue())for(var o=e.compressSpaces(this.attribute("class").value).split(" "),l=0;l<o.length;l++){if(a=e.Styles["."+o[l]],null!=a)for(var s in a)this.styles[s]=a[s];if(a=e.Styles[t.nodeName+"."+o[l]],null!=a)for(var s in a)this.styles[s]=a[s]}if(this.attribute("id").hasValue()){var a=e.Styles["#"+this.attribute("id").value];if(null!=a)for(var s in a)this.styles[s]=a[s]}if(this.attribute("style").hasValue())for(var a=this.attribute("style").value.split(";"),n=0;n<a.length;n++)if(""!=e.trim(a[n])){var c=a[n].split(":"),s=e.trim(c[0]),h=e.trim(c[1]);this.styles[s]=new e.Property(s,h)}this.attribute("id").hasValue()&&null==e.Definitions[this.attribute("id").value]&&(e.Definitions[this.attribute("id").value]=this)}},e.Element.RenderedElementBase=function(t){this.base=e.Element.ElementBase,this.base(t),this.setContext=function(t){if(this.style("fill").isUrlDefinition()){var n=this.style("fill").getFillStyleDefinition(this);null!=n&&(t.fillStyle=n)}else if(this.style("fill").hasValue()){var i=this.style("fill");"currentColor"==i.value&&(i.value=this.style("color").value),t.fillStyle="none"==i.value?"rgba(0,0,0,0)":i.value}if(this.style("fill-opacity").hasValue()){var i=new e.Property("fill",t.fillStyle);i=i.addOpacity(this.style("fill-opacity").value),t.fillStyle=i.value}if(this.style("stroke").isUrlDefinition()){var n=this.style("stroke").getFillStyleDefinition(this);null!=n&&(t.strokeStyle=n)}else if(this.style("stroke").hasValue()){var r=this.style("stroke");"currentColor"==r.value&&(r.value=this.style("color").value),t.strokeStyle="none"==r.value?"rgba(0,0,0,0)":r.value}if(this.style("stroke-opacity").hasValue()){var r=new e.Property("stroke",t.strokeStyle);r=r.addOpacity(this.style("stroke-opacity").value),t.strokeStyle=r.value}if(this.style("stroke-width").hasValue()&&(t.lineWidth=this.style("stroke-width").toPixels()),this.style("stroke-linecap").hasValue()&&(t.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(t.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(t.miterLimit=this.style("stroke-miterlimit").value),"undefined"!=typeof t.font&&(t.font=e.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString()),this.attribute("transform").hasValue()){var a=new e.Transform(this.attribute("transform").value);a.apply(t)}if(this.attribute("clip-path").hasValue()){var s=this.attribute("clip-path").getDefinition();null!=s&&s.apply(t)}this.style("opacity").hasValue()&&(t.globalAlpha=this.style("opacity").numValue())}},e.Element.RenderedElementBase.prototype=new e.Element.ElementBase,e.Element.PathElementBase=function(t){this.base=e.Element.RenderedElementBase,this.base(t),this.path=function(t){return null!=t&&t.beginPath(),new e.BoundingBox},this.renderChildren=function(t){this.path(t),e.Mouse.checkPath(this,t),""!=t.fillStyle&&t.fill(),""!=t.strokeStyle&&t.stroke();var n=this.getMarkers();if(null!=n){if(this.style("marker-start").isUrlDefinition()){var i=this.style("marker-start").getDefinition();i.render(t,n[0][0],n[0][1])}if(this.style("marker-mid").isUrlDefinition())for(var i=this.style("marker-mid").getDefinition(),r=1;r<n.length-1;r++)i.render(t,n[r][0],n[r][1]);if(this.style("marker-end").isUrlDefinition()){var i=this.style("marker-end").getDefinition();i.render(t,n[n.length-1][0],n[n.length-1][1])}}},this.getBoundingBox=function(){return this.path()},this.getMarkers=function(){return null}},e.Element.PathElementBase.prototype=new e.Element.RenderedElementBase,e.Element.svg=function(t){this.base=e.Element.RenderedElementBase,this.base(t),this.baseClearContext=this.clearContext,this.clearContext=function(t){this.baseClearContext(t),e.ViewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(t){t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4,this.baseSetContext(t),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),t.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var n=e.ViewPort.width(),i=e.ViewPort.height();if(this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),"undefined"==typeof this.root){n=this.attribute("width").toPixels("x"),i=this.attribute("height").toPixels("y");var r=0,a=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(r=-this.attribute("refX").toPixels("x"),a=-this.attribute("refY").toPixels("y")),t.beginPath(),t.moveTo(r,a),t.lineTo(n,a),t.lineTo(n,i),t.lineTo(r,i),t.closePath(),t.clip()}if(e.ViewPort.SetCurrent(n,i),this.attribute("viewBox").hasValue()){var s=e.ToNumberArray(this.attribute("viewBox").value),o=s[0],l=s[1];n=s[2],i=s[3],e.AspectRatio(t,this.attribute("preserveAspectRatio").value,e.ViewPort.width(),n,e.ViewPort.height(),i,o,l,this.attribute("refX").value,this.attribute("refY").value),e.ViewPort.RemoveCurrent(),e.ViewPort.SetCurrent(s[2],s[3])}}},e.Element.svg.prototype=new e.Element.RenderedElementBase,e.Element.rect=function(t){this.base=e.Element.PathElementBase,this.base(t),this.path=function(t){var n=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),r=this.attribute("width").toPixels("x"),a=this.attribute("height").toPixels("y"),s=this.attribute("rx").toPixels("x"),o=this.attribute("ry").toPixels("y");return this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(o=s),this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(s=o),null!=t&&(t.beginPath(),t.moveTo(n+s,i),t.lineTo(n+r-s,i),t.quadraticCurveTo(n+r,i,n+r,i+o),t.lineTo(n+r,i+a-o),t.quadraticCurveTo(n+r,i+a,n+r-s,i+a),t.lineTo(n+s,i+a),t.quadraticCurveTo(n,i+a,n,i+a-o),t.lineTo(n,i+o),t.quadraticCurveTo(n,i,n+s,i),t.closePath()),new e.BoundingBox(n,i,n+r,i+a)}},e.Element.rect.prototype=new e.Element.PathElementBase,e.Element.circle=function(t){this.base=e.Element.PathElementBase,this.base(t),this.path=function(t){var n=this.attribute("cx").toPixels("x"),i=this.attribute("cy").toPixels("y"),r=this.attribute("r").toPixels();return null!=t&&(t.beginPath(),t.arc(n,i,r,0,2*Math.PI,!0),t.closePath()),new e.BoundingBox(n-r,i-r,n+r,i+r)}},e.Element.circle.prototype=new e.Element.PathElementBase,e.Element.ellipse=function(t){this.base=e.Element.PathElementBase,this.base(t),this.path=function(t){var n=4*((Math.sqrt(2)-1)/3),i=this.attribute("rx").toPixels("x"),r=this.attribute("ry").toPixels("y"),a=this.attribute("cx").toPixels("x"),s=this.attribute("cy").toPixels("y");
return null!=t&&(t.beginPath(),t.moveTo(a,s-r),t.bezierCurveTo(a+n*i,s-r,a+i,s-n*r,a+i,s),t.bezierCurveTo(a+i,s+n*r,a+n*i,s+r,a,s+r),t.bezierCurveTo(a-n*i,s+r,a-i,s+n*r,a-i,s),t.bezierCurveTo(a-i,s-n*r,a-n*i,s-r,a,s-r),t.closePath()),new e.BoundingBox(a-i,s-r,a+i,s+r)}},e.Element.ellipse.prototype=new e.Element.PathElementBase,e.Element.line=function(t){this.base=e.Element.PathElementBase,this.base(t),this.getPoints=function(){return[new e.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new e.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]},this.path=function(t){var n=this.getPoints();return null!=t&&(t.beginPath(),t.moveTo(n[0].x,n[0].y),t.lineTo(n[1].x,n[1].y)),new e.BoundingBox(n[0].x,n[0].y,n[1].x,n[1].y)},this.getMarkers=function(){var e=this.getPoints(),t=e[0].angleTo(e[1]);return[[e[0],t],[e[1],t]]}},e.Element.line.prototype=new e.Element.PathElementBase,e.Element.polyline=function(t){this.base=e.Element.PathElementBase,this.base(t),this.points=e.CreatePath(this.attribute("points").value),this.path=function(t){var n=new e.BoundingBox(this.points[0].x,this.points[0].y);null!=t&&(t.beginPath(),t.moveTo(this.points[0].x,this.points[0].y));for(var i=1;i<this.points.length;i++)n.addPoint(this.points[i].x,this.points[i].y),null!=t&&t.lineTo(this.points[i].x,this.points[i].y);return n},this.getMarkers=function(){for(var e=[],t=0;t<this.points.length-1;t++)e.push([this.points[t],this.points[t].angleTo(this.points[t+1])]);return e.push([this.points[this.points.length-1],e[e.length-1][1]]),e}},e.Element.polyline.prototype=new e.Element.PathElementBase,e.Element.polygon=function(t){this.base=e.Element.polyline,this.base(t),this.basePath=this.path,this.path=function(e){var t=this.basePath(e);return null!=e&&(e.lineTo(this.points[0].x,this.points[0].y),e.closePath()),t}},e.Element.polygon.prototype=new e.Element.polyline,e.Element.path=function(t){this.base=e.Element.PathElementBase,this.base(t);var n=this.attribute("d").value;n=n.replace(/,/gm," "),n=n.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),n=n.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),n=n.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2"),n=n.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),n=n.replace(/([0-9])([+\-])/gm,"$1 $2"),n=n.replace(/(\.[0-9]*)(\.)/gm,"$1 $2"),n=n.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),n=e.compressSpaces(n),n=e.trim(n),this.PathParser=new function(t){this.tokens=t.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new e.Point(0,0),this.control=new e.Point(0,0),this.current=new e.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return this.isEnd()?!0:null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var t=new e.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(t)},this.getAsControlPoint=function(){var e=this.getPoint();return this.control=e,e},this.getAsCurrentPoint=function(){var e=this.getPoint();return this.current=e,e},this.getReflectedControlPoint=function(){if("c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase())return this.current;var t=new e.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y);return t},this.makeAbsolute=function(e){return this.isRelativeCommand()&&(e.x+=this.current.x,e.y+=this.current.y),e},this.addMarker=function(e,t,n){null!=n&&this.angles.length>0&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(n)),this.addMarkerAngle(e,null==t?null:t.angleTo(e))},this.addMarkerAngle=function(e,t){this.points.push(e),this.angles.push(t)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var e=0;e<this.angles.length;e++)if(null==this.angles[e])for(var t=e+1;t<this.angles.length;t++)if(null!=this.angles[t]){this.angles[e]=this.angles[t];break}return this.angles}}(n),this.path=function(t){var n=this.PathParser;n.reset();var i=new e.BoundingBox;for(null!=t&&t.beginPath();!n.isEnd();)switch(n.nextCommand(),n.command){case"M":case"m":var r=n.getAsCurrentPoint();for(n.addMarker(r),i.addPoint(r.x,r.y),null!=t&&t.moveTo(r.x,r.y),n.start=n.current;!n.isCommandOrEnd();){var r=n.getAsCurrentPoint();n.addMarker(r,n.start),i.addPoint(r.x,r.y),null!=t&&t.lineTo(r.x,r.y)}break;case"L":case"l":for(;!n.isCommandOrEnd();){var a=n.current,r=n.getAsCurrentPoint();n.addMarker(r,a),i.addPoint(r.x,r.y),null!=t&&t.lineTo(r.x,r.y)}break;case"H":case"h":for(;!n.isCommandOrEnd();){var s=new e.Point((n.isRelativeCommand()?n.current.x:0)+n.getScalar(),n.current.y);n.addMarker(s,n.current),n.current=s,i.addPoint(n.current.x,n.current.y),null!=t&&t.lineTo(n.current.x,n.current.y)}break;case"V":case"v":for(;!n.isCommandOrEnd();){var s=new e.Point(n.current.x,(n.isRelativeCommand()?n.current.y:0)+n.getScalar());n.addMarker(s,n.current),n.current=s,i.addPoint(n.current.x,n.current.y),null!=t&&t.lineTo(n.current.x,n.current.y)}break;case"C":case"c":for(;!n.isCommandOrEnd();){var o=n.current,l=n.getPoint(),c=n.getAsControlPoint(),h=n.getAsCurrentPoint();n.addMarker(h,c,l),i.addBezierCurve(o.x,o.y,l.x,l.y,c.x,c.y,h.x,h.y),null!=t&&t.bezierCurveTo(l.x,l.y,c.x,c.y,h.x,h.y)}break;case"S":case"s":for(;!n.isCommandOrEnd();){var o=n.current,l=n.getReflectedControlPoint(),c=n.getAsControlPoint(),h=n.getAsCurrentPoint();n.addMarker(h,c,l),i.addBezierCurve(o.x,o.y,l.x,l.y,c.x,c.y,h.x,h.y),null!=t&&t.bezierCurveTo(l.x,l.y,c.x,c.y,h.x,h.y)}break;case"Q":case"q":for(;!n.isCommandOrEnd();){var o=n.current,c=n.getAsControlPoint(),h=n.getAsCurrentPoint();n.addMarker(h,c,c),i.addQuadraticCurve(o.x,o.y,c.x,c.y,h.x,h.y),null!=t&&t.quadraticCurveTo(c.x,c.y,h.x,h.y)}break;case"T":case"t":for(;!n.isCommandOrEnd();){var o=n.current,c=n.getReflectedControlPoint();n.control=c;var h=n.getAsCurrentPoint();n.addMarker(h,c,c),i.addQuadraticCurve(o.x,o.y,c.x,c.y,h.x,h.y),null!=t&&t.quadraticCurveTo(c.x,c.y,h.x,h.y)}break;case"A":case"a":for(;!n.isCommandOrEnd();){var o=n.current,u=n.getScalar(),d=n.getScalar(),p=n.getScalar()*(Math.PI/180),f=n.getScalar(),g=n.getScalar(),h=n.getAsCurrentPoint(),m=new e.Point(Math.cos(p)*(o.x-h.x)/2+Math.sin(p)*(o.y-h.y)/2,-Math.sin(p)*(o.x-h.x)/2+Math.cos(p)*(o.y-h.y)/2),v=Math.pow(m.x,2)/Math.pow(u,2)+Math.pow(m.y,2)/Math.pow(d,2);v>1&&(u*=Math.sqrt(v),d*=Math.sqrt(v));var b=(f==g?-1:1)*Math.sqrt((Math.pow(u,2)*Math.pow(d,2)-Math.pow(u,2)*Math.pow(m.y,2)-Math.pow(d,2)*Math.pow(m.x,2))/(Math.pow(u,2)*Math.pow(m.y,2)+Math.pow(d,2)*Math.pow(m.x,2)));isNaN(b)&&(b=0);var y=new e.Point(b*u*m.y/d,b*-d*m.x/u),x=new e.Point((o.x+h.x)/2+Math.cos(p)*y.x-Math.sin(p)*y.y,(o.y+h.y)/2+Math.sin(p)*y.x+Math.cos(p)*y.y),w=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))},_=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(w(e)*w(t))},C=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(_(e,t))},T=C([1,0],[(m.x-y.x)/u,(m.y-y.y)/d]),D=[(m.x-y.x)/u,(m.y-y.y)/d],S=[(-m.x-y.x)/u,(-m.y-y.y)/d],E=C(D,S);_(D,S)<=-1&&(E=Math.PI),_(D,S)>=1&&(E=0),0==g&&E>0&&(E-=2*Math.PI),1==g&&0>E&&(E+=2*Math.PI);var k=new e.Point(x.x+u*Math.cos((T+(T+E))/2),x.y+d*Math.sin((T+(T+E))/2));if(n.addMarkerAngle(k,(T+(T+E))/2+(0==g?-1:1)*Math.PI/2),n.addMarkerAngle(h,T+E+(0==g?-1:1)*Math.PI/2),i.addPoint(h.x,h.y),null!=t){var _=u>d?u:d,I=u>d?1:u/d,N=u>d?d/u:1;t.translate(x.x,x.y),t.rotate(p),t.scale(I,N),t.arc(0,0,_,T,T+E,1-g),t.scale(1/I,1/N),t.rotate(-p),t.translate(-x.x,-x.y)}}break;case"Z":case"z":null!=t&&t.closePath(),n.current=n.start}return i},this.getMarkers=function(){for(var e=this.PathParser.getMarkerPoints(),t=this.PathParser.getMarkerAngles(),n=[],i=0;i<e.length;i++)n.push([e[i],t[i]]);return n}},e.Element.path.prototype=new e.Element.PathElementBase,e.Element.pattern=function(t){this.base=e.Element.ElementBase,this.base(t),this.createPattern=function(t){var n=new e.Element.svg;n.attributes.viewBox=new e.Property("viewBox",this.attribute("viewBox").value),n.attributes.x=new e.Property("x",this.attribute("x").value),n.attributes.y=new e.Property("y",this.attribute("y").value),n.attributes.width=new e.Property("width",this.attribute("width").value),n.attributes.height=new e.Property("height",this.attribute("height").value),n.children=this.children;var i=document.createElement("canvas");return document.body.appendChild(i),i.width=this.attribute("width").toPixels("x")+this.attribute("x").toPixels("x"),i.height=this.attribute("height").toPixels("y")+this.attribute("y").toPixels("y"),n.render(i.getContext("2d")),t.createPattern(i,"repeat")}},e.Element.pattern.prototype=new e.Element.ElementBase,e.Element.marker=function(t){this.base=e.Element.ElementBase,this.base(t),this.baseRender=this.render,this.render=function(t,n,i){t.translate(n.x,n.y),"auto"==this.attribute("orient").valueOrDefault("auto")&&t.rotate(i),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&t.scale(t.lineWidth,t.lineWidth),t.save();var r=new e.Element.svg;r.attributes.viewBox=new e.Property("viewBox",this.attribute("viewBox").value),r.attributes.refX=new e.Property("refX",this.attribute("refX").value),r.attributes.refY=new e.Property("refY",this.attribute("refY").value),r.attributes.width=new e.Property("width",this.attribute("markerWidth").value),r.attributes.height=new e.Property("height",this.attribute("markerHeight").value),r.attributes.fill=new e.Property("fill",this.attribute("fill").valueOrDefault("black")),r.attributes.stroke=new e.Property("stroke",this.attribute("stroke").valueOrDefault("none")),r.children=this.children,r.render(t),t.restore(),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&t.scale(1/t.lineWidth,1/t.lineWidth),"auto"==this.attribute("orient").valueOrDefault("auto")&&t.rotate(-i),t.translate(-n.x,-n.y)}},e.Element.marker.prototype=new e.Element.ElementBase,e.Element.defs=function(t){this.base=e.Element.ElementBase,this.base(t),this.render=function(){}},e.Element.defs.prototype=new e.Element.ElementBase,e.Element.GradientBase=function(t){this.base=e.Element.ElementBase,this.base(t),this.gradientUnits=this.attribute("gradientUnits").valueOrDefault("objectBoundingBox"),this.stops=[];for(var n=0;n<this.children.length;n++){var i=this.children[n];this.stops.push(i)}this.getGradient=function(){},this.createGradient=function(t,n){var i=this;this.attribute("xlink:href").hasValue()&&(i=this.attribute("xlink:href").getDefinition());var r=this.getGradient(t,n);if(null==r)return i.stops[i.stops.length-1].color;for(var a=0;a<i.stops.length;a++)r.addColorStop(i.stops[a].offset,i.stops[a].color);if(this.attribute("gradientTransform").hasValue()){var s=e.ViewPort.viewPorts[0],o=new e.Element.rect;o.attributes.x=new e.Property("x",-e.MAX_VIRTUAL_PIXELS/3),o.attributes.y=new e.Property("y",-e.MAX_VIRTUAL_PIXELS/3),o.attributes.width=new e.Property("width",e.MAX_VIRTUAL_PIXELS),o.attributes.height=new e.Property("height",e.MAX_VIRTUAL_PIXELS);var l=new e.Element.g;l.attributes.transform=new e.Property("transform",this.attribute("gradientTransform").value),l.children=[o];var c=new e.Element.svg;c.attributes.x=new e.Property("x",0),c.attributes.y=new e.Property("y",0),c.attributes.width=new e.Property("width",s.width),c.attributes.height=new e.Property("height",s.height),c.children=[l];var h=document.createElement("canvas");h.width=s.width,h.height=s.height;var u=h.getContext("2d");return u.fillStyle=r,c.render(u),u.createPattern(h,"no-repeat")}return r}},e.Element.GradientBase.prototype=new e.Element.ElementBase,e.Element.linearGradient=function(t){this.base=e.Element.GradientBase,this.base(t),this.getGradient=function(e,t){var n=t.getBoundingBox(),i="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"),r="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"),a="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"),s="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");return i==a&&r==s?null:e.createLinearGradient(i,r,a,s)}},e.Element.linearGradient.prototype=new e.Element.GradientBase,e.Element.radialGradient=function(t){this.base=e.Element.GradientBase,this.base(t),this.getGradient=function(e,t){var n=t.getBoundingBox();this.attribute("cx").hasValue()||(this.attribute("cx",!0).value="50%"),this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%"),this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%");var i="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"),r="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"),a=i,s=r;this.attribute("fx").hasValue()&&(a="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x")),this.attribute("fy").hasValue()&&(s="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"));var o="objectBoundingBox"==this.gradientUnits?(n.width()+n.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels();return e.createRadialGradient(a,s,0,i,r,o)}},e.Element.radialGradient.prototype=new e.Element.GradientBase,e.Element.stop=function(t){this.base=e.Element.ElementBase,this.base(t),this.offset=this.attribute("offset").numValue();var n=this.style("stop-color");this.style("stop-opacity").hasValue()&&(n=n.addOpacity(this.style("stop-opacity").value)),this.color=n.value},e.Element.stop.prototype=new e.Element.ElementBase,e.Element.AnimateBase=function(t){this.base=e.Element.ElementBase,this.base(t),e.Animations.push(this),this.duration=0,this.begin=this.attribute("begin").toMilliseconds(),this.maxDuration=this.begin+this.attribute("dur").toMilliseconds(),this.getProperty=function(){var e=this.attribute("attributeType").value,t=this.attribute("attributeName").value;return"CSS"==e?this.parent.style(t,!0):this.parent.attribute(t,!0)},this.initialValue=null,this.initialUnits="",this.removed=!1,this.calcValue=function(){return""},this.update=function(e){if(null==this.initialValue&&(this.initialValue=this.getProperty().value,this.initialUnits=this.getProperty().getUnits()),this.duration>this.maxDuration){if("indefinite"!=this.attribute("repeatCount").value)return"remove"!=this.attribute("fill").valueOrDefault("remove")||this.removed?!1:(this.removed=!0,this.getProperty().value=this.initialValue,!0);this.duration=0}this.duration=this.duration+e;var t=!1;if(this.begin<this.duration){var n=this.calcValue();if(this.attribute("type").hasValue()){var i=this.attribute("type").value;n=i+"("+n+")"}this.getProperty().value=n,t=!0}return t},this.from=this.attribute("from"),this.to=this.attribute("to"),this.values=this.attribute("values"),this.values.hasValue()&&(this.values.value=this.values.value.split(";")),this.progress=function(){var t={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var n=t.progress*(this.values.value.length-1),i=Math.floor(n),r=Math.ceil(n);t.from=new e.Property("from",parseFloat(this.values.value[i])),t.to=new e.Property("to",parseFloat(this.values.value[r])),t.progress=(n-i)/(r-i)}else t.from=this.from,t.to=this.to;return t}},e.Element.AnimateBase.prototype=new e.Element.ElementBase,e.Element.animate=function(t){this.base=e.Element.AnimateBase,this.base(t),this.calcValue=function(){var e=this.progress(),t=e.from.numValue()+(e.to.numValue()-e.from.numValue())*e.progress;return t+this.initialUnits}},e.Element.animate.prototype=new e.Element.AnimateBase,e.Element.animateColor=function(t){this.base=e.Element.AnimateBase,this.base(t),this.calcValue=function(){var e=this.progress(),t=new RGBColor(e.from.value),n=new RGBColor(e.to.value);if(t.ok&&n.ok){var i=t.r+(n.r-t.r)*e.progress,r=t.g+(n.g-t.g)*e.progress,a=t.b+(n.b-t.b)*e.progress;return"rgb("+parseInt(i,10)+","+parseInt(r,10)+","+parseInt(a,10)+")"}return this.attribute("from").value}},e.Element.animateColor.prototype=new e.Element.AnimateBase,e.Element.animateTransform=function(t){this.base=e.Element.animate,this.base(t)},e.Element.animateTransform.prototype=new e.Element.animate,e.Element.font=function(t){this.base=e.Element.ElementBase,this.base(t),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.isRTL=!1,this.isArabic=!1,this.fontFace=null,this.missingGlyph=null,this.glyphs=[];for(var n=0;n<this.children.length;n++){var i=this.children[n];"font-face"==i.type?(this.fontFace=i,i.style("font-family").hasValue()&&(e.Definitions[i.style("font-family").value]=this)):"missing-glyph"==i.type?this.missingGlyph=i:"glyph"==i.type&&(""!=i.arabicForm?(this.isRTL=!0,this.isArabic=!0,"undefined"==typeof this.glyphs[i.unicode]&&(this.glyphs[i.unicode]=[]),this.glyphs[i.unicode][i.arabicForm]=i):this.glyphs[i.unicode]=i)}},e.Element.font.prototype=new e.Element.ElementBase,e.Element.fontface=function(t){this.base=e.Element.ElementBase,this.base(t),this.ascent=this.attribute("ascent").value,this.descent=this.attribute("descent").value,this.unitsPerEm=this.attribute("units-per-em").numValue()},e.Element.fontface.prototype=new e.Element.ElementBase,e.Element.missingglyph=function(t){this.base=e.Element.path,this.base(t),this.horizAdvX=0},e.Element.missingglyph.prototype=new e.Element.path,e.Element.glyph=function(t){this.base=e.Element.path,this.base(t),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.unicode=this.attribute("unicode").value,this.arabicForm=this.attribute("arabic-form").value},e.Element.glyph.prototype=new e.Element.path,e.Element.text=function(t){if(this.base=e.Element.RenderedElementBase,this.base(t),null!=t){this.children=[];for(var n=0;n<t.childNodes.length;n++){var i=t.childNodes[n];1==i.nodeType?this.addChild(i,!0):3==i.nodeType&&this.addChild(new e.Element.tspan(i),!1)}}this.baseSetContext=this.setContext,this.setContext=function(e){this.baseSetContext(e),this.style("dominant-baseline").hasValue()&&(e.textBaseline=this.style("dominant-baseline").value),this.style("alignment-baseline").hasValue()&&(e.textBaseline=this.style("alignment-baseline").value)},this.renderChildren=function(e){for(var t=this.style("text-anchor").valueOrDefault("start"),n=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),r=0;r<this.children.length;r++){var a=this.children[r];a.attribute("x").hasValue()?a.x=a.attribute("x").toPixels("x"):(this.attribute("dx").hasValue()&&(i+=this.attribute("dx").toPixels("x")),a.attribute("dx").hasValue()&&(n+=a.attribute("dx").toPixels("x")),a.x=n);var s=a.measureText(e);if("start"!=t&&(0==r||a.attribute("x").hasValue())){for(var o=s,l=r+1;l<this.children.length;l++){var c=this.children[l];if(c.attribute("x").hasValue())break;o+=c.measureText(e)}a.x-="end"==t?o:o/2}n=a.x+s,a.attribute("y").hasValue()?a.y=a.attribute("y").toPixels("y"):(this.attribute("dy").hasValue()&&(i+=this.attribute("dy").toPixels("y")),a.attribute("dy").hasValue()&&(i+=a.attribute("dy").toPixels("y")),a.y=i),i=a.y,a.render(e)}}},e.Element.text.prototype=new e.Element.RenderedElementBase,e.Element.TextElementBase=function(t){this.base=e.Element.RenderedElementBase,this.base(t),this.getGlyph=function(e,t,n){var i=t[n],r=null;if(e.isArabic){var a="isolated";(0==n||" "==t[n-1])&&n<t.length-2&&" "!=t[n+1]&&(a="terminal"),n>0&&" "!=t[n-1]&&n<t.length-2&&" "!=t[n+1]&&(a="medial"),n>0&&" "!=t[n-1]&&(n==t.length-1||" "==t[n+1])&&(a="initial"),"undefined"!=typeof e.glyphs[i]&&(r=e.glyphs[i][a],null==r&&"glyph"==e.glyphs[i].type&&(r=e.glyphs[i]))}else r=e.glyphs[i];return null==r&&(r=e.missingGlyph),r},this.renderChildren=function(t){var n=this.parent.style("font-family").getDefinition();if(null==n)""!=t.strokeStyle&&t.strokeText(e.compressSpaces(this.getText()),this.x,this.y),""!=t.fillStyle&&t.fillText(e.compressSpaces(this.getText()),this.x,this.y);else{var i=this.parent.style("font-size").numValueOrDefault(e.Font.Parse(e.ctx.font).fontSize),r=this.parent.style("font-style").valueOrDefault(e.Font.Parse(e.ctx.font).fontStyle),a=this.getText();n.isRTL&&(a=a.split("").reverse().join(""));for(var s=e.ToNumberArray(this.parent.attribute("dx").value),o=0;o<a.length;o++){var l=this.getGlyph(n,a,o),c=i/n.fontFace.unitsPerEm;t.translate(this.x,this.y),t.scale(c,-c);var h=t.lineWidth;t.lineWidth=t.lineWidth*n.fontFace.unitsPerEm/i,"italic"==r&&t.transform(1,0,.4,1,0,0),l.render(t),"italic"==r&&t.transform(1,0,-.4,1,0,0),t.lineWidth=h,t.scale(1/c,-1/c),t.translate(-this.x,-this.y),this.x+=i*(l.horizAdvX||n.horizAdvX)/n.fontFace.unitsPerEm,"undefined"==typeof s[o]||isNaN(s[o])||(this.x+=s[o])}}},this.getText=function(){},this.measureText=function(t){var n=this.parent.style("font-family").getDefinition();if(null!=n){var i=this.parent.style("font-size").numValueOrDefault(e.Font.Parse(e.ctx.font).fontSize),r=0,a=this.getText();n.isRTL&&(a=a.split("").reverse().join(""));for(var s=e.ToNumberArray(this.parent.attribute("dx").value),o=0;o<a.length;o++){var l=this.getGlyph(n,a,o);r+=(l.horizAdvX||n.horizAdvX)*i/n.fontFace.unitsPerEm,"undefined"==typeof s[o]||isNaN(s[o])||(r+=s[o])}return r}var c=e.compressSpaces(this.getText());if(!t.measureText)return 10*c.length;t.save(),this.setContext(t);var h=t.measureText(c).width;return t.restore(),h}},e.Element.TextElementBase.prototype=new e.Element.RenderedElementBase,e.Element.tspan=function(t){this.base=e.Element.TextElementBase,this.base(t),this.text=3==t.nodeType?t.nodeValue:t.childNodes.length>0?t.childNodes[0].nodeValue:t.text,this.getText=function(){return this.text}},e.Element.tspan.prototype=new e.Element.TextElementBase,e.Element.tref=function(t){this.base=e.Element.TextElementBase,this.base(t),this.getText=function(){var e=this.attribute("xlink:href").getDefinition();return null!=e?e.children[0].getText():void 0}},e.Element.tref.prototype=new e.Element.TextElementBase,e.Element.a=function(t){this.base=e.Element.TextElementBase,this.base(t),this.hasText=!0;for(var n=0;n<t.childNodes.length;n++)3!=t.childNodes[n].nodeType&&(this.hasText=!1);this.text=this.hasText?t.childNodes[0].nodeValue:"",this.getText=function(){return this.text},this.baseRenderChildren=this.renderChildren,this.renderChildren=function(t){if(this.hasText){this.baseRenderChildren(t);var n=new e.Property("fontSize",e.Font.Parse(e.ctx.font).fontSize);e.Mouse.checkBoundingBox(this,new e.BoundingBox(this.x,this.y-n.toPixels("y"),this.x+this.measureText(t),this.y))}else{var i=new e.Element.g;i.children=this.children,i.parent=this,i.render(t)}},this.onclick=function(){window.open(this.attribute("xlink:href").value)},this.onmousemove=function(){e.ctx.canvas.style.cursor="pointer"}},e.Element.a.prototype=new e.Element.TextElementBase,e.Element.image=function(t){this.base=e.Element.RenderedElementBase,this.base(t);var n=this.attribute("xlink:href").value,i=n.match(/\.svg$/);if(e.Images.push(this),this.loaded=!1,i)this.img=e.ajax(n),this.loaded=!0;else{this.img=document.createElement("img");var r=this;this.img.onload=function(){r.loaded=!0},this.img.onerror=function(){console&&console.log('ERROR: image "'+n+'" not found'),r.loaded=!0},this.img.src=n}this.renderChildren=function(t){var n=this.attribute("x").toPixels("x"),r=this.attribute("y").toPixels("y"),a=this.attribute("width").toPixels("x"),s=this.attribute("height").toPixels("y");0!=a&&0!=s&&(t.save(),i?t.drawSvg(this.img,n,r,a,s):(t.translate(n,r),e.AspectRatio(t,this.attribute("preserveAspectRatio").value,a,this.img.width,s,this.img.height,0,0),t.drawImage(this.img,0,0)),t.restore())}},e.Element.image.prototype=new e.Element.RenderedElementBase,e.Element.g=function(t){this.base=e.Element.RenderedElementBase,this.base(t),this.getBoundingBox=function(){for(var t=new e.BoundingBox,n=0;n<this.children.length;n++)t.addBoundingBox(this.children[n].getBoundingBox());return t}},e.Element.g.prototype=new e.Element.RenderedElementBase,e.Element.symbol=function(t){this.base=e.Element.RenderedElementBase,this.base(t),this.baseSetContext=this.setContext,this.setContext=function(t){if(this.baseSetContext(t),this.attribute("viewBox").hasValue()){var n=e.ToNumberArray(this.attribute("viewBox").value),i=n[0],r=n[1];width=n[2],height=n[3],e.AspectRatio(t,this.attribute("preserveAspectRatio").value,this.attribute("width").toPixels("x"),width,this.attribute("height").toPixels("y"),height,i,r),e.ViewPort.SetCurrent(n[2],n[3])}}},e.Element.symbol.prototype=new e.Element.RenderedElementBase,e.Element.style=function(t){this.base=e.Element.ElementBase,this.base(t);var n=t.childNodes[0].nodeValue+(t.childNodes.length>1?t.childNodes[1].nodeValue:"");n=n.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,""),n=e.compressSpaces(n);for(var i=n.split("}"),r=0;r<i.length;r++)if(""!=e.trim(i[r]))for(var a=i[r].split("{"),s=a[0].split(","),o=a[1].split(";"),l=0;l<s.length;l++){var c=e.trim(s[l]);if(""!=c){for(var h={},u=0;u<o.length;u++){var d=o[u].indexOf(":"),p=o[u].substr(0,d),f=o[u].substr(d+1,o[u].length-d);null!=p&&null!=f&&(h[e.trim(p)]=new e.Property(e.trim(p),e.trim(f)))}if(e.Styles[c]=h,"@font-face"==c)for(var g=h["font-family"].value.replace(/"/g,""),m=h.src.value.split(","),v=0;v<m.length;v++)if(m[v].indexOf('format("svg")')>0)for(var b=m[v].indexOf("url"),y=m[v].indexOf(")",b),x=m[v].substr(b+5,y-b-6),w=e.parseXml(e.ajax(x)),_=w.getElementsByTagName("font"),C=0;C<_.length;C++){var T=e.CreateElement(_[C]);e.Definitions[g]=T}}}},e.Element.style.prototype=new e.Element.ElementBase,e.Element.use=function(t){this.base=e.Element.RenderedElementBase,this.base(t),this.baseSetContext=this.setContext,this.setContext=function(e){this.baseSetContext(e),this.attribute("x").hasValue()&&e.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&e.translate(0,this.attribute("y").toPixels("y"))},this.getDefinition=function(){var e=this.attribute("xlink:href").getDefinition();return this.attribute("width").hasValue()&&(e.attribute("width",!0).value=this.attribute("width").value),this.attribute("height").hasValue()&&(e.attribute("height",!0).value=this.attribute("height").value),e},this.path=function(e){var t=this.getDefinition();null!=t&&t.path(e)},this.renderChildren=function(e){var t=this.getDefinition();if(null!=t){var n=t.parent;t.parent=null,t.render(e),t.parent=n}}},e.Element.use.prototype=new e.Element.RenderedElementBase,e.Element.mask=function(t){this.base=e.Element.ElementBase,this.base(t),this.apply=function(e,t){var n=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),r=this.attribute("width").toPixels("x"),a=this.attribute("height").toPixels("y"),s=t.attribute("mask").value;t.attribute("mask").value="";var o=document.createElement("canvas");o.width=n+r,o.height=i+a;var l=o.getContext("2d");this.renderChildren(l);var c=document.createElement("canvas");c.width=n+r,c.height=i+a;var h=c.getContext("2d");t.render(h),h.globalCompositeOperation="destination-in",h.fillStyle=l.createPattern(o,"no-repeat"),h.fillRect(0,0,n+r,i+a),e.fillStyle=h.createPattern(c,"no-repeat"),e.fillRect(0,0,n+r,i+a),t.attribute("mask").value=s},this.render=function(){}},e.Element.mask.prototype=new e.Element.ElementBase,e.Element.clipPath=function(t){this.base=e.Element.ElementBase,this.base(t),this.apply=function(e){for(var t=0;t<this.children.length;t++)this.children[t].path&&(this.children[t].path(e),e.clip())},this.render=function(){}},e.Element.clipPath.prototype=new e.Element.ElementBase,e.Element.filter=function(t){this.base=e.Element.ElementBase,this.base(t),this.apply=function(e,t){var n=t.getBoundingBox(),i=this.attribute("x").toPixels("x"),r=this.attribute("y").toPixels("y");(0==i||0==r)&&(i=n.x1,r=n.y1);var a=this.attribute("width").toPixels("x"),s=this.attribute("height").toPixels("y");(0==a||0==s)&&(a=n.width(),s=n.height());var o=t.style("filter").value;t.style("filter").value="";var l=.2,c=l*a,h=l*s,u=document.createElement("canvas");u.width=a+2*c,u.height=s+2*h;var d=u.getContext("2d");d.translate(-i+c,-r+h),t.render(d);for(var p=0;p<this.children.length;p++)this.children[p].apply(d,0,0,a+2*c,s+2*h);e.drawImage(u,0,0,a+2*c,s+2*h,i-c,r-h,a+2*c,s+2*h),t.style("filter",!0).value=o},this.render=function(){}},e.Element.filter.prototype=new e.Element.ElementBase,e.Element.feGaussianBlur=function(t){function n(e){e=Math.max(e,.01);var t=Math.ceil(4*e)+1;mask=[];for(var n=0;t>n;n++)mask[n]=Math.exp(-.5*(n/e)*(n/e));return mask}function i(e){for(var t=0,n=1;n<e.length;n++)t+=Math.abs(e[n]);t=2*t+Math.abs(e[0]);for(var n=0;n<e.length;n++)e[n]/=t;return e}function r(e,t,n,i,r){for(var o=0;r>o;o++)for(var l=0;i>l;l++)for(var c=a(e,l,o,i,r,3)/255,h=0;4>h;h++){for(var u=n[0]*(0==c?255:a(e,l,o,i,r,h))*(0==c||3==h?1:c),d=1;d<n.length;d++){var p=a(e,Math.max(l-d,0),o,i,r,3)/255,f=a(e,Math.min(l+d,i-1),o,i,r,3)/255;u+=n[d]*((0==p?255:a(e,Math.max(l-d,0),o,i,r,h))*(0==p||3==h?1:p)+(0==f?255:a(e,Math.min(l+d,i-1),o,i,r,h))*(0==f||3==h?1:f))}s(t,o,l,r,i,h,u)}}function a(e,t,n,i,r,a){return e[4*n*i+4*t+a]}function s(e,t,n,i,r,a,s){e[4*n*i+4*t+a]=s}function o(e,t,a,s){var o=e.getImageData(0,0,t,a),l=n(s);l=i(l),tmp=[],r(o.data,tmp,l,t,a),r(tmp,o.data,l,a,t),e.clearRect(0,0,t,a),e.putImageData(o,0,0)}this.base=e.Element.ElementBase,this.base(t),this.apply=function(e,t,n,i,r){o(e,i,r,this.attribute("stdDeviation").numValue())}},e.Element.filter.prototype=new e.Element.feGaussianBlur,e.Element.title=function(){},e.Element.title.prototype=new e.Element.ElementBase,e.Element.desc=function(){},e.Element.desc.prototype=new e.Element.ElementBase,e.Element.MISSING=function(e){console&&console.log("ERROR: Element '"+e.nodeName+"' not yet implemented.")},e.Element.MISSING.prototype=new e.Element.ElementBase,e.CreateElement=function(t){var n=t.nodeName.replace(/^[^:]+:/,"");n=n.replace(/\-/g,"");var i=null;return i="undefined"!=typeof e.Element[n]?new e.Element[n](t):new e.Element.MISSING(t),i.type=t.nodeName,i},e.load=function(t,n){e.loadXml(t,e.ajax(n))},e.loadXml=function(t,n){e.loadXmlDoc(t,e.parseXml(n))},e.loadXmlDoc=function(t,n){e.init(t);var i=function(e){for(var n=t.canvas;n;)e.x-=n.offsetLeft,e.y-=n.offsetTop,n=n.offsetParent;return window.scrollX&&(e.x+=window.scrollX),window.scrollY&&(e.y+=window.scrollY),e};1!=e.opts.ignoreMouse&&(t.canvas.onclick=function(t){var n=i(new e.Point(null!=t?t.clientX:event.clientX,null!=t?t.clientY:event.clientY));e.Mouse.onclick(n.x,n.y)},t.canvas.onmousemove=function(t){var n=i(new e.Point(null!=t?t.clientX:event.clientX,null!=t?t.clientY:event.clientY));e.Mouse.onmousemove(n.x,n.y)});var r=e.CreateElement(n.documentElement);r.root=!0;var a=!0,s=function(){e.ViewPort.Clear(),t.canvas.parentNode&&e.ViewPort.SetCurrent(t.canvas.parentNode.clientWidth,t.canvas.parentNode.clientHeight),1!=e.opts.ignoreDimensions&&(r.style("width").hasValue()&&(t.canvas.width=r.style("width").toPixels("x"),t.canvas.style.width=t.canvas.width+"px"),r.style("height").hasValue()&&(t.canvas.height=r.style("height").toPixels("y"),t.canvas.style.height=t.canvas.height+"px"));var n=t.canvas.clientWidth||t.canvas.width,i=t.canvas.clientHeight||t.canvas.height;if(1==e.opts.ignoreDimensions&&r.style("width").hasValue()&&r.style("height").hasValue()&&(n=r.style("width").toPixels("x"),i=r.style("height").toPixels("y")),e.ViewPort.SetCurrent(n,i),null!=e.opts.offsetX&&(r.attribute("x",!0).value=e.opts.offsetX),null!=e.opts.offsetY&&(r.attribute("y",!0).value=e.opts.offsetY),null!=e.opts.scaleWidth&&null!=e.opts.scaleHeight){var s=1,o=1,l=e.ToNumberArray(r.attribute("viewBox").value);r.attribute("width").hasValue()?s=r.attribute("width").toPixels("x")/e.opts.scaleWidth:isNaN(l[2])||(s=l[2]/e.opts.scaleWidth),r.attribute("height").hasValue()?o=r.attribute("height").toPixels("y")/e.opts.scaleHeight:isNaN(l[3])||(o=l[3]/e.opts.scaleHeight),r.attribute("width",!0).value=e.opts.scaleWidth,r.attribute("height",!0).value=e.opts.scaleHeight,r.attribute("viewBox",!0).value="0 0 "+n*s+" "+i*o,r.attribute("preserveAspectRatio",!0).value="none"}1!=e.opts.ignoreClear&&t.clearRect(0,0,n,i),r.render(t),a&&(a=!1,"function"==typeof e.opts.renderCallback&&e.opts.renderCallback())},o=!0;e.ImagesLoaded()&&(o=!1,s()),e.intervalID=setInterval(function(){var t=!1;
if(o&&e.ImagesLoaded()&&(o=!1,t=!0),1!=e.opts.ignoreMouse&&(t|=e.Mouse.hasEvents()),1!=e.opts.ignoreAnimation)for(var n=0;n<e.Animations.length;n++)t|=e.Animations[n].update(1e3/e.FRAMERATE);"function"==typeof e.opts.forceRedraw&&1==e.opts.forceRedraw()&&(t=!0),t&&(s(),e.Mouse.runEvents())},1e3/e.FRAMERATE)},e.stop=function(){e.intervalID&&clearInterval(e.intervalID)},e.Mouse=new function(){this.events=[],this.hasEvents=function(){return 0!=this.events.length},this.onclick=function(e,t){this.events.push({type:"onclick",x:e,y:t,run:function(e){e.onclick&&e.onclick()}})},this.onmousemove=function(e,t){this.events.push({type:"onmousemove",x:e,y:t,run:function(e){e.onmousemove&&e.onmousemove()}})},this.eventElements=[],this.checkPath=function(e,t){for(var n=0;n<this.events.length;n++){var i=this.events[n];t.isPointInPath&&t.isPointInPath(i.x,i.y)&&(this.eventElements[n]=e)}},this.checkBoundingBox=function(e,t){for(var n=0;n<this.events.length;n++){var i=this.events[n];t.isPointInBox(i.x,i.y)&&(this.eventElements[n]=e)}},this.runEvents=function(){e.ctx.canvas.style.cursor="";for(var t=0;t<this.events.length;t++)for(var n=this.events[t],i=this.eventElements[t];i;)n.run(i),i=i.parent;this.events=[],this.eventElements=[]}},e}this.canvg=function(t,n,i){if(null!=t||null!=n||null!=i){i=i||{},"string"==typeof t&&(t=document.getElementById(t)),null!=t.svg&&t.svg.stop(),t.svg=svg=e(),svg.opts=i;var r=t.getContext("2d");"undefined"!=typeof n.documentElement?svg.loadXmlDoc(r,n):"<"==n.substr(0,1)?svg.loadXml(r,n):svg.load(r,n)}else for(var a=document.getElementsByTagName("svg"),s=0;s<a.length;s++){var o=a[s],l=document.createElement("canvas");l.width=o.clientWidth,l.height=o.clientHeight,o.parentNode.insertBefore(l,o),o.parentNode.removeChild(o);var c=document.createElement("div");c.appendChild(o),canvg(l,c.innerHTML)}}}(),CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.drawSvg=function(e,t,n,i,r){canvg(this.canvas,e,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:t,offsetY:n,scaleWidth:i,scaleHeight:r})}),Number.prototype.formatMoney=function(e,t,n){var i=this,e=isNaN(e=Math.abs(e))?2:e,t=void 0==t?".":t,n=void 0==n?",":n,r=0>i?"-":"",a=parseInt(i=Math.abs(+i||0).toFixed(e))+"",s=(s=a.length)>3?s%3:0;return r+(s?a.substr(0,s)+n:"")+a.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+n)+(e?t+Math.abs(i-a).toFixed(e).slice(2):"")},Date.prototype.formatDate=function(){var e=this;return d3.time.format("%Y-%m-%d")(e)},Date.prototype.formatQuarter=function(){var e=this;return 2e3+this.getYear()%100+"Q"+(1+parseInt(e.getMonth()/3))},Date.prototype.formatMonthYear=function(){var e=this;return d3.time.format("%Y %b")(e)},Date.prototype.formatHours=function(){var e=this;return d3.time.format("%H")(e)},Date.prototype.formatMonth=function(){var e=this,t=["January","February","March","April","May","June","July","August","September","October","November","December"];return t[e.getMonth()]},Date.prototype.formatDateMonth=function(){var e=this,t=e.toDateString();return t.substr(0,t.length-5)},Date.prototype.formatWeekDay=function(){var e=this,t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return t[e.getDay()]},Date.prototype.getMDay=function(){return(this.getDay()+6)%7},Date.prototype.getISOYear=function(){var e=new Date(this.getFullYear(),this.getMonth(),this.getDate()+3-this.getMDay());return e.getFullYear()},Date.prototype.getISOWeek=function(){var e=new Date(this.getISOYear(),0,1),t=Math.ceil(((this-e)/864e5+e.getMDay()+1)/7);return e.getMDay()>3&&t--,t},formatDates=function(e,t){var n=[];return $.each(t,function(t,i){var r=new Date(i);isNaN(r)?n.push(i):r&&"Month"==e?n.push(r.formatMonth()):r&&"Year"==e?n.push(r.getFullYear().toString()):r&&"Quarter"==e?n.push(r.formatQuarter()):r&&"Month Year"==e?n.push(r.formatMonthYear()):r&&"Hours"==e?n.push(r.formatHours()):r&&"Day"==e?n.push(r.formatWeekDay()):r&&"Week"==e?n.push("W"+r.getISOWeek()):r&&"Date"==e&&n.push(r.formatDate())}),n.uniq()},Date.prototype.shortDate=function(){var e=this;return 2e3+e.getYear()%100+"/"+(1+parseInt(e.getMonth()))+"/"+e.getDate()},toFloat=function(e){return e?"number"==typeof e?parseFloat(e):parseFloat(e.replace(/,/g,"")):0},isNumericDataType=function(e){return!e||"int"!=e.toLowerCase()&&"float"!=e.toLowerCase()&&"decimal"!=e.toLowerCase()&&"decimal(15,3)"!=e.toLowerCase()?!1:!0},isValidDateString=function(e){var t=e.indexOf(" ")>=0||e.indexOf("/")>=0||e.indexOf("-")>=0||e.indexOf(",")>=0;return t&&Date.parse(e)},pruneStr=function(e){return e?e.replace(/[\s,:(),\/\.\&\%\\\/]/g,"-"):""},sortStringFormat=function(e){if(e){if(null!=e.match(/-+\d+$/)){var t=e.match(/-+\d+$/)[0];return parseInt(t.replace(/^-/,""))}return null==e.match(/\d+/g)?e:parseInt(e.replace(/[A-Za-z\-]/g,""))}},displayTick=function(e){return e},alphanumericSortFunction=function(e,t){var n=e.key,i=t.key,r=n.replace(/[0-9\.\s]/g,""),a=i.replace(/[0-9\.\s]/g,"");if(r==a){var s=n.replace(/[A-Za-z\-]/g,""),o=i.replace(/[A-Za-z\-]/g,"");return parseInt(s)<parseInt(o)}return a>r},formatDateLong=function(e){var t=new Date(e),n=$.datepicker.formatDate("mm/dd/yy",t),i=t.getHours();i=10>i?"0"+i:i;var r=t.getMinutes();r=10>r?"0"+r:r;var a=t.getSeconds();a=10>a?"0"+a:a;var s=i+":"+r+":"+a;return n+" "+s},dateToday=function(){var e=new Date,t=$.datepicker.formatDate("mm/dd/yy",e);return t},addDate=function(e,t,n){var e=new Date(e),n=parseInt(n),i=e.getFullYear(),r=e.getMonth(),a=e.getDate();"Years"===t&&(i+=n),"Months"===t&&(r+=n),"Days"===t&&(a+=n),"Weeks"===t&&(a+=7*n),"Quarter"===t&&(r+=3*n);var s=new Date(i,r,a);return $.datepicker.formatDate("mm/dd/yy",s)},subtractDate=function(e,t,n){var e=new Date(e),n=parseInt(n),i=e.getFullYear(),r=e.getMonth(),a=e.getDate();"Years"===t&&(i-=n),"Months"===t&&(r-=n),"Days"===t&&(a-=n),"Weeks"===t&&(a-=7*n),"Quarter"===t&&(r-=3*n);var s=new Date(i,r,a);return $.datepicker.formatDate("mm/dd/yy",s)},formatValue=function(e,t,n){switch(n||(n=".1f"),t){case"No Units":return formatKMG(e);case"k, M, B":return Math.abs(e/1e9)>=1?d3.format(n)(e/1e9)+" B":Math.abs(e/1e6)>=1?d3.format(n)(e/1e6)+" M":Math.abs(e/1e3)>=1?d3.format(n)(e/1e3)+" k":e;case"k, L, Cr":return Math.abs(e/1e7)>=1?d3.format(n)(e/1e7)+" Cr":Math.abs(e/1e5)>=1?d3.format(n)(e/1e5)+" L":Math.abs(e/1e3)>=1?d3.format(n)(e/1e3)+" k":e;case"Only Lakhs":var i=e/1e5;return i=CommaFormatted(i,"Only Lakhs"),i+=" L";case"Only Crores":var i=e/1e7;return i=CommaFormatted(i,"Only Crores"),i+=" Cr";case"Only Millions":var i=e/1e6;return i=CommaFormatted(i,"Only Millions"),i+=" M";case"Only Billions":var i=e/1e9;return i=CommaFormatted(i,"Only Billions"),i+=" B";default:return formatKMG(e)}},formatKMG=function(e){return Math.abs(e/1e9)>=1?e/1e9+"G":Math.abs(e/1e6)>=1?e/1e6+"M":Math.abs(e/1e3)>=1?e/1e3+"k":e},currentTime=function(){var e=new Date;return str=e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()},parseDateAsQuarter=function(e){var t=e.split("Q");switch(t[1]){case"1":t[1]="1";break;case"2":t[1]="4";break;case"3":t[1]="7";break;case"4":t[1]="10"}return t=t.join("Q"),d3.time.format("%YQ%m").parse(t)},formatDateAsQuarter=function(e){var t;switch(d3.time.format("%m")(e)){case"01":case"02":case"03":t="1";break;case"04":case"05":case"06":t="2";break;case"07":case"08":case"09":t="3";break;case"10":case"11":case"12":t="4"}return d3.time.format("%YQ")(e)+t},getChartNumber=function(e){switch(e){case"bar":return 1;case"pie":return 2;case"table":return 7;case"ctree":return 3;case"ctable":return 0;case"heatmap":return 5;case"geo":return 4;case"combo":return 6;case"line":return 8;case"multiline":return 9;case"hbar":return 10;case"area":return 11;case"stacked_area":return 12;case"scatter_plot":return 13;case"grouped_table":return 14;case"single_value":return 15;case"geo_india":return 16;case"donut":return 17;case"funnel":return 18;case"geo_usa":return 19;case"gauge":return 20}},getChartName=function(e){switch(e){case"1":return"bar";case"2":return"pie";case"7":return"table";case"3":return"ctree";case"0":return"ctable";case"5":return"heatmap";case"4":return"geo";case"6":return"combo";case"8":return"line";case"9":return"multiline";case"10":return"hbar";case"11":return"area";case"12":return"stacked_area";case"13":return"scatter_plot";case"14":return"grouped_table";case"15":return"single_value";case"16":return"geo_india";case"17":return"donut";case"18":return"funnel";case"19":return"geo_usa";case"20":return"gauge"}},CommaFormatted=function(e,t,n){if(["k, L, Cr","Indian","Only Lakhs","Only Crores"].contains(t)){var i;i=["Only Lakhs","Only Crores"].contains(t)?e.toString():d3.format(".2f")(e);var r="";if(i.indexOf(".")>0&&(r=i.substring(i.indexOf("."),i.length)),0>i&&i>-1)var a=i.toString();else{i=i>0?Math.floor(i):Math.ceil(i),i=i.toString();var s=i.substring(i.length-3),o=i.substring(i.length-7,i.length-3),l=i.substring(0,i.length-7);if(""==o||isNaN(o)||(s=","+s),""==l||isNaN(l)||(o=","+o),n)var a=l+o.replace(/\B(?=(\d{2})+(?!\d))/g,",")+s;else var a=l+o.replace(/\B(?=(\d{2})+(?!\d))/g,",")+s+r}return a}return["Only Millions","Only Billions"].contains(t)?n?d3.format(",")(e.toString()):d3.format(",.f")(e.toString()):n?d3.format(",")(e):d3.format(",.2f")(e)},revrseFormatting=function(e,t){switch(t){case"k":return 1e3*e;case"L":return 1e5*e;case"M":return 1e6*e;case"Cr":return 1e7*e;case"B":return 1e9*e;default:return e}},function(e){e.QueryString=function(e){if(""==e)return{};for(var t={},n=0;n<e.length;++n){var i=e[n].split("=");2==i.length&&(t[i[0]]=decodeURIComponent(i[1].replace(/\+/g," ")))}return t}(window.location.search.substr(1).split("&"))}(jQuery),function(){var e,t,n,r,a,s,o,l,c,h,u,d,p,f,g,m,v,b,y=[].slice,x=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},w={}.hasOwnProperty,C=function(e,t){return function(){return e.apply(t,arguments)}};e=jQuery,n=function(e,t,n){var i,r,a,s;for(e+="",r=e.split("."),a=r[0],s=r.length>1?n+r[1]:"",i=/(\d+)(\d{3})/;i.test(a);)a=a.replace(i,"$1"+t+"$2");return a+s},f=function(e,t,i,r){return null==e&&(e=3),null==t&&(t=1),null==i&&(i=","),null==r&&(r="."),function(a){return 0===a||isNaN(a)||!isFinite(a)?"":n((t*a).toFixed(e),i,r)}},r={sum:function(e,t){return null==e&&(e=3),null==t&&(t=1),function(n){var i;return i=n[0],function(){return{sum:0,push:function(e){return isNaN(parseFloat(e[i]))?void 0:this.sum+=parseFloat(e[i])},value:function(){return this.sum},format:f(e,t),label:"Sum of "+i}}}},average:function(e,t){return null==e&&(e=3),null==t&&(t=1),function(n){var i;return i=n[0],function(){return{sum:0,len:0,push:function(e){return isNaN(parseFloat(e[i]))?void 0:(this.sum+=parseFloat(e[i]),this.len++)},value:function(){return this.sum/this.len},format:f(e,t),label:"Average of "+i}}}},sumOverSum:function(e,t){return null==e&&(e=3),null==t&&(t=1),function(n){var i,r;return r=n[0],i=n[1],function(){return{sumNum:0,sumDenom:0,push:function(e){return isNaN(parseFloat(e[r]))||(this.sumNum+=parseFloat(e[r])),isNaN(parseFloat(e[i]))?void 0:this.sumDenom+=parseFloat(e[i])},value:function(){return this.sumNum/this.sumDenom},format:f(e,t),label:""+r+"/"+i}}}},sumOverSumBound80:function(e,t,n){return null==e&&(e=3),null==t&&(t=1),null==n&&(n=!0),function(i){var r,a;return a=i[0],r=i[1],function(){return{sumNum:0,sumDenom:0,push:function(e){return isNaN(parseFloat(e[a]))||(this.sumNum+=parseFloat(e[a])),isNaN(parseFloat(e[r]))?void 0:this.sumDenom+=parseFloat(e[r])},value:function(){var e;return e=n?1:-1,(.821187207574908/this.sumDenom+this.sumNum/this.sumDenom+1.2815515655446004*e*Math.sqrt(.410593603787454/(this.sumDenom*this.sumDenom)+this.sumNum*(1-this.sumNum/this.sumDenom)/(this.sumDenom*this.sumDenom)))/(1+1.642374415149816/this.sumDenom)},format:f(e,t),label:""+(n?"Upper":"Lower")+" Bound of "+a+"/"+r}}}},fractionOf:function(e,t){return null==t&&(t="total"),function(){var n;return n=1<=arguments.length?y.call(arguments,0):[],function(i,r,a){return{selector:{total:[[],[]],row:[r,[]],col:[[],a]}[t],inner:e.apply(null,n)(i,r,a),push:function(e){return this.inner.push(e)},format:function(e){return f(2)(100*e)+"%"},label:e.apply(null,n)(i,r,a).label+" % of "+t,value:function(){return this.inner.value()/i.getAggregator.apply(i,this.selector).inner.value()}}}}},l10nWrapper:function(e,t,n){return function(){var i;return i=1<=arguments.length?y.call(arguments,0):[],function(r,a,s){return{inner:e.apply(null,i)(r,a,s),push:function(e){return this.inner.push(e)},format:t,label:n(r),value:function(){return this.inner.value()}}}}}},a={count:function(){return function(){return{count:0,push:function(){return this.count++},value:function(){return this.count},format:f(0),label:"Count"}}},countUnique:function(e){var t;return t=e[0],function(){return{uniq:[],push:function(e){var n;return n=e[t],x.call(this.uniq,n)<0?this.uniq.push(e[t]):void 0},value:function(){return this.uniq.length},format:f(0),label:"Count Unique "+t}}},listUnique:function(e){var t;return t=e[0],function(){return{uniq:[],push:function(e){var n;return n=e[t],x.call(this.uniq,n)<0?this.uniq.push(e[t]):void 0},value:function(){return this.uniq.join(", ")},format:function(e){return e},label:"List Unique "+t}}},intSum:r.sum(0),sum:r.sum(3),average:r.average(3),sumOverSum:r.sumOverSum(3),ub80:r.sumOverSumBound80(3,1,!0),lb80:r.sumOverSumBound80(3,1,!1)},a.sumAsFractionOfTotal=r.fractionOf(a.sum),a.sumAsFractionOfRow=r.fractionOf(a.sum,"row"),a.sumAsFractionOfCol=r.fractionOf(a.sum,"col"),a.countAsFractionOfTotal=r.fractionOf(a.count),a.countAsFractionOfRow=r.fractionOf(a.count,"row"),a.countAsFractionOfCol=r.fractionOf(a.count,"col"),m={Table:function(e,t){return g(e,t)},"Table Barchart":function(e,t){return g(e,t).barchart()},Heatmap:function(e,t){return g(e,t).heatmap()},"Row Heatmap":function(e,t){return g(e,t).heatmap("rowheatmap")},"Col Heatmap":function(e,t){return g(e,t).heatmap("colheatmap")}},d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],b=function(e){return("0"+e).substr(-2,2)},c={bin:function(e,t){return function(n){return n[e]-n[e]%t}},dateFormat:function(e,t){return function(n){var i;return i=new Date(Date.parse(n[e])),isNaN(i)?"":t.replace(/%(.)/g,function(e,t){switch(t){case"y":return i.getFullYear();case"m":return b(i.getMonth()+1);case"n":return d[i.getMonth()];case"d":return b(i.getDate());case"w":return o[i.getDay()];case"x":return i.getDay();case"H":return b(i.getHours());case"M":return b(i.getMinutes());case"S":return b(i.getSeconds());default:return"%"+t}})}}},p=function(e,t){var n,i,r,a,s,o,l;if(o=/(\d+)|(\D+)/g,s=/\d/,l=/^0/,"number"==typeof e||"number"==typeof t)return isNaN(e)?1:isNaN(t)?-1:e-t;if(n=String(e).toLowerCase(),r=String(t).toLowerCase(),n===r)return 0;if(!s.test(n)||!s.test(r))return n>r?1:-1;for(n=n.match(o),r=r.match(o);n.length&&r.length;)if(i=n.shift(),a=r.shift(),i!==a)return s.test(i)&&s.test(a)?i.replace(l,".0")-a.replace(l,".0"):i>a?1:-1;return n.length-r.length},e.pivotUtilities={aggregatorTemplates:r,aggregators:a,renderers:m,derivers:c,naturalSort:p,numberFormat:f},l=function(e,t,n){var i,r,a;for(i in t)r=t[i],e[i]=null!=(a=r(e))?a:e[i];for(i in e)w.call(e,i)&&null==e[i]&&(e[i]="null");return n(e)},h=function(t,n,i){var r,a,s,o,c,h,u,d,p,f,g,m;if(r=function(e){return l(e,n,i)},e.isFunction(t))return t(r);if(e.isArray(t)){if(e.isArray(t[0])){g=[];for(s in t)if(w.call(t,s)&&(a=t[s],s>0)){h={},f=t[0];for(o in f)w.call(f,o)&&(c=f[o],h[c]=a[o]);g.push(r(h))}return g}for(m=[],d=0,p=t.length;p>d;d++)h=t[d],m.push(r(h));return m}if(t instanceof jQuery)return u=[],e("thead > tr > th",t).each(function(){return u.push(e(this).text())}),e("tbody > tr",t).each(function(){return h={},e("td",this).each(function(t){return h[u[t]]=e(this).text()}),r(h)});throw new Error("unknown input format")},s=function(e){var t;return t=[],h(e,{},function(e){return t.push(e)}),t},t=function(){function e(e,t,n,i,r){this.aggregator=e,this.colAttrs=t,this.rowAttrs=n,this.getAggregator=C(this.getAggregator,this),this.flattenKey=C(this.flattenKey,this),this.getRowKeys=C(this.getRowKeys,this),this.getColKeys=C(this.getColKeys,this),this.sortKeys=C(this.sortKeys,this),this.arrSort=C(this.arrSort,this),this.natSort=C(this.natSort,this),this.tree={},this.rowKeys=[],this.colKeys=[],this.flatRowKeys=[],this.flatColKeys=[],this.rowTotals={},this.colTotals=i,this.allTotal=this.aggregator(this,[],[]),this.sorted=!0,this.columnDimensions=r}return e.prototype.natSort=function(e,t){return p(e,t)},e.prototype.arrSort=function(e,t){return this.natSort(e.join(),t.join())},e.prototype.sortKeys=function(){return this.sorted||(this.rowKeys.sort(this.arrSort),this.colKeys.sort(this.arrSort)),this.sorted=!0},e.prototype.sortKeysByFormat=function(e){var t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],n=this.columnDimensions,r=_.filter(e,function(e){return"Totals"==e[0]});for(void 0!==r&&r.length>0&&_.each(r,function(t){e.removeObject(t)}),i=n.length-1;i>=0;i--){var a=n[i];e=_.sortBy(e,function(e){if(!a.get("formatAs"))return e[i];switch(a.get("formatAs").toLowerCase()){case"year":return d3.time.format("%Y").parse(e[i]);case"month year":return d3.time.format("%Y %b").parse(e[i]);case"month":return d3.time.format("%b").parse(e[i]);case"quarter":return d3.time.format("%YQ%m").parse(e[i]);case"day":return t.indexOf(e[i]);case"week":return parseInt(e[i].split("W")[1]);default:return e[i]}}),a.get("sortOrder")&&"desc"==a.get("sortOrder").toLowerCase()&&e.reverse()}return void 0!==r&&r.length>0&&_.each(r,function(t){e.push(t)}),e},e.prototype.getColKeys=function(){return this.sortKeys(),this.colKeys},e.prototype.getRowKeys=function(){return this.sortKeys(),this.rowKeys},e.prototype.flattenKey=function(e){return e.join("")},e.prototype.processRecord=function(e){var t,n,i,r,a;return t=function(){var t,n,i,r;for(i=this.colAttrs,r=[],t=0,n=i.length;n>t;t++)a=i[t],r.push(e[a]);return r}.call(this),r=function(){var t,n,i,r;for(i=this.rowAttrs,r=[],t=0,n=i.length;n>t;t++)a=i[t],r.push(e[a]);return r}.call(this),i=this.flattenKey(r),n=this.flattenKey(t),0!==r.length&&x.call(this.flatRowKeys,i)<0&&(this.rowKeys.push(r),this.flatRowKeys.push(i)),0!==t.length&&x.call(this.flatColKeys,n)<0&&(this.colKeys.push(t),this.flatColKeys.push(n)),0!==t.length&&0!==r.length?(i in this.tree||(this.tree[i]={}),n in this.tree[i]||(this.tree[i][n]=this.aggregator(this,r,t)),this.tree[i][n].push(e)):void 0},e.prototype.getAggregator=function(e,t){var n,i,r;return r=this.flattenKey(e),i=this.flattenKey(t),n=0===e.length&&0===t.length?this.allTotal:0===e.length?this.colTotals[i]:0===t.length?this.rowTotals[r]:this.tree[r][i],null!=n?n:{value:function(){return null},format:function(){return""}}},e}(),u=function(e,n,i,r,a,s,o,l){var c;return c=new t(r,n,i,o,l),h(e,s,function(e){return a(e)?c.processRecord(e):void 0}),c},v=function(e,t,n){var i,r,a,s,o,l;if(0!==t){for(r=!0,s=o=0;n>=0?n>=o:o>=n;s=n>=0?++o:--o)e[t-1][s]!==e[t][s]&&(r=!1);if(r)return-1}for(i=0;t+i<e.length;){for(a=!1,s=l=0;n>=0?n>=l:l>=n;s=n>=0?++l:--l)e[t][s]!==e[t+i][s]&&(a=!0);if(a)break;i++}return i},g=function(t,n,i){var r,a,s,o,l,c,h,u,d,p,f,g,m,b,y,x,_,C,T;c={localeStrings:{totals:"Totals"}},n=e.extend(c,n),s=t.colAttrs,f=t.rowAttrs,m=t.getRowKeys(),l=t.getColKeys(),"Measure"!==s[0]&&(l=t.sortKeysByFormat(l)),p=e("<table class='table table-bordered pvtTable'>"),thead=e("<thead>");for(u in s)if(w.call(s,u)){a=s[u],x=e("<tr>"),0===parseInt(u)&&0!==f.length&&x.append(e("<th>").attr("colspan",f.length).attr("rowspan",s.length)),x.append(e("<th class='pvtAxisLabel'>").text("null"!=a?a:""));for(h in l)if(w.call(l,h)&&(o=l[h],T=v(l,parseInt(h),parseInt(u)),-1!==T)){if(b=e("<th class='pvtColLabel'>").text("null"!=o[u]?o[u]:"").attr("colspan",T),parseInt(u)===s.length-1&&0!==f.length&&b.attr("rowspan",2),"Totals"==o[0])b.addClass("totalCell");else{var D=s[u],S=o[u];"Measure"!=D&&(b.addClass("clickableCells"),b.on("click",function(t,n){return function(){if("null"!=n){value_display=n,null!=d3.time.format("%Y %b").parse(n)?n=d3.time.format("%Y %m")(d3.time.format("%Y %b").parse(n)):null!=d3.time.format("%b").parse(n)&&(n=d3.time.format("%m")(d3.time.format("%b").parse(n)));var r=e(this).closest("table").parent()[0].id+"-col-"+n;e(this).attr("id",r),i.createChartElementOnClickTooltip(t,n,this.id,event.pageX,event.pageY,value_display),console.log("element_id :: "+this.id),console.log(t+" - "+n),console.log(i.id)}}}(D,S)))}x.append(b)}p.append(x)}if(thead.append(p.find("tr")),0!==f.length){x=e("<tr>");for(h in f)w.call(f,h)&&(d=f[h],x.append(e("<th class='pvtAxisLabel'>").text("null"!=d?d:"")));thead.append(x),p.append(thead),b=e("<th>"),0===s.length&&b.addClass("pvtTotalLabel totalCell").text(n.localeStrings.totals),x.append(b)}for(h in m)if(w.call(m,h)){g=m[h],x=e("<tr>");for(u in g)if(w.call(g,u)&&(_=g[u],T=v(m,parseInt(h),parseInt(u)),-1!==T)){b=e("<th class='pvtRowLabel'>").text("null"!=_?_:"").attr("rowspan",T),parseInt(u)===f.length-1&&0!==s.length&&b.attr("colspan",2);var D=f[u],S=g[u];"Measure"!=D&&(b.addClass("clickableCells"),b.on("click",function(t,n){return function(){if("null"!=n){value_display=n,null!=d3.time.format("%Y %b").parse(n)?n=d3.time.format("%Y %m")(d3.time.format("%Y %b").parse(n)):null!=d3.time.format("%b").parse(n)&&(n=d3.time.format("%m")(d3.time.format("%b").parse(n)));var r=e(this).closest("table").parent()[0].id+"-row-"+n;e(this).attr("id",r),i.createChartElementOnClickTooltip(t,n,this.id,event.pageX,event.pageY,value_display),console.log("element_id :: "+this.id),console.log(t+" - "+n),console.log(i.id)}}}(D,S))),x.append(b)}for(u in l)if(w.call(l,u)){o=l[u];var E=o[o.length-1].replace(/\s/g,"");r=t.getAggregator(g,o),C=r.value(),"Totals"==o[0]?x.append(e("<th class='pvtVal totalCell rightAligned row"+h+" col"+u+" "+E+"'>").html(r.format(C)).data("value",C)):x.append(e("<td class='pvtVal row"+h+" col"+u+" "+E+"'>").html(r.format(C)).data("value",C))}p.append(x)}x=e("<tr>"),b=e("<th class='pvtTotalLabel totalCell'>").text(n.localeStrings.totals),b.attr("colspan",f.length+(0===s.length?0:1)),x.append(b);for(u in l)if(w.call(l,u)){o=l[u];var E=o[o.length-1].replace(/\s/g,"");y=t.getAggregator([],o),C=y,x.append(e("<td class='pvtTotal colTotal totalCell "+E+"'>").html(C).data("value",C).data("for","col"+u))}return p.append(x),p.data("dimensions",[m.length,l.length]),p},e.fn.pivot=function(t,n){var i,r,s,o;i={cols:[],rows:[],filter:function(){return!0},aggregator:a.count(),derivedAttributes:{},renderer:g,rendererOptions:null,localeStrings:{renderError:"An error occurred rendering the PivotTable results.",computeError:"An error occurred computing the PivotTable results."}},n=e.extend(i,n),o=null;try{s=u(t,n.cols,n.rows,n.aggregator,n.filter,n.derivedAttributes,n.col_totals,n.col_dims);try{o=n.renderer(s,n.rendererOptions,n.chart)}catch(l){r=l,"undefined"!=typeof console&&null!==console&&console.error(r.stack),o=n.localeStrings.renderError}}catch(l){r=l,"undefined"!=typeof console&&null!==console&&console.error(r.stack),o=n.localeStrings.computeError}return this.html(o),this},e.fn.pivotUI=function(t,n,i){var r,o,l,c,u,d,f,g,v,b,y,_,C,T,D,S,E,k,I,N,A,R,M,P,O,F,B,j,L,V,$,H,G,z,U,W,q=this;null==i&&(i=!1),u={derivedAttributes:{},aggregators:a,renderers:m,hiddenAttributes:[],menuLimit:200,cols:[],rows:[],vals:[],exclusions:{},unusedAttrsVertical:!1,autoSortUnusedAttrs:!1,rendererOptions:null,onRefresh:null,filter:function(){return!0},localeStrings:{renderError:"An error occurred rendering the PivotTable results.",computeError:"An error occurred computing the PivotTable results.",uiRenderError:"An error occurred rendering the PivotTable UI.",selectAll:"Select All",selectNone:"Select None",tooMany:"(too many to list)"}},f=this.data("pivotUIOptions"),b=null==f||i?e.extend(u,n):f;try{t=s(t),E=function(){var e,n;e=t[0],n=[];for(v in e)w.call(e,v)&&n.push(v);return n}(),$=b.derivedAttributes;for(l in $)w.call($,l)&&x.call(E,l)<0&&E.push(l);for(o={},M=0,B=E.length;B>M;M++)A=E[M],o[A]={};h(t,b.derivedAttributes,function(e){var t,n,i;i=[];for(v in e)w.call(e,v)&&(t=e[v],null==t&&(t="null"),null==(n=o[v])[t]&&(n[t]=0),i.push(o[v][t]++));return i}),N=e("<table class='table table-bordered' cellpadding='5'>"),D=e("<td>"),T=e("<select class='pvtRenderer'>").bind("change",function(){return _()}),H=b.renderers;for(A in H)w.call(H,A)&&T.append(e("<option>").val(A).text(A));D.append(T),c=e("<td class='pvtAxisContainer pvtUnused'>"),b.unusedAttrsVertical?c.addClass("pvtVertList"):c.addClass("pvtHorizList"),S=function(){var e,t,n;for(n=[],e=0,t=E.length;t>e;e++)l=E[e],x.call(b.hiddenAttributes,l)<0&&n.push(l);return n}(),R=function(t){var n,i,r,a,s,l,h,u,d,f,m,y,w,C,T;if(h=function(){var e;e=[];for(v in o[t])e.push(v);return e}(),l=!1,y=e("<div>").addClass("pvtFilterBox").css({"z-index":100,width:"280px",border:"1px solid gray",background:"white",display:"none",position:"absolute",padding:"20px"}),y.append(e("<div>").css({"text-align":"center","font-weight":"bold"}).text(""+t+" ("+h.length+")")),h.length>b.menuLimit)y.append(e("<p>").css({"text-align":"center"}).text(b.localeStrings.tooMany));else{for(i=e("<p>").css({"text-align":"center","margin-bottom":"5px"}),i.append(e("<button>").text(b.localeStrings.selectAll).bind("click",function(){return y.find("input").prop("checked",!0)})),i.append(e("<button>").text(b.localeStrings.selectNone).bind("click",function(){return y.find("input").prop("checked",!1)})),y.append(i),r=e("<div>").css({overflow:"scroll",width:"280px","max-height":"200px"}),T=h.sort(p),w=0,C=T.length;C>w;w++)v=T[w],m=o[t][v],a=e("<label>"),s=b.exclusions[t]?x.call(b.exclusions[t],v)>=0:!1,l||(l=s),a.append(e("<input type='checkbox' class='pvtFilter'>").attr("checked",!s).data("filter",[t,v])),a.append(e("<span>").text(""+v+" ("+m+")")),r.append(e("<p>").css("margin","5px").append(a));y.append(r)}return f=function(){var t;return t=e(y).find("[type='checkbox']").length-e(y).find("[type='checkbox']:checked").length,t>0?n.addClass("pvtFilteredAttribute"):n.removeClass("pvtFilteredAttribute"),h.length>b.menuLimit?y.toggle():y.toggle(0,_)},y.append(e("<p>").css({"text-align":"center","margin-bottom":0}).append(e("<button>").text("OK").bind("click",f))),u=function(e){return y.css({left:e.pageX,top:e.pageY}).toggle()},d=e("<span class='pvtTriangle'>").html(" &#x25BE;").bind("click",u),n=e("<li class='label label-info axis_"+g+"'>").append(e("<nobr>").text(t).data("attrName",t).append(d)),l&&n.addClass("pvtFilteredAttribute"),c.append(n).append(y),n.bind("dblclick",u)};for(g in S)l=S[g],R(l);k=e("<tr>"),r=e("<select class='pvtAggregator'>").css("margin-bottom","5px").bind("change",function(){return _()}),G=b.aggregators;for(A in G)w.call(G,A)&&r.append(e("<option>").val(A).text(A));for(k.append(e("<td class='pvtAxisContainer pvtHorizList pvtVals'>").css("text-align","center").append(r).append(e("<br>"))),k.append(e("<td class='pvtAxisContainer pvtHorizList pvtCols'>")),N.append(k),I=e("<tr>"),I.append(e("<td valign='top' class='pvtAxisContainer pvtRows'>")),y=e("<td valign='top' class='pvtRendererArea'>"),I.append(y),N.append(I),b.unusedAttrsVertical?(N.find("tr:nth-child(1)").prepend(D),N.find("tr:nth-child(2)").prepend(c.css("vertical-align","top"))):N.prepend(e("<tr>").append(D).append(c)),this.html(N),z=b.cols,P=0,j=z.length;j>P;P++)A=z[P],this.find(".pvtCols").append(this.find(".axis_"+S.indexOf(A)));for(U=b.rows,O=0,L=U.length;L>O;O++)A=U[O],this.find(".pvtRows").append(this.find(".axis_"+S.indexOf(A)));for(W=b.vals,F=0,V=W.length;V>F;F++)A=W[F],this.find(".pvtVals").append(this.find(".axis_"+S.indexOf(A)));null!=b.aggregatorName&&this.find(".pvtAggregator").val(b.aggregatorName),null!=b.rendererName&&this.find(".pvtRenderer").val(b.rendererName),C=function(){var n,i,a,s,o;return a={derivedAttributes:b.derivedAttributes,localeStrings:b.localeStrings,rendererOptions:b.rendererOptions,cols:[],rows:[]},o=[],q.find(".pvtRows li nobr").each(function(){return a.rows.push(e(this).data("attrName"))}),q.find(".pvtCols li nobr").each(function(){return a.cols.push(e(this).data("attrName"))}),q.find(".pvtVals li nobr").each(function(){return o.push(e(this).data("attrName"))}),a.aggregator=b.aggregators[r.val()](o),a.renderer=b.renderers[T.val()],n={},q.find("input.pvtFilter").not(":checked").each(function(){var t;return t=e(this).data("filter"),console.log(t),null!=n[t[0]]?n[t[0]].push(t[1]):n[t[0]]=[t[1]]}),a.filter=function(e){var t,i;if(!b.filter(e))return!1;for(v in n)if(t=n[v],i=""+e[v],x.call(t,i)>=0)return!1;return!0},y.pivot(t,a),q.data("pivotUIOptions",{cols:a.cols,rows:a.rows,vals:o,exclusions:n,hiddenAttributes:b.hiddenAttributes,renderers:b.renderers,aggregators:b.aggregators,filter:b.filter,derivedAttributes:b.derivedAttributes,aggregatorName:r.val(),rendererName:T.val(),localeStrings:b.localeStrings,rendererOptions:b.rendererOptions}),b.autoSortUnusedAttrs&&(i=e.pivotUtilities.naturalSort,s=q.find("td.pvtUnused.pvtAxisContainer"),e(s).children("li").sort(function(t,n){return i(e(t).text(),e(n).text())}).appendTo(s)),y.css("opacity",1),null!=b.onRefresh?b.onRefresh():void 0},_=function(){return y.css("opacity",.5),setTimeout(C,10)},_(),this.find(".pvtAxisContainer").sortable({update:_,connectWith:this.find(".pvtAxisContainer"),items:"li",placeholder:"placeholder"})}catch(Y){d=Y,"undefined"!=typeof console&&null!==console&&console.error(d.stack),this.html(b.localeStrings.uiRenderError)}return this},e.fn.heatmap=function(t,n,i){_.each(t,function(e){var t=e.Measure_Val;t&&t.trim().length>0&&(-1!=t.indexOf("$")?t=t.replace("$",""):-1!=t.indexOf("₹")?t=t.replace("₹",""):-1!=t.indexOf("€")&&(t=t.replace("€","")),-1!=t.indexOf("%")&&(t=t.replace("%","")),t=t.replace(/,/g,""),n&&("k"==t.substr(t.length-1)?t=""+revrseFormatting(parseFloat(t),"k"):"L"==t.substr(t.length-1)?t=""+revrseFormatting(parseFloat(t),"L"):"M"==t.substr(t.length-1)?t=""+revrseFormatting(parseFloat(t),"M"):"Cr"==t.substr(t.length-2)?t=""+revrseFormatting(parseFloat(t),"Cr"):"B"==t.substr(t.length-1)&&(t=""+revrseFormatting(parseFloat(t),"B")))),e.Measure_Val=t.trim()});var r,a,s,o,l,c,h,u,d=this;null==i&&(i="heatmap");var p=t.map(function(e){return e.Measure.replace(/\s/g,"")});switch(p=p.uniq(),r=function(e,n){var i=_.filter(t,function(e){return e.Measure.replace(/\s/g,"")==n}),r=d3.min(i,function(e){return e.Measure_Val}),a=d3.max(i,function(e){return e.Measure_Val}),s=d3.scale.linear().domain([r,a]).range(["#f37070","#9fec9f"]);return s(e)},a=function(t){var i,a,s;return a=function(i){return d.find(t).each(function(){var t;t=e(this).data("value");var r=e(this).attr("class").split(" "),a=_.intersection(r,p);return t&&t.trim().length>0&&(-1!=t.indexOf("$")?t=t.replace("$",""):-1!=t.indexOf("₹")?t=t.replace("₹",""):-1!=t.indexOf("€")&&(t=t.replace("€","")),-1!=t.indexOf("%")&&(t=t.replace("%","")),t=t.replace(/,/g,""),n&&("k"==t.substr(t.length-1)?t=""+revrseFormatting(parseFloat(t),"k"):"L"==t.substr(t.length-1)?t=""+revrseFormatting(parseFloat(t),"L"):"M"==t.substr(t.length-1)?t=""+revrseFormatting(parseFloat(t),"M"):"Cr"==t.substr(t.length-2)?t=""+revrseFormatting(parseFloat(t),"Cr"):"B"==t.substr(t.length-1)&&(t=""+revrseFormatting(parseFloat(t),"B")))),null!=t&&isFinite(t)?i(t,e(this),a):void 0})},s=[],a(function(e){return s.push(e)}),i=r,a(function(e,t,n){return t.css("background-color",i(e,n))})},i){case"heatmap":a(".pvtVal","green");break;case"rowheatmap":for(s=h=0;c>=0?c>h:h>c;s=c>=0?++h:--h)a(".pvtVal.row"+s,"green");break;case"colheatmap":for(o=u=0;l>=0?l>u:u>l;o=l>=0?++u:--u)a(".pvtVal.col"+o,"green")}return a(".pvtTotal.rowTotal","green"),a(".pvtTotal.colTotal","green"),this},e.fn.barchart=function(){var t,n,i,r,a,s,o=this;for(s=this.data("dimensions"),r=s[0],i=s[1],t=function(t){var n,i,r,a;return n=function(n){return o.find(t).each(function(){var t;return t=e(this).data("value"),null!=t&&isFinite(t)?n(t,e(this)):void 0})},a=[],n(function(e){return a.push(e)}),i=Math.max.apply(Math,a),r=function(e){return 100*e/(1.4*i)},n(function(t,n){var i,a;return i=n.text(),a=e("<div>").css({position:"relative",height:"55px"}),a.append(e("<div>").css({position:"absolute",bottom:0,left:0,right:0,height:r(t)+"%","background-color":"gray"})),a.append(e("<div>").text(i).css({position:"relative","padding-left":"5px","padding-right":"5px"})),n.css({padding:0,"padding-top":"5px","text-align":"center"}).html(a)})},n=a=0;r>=0?r>a:a>r;n=r>=0?++a:--a)t(".pvtVal.row"+n);return t(".pvtTotal.colTotal"),this}}.call(this),/**
 * fastLiveFilter jQuery plugin 1.0.3
 * 
 * Copyright (c) 2011, Anthony Bush
 * License: <http://www.opensource.org/licenses/bsd-license.php>
 * Project Website: http://anthonybush.com/projects/jquery_fast_live_filter/
 **/
jQuery.fn.fastLiveFilter=function(e,t){t=t||{},e=jQuery(e);var n,i=this,r="",a=t.timeout||0,s=t.callback||function(){},o=e.children(),l=o.length,c=l>0?o[0].style.display:"block";return s(l),i.change(function(){for(var e,n,r=i.val().toLowerCase(),a=0,h=0;l>h;h++)e=o[h],n=t.selector?$(e).find(t.selector).text():e.textContent||e.innerText||"",n.toLowerCase().indexOf(r)>=0?("none"==e.style.display&&(e.style.display=c),a++):"none"!=e.style.display&&(e.style.display="none");return s(a),!1}).keydown(function(){clearTimeout(n),n=setTimeout(function(){i.val()!==r&&(r=i.val(),i.change())},a)}),this},/*
  html2canvas 0.4.1 <http://html2canvas.hertzen.com>
  Copyright (c) 2013 Niklas von Hertzen

  Released under MIT License
*/
function(e,t,n){"use strict";function i(e,t,n){var i,r=e.runtimeStyle&&e.runtimeStyle[t],a=e.style;return!/^-?[0-9]+\.?[0-9]*(?:px)?$/i.test(n)&&/^-?\d/.test(n)&&(i=a.left,r&&(e.runtimeStyle.left=e.currentStyle.left),a.left="fontSize"===t?"1em":n||0,n=a.pixelLeft+"px",a.left=i,r&&(e.runtimeStyle.left=r)),/^(thin|medium|thick)$/i.test(n)?n:Math.round(parseFloat(n))+"px"}function r(e){return parseInt(e,10)}function a(e,t,r,a){if(e=(e||"").split(","),e=e[a||0]||e[0]||"auto",e=u.Util.trimText(e).split(" "),"backgroundSize"!==r||e[0]&&!e[0].match(/cover|contain|auto/)){if(e[0]=-1===e[0].indexOf("%")?i(t,r+"X",e[0]):e[0],e[1]===n){if("backgroundSize"===r)return e[1]="auto",e;e[1]=e[0]}e[1]=-1===e[1].indexOf("%")?i(t,r+"Y",e[1]):e[1]}return e}function s(e,t,n,i,r,a){var s,o,l,c,h=u.Util.getCSS(t,e,r);if(1===h.length&&(c=h[0],h=[],h[0]=c,h[1]=c),-1!==(""+h[0]).indexOf("%"))l=parseFloat(h[0])/100,o=n.width*l,"backgroundSize"!==e&&(o-=(a||i).width*l);else if("backgroundSize"===e)if("auto"===h[0])o=i.width;else if(/contain|cover/.test(h[0])){var d=u.Util.resizeBounds(i.width,i.height,n.width,n.height,h[0]);o=d.width,s=d.height}else o=parseInt(h[0],10);else o=parseInt(h[0],10);return"auto"===h[1]?s=o/i.width*i.height:-1!==(""+h[1]).indexOf("%")?(l=parseFloat(h[1])/100,s=n.height*l,"backgroundSize"!==e&&(s-=(a||i).height*l)):s=parseInt(h[1],10),[o,s]}function o(e,t){var n=[];return{storage:n,width:e,height:t,clip:function(){n.push({type:"function",name:"clip",arguments:arguments})},translate:function(){n.push({type:"function",name:"translate",arguments:arguments})},fill:function(){n.push({type:"function",name:"fill",arguments:arguments})},save:function(){n.push({type:"function",name:"save",arguments:arguments})},restore:function(){n.push({type:"function",name:"restore",arguments:arguments})},fillRect:function(){n.push({type:"function",name:"fillRect",arguments:arguments})},createPattern:function(){n.push({type:"function",name:"createPattern",arguments:arguments})},drawShape:function(){var e=[];return n.push({type:"function",name:"drawShape",arguments:e}),{moveTo:function(){e.push({name:"moveTo",arguments:arguments})},lineTo:function(){e.push({name:"lineTo",arguments:arguments})},arcTo:function(){e.push({name:"arcTo",arguments:arguments})},bezierCurveTo:function(){e.push({name:"bezierCurveTo",arguments:arguments})},quadraticCurveTo:function(){e.push({name:"quadraticCurveTo",arguments:arguments})}}},drawImage:function(){n.push({type:"function",name:"drawImage",arguments:arguments})},fillText:function(){n.push({type:"function",name:"fillText",arguments:arguments})},setVariable:function(e,t){return n.push({type:"variable",name:e,arguments:t}),t}}}function l(e){return{zindex:e,children:[]}}var c,h,u={};u.Util={},u.Util.log=function(t){u.logging&&e.console&&e.console.log&&e.console.log(t)},u.Util.trimText=function(e){return function(t){return e?e.apply(t):((t||"")+"").replace(/^\s+|\s+$/g,"")}}(String.prototype.trim),u.Util.asFloat=function(e){return parseFloat(e)},function(){var e=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,t=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g;u.Util.parseTextShadows=function(n){if(!n||"none"===n)return[];for(var i=n.match(e),r=[],a=0;i&&i.length>a;a++){var s=i[a].match(t);r.push({color:s[0],offsetX:s[1]?s[1].replace("px",""):0,offsetY:s[2]?s[2].replace("px",""):0,blur:s[3]?s[3].replace("px",""):0})}return r}}(),u.Util.parseBackgroundImage=function(e){var t,n,i,r,a,s,o,l,c=" \r\n	",h=[],u=0,d=0,p=function(){t&&('"'===n.substr(0,1)&&(n=n.substr(1,n.length-2)),n&&l.push(n),"-"===t.substr(0,1)&&(r=t.indexOf("-",1)+1)>0&&(i=t.substr(0,r),t=t.substr(r)),h.push({prefix:i,method:t.toLowerCase(),value:a,args:l})),l=[],t=i=n=a=""};p();for(var f=0,g=e.length;g>f;f++)if(s=e[f],!(0===u&&c.indexOf(s)>-1)){switch(s){case'"':o?o===s&&(o=null):o=s;break;case"(":if(o)break;if(0===u){u=1,a+=s;continue}d++;break;case")":if(o)break;if(1===u){if(0===d){u=0,a+=s,p();continue}d--}break;case",":if(o)break;if(0===u){p();continue}if(1===u&&0===d&&!t.match(/^url$/i)){l.push(n),n="",a+=s;continue}}a+=s,0===u?t+=s:n+=s}return p(),h},u.Util.Bounds=function(e){var t,n={};return e.getBoundingClientRect&&(t=e.getBoundingClientRect(),n.top=t.top,n.bottom=t.bottom||t.top+t.height,n.left=t.left,n.width=e.offsetWidth,n.height=e.offsetHeight),n},u.Util.OffsetBounds=function(e){var t=e.offsetParent?u.Util.OffsetBounds(e.offsetParent):{top:0,left:0};return{top:e.offsetTop+t.top,bottom:e.offsetTop+e.offsetHeight+t.top,left:e.offsetLeft+t.left,width:e.offsetWidth,height:e.offsetHeight}},u.Util.getCSS=function(e,n,i){c!==e&&(h=t.defaultView.getComputedStyle(e,null));var s=h[n];if(/^background(Size|Position)$/.test(n))return a(s,e,n,i);if(/border(Top|Bottom)(Left|Right)Radius/.test(n)){var o=s.split(" ");return 1>=o.length&&(o[1]=o[0]),o.map(r)}return s},u.Util.resizeBounds=function(e,t,n,i,r){var a,s,o=n/i,l=e/t;return r&&"auto"!==r?l>o^"contain"===r?(s=i,a=i*l):(a=n,s=n/l):(a=n,s=i),{width:a,height:s}},u.Util.BackgroundPosition=function(e,t,n,i,r){var a=s("backgroundPosition",e,t,n,i,r);return{left:a[0],top:a[1]}},u.Util.BackgroundSize=function(e,t,n,i){var r=s("backgroundSize",e,t,n,i);return{width:r[0],height:r[1]}},u.Util.Extend=function(e,t){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},u.Util.Children=function(e){var t;try{t=e.nodeName&&"IFRAME"===e.nodeName.toUpperCase()?e.contentDocument||e.contentWindow.document:function(e){var t=[];return null!==e&&function(e,t){var i=e.length,r=0;if("number"==typeof t.length)for(var a=t.length;a>r;r++)e[i++]=t[r];else for(;t[r]!==n;)e[i++]=t[r++];return e.length=i,e}(t,e),t}(e.childNodes)}catch(i){u.Util.log("html2canvas.Util.Children failed with exception: "+i.message),t=[]}return t},u.Util.isTransparent=function(e){return"transparent"===e||"rgba(0, 0, 0, 0)"===e},u.Util.Font=function(){var e={};return function(t,i,r){if(e[t+"-"+i]!==n)return e[t+"-"+i];var a,s,o,l=r.createElement("div"),c=r.createElement("img"),h=r.createElement("span"),u="Hidden Text";return l.style.visibility="hidden",l.style.fontFamily=t,l.style.fontSize=i,l.style.margin=0,l.style.padding=0,r.body.appendChild(l),c.src="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs=",c.width=1,c.height=1,c.style.margin=0,c.style.padding=0,c.style.verticalAlign="baseline",h.style.fontFamily=t,h.style.fontSize=i,h.style.margin=0,h.style.padding=0,h.appendChild(r.createTextNode(u)),l.appendChild(h),l.appendChild(c),a=c.offsetTop-h.offsetTop+1,l.removeChild(h),l.appendChild(r.createTextNode(u)),l.style.lineHeight="normal",c.style.verticalAlign="super",s=c.offsetTop-l.offsetTop+1,o={baseline:a,lineWidth:1,middle:s},e[t+"-"+i]=o,r.body.removeChild(l),o}}(),function(){function e(e){return function(t){try{e.addColorStop(t.stop,t.color)}catch(i){n.log(["failed to add color stop: ",i,"; tried to add: ",t])}}}var n=u.Util,i={};u.Generate=i;var r=[/^(-webkit-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-gradient)\((linear|radial),\s((?:\d{1,3}%?)\s(?:\d{1,3}%?),\s(?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)\-]+)\)$/,/^(-moz-linear-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-moz-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s?([a-z\-]*)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/];i.parseGradient=function(e,t){var n,i,a,s,o,l,c,h,u,d,p,f,g=r.length;for(i=0;g>i&&!(a=e.match(r[i]));i+=1);if(a)switch(a[1]){case"-webkit-linear-gradient":case"-o-linear-gradient":if(n={type:"linear",x0:null,y0:null,x1:null,y1:null,colorStops:[]},o=a[2].match(/\w+/g))for(l=o.length,i=0;l>i;i+=1)switch(o[i]){case"top":n.y0=0,n.y1=t.height;break;case"right":n.x0=t.width,n.x1=0;break;case"bottom":n.y0=t.height,n.y1=0;break;case"left":n.x0=0,n.x1=t.width}if(null===n.x0&&null===n.x1&&(n.x0=n.x1=t.width/2),null===n.y0&&null===n.y1&&(n.y0=n.y1=t.height/2),o=a[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(l=o.length,c=1/Math.max(l-1,1),i=0;l>i;i+=1)h=o[i].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),h[2]?(s=parseFloat(h[2]),s/="%"===h[3]?100:t.width):s=i*c,n.colorStops.push({color:h[1],stop:s});break;case"-webkit-gradient":if(n={type:"radial"===a[2]?"circle":a[2],x0:0,y0:0,x1:0,y1:0,colorStops:[]},o=a[3].match(/(\d{1,3})%?\s(\d{1,3})%?,\s(\d{1,3})%?\s(\d{1,3})%?/),o&&(n.x0=o[1]*t.width/100,n.y0=o[2]*t.height/100,n.x1=o[3]*t.width/100,n.y1=o[4]*t.height/100),o=a[4].match(/((?:from|to|color-stop)\((?:[0-9\.]+,\s)?(?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)\))+/g))for(l=o.length,i=0;l>i;i+=1)h=o[i].match(/(from|to|color-stop)\(([0-9\.]+)?(?:,\s)?((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\)/),s=parseFloat(h[2]),"from"===h[1]&&(s=0),"to"===h[1]&&(s=1),n.colorStops.push({color:h[3],stop:s});break;case"-moz-linear-gradient":if(n={type:"linear",x0:0,y0:0,x1:0,y1:0,colorStops:[]},o=a[2].match(/(\d{1,3})%?\s(\d{1,3})%?/),o&&(n.x0=o[1]*t.width/100,n.y0=o[2]*t.height/100,n.x1=t.width-n.x0,n.y1=t.height-n.y0),o=a[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}%)?)+/g))for(l=o.length,c=1/Math.max(l-1,1),i=0;l>i;i+=1)h=o[i].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%)?/),h[2]?(s=parseFloat(h[2]),h[3]&&(s/=100)):s=i*c,n.colorStops.push({color:h[1],stop:s});break;case"-webkit-radial-gradient":case"-moz-radial-gradient":case"-o-radial-gradient":if(n={type:"circle",x0:0,y0:0,x1:t.width,y1:t.height,cx:0,cy:0,rx:0,ry:0,colorStops:[]},o=a[2].match(/(\d{1,3})%?\s(\d{1,3})%?/),o&&(n.cx=o[1]*t.width/100,n.cy=o[2]*t.height/100),o=a[3].match(/\w+/),h=a[4].match(/[a-z\-]*/),o&&h)switch(h[0]){case"farthest-corner":case"cover":case"":u=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.cy,2)),d=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.y1-n.cy,2)),p=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.y1-n.cy,2)),f=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.cy,2)),n.rx=n.ry=Math.max(u,d,p,f);break;case"closest-corner":u=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.cy,2)),d=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.y1-n.cy,2)),p=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.y1-n.cy,2)),f=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.cy,2)),n.rx=n.ry=Math.min(u,d,p,f);break;case"farthest-side":"circle"===o[0]?n.rx=n.ry=Math.max(n.cx,n.cy,n.x1-n.cx,n.y1-n.cy):(n.type=o[0],n.rx=Math.max(n.cx,n.x1-n.cx),n.ry=Math.max(n.cy,n.y1-n.cy));break;case"closest-side":case"contain":"circle"===o[0]?n.rx=n.ry=Math.min(n.cx,n.cy,n.x1-n.cx,n.y1-n.cy):(n.type=o[0],n.rx=Math.min(n.cx,n.x1-n.cx),n.ry=Math.min(n.cy,n.y1-n.cy))}if(o=a[5].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(l=o.length,c=1/Math.max(l-1,1),i=0;l>i;i+=1)h=o[i].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),h[2]?(s=parseFloat(h[2]),s/="%"===h[3]?100:t.width):s=i*c,n.colorStops.push({color:h[1],stop:s})}return n},i.Gradient=function(n,i){if(0!==i.width&&0!==i.height){var r,a,s=t.createElement("canvas"),o=s.getContext("2d");if(s.width=i.width,s.height=i.height,r=u.Generate.parseGradient(n,i))switch(r.type){case"linear":a=o.createLinearGradient(r.x0,r.y0,r.x1,r.y1),r.colorStops.forEach(e(a)),o.fillStyle=a,o.fillRect(0,0,i.width,i.height);break;case"circle":a=o.createRadialGradient(r.cx,r.cy,0,r.cx,r.cy,r.rx),r.colorStops.forEach(e(a)),o.fillStyle=a,o.fillRect(0,0,i.width,i.height);break;case"ellipse":var l=t.createElement("canvas"),c=l.getContext("2d"),h=Math.max(r.rx,r.ry),d=2*h;l.width=l.height=d,a=c.createRadialGradient(r.rx,r.ry,0,r.rx,r.ry,h),r.colorStops.forEach(e(a)),c.fillStyle=a,c.fillRect(0,0,d,d),o.fillStyle=r.colorStops[r.colorStops.length-1].color,o.fillRect(0,0,s.width,s.height),o.drawImage(l,r.cx-r.rx,r.cy-r.ry,2*r.rx,2*r.ry)}return s}},i.ListAlpha=function(e){var t,n="";do t=e%26,n=String.fromCharCode(t+64)+n,e/=26;while(26*e>26);return n},i.ListRoman=function(e){var t,n=["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],i=[1e3,900,500,400,100,90,50,40,10,9,5,4,1],r="",a=n.length;if(0>=e||e>=4e3)return e;for(t=0;a>t;t+=1)for(;e>=i[t];)e-=i[t],r+=n[t];return r}}(),u.Parse=function(i,r){function a(){return Math.max(Math.max(ht.body.scrollWidth,ht.documentElement.scrollWidth),Math.max(ht.body.offsetWidth,ht.documentElement.offsetWidth),Math.max(ht.body.clientWidth,ht.documentElement.clientWidth))}function s(){return Math.max(Math.max(ht.body.scrollHeight,ht.documentElement.scrollHeight),Math.max(ht.body.offsetHeight,ht.documentElement.offsetHeight),Math.max(ht.body.clientHeight,ht.documentElement.clientHeight))}function c(e,t){var n=parseInt(gt(e,t),10);return isNaN(n)?0:n}function h(e,t,n,i,r,a){"transparent"!==a&&(e.setVariable("fillStyle",a),e.fillRect(t,n,i,r),ct+=1)}function d(e,t,i){return e.length>0?t+i.toUpperCase():n}function p(e,t){switch(t){case"lowercase":return e.toLowerCase();case"capitalize":return e.replace(/(^|\s|:|-|\(|\))([a-z])/g,d);case"uppercase":return e.toUpperCase();default:return e}}function f(e){return/^(normal|none|0px)$/.test(e)}function g(e,t,n,i){null!==e&&ut.trimText(e).length>0&&(i.fillText(e,t,n),ct+=1)}function m(e,t,i,r){var a=!1,s=gt(t,"fontWeight"),o=gt(t,"fontFamily"),l=gt(t,"fontSize"),c=ut.parseTextShadows(gt(t,"textShadow"));switch(parseInt(s,10)){case 401:s="bold";break;case 400:s="normal"}return e.setVariable("fillStyle",r),e.setVariable("font",[gt(t,"fontStyle"),gt(t,"fontVariant"),s,l,o].join(" ")),e.setVariable("textAlign",a?"right":"left"),c.length&&(e.setVariable("shadowColor",c[0].color),e.setVariable("shadowOffsetX",c[0].offsetX),e.setVariable("shadowOffsetY",c[0].offsetY),e.setVariable("shadowBlur",c[0].blur)),"none"!==i?ut.Font(o,l,ht):n}function v(e,t,n,i,r){switch(t){case"underline":h(e,n.left,Math.round(n.top+i.baseline+i.lineWidth+1),n.width,1,r);break;case"overline":h(e,n.left,Math.round(n.top),n.width,1,r);break;case"line-through":h(e,n.left,Math.ceil(n.top+i.middle+i.lineWidth),n.width,1,r)}}function b(e,t,n,i,r){var a;if(dt.rangeBounds&&!r)("none"!==n||0!==ut.trimText(t).length)&&(a=y(t,e.node,e.textOffset)),e.textOffset+=t.length;else if(e.node&&"string"==typeof e.node.nodeValue){var s=i?e.node.splitText(t.length):null;a=x(e.node,r),e.node=s}return a}function y(e,t,n){var i=ht.createRange();return i.setStart(t,n),i.setEnd(t,n+e.length),i.getBoundingClientRect()}function x(e,t){var n=e.parentNode,i=ht.createElement("wrapper"),r=e.cloneNode(!0);i.appendChild(e.cloneNode(!0)),n.replaceChild(i,e);var a=t?ut.OffsetBounds(i):ut.Bounds(i);return n.replaceChild(r,i),a}function w(e,t,n){var i,a,s=n.ctx,o=gt(e,"color"),l=gt(e,"textDecoration"),c=gt(e,"textAlign"),h={node:t,textOffset:0};ut.trimText(t.nodeValue).length>0&&(t.nodeValue=p(t.nodeValue,gt(e,"textTransform")),c=c.replace(["-webkit-auto"],["auto"]),a=!r.letterRendering&&/^(left|right|justify|auto)$/.test(c)&&f(gt(e,"letterSpacing"))?t.nodeValue.split(/(\b| )/):t.nodeValue.split(""),i=m(s,e,l,o),r.chinese&&a.forEach(function(e,t){/.*[\u4E00-\u9FA5].*$/.test(e)&&(e=e.split(""),e.unshift(t,1),a.splice.apply(a,e))}),a.forEach(function(e,t){var r=b(h,e,l,a.length-1>t,n.transform.matrix);r&&(g(e,r.left,r.bottom,s),v(s,l,r,i,o))}))}function _(e,t){var n,i,r=ht.createElement("boundelement");return r.style.display="inline",n=e.style.listStyleType,e.style.listStyleType="none",r.appendChild(ht.createTextNode(t)),e.insertBefore(r,e.firstChild),i=ut.Bounds(r),e.removeChild(r),e.style.listStyleType=n,i}function C(e){var t=-1,n=1,i=e.parentNode.childNodes;if(e.parentNode){for(;i[++t]!==e;)1===i[t].nodeType&&n++;return n}return-1}function T(e,t){var n,i=C(e);switch(t){case"decimal":n=i;break;case"decimal-leading-zero":n=1===(""+i).length?i="0"+(""+i):""+i;break;case"upper-roman":n=u.Generate.ListRoman(i);break;case"lower-roman":n=u.Generate.ListRoman(i).toLowerCase();break;case"lower-alpha":n=u.Generate.ListAlpha(i).toLowerCase();break;case"upper-alpha":n=u.Generate.ListAlpha(i)}return n+". "}function D(e,t,n){var i,r,a,s=t.ctx,o=gt(e,"listStyleType");if(/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(o)){if(r=T(e,o),a=_(e,r),m(s,e,"none",gt(e,"color")),"inside"!==gt(e,"listStylePosition"))return;s.setVariable("textAlign","left"),i=n.left,g(r,i,a.bottom,s)}}function S(e){var t=i[e];return t&&t.succeeded===!0?t.img:!1}function E(e,t){var n=Math.max(e.left,t.left),i=Math.max(e.top,t.top),r=Math.min(e.left+e.width,t.left+t.width),a=Math.min(e.top+e.height,t.top+t.height);return{left:n,top:i,width:r-n,height:a-i}}function k(e,t,n){var i,r="static"!==t.cssPosition,a=r?gt(e,"zIndex"):"auto",s=gt(e,"opacity"),o="none"!==gt(e,"cssFloat");t.zIndex=i=l(a),i.isPositioned=r,i.isFloated=o,i.opacity=s,i.ownStacking="auto"!==a||1>s,n&&n.zIndex.children.push(t)}function I(e,t,n,i,r){var a=c(t,"paddingLeft"),s=c(t,"paddingTop"),o=c(t,"paddingRight"),l=c(t,"paddingBottom");$(e,n,0,0,n.width,n.height,i.left+a+r[3].width,i.top+s+r[0].width,i.width-(r[1].width+r[3].width+a+o),i.height-(r[0].width+r[2].width+s+l))}function N(e){return["Top","Right","Bottom","Left"].map(function(t){return{width:c(e,"border"+t+"Width"),color:gt(e,"border"+t+"Color")}})}function A(e){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(t){return gt(e,"border"+t+"Radius")})}function R(e,t,n,i){var r=function(e,t,n){return{x:e.x+(t.x-e.x)*n,y:e.y+(t.y-e.y)*n}};return{start:e,startControl:t,endControl:n,end:i,subdivide:function(a){var s=r(e,t,a),o=r(t,n,a),l=r(n,i,a),c=r(s,o,a),h=r(o,l,a),u=r(c,h,a);return[R(e,s,c,u),R(u,h,l,i)]},curveTo:function(e){e.push(["bezierCurve",t.x,t.y,n.x,n.y,i.x,i.y])},curveToReversed:function(i){i.push(["bezierCurve",n.x,n.y,t.x,t.y,e.x,e.y])}}}function M(e,t,n,i,r,a,s){t[0]>0||t[1]>0?(e.push(["line",i[0].start.x,i[0].start.y]),i[0].curveTo(e),i[1].curveTo(e)):e.push(["line",a,s]),(n[0]>0||n[1]>0)&&e.push(["line",r[0].start.x,r[0].start.y])}function P(e,t,n,i,r,a,s){var o=[];return t[0]>0||t[1]>0?(o.push(["line",i[1].start.x,i[1].start.y]),i[1].curveTo(o)):o.push(["line",e.c1[0],e.c1[1]]),n[0]>0||n[1]>0?(o.push(["line",a[0].start.x,a[0].start.y]),a[0].curveTo(o),o.push(["line",s[0].end.x,s[0].end.y]),s[0].curveToReversed(o)):(o.push(["line",e.c2[0],e.c2[1]]),o.push(["line",e.c3[0],e.c3[1]])),t[0]>0||t[1]>0?(o.push(["line",r[1].end.x,r[1].end.y]),r[1].curveToReversed(o)):o.push(["line",e.c4[0],e.c4[1]]),o}function O(e,t,n){var i=e.left,r=e.top,a=e.width,s=e.height,o=t[0][0],l=t[0][1],c=t[1][0],h=t[1][1],u=t[2][0],d=t[2][1],p=t[3][0],f=t[3][1],g=a-c,m=s-d,v=a-u,b=s-f;return{topLeftOuter:bt(i,r,o,l).topLeft.subdivide(.5),topLeftInner:bt(i+n[3].width,r+n[0].width,Math.max(0,o-n[3].width),Math.max(0,l-n[0].width)).topLeft.subdivide(.5),topRightOuter:bt(i+g,r,c,h).topRight.subdivide(.5),topRightInner:bt(i+Math.min(g,a+n[3].width),r+n[0].width,g>a+n[3].width?0:c-n[3].width,h-n[0].width).topRight.subdivide(.5),bottomRightOuter:bt(i+v,r+m,u,d).bottomRight.subdivide(.5),bottomRightInner:bt(i+Math.min(v,a+n[3].width),r+Math.min(m,s+n[0].width),Math.max(0,u-n[1].width),Math.max(0,d-n[2].width)).bottomRight.subdivide(.5),bottomLeftOuter:bt(i,r+b,p,f).bottomLeft.subdivide(.5),bottomLeftInner:bt(i+n[3].width,r+b,Math.max(0,p-n[3].width),Math.max(0,f-n[2].width)).bottomLeft.subdivide(.5)}}function F(e,t,n,i,r){var a=gt(e,"backgroundClip"),s=[];switch(a){case"content-box":case"padding-box":M(s,i[0],i[1],t.topLeftInner,t.topRightInner,r.left+n[3].width,r.top+n[0].width),M(s,i[1],i[2],t.topRightInner,t.bottomRightInner,r.left+r.width-n[1].width,r.top+n[0].width),M(s,i[2],i[3],t.bottomRightInner,t.bottomLeftInner,r.left+r.width-n[1].width,r.top+r.height-n[2].width),M(s,i[3],i[0],t.bottomLeftInner,t.topLeftInner,r.left+n[3].width,r.top+r.height-n[2].width);break;default:M(s,i[0],i[1],t.topLeftOuter,t.topRightOuter,r.left,r.top),M(s,i[1],i[2],t.topRightOuter,t.bottomRightOuter,r.left+r.width,r.top),M(s,i[2],i[3],t.bottomRightOuter,t.bottomLeftOuter,r.left+r.width,r.top+r.height),M(s,i[3],i[0],t.bottomLeftOuter,t.topLeftOuter,r.left,r.top+r.height)}return s}function B(e,t,n){var i,r,a,s,o,l,c=t.left,h=t.top,u=t.width,d=t.height,p=A(e),f=O(t,p,n),g={clip:F(e,f,n,p,t),borders:[]};for(i=0;4>i;i++)if(n[i].width>0){switch(r=c,a=h,s=u,o=d-n[2].width,i){case 0:o=n[0].width,l=P({c1:[r,a],c2:[r+s,a],c3:[r+s-n[1].width,a+o],c4:[r+n[3].width,a+o]},p[0],p[1],f.topLeftOuter,f.topLeftInner,f.topRightOuter,f.topRightInner);break;case 1:r=c+u-n[1].width,s=n[1].width,l=P({c1:[r+s,a],c2:[r+s,a+o+n[2].width],c3:[r,a+o],c4:[r,a+n[0].width]},p[1],p[2],f.topRightOuter,f.topRightInner,f.bottomRightOuter,f.bottomRightInner);break;case 2:a=a+d-n[2].width,o=n[2].width,l=P({c1:[r+s,a+o],c2:[r,a+o],c3:[r+n[3].width,a],c4:[r+s-n[3].width,a]},p[2],p[3],f.bottomRightOuter,f.bottomRightInner,f.bottomLeftOuter,f.bottomLeftInner);break;case 3:s=n[3].width,l=P({c1:[r,a+o+n[2].width],c2:[r,a],c3:[r+s,a+n[0].width],c4:[r+s,a+o]},p[3],p[0],f.bottomLeftOuter,f.bottomLeftInner,f.topLeftOuter,f.topLeftInner)}g.borders.push({args:l,color:n[i].color})}return g}function j(e,t){var n=e.drawShape();return t.forEach(function(e,t){n[0===t?"moveTo":e[0]+"To"].apply(null,e.slice(1))}),n}function L(e,t,n){"transparent"!==n&&(e.setVariable("fillStyle",n),j(e,t),e.fill(),ct+=1)}function V(e,t,n){var i,r,a=ht.createElement("valuewrap"),s=["lineHeight","textAlign","fontFamily","color","fontSize","paddingLeft","paddingTop","width","height","border","borderLeftWidth","borderTopWidth"];s.forEach(function(t){try{a.style[t]=gt(e,t)}catch(n){ut.log("html2canvas: Parse: Exception caught in renderFormValue: "+n.message)}}),a.style.borderColor="black",a.style.borderStyle="solid",a.style.display="block",a.style.position="absolute",(/^(submit|reset|button|text|password)$/.test(e.type)||"SELECT"===e.nodeName)&&(a.style.lineHeight=gt(e,"height")),a.style.top=t.top+"px",a.style.left=t.left+"px",i="SELECT"===e.nodeName?(e.options[e.selectedIndex]||0).text:e.value,i||(i=e.placeholder),r=ht.createTextNode(i),a.appendChild(r),ft.appendChild(a),w(e,r,n),ft.removeChild(a)}function $(e){e.drawImage.apply(e,Array.prototype.slice.call(arguments,1)),ct+=1}function H(n,i){var r=e.getComputedStyle(n,i);if(r&&r.content&&"none"!==r.content&&"-moz-alt-content"!==r.content&&"none"!==r.display){var a=r.content+"",s=a.substr(0,1);s===a.substr(a.length-1)&&s.match(/'|"/)&&(a=a.substr(1,a.length-2));var o="url"===a.substr(0,3),l=t.createElement(o?"img":"span");return l.className=mt+"-before "+mt+"-after",Object.keys(r).filter(G).forEach(function(e){try{l.style[e]=r[e]}catch(t){ut.log(["Tried to assign readonly property ",e,"Error:",t])}}),o?l.src=ut.parseBackgroundImage(a)[0].args[0]:l.innerHTML=a,l}}function G(t){return isNaN(e.parseInt(t,10))}function z(e,t){var n=H(e,":before"),i=H(e,":after");(n||i)&&(n&&(e.className+=" "+mt+"-before",e.parentNode.insertBefore(n,e),at(n,t,!0),e.parentNode.removeChild(n),e.className=e.className.replace(mt+"-before","").trim()),i&&(e.className+=" "+mt+"-after",e.appendChild(i),at(i,t,!0),e.removeChild(i),e.className=e.className.replace(mt+"-after","").trim()))}function U(e,t,n,i){var r=Math.round(i.left+n.left),a=Math.round(i.top+n.top);e.createPattern(t),e.translate(r,a),e.fill(),e.translate(-r,-a)}function W(e,t,n,i,r,a,s,o){var l=[];l.push(["line",Math.round(r),Math.round(a)]),l.push(["line",Math.round(r+s),Math.round(a)]),l.push(["line",Math.round(r+s),Math.round(o+a)]),l.push(["line",Math.round(r),Math.round(o+a)]),j(e,l),e.save(),e.clip(),U(e,t,n,i),e.restore()}function q(e,t,n){h(e,t.left,t.top,t.width,t.height,n)}function Y(e,t,n,i,r){var a=ut.BackgroundSize(e,t,i,r),s=ut.BackgroundPosition(e,t,i,r,a),o=gt(e,"backgroundRepeat").split(",").map(ut.trimText);switch(i=X(i,a),o=o[r]||o[0]){case"repeat-x":W(n,i,s,t,t.left,t.top+s.top,99999,i.height);break;case"repeat-y":W(n,i,s,t,t.left+s.left,t.top,i.width,99999);break;case"no-repeat":W(n,i,s,t,t.left+s.left,t.top+s.top,i.width,i.height);break;default:U(n,i,s,{top:t.top,left:t.left,width:i.width,height:i.height})}}function K(e,t,n){for(var i,r=gt(e,"backgroundImage"),a=ut.parseBackgroundImage(r),s=a.length;s--;)if(r=a[s],r.args&&0!==r.args.length){var o="url"===r.method?r.args[0]:r.value;i=S(o),i?Y(e,t,n,i,s):ut.log("html2canvas: Error loading background:",r)}}function X(e,t){if(e.width===t.width&&e.height===t.height)return e;var n,i=ht.createElement("canvas");return i.width=t.width,i.height=t.height,n=i.getContext("2d"),$(n,e,0,0,e.width,e.height,0,0,t.width,t.height),i}function Q(e,t,n){return e.setVariable("globalAlpha",gt(t,"opacity")*(n?n.opacity:1))}function J(e){return e.replace("px","")}function Z(e){var t=gt(e,"transform")||gt(e,"-webkit-transform")||gt(e,"-moz-transform")||gt(e,"-ms-transform")||gt(e,"-o-transform"),n=gt(e,"transform-origin")||gt(e,"-webkit-transform-origin")||gt(e,"-moz-transform-origin")||gt(e,"-ms-transform-origin")||gt(e,"-o-transform-origin")||"0px 0px";n=n.split(" ").map(J).map(ut.asFloat);var i;if(t&&"none"!==t){var r=t.match(yt);if(r)switch(r[1]){case"matrix":i=r[2].split(",").map(ut.trimText).map(ut.asFloat)}}return{origin:n,matrix:i}}function et(e,t,n,i){var l=o(t?n.width:a(),t?n.height:s()),c={ctx:l,opacity:Q(l,e,t),cssPosition:gt(e,"position"),borders:N(e),transform:i,clip:t&&t.clip?ut.Extend({},t.clip):null};return k(e,c,t),r.useOverflow===!0&&/(hidden|scroll|auto)/.test(gt(e,"overflow"))===!0&&/(BODY)/i.test(e.nodeName)===!1&&(c.clip=c.clip?E(c.clip,n):n),c}function tt(e,t,n){var i={left:t.left+e[3].width,top:t.top+e[0].width,width:t.width-(e[1].width+e[3].width),height:t.height-(e[0].width+e[2].width)};return n&&(i=E(i,n)),i}function nt(e,t){var n=t.matrix?ut.OffsetBounds(e):ut.Bounds(e);return t.origin[0]+=n.left,t.origin[1]+=n.top,n}function it(e,t,n,i){var r,a=Z(e,t),s=nt(e,a),o=et(e,t,s,a),l=o.borders,c=o.ctx,h=tt(l,s,o.clip),u=B(e,s,l),d=pt.test(e.nodeName)?"#efefef":gt(e,"backgroundColor");switch(j(c,u.clip),c.save(),c.clip(),h.height>0&&h.width>0&&!i?(q(c,s,d),K(e,h,c)):i&&(o.backgroundColor=d),c.restore(),u.borders.forEach(function(e){L(c,e.args,e.color)}),n||z(e,o),e.nodeName){case"IMG":(r=S(e.getAttribute("src")))?I(c,e,r,s,l):ut.log("html2canvas: Error loading <img>:"+e.getAttribute("src"));break;case"INPUT":/^(text|url|email|submit|button|reset)$/.test(e.type)&&(e.value||e.placeholder||"").length>0&&V(e,s,o);break;case"TEXTAREA":(e.value||e.placeholder||"").length>0&&V(e,s,o);break;case"SELECT":(e.options||e.placeholder||"").length>0&&V(e,s,o);break;case"LI":D(e,o,h);break;case"CANVAS":I(c,e,e,s,l)}return o}function rt(e){return"none"!==gt(e,"display")&&"hidden"!==gt(e,"visibility")&&!e.hasAttribute("data-html2canvas-ignore")}function at(e,t,n){rt(e)&&(t=it(e,t,n,!1)||t,pt.test(e.nodeName)||st(e,t,n))}function st(e,t,n){ut.Children(e).forEach(function(i){i.nodeType===i.ELEMENT_NODE?at(i,t,n):i.nodeType===i.TEXT_NODE&&w(e,i,t)})}function ot(){var e=gt(t.documentElement,"backgroundColor"),n=ut.isTransparent(e)&&lt===t.body,i=it(lt,null,!1,n);return st(lt,i),n&&(e=i.backgroundColor),ft.removeChild(vt),{backgroundColor:e,stack:i}}e.scroll(0,0);var lt=r.elements===n?t.body:r.elements[0],ct=0,ht=lt.ownerDocument,ut=u.Util,dt=ut.Support(r,ht),pt=RegExp("("+r.ignoreElements+")"),ft=ht.body,gt=ut.getCSS,mt="___html2canvas___pseudoelement",vt=ht.createElement("style");vt.innerHTML="."+mt+'-before:before { content: "" !important; display: none !important; }'+"."+mt+'-after:after { content: "" !important; display: none !important; }',ft.appendChild(vt),i=i||{};var bt=function(e){return function(t,n,i,r){var a=i*e,s=r*e,o=t+i,l=n+r;return{topLeft:R({x:t,y:l},{x:t,y:l-s},{x:o-a,y:n},{x:o,y:n}),topRight:R({x:t,y:n},{x:t+a,y:n},{x:o,y:l-s},{x:o,y:l}),bottomRight:R({x:o,y:n},{x:o,y:n+s},{x:t+a,y:l},{x:t,y:l}),bottomLeft:R({x:o,y:l},{x:o-a,y:l},{x:t,y:n+s},{x:t,y:n})}}}(4*((Math.sqrt(2)-1)/3)),yt=/(matrix)\((.+)\)/;return ot()},u.Preload=function(i){function r(e){S.href=e,S.href=S.href;var t=S.protocol+S.host;return t===g}function a(){x.log("html2canvas: start: images: "+y.numLoaded+" / "+y.numTotal+" (failed: "+y.numFailed+")"),!y.firstRun&&y.numLoaded>=y.numTotal&&(x.log("Finished loading images: # "+y.numTotal+" (failed: "+y.numFailed+")"),"function"==typeof i.complete&&i.complete(y))}function s(t,r,s){var o,l,c=i.proxy;S.href=t,t=S.href,o="html2canvas_"+w++,s.callbackname=o,c+=c.indexOf("?")>-1?"&":"?",c+="url="+encodeURIComponent(t)+"&callback="+o,l=C.createElement("script"),e[o]=function(t){"error:"===t.substring(0,6)?(s.succeeded=!1,y.numLoaded++,y.numFailed++,a()):(f(r,s),r.src=t),e[o]=n;try{delete e[o]}catch(i){}l.parentNode.removeChild(l),l=null,delete s.script,delete s.callbackname},l.setAttribute("type","text/javascript"),l.setAttribute("src",c),s.script=l,e.document.body.appendChild(l)}function o(t,n){var i=e.getComputedStyle(t,n),r=i.content;"url"===r.substr(0,3)&&m.loadImage(u.Util.parseBackgroundImage(r)[0].args[0]),d(i.backgroundImage,t)}function l(e){o(e,":before"),o(e,":after")}function c(e,t){var i=u.Generate.Gradient(e,t);i!==n&&(y[e]={img:i,succeeded:!0},y.numTotal++,y.numLoaded++,a())}function h(e){return e&&e.method&&e.args&&e.args.length>0}function d(e,t){var i;u.Util.parseBackgroundImage(e).filter(h).forEach(function(e){"url"===e.method?m.loadImage(e.args[0]):e.method.match(/\-?gradient$/)&&(i===n&&(i=u.Util.Bounds(t)),c(e.value,i))})}function p(e){var t=!1;try{x.Children(e).forEach(p)}catch(i){}try{t=e.nodeType}catch(r){t=!1,x.log("html2canvas: failed to access some element's nodeType - Exception: "+r.message)}if(1===t||t===n){l(e);try{d(x.getCSS(e,"backgroundImage"),e)}catch(i){x.log("html2canvas: failed to get background-image - Exception: "+i.message)}d(e)}}function f(t,r){t.onload=function(){r.timer!==n&&e.clearTimeout(r.timer),y.numLoaded++,r.succeeded=!0,t.onerror=t.onload=null,a()},t.onerror=function(){if("anonymous"===t.crossOrigin&&(e.clearTimeout(r.timer),i.proxy)){var o=t.src;return t=new Image,r.img=t,t.src=o,s(t.src,t,r),n}y.numLoaded++,y.numFailed++,r.succeeded=!1,t.onerror=t.onload=null,a()}}var g,m,v,b,y={numLoaded:0,numFailed:0,numTotal:0,cleanupDone:!1},x=u.Util,w=0,_=i.elements[0]||t.body,C=_.ownerDocument,T=_.getElementsByTagName("img"),D=T.length,S=C.createElement("a"),E=function(e){return e.crossOrigin!==n}(new Image);for(S.href=e.location.href,g=S.protocol+S.host,m={loadImage:function(e){var t,a;e&&y[e]===n&&(t=new Image,e.match(/data:image\/.*;base64,/i)?(t.src=e.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),a=y[e]={img:t},y.numTotal++,f(t,a)):r(e)||i.allowTaint===!0?(a=y[e]={img:t},y.numTotal++,f(t,a),t.src=e):E&&!i.allowTaint&&i.useCORS?(t.crossOrigin="anonymous",a=y[e]={img:t},y.numTotal++,f(t,a),t.src=e):i.proxy&&(a=y[e]={img:t},y.numTotal++,s(e,t,a)))},cleanupDOM:function(r){var s,o;if(!y.cleanupDone){r&&"string"==typeof r?x.log("html2canvas: Cleanup because: "+r):x.log("html2canvas: Cleanup after timeout: "+i.timeout+" ms.");for(o in y)if(y.hasOwnProperty(o)&&(s=y[o],"object"==typeof s&&s.callbackname&&s.succeeded===n)){e[s.callbackname]=n;try{delete e[s.callbackname]}catch(l){}s.script&&s.script.parentNode&&(s.script.setAttribute("src","about:blank"),s.script.parentNode.removeChild(s.script)),y.numLoaded++,y.numFailed++,x.log("html2canvas: Cleaned up failed img: '"+o+"' Steps: "+y.numLoaded+" / "+y.numTotal)}e.stop!==n?e.stop():t.execCommand!==n&&t.execCommand("Stop",!1),t.close!==n&&t.close(),y.cleanupDone=!0,r&&"string"==typeof r||a()}},renderingDone:function(){b&&e.clearTimeout(b)}},i.timeout>0&&(b=e.setTimeout(m.cleanupDOM,i.timeout)),x.log("html2canvas: Preload starts: finding background-images"),y.firstRun=!0,p(_),x.log("html2canvas: Preload: Finding images"),v=0;D>v;v+=1)m.loadImage(T[v].getAttribute("src"));return y.firstRun=!1,x.log("html2canvas: Preload: Done."),y.numTotal===y.numLoaded&&a(),m},u.Renderer=function(e,i){function r(e){function t(e){Object.keys(e).sort().forEach(function(n){var i=[],a=[],s=[],o=[];e[n].forEach(function(e){e.node.zIndex.isPositioned||1>e.node.zIndex.opacity?s.push(e):e.node.zIndex.isFloated?a.push(e):i.push(e)}),function l(e){e.forEach(function(e){o.push(e),e.children&&l(e.children)})}(i.concat(a,s)),o.forEach(function(e){e.context?t(e.context):r.push(e.node)})})}var i,r=[];return i=function(e){function t(e,i,r){var a="auto"===i.zIndex.zindex?0:Number(i.zIndex.zindex),s=e,o=i.zIndex.isPositioned,l=i.zIndex.isFloated,c={node:i},h=r;i.zIndex.ownStacking?(s=c.context={"!":[{node:i,children:[]}]},h=n):(o||l)&&(h=c.children=[]),0===a&&r?r.push(c):(e[a]||(e[a]=[]),e[a].push(c)),i.zIndex.children.forEach(function(e){t(s,e,h)})}var i={};return t(i,e),i}(e),t(i),r}function a(e){var t;if("string"==typeof i.renderer&&u.Renderer[e]!==n)t=u.Renderer[e](i);
else{if("function"!=typeof e)throw Error("Unknown renderer");t=e(i)}if("function"!=typeof t)throw Error("Invalid renderer defined");return t}return a(i.renderer)(e,i,t,r(e.stack),u)},u.Util.Support=function(e,t){function i(){var e=new Image,i=t.createElement("canvas"),r=i.getContext===n?!1:i.getContext("2d");if(r===!1)return!1;i.width=i.height=10,e.src=["data:image/svg+xml,","<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10'>","<foreignObject width='10' height='10'>","<div xmlns='http://www.w3.org/1999/xhtml' style='width:10;height:10;'>","sup","</div>","</foreignObject>","</svg>"].join("");try{r.drawImage(e,0,0),i.toDataURL()}catch(a){return!1}return u.Util.log("html2canvas: Parse: SVG powered rendering available"),!0}function r(){var e,n,i,r,a=!1;return t.createRange&&(e=t.createRange(),e.getBoundingClientRect&&(n=t.createElement("boundtest"),n.style.height="123px",n.style.display="block",t.body.appendChild(n),e.selectNode(n),i=e.getBoundingClientRect(),r=i.height,123===r&&(a=!0),t.body.removeChild(n))),a}return{rangeBounds:r(),svgRendering:e.svgRendering&&i()}},e.html2canvas=function(t,n){t=t.length?t:[t];var i,r,a={logging:!1,elements:t,background:"#fff",proxy:null,timeout:0,useCORS:!1,allowTaint:!1,svgRendering:!1,ignoreElements:"IFRAME|OBJECT|PARAM",useOverflow:!0,letterRendering:!1,chinese:!1,width:null,height:null,taintTest:!0,renderer:"Canvas"};return a=u.Util.Extend(n,a),u.logging=a.logging,a.complete=function(e){("function"!=typeof a.onpreloaded||a.onpreloaded(e)!==!1)&&(i=u.Parse(e,a),("function"!=typeof a.onparsed||a.onparsed(i)!==!1)&&(r=u.Renderer(i,a),"function"==typeof a.onrendered&&a.onrendered(r)))},e.setTimeout(function(){u.Preload(a)},0),{render:function(e,t){return u.Renderer(e,u.Util.Extend(t,a))},parse:function(e,t){return u.Parse(e,u.Util.Extend(t,a))},preload:function(e){return u.Preload(u.Util.Extend(e,a))},log:u.Util.log}},e.html2canvas.log=u.Util.log,e.html2canvas.Renderer={Canvas:n},u.Renderer.Canvas=function(e){function i(e,t){e.beginPath(),t.forEach(function(t){e[t.name].apply(e,t.arguments)}),e.closePath()}function r(e){if(-1===o.indexOf(e.arguments[0].src)){c.drawImage(e.arguments[0],0,0);try{c.getImageData(0,0,1,1)}catch(t){return l=s.createElement("canvas"),c=l.getContext("2d"),!1}o.push(e.arguments[0].src)}return!0}function a(t,n){switch(n.type){case"variable":t[n.name]=n.arguments;break;case"function":switch(n.name){case"createPattern":if(n.arguments[0].width>0&&n.arguments[0].height>0)try{t.fillStyle=t.createPattern(n.arguments[0],"repeat")}catch(a){h.log("html2canvas: Renderer: Error creating pattern",a.message)}break;case"drawShape":i(t,n.arguments);break;case"drawImage":n.arguments[8]>0&&n.arguments[7]>0&&(!e.taintTest||e.taintTest&&r(n))&&t.drawImage.apply(t,n.arguments);break;default:t[n.name].apply(t,n.arguments)}}}e=e||{};var s=t,o=[],l=t.createElement("canvas"),c=l.getContext("2d"),h=u.Util,d=e.canvas||s.createElement("canvas");return function(e,t,i,r,s){var o,l,c,u=d.getContext("2d"),p=e.stack;return d.width=d.style.width=t.width||p.ctx.width,d.height=d.style.height=t.height||p.ctx.height,c=u.fillStyle,u.fillStyle=h.isTransparent(p.backgroundColor)&&t.background!==n?t.background:e.backgroundColor,u.fillRect(0,0,d.width,d.height),u.fillStyle=c,r.forEach(function(e){u.textBaseline="bottom",u.save(),e.transform.matrix&&(u.translate(e.transform.origin[0],e.transform.origin[1]),u.transform.apply(u,e.transform.matrix),u.translate(-e.transform.origin[0],-e.transform.origin[1])),e.clip&&(u.beginPath(),u.rect(e.clip.left,e.clip.top,e.clip.width,e.clip.height),u.clip()),e.ctx.storage&&e.ctx.storage.forEach(function(e){a(u,e)}),u.restore()}),h.log("html2canvas: Renderer: Canvas renderer done - returning canvas obj"),1===t.elements.length&&"object"==typeof t.elements[0]&&"BODY"!==t.elements[0].nodeName?(l=s.Util.Bounds(t.elements[0]),o=i.createElement("canvas"),o.width=Math.ceil(l.width),o.height=Math.ceil(l.height),u=o.getContext("2d"),u.drawImage(d,l.left,l.top,l.width,l.height,0,0,l.width,l.height),d=null,o):d}}}(window,document),/**
 * Timeago is a jQuery plugin that makes it easy to support automatically
 * updating fuzzy timestamps (e.g. "4 minutes ago" or "about 1 day ago").
 *
 * @name timeago
 * @version 1.4.1
 * @requires jQuery v1.2.3+
 * @author Ryan McGeary
 * @license MIT License - http://www.opensource.org/licenses/mit-license.php
 *
 * For usage and examples, visit:
 * http://timeago.yarp.com/
 *
 * Copyright (c) 2008-2013, Ryan McGeary (ryan -[at]- mcgeary [*dot*] org)
 */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(){var t=n(this),s=a.settings;return isNaN(t.datetime)||(0==s.cutoff||Math.abs(r(t.datetime))<s.cutoff)&&e(this).text(i(t.datetime)),this}function n(t){if(t=e(t),!t.data("timeago")){t.data("timeago",{datetime:a.datetime(t)});var n=e.trim(t.text());a.settings.localeTitle?t.attr("title",t.data("timeago").datetime.toLocaleString()):!(n.length>0)||a.isTime(t)&&t.attr("title")||t.attr("title",n)}return t.data("timeago")}function i(e){return a.inWords(r(e))}function r(e){return(new Date).getTime()-e.getTime()}e.timeago=function(t){return t instanceof Date?i(t):"string"==typeof t?i(e.timeago.parse(t)):"number"==typeof t?i(new Date(t)):i(e.timeago.datetime(t))};var a=e.timeago;e.extend(e.timeago,{settings:{refreshMillis:6e4,allowPast:!0,allowFuture:!0,localeTitle:!1,cutoff:0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",inPast:"any moment now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(t){function n(n,r){var a=e.isFunction(n)?n(r,t):n,s=i.numbers&&i.numbers[r]||r;return a.replace(/%d/i,s)}if(!this.settings.allowPast&&!this.settings.allowFuture)throw"timeago allowPast and allowFuture settings can not both be set to false.";var i=this.settings.strings,r=i.prefixAgo,a=i.suffixAgo;if(this.settings.allowFuture&&0>t&&(r=i.prefixFromNow,a=i.suffixFromNow),!this.settings.allowPast&&t>=0)return this.settings.strings.inPast;var s=Math.abs(t)/1e3,o=s/60,l=o/60,c=l/24,h=c/365,u=45>s&&n(i.seconds,Math.round(s))||90>s&&n(i.minute,1)||45>o&&n(i.minutes,Math.round(o))||90>o&&n(i.hour,1)||24>l&&n(i.hours,Math.round(l))||42>l&&n(i.day,1)||30>c&&n(i.days,Math.round(c))||45>c&&n(i.month,1)||365>c&&n(i.months,Math.round(c/30))||1.5>h&&n(i.year,1)||n(i.years,Math.round(h)),d=i.wordSeparator||"";return void 0===i.wordSeparator&&(d=" "),e.trim([r,u,a].join(d))},parse:function(t){var n=e.trim(t);return n=n.replace(/\.\d+/,""),n=n.replace(/-/,"/").replace(/-/,"/"),n=n.replace(/T/," ").replace(/Z/," UTC"),n=n.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),n=n.replace(/([\+\-]\d\d)$/," $100"),new Date(n)},datetime:function(t){var n=a.isTime(t)?e(t).attr("datetime"):e(t).attr("title");return a.parse(n)},isTime:function(t){return"time"===e(t).get(0).tagName.toLowerCase()}});var s={init:function(){var n=e.proxy(t,this);n();var i=a.settings;i.refreshMillis>0&&(this._timeagoInterval=setInterval(n,i.refreshMillis))},update:function(n){var i=a.parse(n);e(this).data("timeago",{datetime:i}),a.settings.localeTitle&&e(this).attr("title",i.toLocaleString()),t.apply(this)},updateFromDOM:function(){e(this).data("timeago",{datetime:a.parse(a.isTime(this)?e(this).attr("datetime"):e(this).attr("title"))}),t.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};e.fn.timeago=function(e,t){var n=e?s[e]:s.init;if(!n)throw new Error("Unknown function name '"+e+"' for timeago");return this.each(function(){n.call(this,t)}),this},document.createElement("abbr"),document.createElement("time")}),// Copyright (c) 2013 Justin Palmer
d3.tip=function(){function e(e){y=p(e),x=y.createSVGPoint(),document.body.appendChild(b)}function t(){return"n"}function n(){return[0,0]}function i(){return" "}function r(){var e=f();return{top:e.n.y-b.offsetHeight,left:e.n.x-b.offsetWidth/2}}function a(){var e=f();return{top:e.s.y,left:e.s.x-b.offsetWidth/2}}function s(){var e=f();return{top:e.e.y-b.offsetHeight/2,left:e.e.x}}function o(){var e=f();return{top:e.w.y-b.offsetHeight/2,left:e.w.x-b.offsetWidth}}function l(){var e=f();return{top:e.nw.y-b.offsetHeight,left:e.nw.x-b.offsetWidth}}function c(){var e=f();return{top:e.ne.y-b.offsetHeight,left:e.ne.x}}function h(){var e=f();return{top:e.sw.y,left:e.sw.x-b.offsetWidth}}function u(){var e=f();return{top:e.se.y,left:e.e.x}}function d(){var e=d3.select(document.createElement("div"));return e.style({position:"absolute",opacity:0,pointerEvents:"none",boxSizing:"border-box"}),e.node()}function p(e){return e=e.node(),"svg"==e.tagName.toLowerCase()?e:e.ownerSVGElement}function f(){var e=w||d3.event.target,t={},n=e.getScreenCTM(),i=e.getBBox(),r=i.width,a=i.height,s=i.x,o=i.y,l=document.documentElement.scrollTop||document.body.scrollTop,c=document.documentElement.scrollLeft||document.body.scrollLeft;return x.x=s+c,x.y=o+l,t.nw=x.matrixTransform(n),x.x+=r,t.ne=x.matrixTransform(n),x.y+=a,t.se=x.matrixTransform(n),x.x-=r,t.sw=x.matrixTransform(n),x.y-=a/2,t.w=x.matrixTransform(n),x.x+=r,t.e=x.matrixTransform(n),x.x-=r/2,x.y-=a/2,t.n=x.matrixTransform(n),x.y+=a,t.s=x.matrixTransform(n),t}var g=t,m=n,v=i,b=d(),y=null,x=null,w=null;e.show=function(){var t=Array.prototype.slice.call(arguments);t[t.length-1]instanceof SVGElement&&(w=t.pop());var n,i=v.apply(this,t),r=m.apply(this,t),a=g.apply(this,t),s=d3.select(b),o=0;for(s.html(i).style({opacity:1,"pointer-events":"all"});o--;)s.classed(C[o],!1);return n=_.get(a).apply(this),s.classed(a,!0).style({top:n.top+r[0]+"px",left:n.left+r[1]+"px"}),e},e.hide=function(){return nodel=d3.select(b),nodel.style({opacity:0,"pointer-events":"none"}),e},e.attr=function(t){if(arguments.length<2&&"string"==typeof t)return d3.select(b).attr(t);var n=Array.prototype.slice.call(arguments);return d3.selection.prototype.attr.apply(d3.select(b),n),e},e.style=function(t){if(arguments.length<2&&"string"==typeof t)return d3.select(b).style(t);var n=Array.prototype.slice.call(arguments);return d3.selection.prototype.style.apply(d3.select(b),n),e},e.direction=function(t){return arguments.length?(g=null==t?t:d3.functor(t),e):g},e.offset=function(t){return arguments.length?(m=null==t?t:d3.functor(t),e):m},e.html=function(t){return arguments.length?(v=null==t?t:d3.functor(t),e):v};var _=d3.map({n:r,s:a,e:s,w:o,nw:l,ne:c,sw:h,se:u}),C=_.keys();return e},function(e,t,n,i){function r(i,r){this.options=e.extend({},o,r),this._container=e("#"+this.options.containerID),this._container.length&&(this.jQwindow=e(t),this.jQdocument=e(n),this._holder=e(i),this._nav={},this._first=e(this.options.first),this._previous=e(this.options.previous),this._next=e(this.options.next),this._last=e(this.options.last),this._items=this._container.children(":visible"),this._itemsShowing=e([]),this._itemsHiding=e([]),this._numPages=Math.ceil(this._items.length/this.options.perPage),this._currentPageNum=this.options.startPage,this._clicked=!1,this._cssAnimSupport=this.getCSSAnimationSupport(),this.init())}var a="jPages",s=null,o={containerID:"",first:!1,previous:"←",next:"→",last:!1,links:"numeric",startPage:1,perPage:10,midRange:5,startRange:1,endRange:1,keyBrowse:!1,scrollBrowse:!1,pause:0,clickStop:!1,delay:50,direction:"forward",animation:"",fallback:400,minHeight:!0,callback:i};r.prototype={constructor:r,getCSSAnimationSupport:function(){var e=!1,t="animation",n="",r="Webkit Moz O ms Khtml".split(" "),a="",s=this._container.get(0);if(s.style.animationName&&(e=!0),e===!1)for(var o=0;o<r.length;o++)if(s.style[r[o]+"AnimationName"]!==i){a=r[o],t=a+"Animation",n="-"+a.toLowerCase()+"-",e=!0;break}return e},init:function(){this.setStyles(),this.setNav(),this.paginate(this._currentPageNum),this.setMinHeight()},setStyles:function(){var t="<style>.jp-invisible { visibility: hidden !important; } .jp-hidden { display: none !important; }</style>";e(t).appendTo("head"),this._cssAnimSupport&&this.options.animation.length?this._items.addClass("animated jp-hidden"):this._items.hide()},setNav:function(){var t=this.writeNav();this._holder.each(this.bind(function(n,i){var r=e(i);r.html(t),this.cacheNavElements(r,n),this.bindNavHandlers(n),this.disableNavSelection(i)},this)),this.options.keyBrowse&&this.bindNavKeyBrowse(),this.options.scrollBrowse&&this.bindNavScrollBrowse()},writeNav:function(){var e,t=1;for(e=this.writeBtn("first")+this.writeBtn("previous");t<=this._numPages;t++){switch(1===t&&0===this.options.startRange&&(e+="<span>...</span>"),e+=t>this.options.startRange&&t<=this._numPages-this.options.endRange?"<a href='#' class='jp-hidden'>":"<a>",this.options.links){case"numeric":e+=t;break;case"blank":break;case"title":var n=this._items.eq(t-1).attr("data-title");e+=n!==i?n:""}e+="</a>",(t===this.options.startRange||t===this._numPages-this.options.endRange)&&(e+="<span>...</span>")}return e+=this.writeBtn("next")+this.writeBtn("last")+"</div>"},writeBtn:function(t){return this.options[t]===!1||e(this["_"+t]).length?"":"<a class='jp-"+t+"'>"+this.options[t]+"</a>"},cacheNavElements:function(t,n){this._nav[n]={},this._nav[n].holder=t,this._nav[n].first=this._first.length?this._first:this._nav[n].holder.find("a.jp-first"),this._nav[n].previous=this._previous.length?this._previous:this._nav[n].holder.find("a.jp-previous"),this._nav[n].next=this._next.length?this._next:this._nav[n].holder.find("a.jp-next"),this._nav[n].last=this._last.length?this._last:this._nav[n].holder.find("a.jp-last"),this._nav[n].fstBreak=this._nav[n].holder.find("span:first"),this._nav[n].lstBreak=this._nav[n].holder.find("span:last"),this._nav[n].pages=this._nav[n].holder.find("a").not(".jp-first, .jp-previous, .jp-next, .jp-last"),this._nav[n].permPages=this._nav[n].pages.slice(0,this.options.startRange).add(this._nav[n].pages.slice(this._numPages-this.options.endRange,this._numPages)),this._nav[n].pagesShowing=e([]),this._nav[n].currentPage=e([])},bindNavHandlers:function(t){var n=this._nav[t];n.holder.bind("click.jPages",this.bind(function(t){var i=this.getNewPage(n,e(t.target));this.validNewPage(i)&&(this._clicked=!0,this.paginate(i)),t.preventDefault()},this)),this._first.length&&this._first.bind("click.jPages",this.bind(function(){this.validNewPage(1)&&(this._clicked=!0,this.paginate(1))},this)),this._previous.length&&this._previous.bind("click.jPages",this.bind(function(){var e=this._currentPageNum-1;this.validNewPage(e)&&(this._clicked=!0,this.paginate(e))},this)),this._next.length&&this._next.bind("click.jPages",this.bind(function(){var e=this._currentPageNum+1;this.validNewPage(e)&&(this._clicked=!0,this.paginate(e))},this)),this._last.length&&this._last.bind("click.jPages",this.bind(function(){this.validNewPage(this._numPages)&&(this._clicked=!0,this.paginate(this._numPages))},this))},disableNavSelection:function(e){"undefined"!=typeof e.onselectstart?e.onselectstart=function(){return!1}:"undefined"!=typeof e.style.MozUserSelect?e.style.MozUserSelect="none":e.onmousedown=function(){return!1}},bindNavKeyBrowse:function(){this.jQdocument.bind("keydown.jPages",this.bind(function(e){var t=e.target.nodeName.toLowerCase();if(this.elemScrolledIntoView()&&"input"!==t&&"textarea"!=t){var n=this._currentPageNum;37==e.which&&(n=this._currentPageNum-1),39==e.which&&(n=this._currentPageNum+1),this.validNewPage(n)&&(this._clicked=!0,this.paginate(n))}},this))},elemScrolledIntoView:function(){var e,t,n,i;return e=this.jQwindow.scrollTop(),t=e+this.jQwindow.height(),n=this._container.offset().top,i=n+this._container.height(),i>=e&&t>=n},bindNavScrollBrowse:function(){this._container.bind("mousewheel.jPages DOMMouseScroll.jPages",this.bind(function(e){var t=(e.originalEvent.wheelDelta||-e.originalEvent.detail)>0?this._currentPageNum-1:this._currentPageNum+1;return this.validNewPage(t)&&(this._clicked=!0,this.paginate(t)),e.preventDefault(),!1},this))},getNewPage:function(e,t){return t.is(e.currentPage)?this._currentPageNum:t.is(e.pages)?e.pages.index(t)+1:t.is(e.first)?1:t.is(e.last)?this._numPages:t.is(e.previous)?e.pages.index(e.currentPage):t.is(e.next)?e.pages.index(e.currentPage)+2:void 0},validNewPage:function(e){return e!==this._currentPageNum&&e>0&&e<=this._numPages},paginate:function(t){var n,i;n=this.updateItems(t),i=this.updatePages(t),this._currentPageNum=t,e.isFunction(this.options.callback)&&this.callback(t,n,i),this.updatePause()},updateItems:function(e){var t=this.getItemRange(e);return this._itemsHiding=this._itemsShowing,this._itemsShowing=this._items.slice(t.start,t.end),this._cssAnimSupport&&this.options.animation.length?this.cssAnimations(e):this.jQAnimations(e),t},getItemRange:function(e){var t={};return t.start=(e-1)*this.options.perPage,t.end=t.start+this.options.perPage,t.end>this._items.length&&(t.end=this._items.length),t},cssAnimations:function(e){clearInterval(this._delay),this._itemsHiding.removeClass(this.options.animation+" jp-invisible").addClass("jp-hidden"),this._itemsShowing.removeClass("jp-hidden").addClass("jp-invisible"),this._itemsOriented=this.getDirectedItems(e),this._index=0,this._delay=setInterval(this.bind(function(){this._index===this._itemsOriented.length?clearInterval(this._delay):this._itemsOriented.eq(this._index).removeClass("jp-invisible").addClass(this.options.animation),this._index=this._index+1},this),this.options.delay)},jQAnimations:function(e){clearInterval(this._delay),this._itemsHiding.addClass("jp-hidden"),this._itemsShowing.fadeTo(0,0).removeClass("jp-hidden"),this._itemsOriented=this.getDirectedItems(e),this._index=0,this._delay=setInterval(this.bind(function(){this._index===this._itemsOriented.length?clearInterval(this._delay):this._itemsOriented.eq(this._index).fadeTo(this.options.fallback,1),this._index=this._index+1},this),this.options.delay)},getDirectedItems:function(t){var n;switch(this.options.direction){case"backwards":n=e(this._itemsShowing.get().reverse());break;case"random":n=e(this._itemsShowing.get().sort(function(){return Math.round(Math.random())-.5}));break;case"auto":n=t>=this._currentPageNum?this._itemsShowing:e(this._itemsShowing.get().reverse());break;default:n=this._itemsShowing}return n},updatePages:function(e){var t,n,i;t=this.getInterval(e);for(n in this._nav)this._nav.hasOwnProperty(n)&&(i=this._nav[n],this.updateBtns(i,e),this.updateCurrentPage(i,e),this.updatePagesShowing(i,t),this.updateBreaks(i,t));return t},getInterval:function(e){var t,n,i,r;return t=Math.ceil(this.options.midRange/2),n=this._numPages-this.options.midRange,i=e>t?Math.max(Math.min(e-t,n),0):0,r=e>t?Math.min(e+t-(this.options.midRange%2>0?1:0),this._numPages):Math.min(this.options.midRange,this._numPages),{start:i,end:r}},updateBtns:function(e,t){1===t&&(e.first.addClass("jp-disabled"),e.previous.addClass("jp-disabled")),t===this._numPages&&(e.next.addClass("jp-disabled"),e.last.addClass("jp-disabled")),1===this._currentPageNum&&t>1&&(e.first.removeClass("jp-disabled"),e.previous.removeClass("jp-disabled")),this._currentPageNum===this._numPages&&t<this._numPages&&(e.next.removeClass("jp-disabled"),e.last.removeClass("jp-disabled"))},updateCurrentPage:function(e,t){e.currentPage.removeClass("jp-current"),e.currentPage=e.pages.eq(t-1).addClass("jp-current")},updatePagesShowing:function(e,t){var n=e.pages.slice(t.start,t.end).not(e.permPages);e.pagesShowing.not(n).addClass("jp-hidden"),n.not(e.pagesShowing).removeClass("jp-hidden"),e.pagesShowing=n},updateBreaks:function(e,t){t.start>this.options.startRange||0===this.options.startRange&&t.start>0?e.fstBreak.removeClass("jp-hidden"):e.fstBreak.addClass("jp-hidden"),t.end<this._numPages-this.options.endRange?e.lstBreak.removeClass("jp-hidden"):e.lstBreak.addClass("jp-hidden")},callback:function(e,t,n){var i={current:e,interval:n,count:this._numPages},r={showing:this._itemsShowing,oncoming:this._items.slice(t.start+this.options.perPage,t.end+this.options.perPage),range:t,count:this._items.length};i.interval.start=i.interval.start+1,r.range.start=r.range.start+1,this.options.callback(i,r)},updatePause:function(){if(this.options.pause&&this._numPages>1){if(clearTimeout(this._pause),this.options.clickStop&&this._clicked)return;this._pause=setTimeout(this.bind(function(){this.paginate(this._currentPageNum!==this._numPages?this._currentPageNum+1:1)},this),this.options.pause)}},setMinHeight:function(){this.options.minHeight&&!this._container.is("table, tbody")&&setTimeout(this.bind(function(){this._container.css({"min-height":this._container.css("height")})},this),1e3)},bind:function(e,t){return function(){return e.apply(t,arguments)}},destroy:function(){this.jQdocument.unbind("keydown.jPages"),this._container.unbind("mousewheel.jPages DOMMouseScroll.jPages"),this.options.minHeight&&this._container.css("min-height",""),this._cssAnimSupport&&this.options.animation.length?this._items.removeClass("animated jp-hidden jp-invisible "+this.options.animation):this._items.removeClass("jp-hidden").fadeTo(0,1),this._holder.unbind("click.jPages").empty()}},e.fn[a]=function(t){var n=e.type(t);return"object"===n?(this.length&&!e.data(this,a)&&(s=new r(this,t),this.each(function(){e.data(this,a,s)})),this):"string"===n&&"destroy"===t?(s.destroy(),this.each(function(){e.removeData(this,a)}),this):"number"===n&&0===t%1?(s.validNewPage(t)&&s.paginate(t),this):this}}(jQuery,window,document),$(window).scroll(function(){var e=!1;e=void 0===Cibi.Auth.globalSetting.get("shrinkNavbar")?Cibi.Auth.globalSetting.get("collapseNavbar"):Cibi.Auth.globalSetting.get("shrinkNavbar"),e&&($("#verticals_nav").height(),$(document).scrollTop()>50?($("nav").addClass("shrink"),$(".brand-image").addClass("hidden"),$(".brand").css("height","28px"),$("#top-account-name").removeClass("hidden"),$("body").css("padding-top","30px"),$("#verticals_nav").css("height",$(window).height()-98+"px")):($("nav").removeClass("shrink"),$(".brand-image").removeClass("hidden"),$(".brand").css("height","50px"),$("#top-account-name").addClass("hidden"),$("body").css("padding-top","60px"),$("#verticals_nav").css("height",$(window).height()-128+"px")))}),function(e,t,n){var i=function(i){function r(e){var t,n,a={};i.each(e,function(i){(t=i.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(t[1]+" ")&&(n=i.replace(t[0],t[2].toLowerCase()),a[n]=i,"o"===t[1]&&r(e[i]))}),e._hungarianMap=a}function a(e,t,s){e._hungarianMap||r(e);var o;i.each(t,function(r){o=e._hungarianMap[r],o===n||!s&&t[o]!==n||("o"===o.charAt(0)?(t[o]||(t[o]={}),i.extend(!0,t[o],t[r]),a(e[o],t[o],s)):t[o]=t[r])})}function s(e){var t=Wt.defaults.oLanguage,n=e.sZeroRecords;!e.sEmptyTable&&n&&"No data available in table"===t.sEmptyTable&&Ot(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&n&&"Loading..."===t.sLoadingRecords&&Ot(e,e,"sZeroRecords","sLoadingRecords"),e.sInfoThousands&&(e.sThousands=e.sInfoThousands),(e=e.sDecimal)&&zt(e)}function o(e){if(fn(e,"ordering","bSort"),fn(e,"orderMulti","bSortMulti"),fn(e,"orderClasses","bSortClasses"),fn(e,"orderCellsTop","bSortCellsTop"),fn(e,"order","aaSorting"),fn(e,"orderFixed","aaSortingFixed"),fn(e,"paging","bPaginate"),fn(e,"pagingType","sPaginationType"),fn(e,"pageLength","iDisplayLength"),fn(e,"searching","bFilter"),e=e.aoSearchCols)for(var t=0,n=e.length;n>t;t++)e[t]&&a(Wt.models.oSearch,e[t])}function l(e){fn(e,"orderable","bSortable"),fn(e,"orderData","aDataSort"),fn(e,"orderSequence","asSorting"),fn(e,"orderDataType","sortDataType")}function c(e){var e=e.oBrowser,t=i("<div/>").css({position:"absolute",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(i("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(i('<div class="test"/>').css({width:"100%",height:10}))).appendTo("body"),n=t.find(".test");e.bScrollOversize=100===n[0].offsetWidth,e.bScrollbarLeft=1!==n.offset().left,t.remove()}function h(e,t,i,r,a,s){var o,l=!1;for(i!==n&&(o=i,l=!0);r!==a;)e.hasOwnProperty(r)&&(o=l?t(o,e[r],r,e):e[r],l=!0,r+=s);return o}function u(e,n){var r=Wt.defaults.column,a=e.aoColumns.length,r=i.extend({},Wt.models.oColumn,r,{nTh:n?n:t.createElement("th"),sTitle:r.sTitle?r.sTitle:n?n.innerHTML:"",aDataSort:r.aDataSort?r.aDataSort:[a],mData:r.mData?r.mData:a,idx:a});e.aoColumns.push(r),r=e.aoPreSearchCols,r[a]=i.extend({},Wt.models.oSearch,r[a]),d(e,a,null)}function d(e,t,r){var t=e.aoColumns[t],s=e.oClasses,o=i(t.nTh);if(!t.sWidthOrig){t.sWidthOrig=o.attr("width")||null;var c=(o.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);c&&(t.sWidthOrig=c[1])}r!==n&&null!==r&&(l(r),a(Wt.defaults.column,r),r.mDataProp!==n&&!r.mData&&(r.mData=r.mDataProp),r.sType&&(t._sManualType=r.sType),r.className&&!r.sClass&&(r.sClass=r.className),i.extend(t,r),Ot(t,r,"sWidth","sWidthOrig"),"number"==typeof r.iDataSort&&(t.aDataSort=[r.iDataSort]),Ot(t,r,"aDataSort"));var h=t.mData,u=D(h),d=t.mRender?D(t.mRender):null,r=function(e){return"string"==typeof e&&-1!==e.indexOf("@")};t._bAttrSrc=i.isPlainObject(h)&&(r(h.sort)||r(h.type)||r(h.filter)),t.fnGetData=function(e,t,i){var r=u(e,t,n,i);return d&&t?d(r,t,e,i):r},t.fnSetData=function(e,t,n){return S(h)(e,t,n)},"number"!=typeof h&&(e._rowReadObject=!0),e.oFeatures.bSort||(t.bSortable=!1,o.addClass(s.sSortableNone)),e=-1!==i.inArray("asc",t.asSorting),r=-1!==i.inArray("desc",t.asSorting),t.bSortable&&(e||r)?e&&!r?(t.sSortingClass=s.sSortableAsc,t.sSortingClassJUI=s.sSortJUIAscAllowed):!e&&r?(t.sSortingClass=s.sSortableDesc,t.sSortingClassJUI=s.sSortJUIDescAllowed):(t.sSortingClass=s.sSortable,t.sSortingClassJUI=s.sSortJUI):(t.sSortingClass=s.sSortableNone,t.sSortingClassJUI="")}function p(e){if(!1!==e.oFeatures.bAutoWidth){var t=e.aoColumns;mt(e);for(var n=0,i=t.length;i>n;n++)t[n].nTh.style.width=t[n].sWidth}t=e.oScroll,(""!==t.sY||""!==t.sX)&&ft(e),Lt(e,null,"column-sizing",[e])}function f(e,t){var n=v(e,"bVisible");return"number"==typeof n[t]?n[t]:null}function g(e,t){var n=v(e,"bVisible"),n=i.inArray(t,n);return-1!==n?n:null}function m(e){return v(e,"bVisible").length}function v(e,t){var n=[];return i.map(e.aoColumns,function(e,i){e[t]&&n.push(i)}),n}function b(e){var t,i,r,a,s,o,l,c,h,u=e.aoColumns,d=e.aoData,p=Wt.ext.type.detect;for(t=0,i=u.length;i>t;t++)if(l=u[t],h=[],!l.sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(r=0,a=p.length;a>r;r++){for(s=0,o=d.length;o>s&&(h[s]===n&&(h[s]=_(e,s,t,"type")),c=p[r](h[s],e),!(!c||"html"===c));s++);if(c){l.sType=c;break}}l.sType||(l.sType="string")}}function y(e,t,r,a){var s,o,l,c,h,d,p=e.aoColumns;if(t)for(s=t.length-1;s>=0;s--){d=t[s];var f=d.targets!==n?d.targets:d.aTargets;for(i.isArray(f)||(f=[f]),o=0,l=f.length;l>o;o++)if("number"==typeof f[o]&&0<=f[o]){for(;p.length<=f[o];)u(e);a(f[o],d)}else if("number"==typeof f[o]&&0>f[o])a(p.length+f[o],d);else if("string"==typeof f[o])for(c=0,h=p.length;h>c;c++)("_all"==f[o]||i(p[c].nTh).hasClass(f[o]))&&a(c,d)}if(r)for(s=0,e=r.length;e>s;s++)a(s,r[s])}function x(e,t,n,r){var a=e.aoData.length,s=i.extend(!0,{},Wt.models.oRow,{src:n?"dom":"data"});s._aData=t,e.aoData.push(s);for(var t=e.aoColumns,s=0,o=t.length;o>s;s++)n&&C(e,a,s,_(e,a,s)),t[s].sType=null;return e.aiDisplayMaster.push(a),(n||!e.oFeatures.bDeferRender)&&R(e,a,n,r),a}function w(e,t){var n;return t instanceof i||(t=i(t)),t.map(function(t,i){return n=A(e,i),x(e,n.data,i,n.cells)})}function _(e,t,i,r){var a=e.iDraw,s=e.aoColumns[i],o=e.aoData[t]._aData,l=s.sDefaultContent,i=s.fnGetData(o,r,{settings:e,row:t,col:i});if(i===n)return e.iDrawError!=a&&null===l&&(Pt(e,0,"Requested unknown parameter "+("function"==typeof s.mData?"{function}":"'"+s.mData+"'")+" for row "+t,4),e.iDrawError=a),l;if(i!==o&&null!==i||null===l){if("function"==typeof i)return i.call(o)}else i=l;return null===i&&"display"==r?"":i}function C(e,t,n,i){e.aoColumns[n].fnSetData(e.aoData[t]._aData,i,{settings:e,row:t,col:n})}function T(e){return i.map(e.match(/(\\.|[^\.])+/g),function(e){return e.replace(/\\./g,".")})}function D(e){if(i.isPlainObject(e)){var t={};return i.each(e,function(e,n){n&&(t[e]=D(n))}),function(e,i,r,a){var s=t[i]||t._;return s!==n?s(e,i,r,a):e}}if(null===e)return function(e){return e};if("function"==typeof e)return function(t,n,i,r){return e(t,n,i,r)};if("string"==typeof e&&(-1!==e.indexOf(".")||-1!==e.indexOf("[")||-1!==e.indexOf("("))){var r=function(e,t,i){var a,s;if(""!==i){s=T(i);for(var o=0,l=s.length;l>o;o++){if(i=s[o].match(gn),a=s[o].match(mn),i){for(s[o]=s[o].replace(gn,""),""!==s[o]&&(e=e[s[o]]),a=[],s.splice(0,o+1),s=s.join("."),o=0,l=e.length;l>o;o++)a.push(r(e[o],t,s));e=i[0].substring(1,i[0].length-1),e=""===e?a:a.join(e);break}if(a)s[o]=s[o].replace(mn,""),e=e[s[o]]();else{if(null===e||e[s[o]]===n)return n;e=e[s[o]]}}}return e};return function(t,n){return r(t,n,e)}}return function(t){return t[e]}}function S(e){if(i.isPlainObject(e))return S(e._);if(null===e)return function(){};if("function"==typeof e)return function(t,n,i){e(t,"set",n,i)};if("string"==typeof e&&(-1!==e.indexOf(".")||-1!==e.indexOf("[")||-1!==e.indexOf("("))){var t=function(e,i,r){var a,r=T(r);a=r[r.length-1];for(var s,o,l=0,c=r.length-1;c>l;l++){if(s=r[l].match(gn),o=r[l].match(mn),s){for(r[l]=r[l].replace(gn,""),e[r[l]]=[],a=r.slice(),a.splice(0,l+1),s=a.join("."),o=0,c=i.length;c>o;o++)a={},t(a,i[o],s),e[r[l]].push(a);return}o&&(r[l]=r[l].replace(mn,""),e=e[r[l]](i)),(null===e[r[l]]||e[r[l]]===n)&&(e[r[l]]={}),e=e[r[l]]}a.match(mn)?e[a.replace(mn,"")](i):e[a.replace(gn,"")]=i};return function(n,i){return t(n,i,e)}}return function(t,n){t[e]=n}}function E(e){return hn(e.aoData,"_aData")}function k(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0}function I(e,t,i){for(var r=-1,a=0,s=e.length;s>a;a++)e[a]==t?r=a:e[a]>t&&e[a]--;-1!=r&&i===n&&e.splice(r,1)}function N(e,t,i,r){var a,s=e.aoData[t];if("dom"!==i&&(i&&"auto"!==i||"dom"!==s.src)){var o,l=s.anCells;if(l)for(i=0,a=l.length;a>i;i++){for(o=l[i];o.childNodes.length;)o.removeChild(o.firstChild);l[i].innerHTML=_(e,t,i,"display")}}else s._aData=A(e,s).data;if(s._aSortData=null,s._aFilterData=null,e=e.aoColumns,r!==n)e[r].sType=null;else for(i=0,a=e.length;a>i;i++)e[i].sType=null;M(s)}function A(e,t){var n,r,a,s=[],o=t.firstChild,l=0,c=e.aoColumns,h=e._rowReadObject,u=h?{}:[],d=function(e,t){if("string"==typeof e){var n=e.indexOf("@");-1!==n&&(n=e.substring(n+1),S(e)(u,t.getAttribute(n)))}},p=function(e){r=c[l],a=i.trim(e.innerHTML),r&&r._bAttrSrc?(S(r.mData._)(u,a),d(r.mData.sort,e),d(r.mData.type,e),d(r.mData.filter,e)):h?(r._setter||(r._setter=S(r.mData)),r._setter(u,a)):u.push(a),l++};if(o)for(;o;)n=o.nodeName.toUpperCase(),("TD"==n||"TH"==n)&&(p(o),s.push(o)),o=o.nextSibling;else for(s=t.anCells,o=0,n=s.length;n>o;o++)p(s[o]);return{data:u,cells:s}}function R(e,n,i,r){var a,s,o,l,c,h=e.aoData[n],u=h._aData,d=[];if(null===h.nTr){for(a=i||t.createElement("tr"),h.nTr=a,h.anCells=d,a._DT_RowIndex=n,M(h),l=0,c=e.aoColumns.length;c>l;l++)o=e.aoColumns[l],s=i?r[l]:t.createElement(o.sCellType),d.push(s),(!i||o.mRender||o.mData!==l)&&(s.innerHTML=_(e,n,l,"display")),o.sClass&&(s.className+=" "+o.sClass),o.bVisible&&!i?a.appendChild(s):!o.bVisible&&i&&s.parentNode.removeChild(s),o.fnCreatedCell&&o.fnCreatedCell.call(e.oInstance,s,_(e,n,l),u,n,l);Lt(e,"aoRowCreatedCallback",null,[a,u,n])}h.nTr.setAttribute("role","row")}function M(e){var t=e.nTr,n=e._aData;if(t){if(n.DT_RowId&&(t.id=n.DT_RowId),n.DT_RowClass){var r=n.DT_RowClass.split(" ");e.__rowc=e.__rowc?pn(e.__rowc.concat(r)):r,i(t).removeClass(e.__rowc.join(" ")).addClass(n.DT_RowClass)}n.DT_RowData&&i(t).data(n.DT_RowData)}}function P(e){var t,n,r,a,s,o=e.nTHead,l=e.nTFoot,c=0===i("th, td",o).length,h=e.oClasses,u=e.aoColumns;for(c&&(a=i("<tr/>").appendTo(o)),t=0,n=u.length;n>t;t++)s=u[t],r=i(s.nTh).addClass(s.sClass),c&&r.appendTo(a),e.oFeatures.bSort&&(r.addClass(s.sSortingClass),!1!==s.bSortable&&(r.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId),kt(e,s.nTh,t))),s.sTitle!=r.html()&&r.html(s.sTitle),$t(e,"header")(e,r,s,h);if(c&&L(e.aoHeader,o),i(o).find(">tr").attr("role","row"),i(o).find(">tr>th, >tr>td").addClass(h.sHeaderTH),i(l).find(">tr>th, >tr>td").addClass(h.sFooterTH),null!==l)for(e=e.aoFooter[0],t=0,n=e.length;n>t;t++)s=u[t],s.nTf=e[t].cell,s.sClass&&i(s.nTf).addClass(s.sClass)}function O(e,t,r){var a,s,o,l,c=[],h=[],u=e.aoColumns.length;if(t){for(r===n&&(r=!1),a=0,s=t.length;s>a;a++){for(c[a]=t[a].slice(),c[a].nTr=t[a].nTr,o=u-1;o>=0;o--)!e.aoColumns[o].bVisible&&!r&&c[a].splice(o,1);h.push([])}for(a=0,s=c.length;s>a;a++){if(e=c[a].nTr)for(;o=e.firstChild;)e.removeChild(o);for(o=0,t=c[a].length;t>o;o++)if(l=u=1,h[a][o]===n){for(e.appendChild(c[a][o].cell),h[a][o]=1;c[a+u]!==n&&c[a][o].cell==c[a+u][o].cell;)h[a+u][o]=1,u++;for(;c[a][o+l]!==n&&c[a][o].cell==c[a][o+l].cell;){for(r=0;u>r;r++)h[a+r][o+l]=1;l++}i(c[a][o].cell).attr("rowspan",u).attr("colspan",l)}}}}function F(e){var t=Lt(e,"aoPreDrawCallback","preDraw",[e]);if(-1!==i.inArray(!1,t))dt(e,!1);else{var t=[],r=0,a=e.asStripeClasses,s=a.length,o=e.oLanguage,l=e.iInitDisplayStart,c="ssp"==Ht(e),h=e.aiDisplay;e.bDrawing=!0,l!==n&&-1!==l&&(e._iDisplayStart=c?l:l>=e.fnRecordsDisplay()?0:l,e.iInitDisplayStart=-1);var l=e._iDisplayStart,u=e.fnDisplayEnd();if(e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,dt(e,!1);else if(c){if(!e.bDestroying&&!H(e))return}else e.iDraw++;if(0!==h.length)for(o=c?e.aoData.length:u,c=c?0:l;o>c;c++){var d=h[c],p=e.aoData[d];if(null===p.nTr&&R(e,d),d=p.nTr,0!==s){var f=a[r%s];p._sRowStripe!=f&&(i(d).removeClass(p._sRowStripe).addClass(f),p._sRowStripe=f)}Lt(e,"aoRowCallback",null,[d,p._aData,r,c]),t.push(d),r++}else r=o.sZeroRecords,1==e.iDraw&&"ajax"==Ht(e)?r=o.sLoadingRecords:o.sEmptyTable&&0===e.fnRecordsTotal()&&(r=o.sEmptyTable),t[0]=i("<tr/>",{"class":s?a[0]:""}).append(i("<td />",{valign:"top",colSpan:m(e),"class":e.oClasses.sRowEmpty}).html(r))[0];Lt(e,"aoHeaderCallback","header",[i(e.nTHead).children("tr")[0],E(e),l,u,h]),Lt(e,"aoFooterCallback","footer",[i(e.nTFoot).children("tr")[0],E(e),l,u,h]),a=i(e.nTBody),a.children().detach(),a.append(i(t)),Lt(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}}function B(e,t){var n=e.oFeatures,i=n.bFilter;n.bSort&&Dt(e),i?q(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice(),!0!==t&&(e._iDisplayStart=0),e._drawHold=t,F(e),e._drawHold=!1}function j(e){var t=e.oClasses,n=i(e.nTable),n=i("<div/>").insertBefore(n),r=e.oFeatures,a=i("<div/>",{id:e.sTableId+"_wrapper","class":t.sWrapper+(e.nTFoot?"":" "+t.sNoFooter)});e.nHolding=n[0],e.nTableWrapper=a[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var s,o,l,c,h,u,d=e.sDom.split(""),p=0;p<d.length;p++){if(s=null,o=d[p],"<"==o){if(l=i("<div/>")[0],c=d[p+1],"'"==c||'"'==c){for(h="",u=2;d[p+u]!=c;)h+=d[p+u],u++;"H"==h?h=t.sJUIHeader:"F"==h&&(h=t.sJUIFooter),-1!=h.indexOf(".")?(c=h.split("."),l.id=c[0].substr(1,c[0].length-1),l.className=c[1]):"#"==h.charAt(0)?l.id=h.substr(1,h.length-1):l.className=h,p+=u}a.append(l),a=i(l)}else if(">"==o)a=a.parent();else if("l"==o&&r.bPaginate&&r.bLengthChange)s=lt(e);else if("f"==o&&r.bFilter)s=W(e);else if("r"==o&&r.bProcessing)s=ut(e);else if("t"==o)s=pt(e);else if("i"==o&&r.bInfo)s=nt(e);else if("p"==o&&r.bPaginate)s=ct(e);else if(0!==Wt.ext.feature.length)for(l=Wt.ext.feature,u=0,c=l.length;c>u;u++)if(o==l[u].cFeature){s=l[u].fnInit(e);break}s&&(l=e.aanFeatures,l[o]||(l[o]=[]),l[o].push(s),a.append(s))}n.replaceWith(a)}function L(e,t){var n,r,a,s,o,l,c,h,u,d,p=i(t).children("tr");for(e.splice(0,e.length),a=0,l=p.length;l>a;a++)e.push([]);for(a=0,l=p.length;l>a;a++)for(n=p[a],r=n.firstChild;r;){if("TD"==r.nodeName.toUpperCase()||"TH"==r.nodeName.toUpperCase()){for(h=1*r.getAttribute("colspan"),u=1*r.getAttribute("rowspan"),h=h&&0!==h&&1!==h?h:1,u=u&&0!==u&&1!==u?u:1,s=0,o=e[a];o[s];)s++;for(c=s,d=1===h?!0:!1,o=0;h>o;o++)for(s=0;u>s;s++)e[a+s][c+o]={cell:r,unique:d},e[a+s].nTr=n}r=r.nextSibling}}function V(e,t,n){var i=[];n||(n=e.aoHeader,t&&(n=[],L(n,t)));for(var t=0,r=n.length;r>t;t++)for(var a=0,s=n[t].length;s>a;a++)!n[t][a].unique||i[a]&&e.bSortCellsTop||(i[a]=n[t][a].cell);return i}function $(e,t,n){if(Lt(e,"aoServerParams","serverParams",[t]),t&&i.isArray(t)){var r={},a=/(.*?)\[\]$/;i.each(t,function(e,t){var n=t.name.match(a);n?(n=n[0],r[n]||(r[n]=[]),r[n].push(t.value)):r[t.name]=t.value}),t=r}var s,o=e.ajax,l=e.oInstance;if(i.isPlainObject(o)&&o.data){s=o.data;var c=i.isFunction(s)?s(t):s,t=i.isFunction(s)&&c?c:i.extend(!0,t,c);delete o.data}c={data:t,success:function(t){var i=t.error||t.sError;i&&e.oApi._fnLog(e,0,i),e.json=t,Lt(e,null,"xhr",[e,t]),n(t)},dataType:"json",cache:!1,type:e.sServerMethod,error:function(t,n){var i=e.oApi._fnLog;"parsererror"==n?i(e,0,"Invalid JSON response",1):4===t.readyState&&i(e,0,"Ajax error",7),dt(e,!1)}},e.oAjaxData=t,Lt(e,null,"preXhr",[e,t]),e.fnServerData?e.fnServerData.call(l,e.sAjaxSource,i.map(t,function(e,t){return{name:t,value:e}}),n,e):e.sAjaxSource||"string"==typeof o?e.jqXHR=i.ajax(i.extend(c,{url:o||e.sAjaxSource})):i.isFunction(o)?e.jqXHR=o.call(l,t,n,e):(e.jqXHR=i.ajax(i.extend(c,o)),o.data=s)}function H(e){return e.bAjaxDataGet?(e.iDraw++,dt(e,!0),$(e,G(e),function(t){z(e,t)}),!1):!0}function G(e){var t,n,r,a,s=e.aoColumns,o=s.length,l=e.oFeatures,c=e.oPreviousSearch,h=e.aoPreSearchCols,u=[],d=Tt(e);t=e._iDisplayStart,n=!1!==l.bPaginate?e._iDisplayLength:-1;var p=function(e,t){u.push({name:e,value:t})};p("sEcho",e.iDraw),p("iColumns",o),p("sColumns",hn(s,"sName").join(",")),p("iDisplayStart",t),p("iDisplayLength",n);var f={draw:e.iDraw,columns:[],order:[],start:t,length:n,search:{value:c.sSearch,regex:c.bRegex}};for(t=0;o>t;t++)r=s[t],a=h[t],n="function"==typeof r.mData?"function":r.mData,f.columns.push({data:n,name:r.sName,searchable:r.bSearchable,orderable:r.bSortable,search:{value:a.sSearch,regex:a.bRegex}}),p("mDataProp_"+t,n),l.bFilter&&(p("sSearch_"+t,a.sSearch),p("bRegex_"+t,a.bRegex),p("bSearchable_"+t,r.bSearchable)),l.bSort&&p("bSortable_"+t,r.bSortable);return l.bFilter&&(p("sSearch",c.sSearch),p("bRegex",c.bRegex)),l.bSort&&(i.each(d,function(e,t){f.order.push({column:t.col,dir:t.dir}),p("iSortCol_"+e,t.col),p("sSortDir_"+e,t.dir)}),p("iSortingCols",d.length)),s=Wt.ext.legacy.ajax,null===s?e.sAjaxSource?u:f:s?u:f}function z(e,t){var i=t.sEcho!==n?t.sEcho:t.draw,r=t.iTotalRecords!==n?t.iTotalRecords:t.recordsTotal,a=t.iTotalDisplayRecords!==n?t.iTotalDisplayRecords:t.recordsFiltered;if(i){if(1*i<e.iDraw)return;e.iDraw=1*i}for(k(e),e._iRecordsTotal=parseInt(r,10),e._iRecordsDisplay=parseInt(a,10),i=U(e,t),r=0,a=i.length;a>r;r++)x(e,i[r]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,F(e),e._bInitComplete||st(e,t),e.bAjaxDataGet=!0,dt(e,!1)}function U(e,t){var r=i.isPlainObject(e.ajax)&&e.ajax.dataSrc!==n?e.ajax.dataSrc:e.sAjaxDataProp;return"data"===r?t.aaData||t[r]:""!==r?D(r)(t):t}function W(e){var n=e.oClasses,r=e.sTableId,a=e.oLanguage,s=e.oPreviousSearch,o=e.aanFeatures,l='<input type="search" class="'+n.sFilterInput+'"/>',c=a.sSearch,c=c.match(/_INPUT_/)?c.replace("_INPUT_",l):c+l,n=i("<div/>",{id:o.f?null:r+"_filter","class":n.sFilter}).append(i("<label/>").append(c)),o=function(){var t=this.value?this.value:"";t!=s.sSearch&&(q(e,{sSearch:t,bRegex:s.bRegex,bSmart:s.bSmart,bCaseInsensitive:s.bCaseInsensitive}),e._iDisplayStart=0,F(e))},l=null!==e.searchDelay?e.searchDelay:"ssp"===Ht(e)?400:0,h=i("input",n).val(s.sSearch).attr("placeholder",a.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",l?vt(o,l):o).bind("keypress.DT",function(e){return 13==e.keyCode?!1:void 0}).attr("aria-controls",r);return i(e.nTable).on("search.dt.DT",function(n,i){if(e===i)try{h[0]!==t.activeElement&&h.val(s.sSearch)}catch(r){}}),n[0]}function q(e,t,i){var r=e.oPreviousSearch,a=e.aoPreSearchCols,s=function(e){r.sSearch=e.sSearch,r.bRegex=e.bRegex,r.bSmart=e.bSmart,r.bCaseInsensitive=e.bCaseInsensitive};if(b(e),"ssp"!=Ht(e)){for(X(e,t.sSearch,i,t.bEscapeRegex!==n?!t.bEscapeRegex:t.bRegex,t.bSmart,t.bCaseInsensitive),s(t),t=0;t<a.length;t++)K(e,a[t].sSearch,t,a[t].bEscapeRegex!==n?!a[t].bEscapeRegex:a[t].bRegex,a[t].bSmart,a[t].bCaseInsensitive);Y(e)}else s(t);e.bFiltered=!0,Lt(e,null,"search",[e])}function Y(e){for(var t,n,i=Wt.ext.search,r=e.aiDisplay,a=0,s=i.length;s>a;a++){for(var o=[],l=0,c=r.length;c>l;l++)n=r[l],t=e.aoData[n],i[a](e,t._aFilterData,n,t._aData,l)&&o.push(n);r.length=0,r.push.apply(r,o)}}function K(e,t,n,i,r,a){if(""!==t)for(var s=e.aiDisplay,i=Q(t,i,r,a),r=s.length-1;r>=0;r--)t=e.aoData[s[r]]._aFilterData[n],i.test(t)||s.splice(r,1)}function X(e,t,n,i,r,a){var s,i=Q(t,i,r,a),r=e.oPreviousSearch.sSearch,a=e.aiDisplayMaster;if(0!==Wt.ext.search.length&&(n=!0),s=Z(e),0>=t.length)e.aiDisplay=a.slice();
else for((s||n||r.length>t.length||0!==t.indexOf(r)||e.bSorted)&&(e.aiDisplay=a.slice()),t=e.aiDisplay,n=t.length-1;n>=0;n--)i.test(e.aoData[t[n]]._sFilterRow)||t.splice(n,1)}function Q(e,t,n,r){return e=t?e:J(e),n&&(e="^(?=.*?"+i.map(e.match(/"[^"]+"|[^ ]+/g)||"",function(e){if('"'===e.charAt(0))var t=e.match(/^"(.*)"$/),e=t?t[1]:e;return e.replace('"',"")}).join(")(?=.*?")+").*$"),RegExp(e,r?"i":"")}function J(e){return e.replace(nn,"\\$1")}function Z(e){var t,n,i,r,a,s,o,l,c=e.aoColumns,h=Wt.ext.type.search;for(t=!1,n=0,r=e.aoData.length;r>n;n++)if(l=e.aoData[n],!l._aFilterData){for(s=[],i=0,a=c.length;a>i;i++)t=c[i],t.bSearchable?(o=_(e,n,i,"filter"),h[t.sType]&&(o=h[t.sType](o)),null===o&&(o=""),"string"!=typeof o&&o.toString&&(o=o.toString())):o="",o.indexOf&&-1!==o.indexOf("&")&&(vn.innerHTML=o,o=bn?vn.textContent:vn.innerText),o.replace&&(o=o.replace(/[\r\n]/g,"")),s.push(o);l._aFilterData=s,l._sFilterRow=s.join("  "),t=!0}return t}function et(e){return{search:e.sSearch,smart:e.bSmart,regex:e.bRegex,caseInsensitive:e.bCaseInsensitive}}function tt(e){return{sSearch:e.search,bSmart:e.smart,bRegex:e.regex,bCaseInsensitive:e.caseInsensitive}}function nt(e){var t=e.sTableId,n=e.aanFeatures.i,r=i("<div/>",{"class":e.oClasses.sInfo,id:n?null:t+"_info"});return n||(e.aoDrawCallback.push({fn:it,sName:"information"}),r.attr("role","status").attr("aria-live","polite"),i(e.nTable).attr("aria-describedby",t+"_info")),r[0]}function it(e){var t=e.aanFeatures.i;if(0!==t.length){var n=e.oLanguage,r=e._iDisplayStart+1,a=e.fnDisplayEnd(),s=e.fnRecordsTotal(),o=e.fnRecordsDisplay(),l=o?n.sInfo:n.sInfoEmpty;o!==s&&(l+=" "+n.sInfoFiltered),l+=n.sInfoPostFix,l=rt(e,l),n=n.fnInfoCallback,null!==n&&(l=n.call(e.oInstance,e,r,a,s,o,l)),i(t).html(l)}}function rt(e,t){var n=e.fnFormatNumber,i=e._iDisplayStart+1,r=e._iDisplayLength,a=e.fnRecordsDisplay(),s=-1===r;return t.replace(/_START_/g,n.call(e,i)).replace(/_END_/g,n.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,n.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(e,a)).replace(/_PAGE_/g,n.call(e,s?1:Math.ceil(i/r))).replace(/_PAGES_/g,n.call(e,s?1:Math.ceil(a/r)))}function at(e){var t,n,i,r=e.iInitDisplayStart,a=e.aoColumns;if(n=e.oFeatures,e.bInitialised){for(j(e),P(e),O(e,e.aoHeader),O(e,e.aoFooter),dt(e,!0),n.bAutoWidth&&mt(e),t=0,n=a.length;n>t;t++)i=a[t],i.sWidth&&(i.nTh.style.width=_t(i.sWidth));B(e),a=Ht(e),"ssp"!=a&&("ajax"==a?$(e,[],function(n){var i=U(e,n);for(t=0;t<i.length;t++)x(e,i[t]);e.iInitDisplayStart=r,B(e),dt(e,!1),st(e,n)},e):(dt(e,!1),st(e)))}else setTimeout(function(){at(e)},200)}function st(e,t){e._bInitComplete=!0,t&&p(e),Lt(e,"aoInitComplete","init",[e,t])}function ot(e,t){var n=parseInt(t,10);e._iDisplayLength=n,Vt(e),Lt(e,null,"length",[e,n])}function lt(e){for(var t=e.oClasses,n=e.sTableId,r=e.aLengthMenu,a=i.isArray(r[0]),s=a?r[0]:r,r=a?r[1]:r,a=i("<select/>",{name:n+"_length","aria-controls":n,"class":t.sLengthSelect}),o=0,l=s.length;l>o;o++)a[0][o]=new Option(r[o],s[o]);var c=i("<div><label/></div>").addClass(t.sLength);return e.aanFeatures.l||(c[0].id=n+"_length"),c.children().append(e.oLanguage.sLengthMenu.replace("_MENU_",a[0].outerHTML)),i("select",c).val(e._iDisplayLength).bind("change.DT",function(){ot(e,i(this).val()),F(e)}),i(e.nTable).bind("length.dt.DT",function(t,n,r){e===n&&i("select",c).val(r)}),c[0]}function ct(e){var t=e.sPaginationType,n=Wt.ext.pager[t],r="function"==typeof n,a=function(e){F(e)},t=i("<div/>").addClass(e.oClasses.sPaging+t)[0],s=e.aanFeatures;return r||n.fnInit(e,t,a),s.p||(t.id=e.sTableId+"_paginate",e.aoDrawCallback.push({fn:function(e){if(r){var t,i=e._iDisplayStart,o=e._iDisplayLength,l=e.fnRecordsDisplay(),c=-1===o,i=c?0:Math.ceil(i/o),o=c?1:Math.ceil(l/o),l=n(i,o),c=0;for(t=s.p.length;t>c;c++)$t(e,"pageButton")(e,s.p[c],c,l,i,o)}else n.fnUpdate(e,a)},sName:"pagination"})),t}function ht(e,t,n){var i=e._iDisplayStart,r=e._iDisplayLength,a=e.fnRecordsDisplay();return 0===a||-1===r?i=0:"number"==typeof t?(i=t*r,i>a&&(i=0)):"first"==t?i=0:"previous"==t?(i=r>=0?i-r:0,0>i&&(i=0)):"next"==t?a>i+r&&(i+=r):"last"==t?i=Math.floor((a-1)/r)*r:Pt(e,0,"Unknown paging action: "+t,5),t=e._iDisplayStart!==i,e._iDisplayStart=i,t&&(Lt(e,null,"page",[e]),n&&F(e)),t}function ut(e){return i("<div/>",{id:e.aanFeatures.r?null:e.sTableId+"_processing","class":e.oClasses.sProcessing}).html(e.oLanguage.sProcessing).insertBefore(e.nTable)[0]}function dt(e,t){e.oFeatures.bProcessing&&i(e.aanFeatures.r).css("display",t?"block":"none"),Lt(e,null,"processing",[e,t])}function pt(e){var t=i(e.nTable);t.attr("role","grid");var n=e.oScroll;if(""===n.sX&&""===n.sY)return e.nTable;var r=n.sX,a=n.sY,s=e.oClasses,o=t.children("caption"),l=o.length?o[0]._captionSide:null,c=i(t[0].cloneNode(!1)),h=i(t[0].cloneNode(!1)),u=t.children("tfoot");n.sX&&"100%"===t.attr("width")&&t.removeAttr("width"),u.length||(u=null),n=i("<div/>",{"class":s.sScrollWrapper}).append(i("<div/>",{"class":s.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:r?r?_t(r):null:"100%"}).append(i("<div/>",{"class":s.sScrollHeadInner}).css({"box-sizing":"content-box",width:n.sXInner||"100%"}).append(c.removeAttr("id").css("margin-left",0).append(t.children("thead")))).append("top"===l?o:null)).append(i("<div/>",{"class":s.sScrollBody}).css({overflow:"auto",height:a?_t(a):null,width:r?_t(r):null}).append(t)),u&&n.append(i("<div/>",{"class":s.sScrollFoot}).css({overflow:"hidden",border:0,width:r?r?_t(r):null:"100%"}).append(i("<div/>",{"class":s.sScrollFootInner}).append(h.removeAttr("id").css("margin-left",0).append(t.children("tfoot")))).append("bottom"===l?o:null));var t=n.children(),d=t[0],s=t[1],p=u?t[2]:null;return r&&i(s).scroll(function(){var e=this.scrollLeft;d.scrollLeft=e,u&&(p.scrollLeft=e)}),e.nScrollHead=d,e.nScrollBody=s,e.nScrollFoot=p,e.aoDrawCallback.push({fn:ft,sName:"scrolling"}),n[0]}function ft(e){var t,n,r,a,s,o,l=e.oScroll,c=l.sX,h=l.sXInner,u=l.sY,d=l.iBarWidth,p=i(e.nScrollHead),g=p[0].style,m=p.children("div"),v=m[0].style,b=m.children("table"),m=e.nScrollBody,y=i(m),x=m.style,w=i(e.nScrollFoot).children("div"),_=w.children("table"),C=i(e.nTHead),T=i(e.nTable),D=T[0],S=D.style,E=e.nTFoot?i(e.nTFoot):null,k=e.oBrowser,I=k.bScrollOversize,N=[],A=[],R=[],M=function(e){e=e.style,e.paddingTop="0",e.paddingBottom="0",e.borderTopWidth="0",e.borderBottomWidth="0",e.height=0};T.children("thead, tfoot").remove(),s=C.clone().prependTo(T),t=C.find("tr"),r=s.find("tr"),s.find("th, td").removeAttr("tabindex"),E&&(a=E.clone().prependTo(T),n=E.find("tr"),a=a.find("tr")),c||(x.width="100%",p[0].style.width="100%"),i.each(V(e,s),function(t,n){o=f(e,t),n.style.width=e.aoColumns[o].sWidth}),E&&gt(function(e){e.style.width=""},a),l.bCollapse&&""!==u&&(x.height=y[0].offsetHeight+C[0].offsetHeight+"px"),p=T.outerWidth(),""===c?(S.width="100%",I&&(T.find("tbody").height()>m.offsetHeight||"scroll"==y.css("overflow-y"))&&(S.width=_t(T.outerWidth()-d))):""!==h?S.width=_t(h):p==y.width()&&y.height()<T.height()?(S.width=_t(p-d),T.outerWidth()>p-d&&(S.width=_t(p))):S.width=_t(p),p=T.outerWidth(),gt(M,r),gt(function(e){R.push(e.innerHTML),N.push(_t(i(e).css("width")))},r),gt(function(e,t){e.style.width=N[t]},t),i(r).height(0),E&&(gt(M,a),gt(function(e){A.push(_t(i(e).css("width")))},a),gt(function(e,t){e.style.width=A[t]},n),i(a).height(0)),gt(function(e,t){e.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+R[t]+"</div>",e.style.width=N[t]},r),E&&gt(function(e,t){e.innerHTML="",e.style.width=A[t]},a),T.outerWidth()<p?(n=m.scrollHeight>m.offsetHeight||"scroll"==y.css("overflow-y")?p+d:p,I&&(m.scrollHeight>m.offsetHeight||"scroll"==y.css("overflow-y"))&&(S.width=_t(n-d)),(""===c||""!==h)&&Pt(e,1,"Possible column misalignment",6)):n="100%",x.width=_t(n),g.width=_t(n),E&&(e.nScrollFoot.style.width=_t(n)),!u&&I&&(x.height=_t(D.offsetHeight+d)),u&&l.bCollapse&&(x.height=_t(u),l=c&&D.offsetWidth>m.offsetWidth?d:0,D.offsetHeight<m.offsetHeight&&(x.height=_t(D.offsetHeight+l))),l=T.outerWidth(),b[0].style.width=_t(l),v.width=_t(l),b=T.height()>m.clientHeight||"scroll"==y.css("overflow-y"),k="padding"+(k.bScrollbarLeft?"Left":"Right"),v[k]=b?d+"px":"0px",E&&(_[0].style.width=_t(l),w[0].style.width=_t(l),w[0].style[k]=b?d+"px":"0px"),y.scroll(),!e.bSorted&&!e.bFiltered||e._drawHold||(m.scrollTop=0)}function gt(e,t,n){for(var i,r,a=0,s=0,o=t.length;o>s;){for(i=t[s].firstChild,r=n?n[s].firstChild:null;i;)1===i.nodeType&&(n?e(i,r,a):e(i,a),a++),i=i.nextSibling,r=n?r.nextSibling:null;s++}}function mt(t){var n,r,a=t.nTable,s=t.aoColumns,o=t.oScroll,l=o.sY,c=o.sX,h=o.sXInner,u=s.length,o=v(t,"bVisible"),d=i("th",t.nTHead),f=a.getAttribute("width"),g=a.parentNode,b=!1;for(n=0;n<o.length;n++)r=s[o[n]],null!==r.sWidth&&(r.sWidth=bt(r.sWidthOrig,g),b=!0);if(b||c||l||u!=m(t)||u!=d.length){u=i(a).clone().empty().css("visibility","hidden").removeAttr("id").append(i(t.nTHead).clone(!1)).append(i(t.nTFoot).clone(!1)).append(i("<tbody><tr/></tbody>")),u.find("tfoot th, tfoot td").css("width","");var y=u.find("tbody tr"),d=V(t,u.find("thead")[0]);for(n=0;n<o.length;n++)r=s[o[n]],d[n].style.width=null!==r.sWidthOrig&&""!==r.sWidthOrig?_t(r.sWidthOrig):"";if(t.aoData.length)for(n=0;n<o.length;n++)b=o[n],r=s[b],i(xt(t,b)).clone(!1).append(r.sContentPadding).appendTo(y);if(u.appendTo(g),c&&h?u.width(h):c?(u.css("width","auto"),u.width()<g.offsetWidth&&u.width(g.offsetWidth)):l?u.width(g.offsetWidth):f&&u.width(f),yt(t,u[0]),c){for(n=h=0;n<o.length;n++)r=s[o[n]],l=i(d[n]).outerWidth(),h+=null===r.sWidthOrig?l:parseInt(r.sWidth,10)+l-i(d[n]).width();u.width(_t(h)),a.style.width=_t(h)}for(n=0;n<o.length;n++)r=s[o[n]],(l=i(d[n]).width())&&(r.sWidth=_t(l));a.style.width=_t(u.css("width")),u.remove()}else for(n=0;u>n;n++)s[n].sWidth=_t(d.eq(n).width());f&&(a.style.width=_t(f)),!f&&!c||t._reszEvt||(i(e).bind("resize.DT-"+t.sInstance,vt(function(){p(t)})),t._reszEvt=!0)}function vt(e,t){var i,r,a=t!==n?t:200;return function(){var t=this,s=+new Date,o=arguments;i&&i+a>s?(clearTimeout(r),r=setTimeout(function(){i=n,e.apply(t,o)},a)):i?(i=s,e.apply(t,o)):i=s}}function bt(e,n){if(!e)return 0;var r=i("<div/>").css("width",_t(e)).appendTo(n||t.body),a=r[0].offsetWidth;return r.remove(),a}function yt(e,t){var n=e.oScroll;(n.sX||n.sY)&&(n=n.sX?0:n.iBarWidth,t.style.width=_t(i(t).outerWidth()-n))}function xt(e,t){var n=wt(e,t);if(0>n)return null;var r=e.aoData[n];return r.nTr?r.anCells[t]:i("<td/>").html(_(e,n,t,"display"))[0]}function wt(e,t){for(var n,i=-1,r=-1,a=0,s=e.aoData.length;s>a;a++)n=_(e,a,t,"display")+"",n=n.replace(yn,""),n.length>i&&(i=n.length,r=a);return r}function _t(e){return null===e?"0px":"number"==typeof e?0>e?"0px":e+"px":e.match(/\d$/)?e+"px":e}function Ct(){if(!Wt.__scrollbarWidth){var e=i("<p/>").css({width:"100%",height:200,padding:0})[0],t=i("<div/>").css({position:"absolute",top:0,left:0,width:200,height:150,padding:0,overflow:"hidden",visibility:"hidden"}).append(e).appendTo("body"),n=e.offsetWidth;t.css("overflow","scroll"),e=e.offsetWidth,n===e&&(e=t[0].clientWidth),t.remove(),Wt.__scrollbarWidth=n-e}return Wt.__scrollbarWidth}function Tt(e){var t,r,a,s,o,l,c=[],h=e.aoColumns;t=e.aaSortingFixed,r=i.isPlainObject(t);var u=[];for(a=function(e){e.length&&!i.isArray(e[0])?u.push(e):u.push.apply(u,e)},i.isArray(t)&&a(t),r&&t.pre&&a(t.pre),a(e.aaSorting),r&&t.post&&a(t.post),e=0;e<u.length;e++)for(l=u[e][0],a=h[l].aDataSort,t=0,r=a.length;r>t;t++)s=a[t],o=h[s].sType||"string",u[e]._idx===n&&(u[e]._idx=i.inArray(u[e][1],h[s].asSorting)),c.push({src:l,col:s,dir:u[e][1],index:u[e]._idx,type:o,formatter:Wt.ext.type.order[o+"-pre"]});return c}function Dt(e){var t,n,i,r,a=[],s=Wt.ext.type.order,o=e.aoData,l=0,c=e.aiDisplayMaster;for(b(e),r=Tt(e),t=0,n=r.length;n>t;t++)i=r[t],i.formatter&&l++,Nt(e,i.col);if("ssp"!=Ht(e)&&0!==r.length){for(t=0,n=c.length;n>t;t++)a[c[t]]=t;l===r.length?c.sort(function(e,t){var n,i,s,l,c=r.length,h=o[e]._aSortData,u=o[t]._aSortData;for(s=0;c>s;s++)if(l=r[s],n=h[l.col],i=u[l.col],n=i>n?-1:n>i?1:0,0!==n)return"asc"===l.dir?n:-n;return n=a[e],i=a[t],i>n?-1:n>i?1:0}):c.sort(function(e,t){var n,i,l,c,h=r.length,u=o[e]._aSortData,d=o[t]._aSortData;for(l=0;h>l;l++)if(c=r[l],n=u[c.col],i=d[c.col],c=s[c.type+"-"+c.dir]||s["string-"+c.dir],n=c(n,i),0!==n)return n;return n=a[e],i=a[t],i>n?-1:n>i?1:0})}e.bSorted=!0}function St(e){for(var t,n,i=e.aoColumns,r=Tt(e),e=e.oLanguage.oAria,a=0,s=i.length;s>a;a++){n=i[a];var o=n.asSorting;t=n.sTitle.replace(/<.*?>/g,"");var l=n.nTh;l.removeAttribute("aria-sort"),n.bSortable&&(0<r.length&&r[0].col==a?(l.setAttribute("aria-sort","asc"==r[0].dir?"ascending":"descending"),n=o[r[0].index+1]||o[0]):n=o[0],t+="asc"===n?e.sSortAscending:e.sSortDescending),l.setAttribute("aria-label",t)}}function Et(e,t,r,a){var s=e.aaSorting,o=e.aoColumns[t].asSorting,l=function(e,t){var r=e._idx;return r===n&&(r=i.inArray(e[1],o)),r+1<o.length?r+1:t?null:0};"number"==typeof s[0]&&(s=e.aaSorting=[s]),r&&e.oFeatures.bSortMulti?(r=i.inArray(t,hn(s,"0")),-1!==r?(t=l(s[r],!0),null===t?s.splice(r,1):(s[r][1]=o[t],s[r]._idx=t)):(s.push([t,o[0],0]),s[s.length-1]._idx=0)):s.length&&s[0][0]==t?(t=l(s[0]),s.length=1,s[0][1]=o[t],s[0]._idx=t):(s.length=0,s.push([t,o[0]]),s[0]._idx=0),B(e),"function"==typeof a&&a(e)}function kt(e,t,n,i){var r=e.aoColumns[n];Bt(t,{},function(t){!1!==r.bSortable&&(e.oFeatures.bProcessing?(dt(e,!0),setTimeout(function(){Et(e,n,t.shiftKey,i),"ssp"!==Ht(e)&&dt(e,!1)},0)):Et(e,n,t.shiftKey,i))})}function It(e){var t,n,r=e.aLastSort,a=e.oClasses.sSortColumn,s=Tt(e),o=e.oFeatures;if(o.bSort&&o.bSortClasses){for(o=0,t=r.length;t>o;o++)n=r[o].src,i(hn(e.aoData,"anCells",n)).removeClass(a+(2>o?o+1:3));for(o=0,t=s.length;t>o;o++)n=s[o].src,i(hn(e.aoData,"anCells",n)).addClass(a+(2>o?o+1:3))}e.aLastSort=s}function Nt(e,t){var n,i=e.aoColumns[t],r=Wt.ext.order[i.sSortDataType];r&&(n=r.call(e.oInstance,e,t,g(e,t)));for(var a,s=Wt.ext.type.order[i.sType+"-pre"],o=0,l=e.aoData.length;l>o;o++)i=e.aoData[o],i._aSortData||(i._aSortData=[]),(!i._aSortData[t]||r)&&(a=r?n[o]:_(e,o,t,"sort"),i._aSortData[t]=s?s(a):a)}function At(e){if(e.oFeatures.bStateSave&&!e.bDestroying){var t={time:+new Date,start:e._iDisplayStart,length:e._iDisplayLength,order:i.extend(!0,[],e.aaSorting),search:et(e.oPreviousSearch),columns:i.map(e.aoColumns,function(t,n){return{visible:t.bVisible,search:et(e.aoPreSearchCols[n])}})};Lt(e,"aoStateSaveParams","stateSaveParams",[e,t]),e.oSavedState=t,e.fnStateSaveCallback.call(e.oInstance,e,t)}}function Rt(e){var t,n,r=e.aoColumns;if(e.oFeatures.bStateSave){var a=e.fnStateLoadCallback.call(e.oInstance,e);if(a&&a.time&&(t=Lt(e,"aoStateLoadParams","stateLoadParams",[e,a]),-1===i.inArray(!1,t)&&(t=e.iStateDuration,!(t>0&&a.time<+new Date-1e3*t)&&r.length===a.columns.length))){for(e.oLoadedState=i.extend(!0,{},a),e._iDisplayStart=a.start,e.iInitDisplayStart=a.start,e._iDisplayLength=a.length,e.aaSorting=[],i.each(a.order,function(t,n){e.aaSorting.push(n[0]>=r.length?[0,n[1]]:n)}),i.extend(e.oPreviousSearch,tt(a.search)),t=0,n=a.columns.length;n>t;t++){var s=a.columns[t];r[t].bVisible=s.visible,i.extend(e.aoPreSearchCols[t],tt(s.search))}Lt(e,"aoStateLoaded","stateLoaded",[e,a])}}}function Mt(e){var t=Wt.settings,e=i.inArray(e,hn(t,"nTable"));return-1!==e?t[e]:null}function Pt(t,n,i,r){if(i="DataTables warning: "+(null!==t?"table id="+t.sTableId+" - ":"")+i,r&&(i+=". For more information about this error, please see http://datatables.net/tn/"+r),n)e.console&&console.log&&console.log(i);else{if(t=Wt.ext,"alert"!=(t.sErrMode||t.errMode))throw Error(i);alert(i)}}function Ot(e,t,r,a){i.isArray(r)?i.each(r,function(n,r){i.isArray(r)?Ot(e,t,r[0],r[1]):Ot(e,t,r)}):(a===n&&(a=r),t[r]!==n&&(e[a]=t[r]))}function Ft(e,t,n){var r,a;for(a in t)t.hasOwnProperty(a)&&(r=t[a],i.isPlainObject(r)?(i.isPlainObject(e[a])||(e[a]={}),i.extend(!0,e[a],r)):e[a]=n&&"data"!==a&&"aaData"!==a&&i.isArray(r)?r.slice():r);return e}function Bt(e,t,n){i(e).bind("click.DT",t,function(t){e.blur(),n(t)}).bind("keypress.DT",t,function(e){13===e.which&&(e.preventDefault(),n(e))}).bind("selectstart.DT",function(){return!1})}function jt(e,t,n,i){n&&e[t].push({fn:n,sName:i})}function Lt(e,t,n,r){var a=[];return t&&(a=i.map(e[t].slice().reverse(),function(t){return t.fn.apply(e.oInstance,r)})),null!==n&&i(e.nTable).trigger(n+".dt",r),a}function Vt(e){var t=e._iDisplayStart,n=e.fnDisplayEnd(),i=e._iDisplayLength;t>=n&&(t=n-i),(-1===i||0>t)&&(t=0),e._iDisplayStart=t}function $t(e,t){var n=e.renderer,r=Wt.ext.renderer[t];return i.isPlainObject(n)&&n[t]?r[n[t]]||r._:"string"==typeof n?r[n]||r._:r._}function Ht(e){return e.oFeatures.bServerSide?"ssp":e.ajax||e.sAjaxSource?"ajax":"dom"}function Gt(e,t){var n=[],n=Fn.numbers_length,i=Math.floor(n/2);return n>=t?n=dn(0,t):i>=e?(n=dn(0,n-2),n.push("ellipsis"),n.push(t-1)):(e>=t-1-i?n=dn(t-(n-2),t):(n=dn(e-1,e+2),n.push("ellipsis"),n.push(t-1)),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}function zt(e){i.each({num:function(t){return Bn(t,e)},"num-fmt":function(t){return Bn(t,e,rn)},"html-num":function(t){return Bn(t,e,Zt)},"html-num-fmt":function(t){return Bn(t,e,Zt,rn)}},function(t,n){qt.type.order[t+e+"-pre"]=n})}function Ut(e){return function(){var t=[Mt(this[Wt.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Wt.ext.internal[e].apply(this,t)}}var Wt,qt,Yt,Kt,Xt,Qt={},Jt=/[\r\n]/g,Zt=/<.*?>/g,en=/^[\w\+\-]/,tn=/[\w\+\-]$/,nn=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),rn=/[',$\u00a3\u20ac\u00a5%\u2009\u202F]/g,an=function(e){return e&&!0!==e&&"-"!==e?!1:!0},sn=function(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null},on=function(e,t){return Qt[t]||(Qt[t]=RegExp(J(t),"g")),"string"==typeof e&&"."!==t?e.replace(/\./g,"").replace(Qt[t],"."):e},ln=function(e,t,n){var i="string"==typeof e;return t&&i&&(e=on(e,t)),n&&i&&(e=e.replace(rn,"")),an(e)||!isNaN(parseFloat(e))&&isFinite(e)},cn=function(e,t,n){return an(e)?!0:an(e)||"string"==typeof e?ln(e.replace(Zt,""),t,n)?!0:null:null},hn=function(e,t,i){var r=[],a=0,s=e.length;if(i!==n)for(;s>a;a++)e[a]&&e[a][t]&&r.push(e[a][t][i]);else for(;s>a;a++)e[a]&&r.push(e[a][t]);return r},un=function(e,t,i,r){var a=[],s=0,o=t.length;if(r!==n)for(;o>s;s++)a.push(e[t[s]][i][r]);else for(;o>s;s++)a.push(e[t[s]][i]);return a},dn=function(e,t){var i,r=[];t===n?(t=0,i=e):(i=t,t=e);for(var a=t;i>a;a++)r.push(a);return r},pn=function(e){var t,n,i,r=[],a=e.length,s=0;n=0;e:for(;a>n;n++){for(t=e[n],i=0;s>i;i++)if(r[i]===t)continue e;r.push(t),s++}return r},fn=function(e,t,i){e[t]!==n&&(e[i]=e[t])},gn=/\[.*?\]$/,mn=/\(\)$/,vn=i("<div>")[0],bn=vn.textContent!==n,yn=/<.*?>/g;Wt=function(e){this.$=function(e,t){return this.api(!0).$(e,t)},this._=function(e,t){return this.api(!0).rows(e,t).data()},this.api=function(e){return e?new Yt(Mt(this[qt.iApiIndex])):new Yt(this)},this.fnAddData=function(e,t){var r=this.api(!0),a=i.isArray(e)&&(i.isArray(e[0])||i.isPlainObject(e[0]))?r.rows.add(e):r.row.add(e);return(t===n||t)&&r.draw(),a.flatten().toArray()},this.fnAdjustColumnSizing=function(e){var t=this.api(!0).columns.adjust(),i=t.settings()[0],r=i.oScroll;e===n||e?t.draw(!1):(""!==r.sX||""!==r.sY)&&ft(i)},this.fnClearTable=function(e){var t=this.api(!0).clear();(e===n||e)&&t.draw()},this.fnClose=function(e){this.api(!0).row(e).child.hide()},this.fnDeleteRow=function(e,t,i){var r=this.api(!0),e=r.rows(e),a=e.settings()[0],s=a.aoData[e[0][0]];return e.remove(),t&&t.call(this,a,s),(i===n||i)&&r.draw(),s},this.fnDestroy=function(e){this.api(!0).destroy(e)},this.fnDraw=function(e){this.api(!0).draw(!e)},this.fnFilter=function(e,t,i,r,a,s){a=this.api(!0),null===t||t===n?a.search(e,i,r,s):a.column(t).search(e,i,r,s),a.draw()},this.fnGetData=function(e,t){var i=this.api(!0);if(e!==n){var r=e.nodeName?e.nodeName.toLowerCase():"";return t!==n||"td"==r||"th"==r?i.cell(e,t).data():i.row(e).data()||null}return i.data().toArray()},this.fnGetNodes=function(e){var t=this.api(!0);return e!==n?t.row(e).node():t.rows().nodes().flatten().toArray()},this.fnGetPosition=function(e){var t=this.api(!0),n=e.nodeName.toUpperCase();return"TR"==n?t.row(e).index():"TD"==n||"TH"==n?(e=t.cell(e).index(),[e.row,e.columnVisible,e.column]):null},this.fnIsOpen=function(e){return this.api(!0).row(e).child.isShown()},this.fnOpen=function(e,t,n){return this.api(!0).row(e).child(t,n).show().child()[0]},this.fnPageChange=function(e,t){var i=this.api(!0).page(e);(t===n||t)&&i.draw(!1)},this.fnSetColumnVis=function(e,t,i){e=this.api(!0).column(e).visible(t),(i===n||i)&&e.columns.adjust().draw()},this.fnSettings=function(){return Mt(this[qt.iApiIndex])},this.fnSort=function(e){this.api(!0).order(e).draw()},this.fnSortListener=function(e,t,n){this.api(!0).order.listener(e,t,n)},this.fnUpdate=function(e,t,i,r,a){var s=this.api(!0);return i===n||null===i?s.row(t).data(e):s.cell(t,i).data(e),(a===n||a)&&s.columns.adjust(),(r===n||r)&&s.draw(),0},this.fnVersionCheck=qt.fnVersionCheck;var t=this,r=e===n,h=this.length;r&&(e={}),this.oApi=this.internal=qt.internal;for(var p in Wt.ext.internal)p&&(this[p]=Ut(p));return this.each(function(){var p,f={},g=h>1?Ft(f,e,!0):e,m=0,v=this.getAttribute("id"),f=!1,b=Wt.defaults;if("table"!=this.nodeName.toLowerCase())Pt(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{o(b),l(b.column),a(b,b,!0),a(b.column,b.column,!0),a(b,g);var _=Wt.settings,m=0;for(p=_.length;p>m;m++){if(_[m].nTable==this){if(p=g.bRetrieve!==n?g.bRetrieve:b.bRetrieve,r||p)return _[m].oInstance;if(g.bDestroy!==n?g.bDestroy:b.bDestroy){_[m].oInstance.fnDestroy();break}return Pt(_[m],0,"Cannot reinitialise DataTable",3),void 0}if(_[m].sTableId==this.id){_.splice(m,1);break}}(null===v||""===v)&&(this.id=v="DataTables_Table_"+Wt.ext._unique++);var C=i.extend(!0,{},Wt.models.oSettings,{nTable:this,oApi:t.internal,oInit:g,sDestroyWidth:i(this)[0].style.width,sInstance:v,sTableId:v});_.push(C),C.oInstance=1===t.length?t:i(this).dataTable(),o(g),g.oLanguage&&s(g.oLanguage),g.aLengthMenu&&!g.iDisplayLength&&(g.iDisplayLength=i.isArray(g.aLengthMenu[0])?g.aLengthMenu[0][0]:g.aLengthMenu[0]),g=Ft(i.extend(!0,{},b),g),Ot(C.oFeatures,g,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" ")),Ot(C,g,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),Ot(C.oScroll,g,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Ot(C.oLanguage,g,"fnInfoCallback"),jt(C,"aoDrawCallback",g.fnDrawCallback,"user"),jt(C,"aoServerParams",g.fnServerParams,"user"),jt(C,"aoStateSaveParams",g.fnStateSaveParams,"user"),jt(C,"aoStateLoadParams",g.fnStateLoadParams,"user"),jt(C,"aoStateLoaded",g.fnStateLoaded,"user"),jt(C,"aoRowCallback",g.fnRowCallback,"user"),jt(C,"aoRowCreatedCallback",g.fnCreatedRow,"user"),jt(C,"aoHeaderCallback",g.fnHeaderCallback,"user"),jt(C,"aoFooterCallback",g.fnFooterCallback,"user"),jt(C,"aoInitComplete",g.fnInitComplete,"user"),jt(C,"aoPreDrawCallback",g.fnPreDrawCallback,"user"),v=C.oClasses,g.bJQueryUI?(i.extend(v,Wt.ext.oJUIClasses,g.oClasses),g.sDom===b.sDom&&"lfrtip"===b.sDom&&(C.sDom='<"H"lfr>t<"F"ip>'),C.renderer?i.isPlainObject(C.renderer)&&!C.renderer.header&&(C.renderer.header="jqueryui"):C.renderer="jqueryui"):i.extend(v,Wt.ext.classes,g.oClasses),i(this).addClass(v.sTable),(""!==C.oScroll.sX||""!==C.oScroll.sY)&&(C.oScroll.iBarWidth=Ct()),!0===C.oScroll.sX&&(C.oScroll.sX="100%"),C.iInitDisplayStart===n&&(C.iInitDisplayStart=g.iDisplayStart,C._iDisplayStart=g.iDisplayStart),null!==g.iDeferLoading&&(C.bDeferLoading=!0,m=i.isArray(g.iDeferLoading),C._iRecordsDisplay=m?g.iDeferLoading[0]:g.iDeferLoading,C._iRecordsTotal=m?g.iDeferLoading[1]:g.iDeferLoading),""!==g.oLanguage.sUrl?(C.oLanguage.sUrl=g.oLanguage.sUrl,i.getJSON(C.oLanguage.sUrl,null,function(e){s(e),a(b.oLanguage,e),i.extend(!0,C.oLanguage,g.oLanguage,e),at(C)}),f=!0):i.extend(!0,C.oLanguage,g.oLanguage),null===g.asStripeClasses&&(C.asStripeClasses=[v.sStripeOdd,v.sStripeEven]);var m=C.asStripeClasses,T=i("tbody tr:eq(0)",this);-1!==i.inArray(!0,i.map(m,function(e){return T.hasClass(e)}))&&(i("tbody tr",this).removeClass(m.join(" ")),C.asDestroyStripes=m.slice());var D,_=[],m=this.getElementsByTagName("thead");if(0!==m.length&&(L(C.aoHeader,m[0]),_=V(C)),null===g.aoColumns)for(D=[],m=0,p=_.length;p>m;m++)D.push(null);else D=g.aoColumns;for(m=0,p=D.length;p>m;m++)u(C,_?_[m]:null);if(y(C,g.aoColumnDefs,D,function(e,t){d(C,e,t)}),T.length){var S=function(e,t){return e.getAttribute("data-"+t)?t:null};i.each(A(C,T[0]).cells,function(e,t){var i=C.aoColumns[e];if(i.mData===e){var r=S(t,"sort")||S(t,"order"),a=S(t,"filter")||S(t,"search");(null!==r||null!==a)&&(i.mData={_:e+".display",sort:null!==r?e+".@data-"+r:n,type:null!==r?e+".@data-"+r:n,filter:null!==a?e+".@data-"+a:n},d(C,e))}})}var E=C.oFeatures;if(g.bStateSave&&(E.bStateSave=!0,Rt(C,g),jt(C,"aoDrawCallback",At,"state_save")),g.aaSorting===n)for(_=C.aaSorting,m=0,p=_.length;p>m;m++)_[m][1]=C.aoColumns[m].asSorting[0];if(It(C),E.bSort&&jt(C,"aoDrawCallback",function(){if(C.bSorted){var e=Tt(C),t={};i.each(e,function(e,n){t[n.src]=n.dir}),Lt(C,null,"order",[C,e,t]),St(C)}}),jt(C,"aoDrawCallback",function(){(C.bSorted||"ssp"===Ht(C)||E.bDeferRender)&&It(C)},"sc"),c(C),m=i(this).children("caption").each(function(){this._captionSide=i(this).css("caption-side")}),p=i(this).children("thead"),0===p.length&&(p=i("<thead/>").appendTo(this)),C.nTHead=p[0],p=i(this).children("tbody"),0===p.length&&(p=i("<tbody/>").appendTo(this)),C.nTBody=p[0],p=i(this).children("tfoot"),0===p.length&&0<m.length&&(""!==C.oScroll.sX||""!==C.oScroll.sY)&&(p=i("<tfoot/>").appendTo(this)),0===p.length||0===p.children().length?i(this).addClass(v.sNoFooter):0<p.length&&(C.nTFoot=p[0],L(C.aoFooter,C.nTFoot)),g.aaData)for(m=0;m<g.aaData.length;m++)x(C,g.aaData[m]);else(C.bDeferLoading||"dom"==Ht(C))&&w(C,i(C.nTBody).children("tr"));C.aiDisplay=C.aiDisplayMaster.slice(),C.bInitialised=!0,!1===f&&at(C)}}),t=null,this};var xn=[],wn=Array.prototype,_n=function(e){var t,n,r=Wt.settings,a=i.map(r,function(e){return e.nTable});return e?e.nTable&&e.oApi?[e]:e.nodeName&&"table"===e.nodeName.toLowerCase()?(t=i.inArray(e,a),-1!==t?[r[t]]:null):e&&"function"==typeof e.settings?e.settings().toArray():("string"==typeof e?n=i(e):e instanceof i&&(n=e),n?n.map(function(){return t=i.inArray(this,a),-1!==t?r[t]:null}).toArray():void 0):[]};Yt=function(e,t){if(!this instanceof Yt)throw"DT API must be constructed as a new object";var n=[],r=function(e){(e=_n(e))&&n.push.apply(n,e)};if(i.isArray(e))for(var a=0,s=e.length;s>a;a++)r(e[a]);else r(e);this.context=pn(n),t&&this.push.apply(this,t.toArray?t.toArray():t),this.selector={rows:null,cols:null,opts:null},Yt.extend(this,this,xn)},Wt.Api=Yt,Yt.prototype={concat:wn.concat,context:[],each:function(e){for(var t=0,n=this.length;n>t;t++)e.call(this,this[t],t,this);return this},eq:function(e){var t=this.context;return t.length>e?new Yt(t[e],this[e]):null},filter:function(e){var t=[];if(wn.filter)t=wn.filter.call(this,e,this);else for(var n=0,i=this.length;i>n;n++)e.call(this,this[n],n,this)&&t.push(this[n]);return new Yt(this.context,t)},flatten:function(){var e=[];return new Yt(this.context,e.concat.apply(e,this.toArray()))},join:wn.join,indexOf:wn.indexOf||function(e,t){for(var n=t||0,i=this.length;i>n;n++)if(this[n]===e)return n;return-1},iterator:function(e,t,i){var r,a,s,o,l,c,h,u=[],d=this.context,p=this.selector;for("string"==typeof e&&(i=t,t=e,e=!1),a=0,s=d.length;s>a;a++){var f=new Yt(d[a]);if("table"===t)r=i.call(f,d[a],a),r!==n&&u.push(r);else if("columns"===t||"rows"===t)r=i.call(f,d[a],this[a],a),r!==n&&u.push(r);else if("column"===t||"column-rows"===t||"row"===t||"cell"===t)for(h=this[a],"column-rows"===t&&(c=En(d[a],p.opts)),o=0,l=h.length;l>o;o++)r=h[o],r="cell"===t?i.call(f,d[a],r.row,r.column,a,o):i.call(f,d[a],r,a,o,c),r!==n&&u.push(r)}return u.length?(e=new Yt(d,e?u.concat.apply([],u):u),t=e.selector,t.rows=p.rows,t.cols=p.cols,t.opts=p.opts,e):this},lastIndexOf:wn.lastIndexOf||function(){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(wn.map)t=wn.map.call(this,e,this);else for(var n=0,i=this.length;i>n;n++)t.push(e.call(this,this[n],n));return new Yt(this.context,t)},pluck:function(e){return this.map(function(t){return t[e]})},pop:wn.pop,push:wn.push,reduce:wn.reduce||function(e,t){return h(this,e,t,0,this.length,1)},reduceRight:wn.reduceRight||function(e,t){return h(this,e,t,this.length-1,-1,-1)},reverse:wn.reverse,selector:null,shift:wn.shift,sort:wn.sort,splice:wn.splice,toArray:function(){return wn.slice.call(this)},to$:function(){return i(this)},toJQuery:function(){return i(this)},unique:function(){return new Yt(this.context,pn(this))},unshift:wn.unshift},Yt.extend=function(e,t,n){if(t&&(t instanceof Yt||t.__dt_wrapper)){var r,a,s,o=function(e,t,n){return function(){var i=t.apply(e,arguments);return Yt.extend(i,i,n.methodExt),i}};for(r=0,a=n.length;a>r;r++)s=n[r],t[s.name]="function"==typeof s.val?o(e,s.val,s):i.isPlainObject(s.val)?{}:s.val,t[s.name].__dt_wrapper=!0,Yt.extend(e,t[s.name],s.propExt)}},Yt.register=Kt=function(e,t){if(i.isArray(e))for(var n=0,r=e.length;r>n;n++)Yt.register(e[n],t);else for(var a,s,o=e.split("."),l=xn,n=0,r=o.length;r>n;n++){a=(s=-1!==o[n].indexOf("()"))?o[n].replace("()",""):o[n];var c;e:{c=0;for(var h=l.length;h>c;c++)if(l[c].name===a){c=l[c];break e}c=null}c||(c={name:a,val:{},methodExt:[],propExt:[]},l.push(c)),n===r-1?c.val=t:l=s?c.methodExt:c.propExt}},Yt.registerPlural=Xt=function(e,t,r){Yt.register(e,r),Yt.register(t,function(){var e=r.apply(this,arguments);return e===this?this:e instanceof Yt?e.length?i.isArray(e[0])?new Yt(e.context,e[0]):e[0]:n:e})},Kt("tables()",function(e){var t;if(e){t=Yt;var n=this.context;if("number"==typeof e)e=[n[e]];else var r=i.map(n,function(e){return e.nTable}),e=i(r).filter(e).map(function(){var e=i.inArray(this,r);return n[e]}).toArray();t=new t(e)}else t=this;return t}),Kt("table()",function(e){var e=this.tables(e),t=e.context;return t.length?new Yt(t[0]):e}),Xt("tables().nodes()","table().node()",function(){return this.iterator("table",function(e){return e.nTable})}),Xt("tables().body()","table().body()",function(){return this.iterator("table",function(e){return e.nTBody})}),Xt("tables().header()","table().header()",function(){return this.iterator("table",function(e){return e.nTHead})}),Xt("tables().footer()","table().footer()",function(){return this.iterator("table",function(e){return e.nTFoot})}),Xt("tables().containers()","table().container()",function(){return this.iterator("table",function(e){return e.nTableWrapper})}),Kt("draw()",function(e){return this.iterator("table",function(t){B(t,!1===e)})}),Kt("page()",function(e){return e===n?this.page.info().page:this.iterator("table",function(t){ht(t,e)})}),Kt("page.info()",function(){if(0===this.context.length)return n;var e=this.context[0],t=e._iDisplayStart,i=e._iDisplayLength,r=e.fnRecordsDisplay(),a=-1===i;return{page:a?0:Math.floor(t/i),pages:a?1:Math.ceil(r/i),start:t,end:e.fnDisplayEnd(),length:i,recordsTotal:e.fnRecordsTotal(),recordsDisplay:r}}),Kt("page.len()",function(e){return e===n?0!==this.context.length?this.context[0]._iDisplayLength:n:this.iterator("table",function(t){ot(t,e)})});var Cn=function(e,t,n){if("ssp"==Ht(e)?B(e,t):(dt(e,!0),$(e,[],function(n){k(e);for(var n=U(e,n),i=0,r=n.length;r>i;i++)x(e,n[i]);B(e,t),dt(e,!1)})),n){var i=new Yt(e);i.one("draw",function(){n(i.ajax.json())})}};Kt("ajax.json()",function(){var e=this.context;return 0<e.length?e[0].json:void 0}),Kt("ajax.params()",function(){var e=this.context;return 0<e.length?e[0].oAjaxData:void 0}),Kt("ajax.reload()",function(e,t){return this.iterator("table",function(n){Cn(n,!1===t,e)})}),Kt("ajax.url()",function(e){var t=this.context;return e===n?0===t.length?n:(t=t[0],t.ajax?i.isPlainObject(t.ajax)?t.ajax.url:t.ajax:t.sAjaxSource):this.iterator("table",function(t){i.isPlainObject(t.ajax)?t.ajax.url=e:t.ajax=e})}),Kt("ajax.url().load()",function(e,t){return this.iterator("table",function(n){Cn(n,!1===t,e)})});var Tn=function(e,t){var r,a,s,o,l,c,h=[];for(r=typeof e,e&&"string"!==r&&"function"!==r&&e.length!==n||(e=[e]),s=0,o=e.length;o>s;s++)for(a=e[s]&&e[s].split?e[s].split(","):[e[s]],l=0,c=a.length;c>l;l++)(r=t("string"==typeof a[l]?i.trim(a[l]):a[l]))&&r.length&&h.push.apply(h,r);return h},Dn=function(e){return e||(e={}),e.filter&&!e.search&&(e.search=e.filter),{search:e.search||"none",order:e.order||"current",page:e.page||"all"}
},Sn=function(e){for(var t=0,n=e.length;n>t;t++)if(0<e[t].length)return e[0]=e[t],e.length=1,e.context=[e.context[t]],e;return e.length=0,e},En=function(e,t){var n,r,a,s=[],o=e.aiDisplay;n=e.aiDisplayMaster;var l=t.search;if(r=t.order,a=t.page,"ssp"==Ht(e))return"removed"===l?[]:dn(0,n.length);if("current"==a)for(n=e._iDisplayStart,r=e.fnDisplayEnd();r>n;n++)s.push(o[n]);else if("current"==r||"applied"==r)s="none"==l?n.slice():"applied"==l?o.slice():i.map(n,function(e){return-1===i.inArray(e,o)?e:null});else if("index"==r||"original"==r)for(n=0,r=e.aoData.length;r>n;n++)"none"==l?s.push(n):(a=i.inArray(n,o),(-1===a&&"removed"==l||a>=0&&"applied"==l)&&s.push(n));return s};Kt("rows()",function(e,t){e===n?e="":i.isPlainObject(e)&&(t=e,e="");var t=Dn(t),r=this.iterator("table",function(n){var r=t;return Tn(e,function(e){var t=sn(e);if(null!==t&&!r)return[t];var a=En(n,r);return null!==t&&-1!==i.inArray(t,a)?[t]:e?(t=un(n.aoData,a,"nTr"),"function"==typeof e?i.map(a,function(t){var i=n.aoData[t];return e(t,i._aData,i.nTr)?t:null}):e.nodeName&&-1!==i.inArray(e,t)?[e._DT_RowIndex]:i(t).filter(e).map(function(){return this._DT_RowIndex}).toArray()):a})});return r.selector.rows=e,r.selector.opts=t,r}),Kt("rows().nodes()",function(){return this.iterator("row",function(e,t){return e.aoData[t].nTr||n})}),Kt("rows().data()",function(){return this.iterator(!0,"rows",function(e,t){return un(e.aoData,t,"_aData")})}),Xt("rows().cache()","row().cache()",function(e){return this.iterator("row",function(t,n){var i=t.aoData[n];return"search"===e?i._aFilterData:i._aSortData})}),Xt("rows().invalidate()","row().invalidate()",function(e){return this.iterator("row",function(t,n){N(t,n,e)})}),Xt("rows().indexes()","row().index()",function(){return this.iterator("row",function(e,t){return t})}),Xt("rows().remove()","row().remove()",function(){var e=this;return this.iterator("row",function(t,n,r){var a=t.aoData;a.splice(n,1);for(var s=0,o=a.length;o>s;s++)null!==a[s].nTr&&(a[s].nTr._DT_RowIndex=s);i.inArray(n,t.aiDisplay),I(t.aiDisplayMaster,n),I(t.aiDisplay,n),I(e[r],n,!1),Vt(t)})}),Kt("rows.add()",function(e){var t=this.iterator("table",function(t){var n,i,r,a=[];for(i=0,r=e.length;r>i;i++)n=e[i],n.nodeName&&"TR"===n.nodeName.toUpperCase()?a.push(w(t,n)[0]):a.push(x(t,n));return a}),n=this.rows(-1);return n.pop(),n.push.apply(n,t.toArray()),n}),Kt("row()",function(e,t){return Sn(this.rows(e,t))}),Kt("row().data()",function(e){var t=this.context;return e===n?t.length&&this.length?t[0].aoData[this[0]]._aData:n:(t[0].aoData[this[0]]._aData=e,N(t[0],this[0],"data"),this)}),Kt("row().node()",function(){var e=this.context;return e.length&&this.length?e[0].aoData[this[0]].nTr||null:null}),Kt("row.add()",function(e){e instanceof i&&e.length&&(e=e[0]);var t=this.iterator("table",function(t){return e.nodeName&&"TR"===e.nodeName.toUpperCase()?w(t,e)[0]:x(t,e)});return this.row(t[0])});var kn=function(e,t){var i=e.context;i.length&&(i=i[0].aoData[t!==n?t:e[0]],i._details&&(i._details.remove(),i._detailsShow=n,i._details=n))},In=function(e,t){var n=e.context;if(n.length&&e.length){var i=n[0].aoData[e[0]];if(i._details){(i._detailsShow=t)?i._details.insertAfter(i.nTr):i._details.detach();var r=n[0],a=new Yt(r),s=r.aoData;a.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"),0<hn(s,"_details").length&&(a.on("draw.dt.DT_details",function(e,t){r===t&&a.rows({page:"current"}).eq(0).each(function(e){e=s[e],e._detailsShow&&e._details.insertAfter(e.nTr)})}),a.on("column-visibility.dt.DT_details",function(e,t){if(r===t)for(var n,i=m(t),a=0,o=s.length;o>a;a++)n=s[a],n._details&&n._details.children("td[colspan]").attr("colspan",i)}),a.on("destroy.dt.DT_details",function(e,t){if(r===t)for(var n=0,i=s.length;i>n;n++)s[n]._details&&kn(a,n)}))}}};Kt("row().child()",function(e,t){var r=this.context;if(e===n)return r.length&&this.length?r[0].aoData[this[0]]._details:n;if(!0===e)this.child.show();else if(!1===e)kn(this);else if(r.length&&this.length){var a=r[0],r=r[0].aoData[this[0]],s=[],o=function(e,t){if(e.nodeName&&"tr"===e.nodeName.toLowerCase())s.push(e);else{var n=i("<tr><td/></tr>").addClass(t);i("td",n).addClass(t).html(e)[0].colSpan=m(a),s.push(n[0])}};if(i.isArray(e)||e instanceof i)for(var l=0,c=e.length;c>l;l++)o(e[l],t);else o(e,t);r._details&&r._details.remove(),r._details=i(s),r._detailsShow&&r._details.insertAfter(r.nTr)}return this}),Kt(["row().child.show()","row().child().show()"],function(){return In(this,!0),this}),Kt(["row().child.hide()","row().child().hide()"],function(){return In(this,!1),this}),Kt(["row().child.remove()","row().child().remove()"],function(){return kn(this),this}),Kt("row().child.isShown()",function(){var e=this.context;return e.length&&this.length?e[0].aoData[this[0]]._detailsShow||!1:!1});var Nn=/^(.+):(name|visIdx|visible)$/,An=function(e,t,n,i,r){for(var n=[],i=0,a=r.length;a>i;i++)n.push(_(e,r[i],t));return n};Kt("columns()",function(e,t){e===n?e="":i.isPlainObject(e)&&(t=e,e="");var t=Dn(t),r=this.iterator("table",function(n){var r=e,a=t,s=n.aoColumns,o=hn(s,"sName"),l=hn(s,"nTh");return Tn(r,function(e){var t=sn(e);if(""===e)return dn(s.length);if(null!==t)return[t>=0?t:s.length+t];if("function"==typeof e){var r=En(n,a);return i.map(s,function(t,i){return e(i,An(n,i,0,0,r),l[i])?i:null})}var c="string"==typeof e?e.match(Nn):"";if(!c)return i(l).filter(e).map(function(){return i.inArray(this,l)}).toArray();switch(c[2]){case"visIdx":case"visible":if(t=parseInt(c[1],10),0>t){var h=i.map(s,function(e,t){return e.bVisible?t:null});return[h[h.length+t]]}return[f(n,t)];case"name":return i.map(o,function(e,t){return e===c[1]?t:null})}})});return r.selector.cols=e,r.selector.opts=t,r}),Xt("columns().header()","column().header()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].nTh})}),Xt("columns().footer()","column().footer()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].nTf})}),Xt("columns().data()","column().data()",function(){return this.iterator("column-rows",An)}),Xt("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].mData})}),Xt("columns().cache()","column().cache()",function(e){return this.iterator("column-rows",function(t,n,i,r,a){return un(t.aoData,a,"search"===e?"_aFilterData":"_aSortData",n)})}),Xt("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(e,t,n,i,r){return un(e.aoData,r,"anCells",t)})}),Xt("columns().visible()","column().visible()",function(e,t){return this.iterator("column",function(r,a){var s;if(e===n)s=r.aoColumns[a].bVisible;else{var o=r.aoColumns;s=o[a];var l,c,h,u=r.aoData;if(e===n)s=s.bVisible;else{if(s.bVisible!==e){if(e){var d=i.inArray(!0,hn(o,"bVisible"),a+1);for(l=0,c=u.length;c>l;l++)h=u[l].nTr,o=u[l].anCells,h&&h.insertBefore(o[a],o[d]||null)}else i(hn(r.aoData,"anCells",a)).detach();s.bVisible=e,O(r,r.aoHeader),O(r,r.aoFooter),(t===n||t)&&(p(r),(r.oScroll.sX||r.oScroll.sY)&&ft(r)),Lt(r,null,"column-visibility",[r,a,e]),At(r)}s=void 0}}return s})}),Xt("columns().indexes()","column().index()",function(e){return this.iterator("column",function(t,n){return"visible"===e?g(t,n):n})}),Kt("columns.adjust()",function(){return this.iterator("table",function(e){p(e)})}),Kt("column.index()",function(e,t){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===e||"toData"===e)return f(n,t);if("fromData"===e||"toVisible"===e)return g(n,t)}}),Kt("column()",function(e,t){return Sn(this.columns(e,t))}),Kt("cells()",function(e,t,r){if(i.isPlainObject(e)&&(typeof e.row!==n?(r=t,t=null):(r=e,e=null)),i.isPlainObject(t)&&(r=t,t=null),null===t||t===n)return this.iterator("table",function(t){var a,s,o,l,c,h,u,d=e,p=Dn(r),f=t.aoData,g=En(t,p),p=un(f,g,"anCells"),m=i([].concat.apply([],p)),v=t.aoColumns.length;return Tn(d,function(e){var r="function"==typeof e;if(null===e||e===n||r){for(s=[],o=0,l=g.length;l>o;o++)for(a=g[o],c=0;v>c;c++)h={row:a,column:c},r?(u=t.aoData[a],e(h,_(t,a,c),u.anCells[c])&&s.push(h)):s.push(h);return s}return i.isPlainObject(e)?[e]:m.filter(e).map(function(e,t){return a=t.parentNode._DT_RowIndex,{row:a,column:i.inArray(t,f[a].anCells)}}).toArray()})});var a,s,o,l,c,h=this.columns(t,r),u=this.rows(e,r),d=this.iterator("table",function(e,t){for(a=[],s=0,o=u[t].length;o>s;s++)for(l=0,c=h[t].length;c>l;l++)a.push({row:u[t][s],column:h[t][l]});return a});return i.extend(d.selector,{cols:t,rows:e,opts:r}),d}),Xt("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(e,t,n){return e.aoData[t].anCells[n]})}),Kt("cells().data()",function(){return this.iterator("cell",function(e,t,n){return _(e,t,n)})}),Xt("cells().cache()","cell().cache()",function(e){return e="search"===e?"_aFilterData":"_aSortData",this.iterator("cell",function(t,n,i){return t.aoData[n][e][i]})}),Xt("cells().render()","cell().render()",function(e){return this.iterator("cell",function(t,n,i){return _(t,n,i,e)})}),Xt("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(e,t,n){return{row:t,column:n,columnVisible:g(e,n)}})}),Kt(["cells().invalidate()","cell().invalidate()"],function(e){var t=this.selector;return this.rows(t.rows,t.opts).invalidate(e),this}),Kt("cell()",function(e,t,n){return Sn(this.cells(e,t,n))}),Kt("cell().data()",function(e){var t=this.context,i=this[0];return e===n?t.length&&i.length?_(t[0],i[0].row,i[0].column):n:(C(t[0],i[0].row,i[0].column,e),N(t[0],i[0].row,"data",i[0].column),this)}),Kt("order()",function(e,t){var r=this.context;return e===n?0!==r.length?r[0].aaSorting:n:("number"==typeof e?e=[[e,t]]:i.isArray(e[0])||(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=e.slice()}))}),Kt("order.listener()",function(e,t,n){return this.iterator("table",function(i){kt(i,e,t,n)})}),Kt(["columns().order()","column().order()"],function(e){var t=this;return this.iterator("table",function(n,r){var a=[];i.each(t[r],function(t,n){a.push([n,e])}),n.aaSorting=a})}),Kt("search()",function(e,t,r,a){var s=this.context;return e===n?0!==s.length?s[0].oPreviousSearch.sSearch:n:this.iterator("table",function(n){n.oFeatures.bFilter&&q(n,i.extend({},n.oPreviousSearch,{sSearch:e+"",bRegex:null===t?!1:t,bSmart:null===r?!0:r,bCaseInsensitive:null===a?!0:a}),1)})}),Xt("columns().search()","column().search()",function(e,t,r,a){return this.iterator("column",function(s,o){var l=s.aoPreSearchCols;return e===n?l[o].sSearch:(s.oFeatures.bFilter&&(i.extend(l[o],{sSearch:e+"",bRegex:null===t?!1:t,bSmart:null===r?!0:r,bCaseInsensitive:null===a?!0:a}),q(s,s.oPreviousSearch,1)),void 0)})}),Kt("state()",function(){return this.context.length?this.context[0].oSavedState:null}),Kt("state.clear()",function(){return this.iterator("table",function(e){e.fnStateSaveCallback.call(e.oInstance,e,{})})}),Kt("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),Kt("state.save()",function(){return this.iterator("table",function(e){At(e)})}),Wt.versionCheck=Wt.fnVersionCheck=function(e){for(var t,n,i=Wt.version.split("."),e=e.split("."),r=0,a=e.length;a>r;r++)if(t=parseInt(i[r],10)||0,n=parseInt(e[r],10)||0,t!==n)return t>n;return!0},Wt.isDataTable=Wt.fnIsDataTable=function(e){var t=i(e).get(0),n=!1;return i.each(Wt.settings,function(e,i){(i.nTable===t||i.nScrollHead===t||i.nScrollFoot===t)&&(n=!0)}),n},Wt.tables=Wt.fnTables=function(e){return jQuery.map(Wt.settings,function(t){return!e||e&&i(t.nTable).is(":visible")?t.nTable:void 0})},Wt.util={throttle:vt},Wt.camelToHungarian=a,Kt("$()",function(e,t){var n=this.rows(t).nodes(),n=i(n);return i([].concat(n.filter(e).toArray(),n.find(e).toArray()))}),i.each(["on","one","off"],function(e,t){Kt(t+"()",function(){var e=Array.prototype.slice.call(arguments);e[0].match(/\.dt\b/)||(e[0]+=".dt");var n=i(this.tables().nodes());return n[t].apply(n,e),this})}),Kt("clear()",function(){return this.iterator("table",function(e){k(e)})}),Kt("settings()",function(){return new Yt(this.context,this.context)}),Kt("data()",function(){return this.iterator("table",function(e){return hn(e.aoData,"_aData")}).flatten()}),Kt("destroy()",function(t){return t=t||!1,this.iterator("table",function(n){var r,a=n.nTableWrapper.parentNode,s=n.oClasses,o=n.nTable,l=n.nTBody,c=n.nTHead,h=n.nTFoot,u=i(o),l=i(l),d=i(n.nTableWrapper),p=i.map(n.aoData,function(e){return e.nTr});n.bDestroying=!0,Lt(n,"aoDestroyCallback","destroy",[n]),t||new Yt(n).columns().visible(!0),d.unbind(".DT").find(":not(tbody *)").unbind(".DT"),i(e).unbind(".DT-"+n.sInstance),o!=c.parentNode&&(u.children("thead").detach(),u.append(c)),h&&o!=h.parentNode&&(u.children("tfoot").detach(),u.append(h)),u.detach(),d.detach(),n.aaSorting=[],n.aaSortingFixed=[],It(n),i(p).removeClass(n.asStripeClasses.join(" ")),i("th, td",c).removeClass(s.sSortable+" "+s.sSortableAsc+" "+s.sSortableDesc+" "+s.sSortableNone),n.bJUI&&(i("th span."+s.sSortIcon+", td span."+s.sSortIcon,c).detach(),i("th, td",c).each(function(){var e=i("div."+s.sSortJUIWrapper,this);i(this).append(e.contents()),e.detach()})),!t&&a&&a.insertBefore(o,n.nTableReinsertBefore),l.children().detach(),l.append(p),u.css("width",n.sDestroyWidth).removeClass(s.sTable),(r=n.asDestroyStripes.length)&&l.children().each(function(e){i(this).addClass(n.asDestroyStripes[e%r])}),a=i.inArray(n,Wt.settings),-1!==a&&Wt.settings.splice(a,1)})}),Wt.version="1.10.3",Wt.settings=[],Wt.models={},Wt.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},Wt.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null},Wt.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Wt.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((-1===e.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+e.sInstance+"_"+location.pathname))}catch(t){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{(-1===e.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+e.sInstance+"_"+location.pathname,JSON.stringify(t))}catch(n){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:i.extend({},Wt.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null},r(Wt.defaults),Wt.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},r(Wt.defaults.column),Wt.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:n,oAjaxData:n,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==Ht(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==Ht(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,n=t+e,i=this.aiDisplay.length,r=this.oFeatures,a=r.bPaginate;return r.bServerSide?!1===a||-1===e?t+i:Math.min(t+e,this._iRecordsDisplay):!a||n>i||-1===e?i:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{}},Wt.ext=qt={classes:{},errMode:"alert",feature:[],search:[],internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Wt.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Wt.version},i.extend(qt,{afnFiltering:qt.search,aTypes:qt.type.detect,ofnSearch:qt.type.search,oSort:qt.type.order,afnSortData:qt.order,aoFeatures:qt.feature,oApi:qt.internal,oStdClasses:qt.classes,oPagination:qt.pager}),i.extend(Wt.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Rn="",Rn="",Mn=Rn+"ui-state-default",Pn=Rn+"css_right ui-icon ui-icon-",On=Rn+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";i.extend(Wt.ext.oJUIClasses,Wt.ext.classes,{sPageButton:"fg-button ui-button "+Mn,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:Mn+" sorting_asc",sSortDesc:Mn+" sorting_desc",sSortable:Mn+" sorting",sSortableAsc:Mn+" sorting_asc_disabled",sSortableDesc:Mn+" sorting_desc_disabled",sSortableNone:Mn+" sorting_disabled",sSortJUIAsc:Pn+"triangle-1-n",sSortJUIDesc:Pn+"triangle-1-s",sSortJUI:Pn+"carat-2-n-s",sSortJUIAscAllowed:Pn+"carat-1-n",sSortJUIDescAllowed:Pn+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+Mn,sScrollFoot:"dataTables_scrollFoot "+Mn,sHeaderTH:Mn,sFooterTH:Mn,sJUIHeader:On+" ui-corner-tl ui-corner-tr",sJUIFooter:On+" ui-corner-bl ui-corner-br"});var Fn=Wt.ext.pager;i.extend(Fn,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},simple_numbers:function(e,t){return["previous",Gt(e,t),"next"]},full_numbers:function(e,t){return["first","previous",Gt(e,t),"next","last"]},_numbers:Gt,numbers_length:7}),i.extend(!0,Wt.ext.renderer,{pageButton:{_:function(e,n,r,a,s,o){var l,c,h=e.oClasses,u=e.oLanguage.oPaginate,d=0,p=function(t,n){var a,f,g,m,v=function(t){ht(e,t.data.action,!0)};for(a=0,f=n.length;f>a;a++)if(m=n[a],i.isArray(m))g=i("<"+(m.DT_el||"div")+"/>").appendTo(t),p(g,m);else{switch(c=l="",m){case"ellipsis":t.append("<span>&hellip;</span>");break;case"first":l=u.sFirst,c=m+(s>0?"":" "+h.sPageButtonDisabled);break;case"previous":l=u.sPrevious,c=m+(s>0?"":" "+h.sPageButtonDisabled);break;case"next":l=u.sNext,c=m+(o-1>s?"":" "+h.sPageButtonDisabled);break;case"last":l=u.sLast,c=m+(o-1>s?"":" "+h.sPageButtonDisabled);break;default:l=m+1,c=s===m?h.sPageButtonActive:""}l&&(g=i("<a>",{"class":h.sPageButton+" "+c,"aria-controls":e.sTableId,"data-dt-idx":d,tabindex:e.iTabIndex,id:0===r&&"string"==typeof m?e.sTableId+"_"+m:null}).html(l).appendTo(t),Bt(g,{action:m},v),d++)}};try{var f=i(t.activeElement).data("dt-idx");p(i(n).empty(),a),null!==f&&i(n).find("[data-dt-idx="+f+"]").focus()}catch(g){}}}});var Bn=function(e,t,n,i){return 0===e||e&&"-"!==e?(t&&(e=on(e,t)),e.replace&&(n&&(e=e.replace(n,"")),i&&(e=e.replace(i,""))),1*e):-1/0};return i.extend(qt.type.order,{"date-pre":function(e){return Date.parse(e)||0},"html-pre":function(e){return an(e)?"":e.replace?e.replace(/<.*?>/g,"").toLowerCase():e+""},"string-pre":function(e){return an(e)?"":"string"==typeof e?e.toLowerCase():e.toString?e.toString():""},"string-asc":function(e,t){return t>e?-1:e>t?1:0},"string-desc":function(e,t){return t>e?1:e>t?-1:0}}),zt(""),i.extend(Wt.ext.type.detect,[function(e,t){var n=t.oLanguage.sDecimal;return ln(e,n)?"num"+n:null},function(e){if(!(!e||e instanceof Date||en.test(e)&&tn.test(e)))return null;var t=Date.parse(e);return null!==t&&!isNaN(t)||an(e)?"date":null},function(e,t){var n=t.oLanguage.sDecimal;return ln(e,n,!0)?"num-fmt"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return cn(e,n)?"html-num"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return cn(e,n,!0)?"html-num-fmt"+n:null},function(e){return an(e)||"string"==typeof e&&-1!==e.indexOf("<")?"html":null}]),i.extend(Wt.ext.type.search,{html:function(e){return an(e)?e:"string"==typeof e?e.replace(Jt," ").replace(Zt,""):""},string:function(e){return an(e)?e:"string"==typeof e?e.replace(Jt," "):e}}),i.extend(!0,Wt.ext.renderer,{header:{_:function(e,t,n,r){i(e.nTable).on("order.dt.DT",function(i,a,s,o){e===a&&(i=n.idx,t.removeClass(n.sSortingClass+" "+r.sSortAsc+" "+r.sSortDesc).addClass("asc"==o[i]?r.sSortAsc:"desc"==o[i]?r.sSortDesc:n.sSortingClass))})},jqueryui:function(e,t,n,r){i("<div/>").addClass(r.sSortJUIWrapper).append(t.contents()).append(i("<span/>").addClass(r.sSortIcon+" "+n.sSortingClassJUI)).appendTo(t),i(e.nTable).on("order.dt.DT",function(i,a,s,o){e===a&&(i=n.idx,t.removeClass(r.sSortAsc+" "+r.sSortDesc).addClass("asc"==o[i]?r.sSortAsc:"desc"==o[i]?r.sSortDesc:n.sSortingClass),t.find("span."+r.sSortIcon).removeClass(r.sSortJUIAsc+" "+r.sSortJUIDesc+" "+r.sSortJUI+" "+r.sSortJUIAscAllowed+" "+r.sSortJUIDescAllowed).addClass("asc"==o[i]?r.sSortJUIAsc:"desc"==o[i]?r.sSortJUIDesc:n.sSortingClassJUI))})}}}),Wt.render={number:function(e,t,n,i){return{display:function(r){var a=0>r?"-":"",r=Math.abs(parseFloat(r)),s=parseInt(r,10),r=n?t+(r-s).toFixed(n).substring(2):"";return a+(i||"")+s.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)+r}}}},i.extend(Wt.ext.internal,{_fnExternApiFunc:Ut,_fnBuildAjax:$,_fnAjaxUpdate:H,_fnAjaxParameters:G,_fnAjaxUpdateDraw:z,_fnAjaxDataSrc:U,_fnAddColumn:u,_fnColumnOptions:d,_fnAdjustColumnSizing:p,_fnVisibleToColumnIndex:f,_fnColumnIndexToVisible:g,_fnVisbleColumns:m,_fnGetColumns:v,_fnColumnTypes:b,_fnApplyColumnDefs:y,_fnHungarianMap:r,_fnCamelToHungarian:a,_fnLanguageCompat:s,_fnBrowserDetect:c,_fnAddData:x,_fnAddTr:w,_fnNodeToDataIndex:function(e,t){return t._DT_RowIndex!==n?t._DT_RowIndex:null},_fnNodeToColumnIndex:function(e,t,n){return i.inArray(n,e.aoData[t].anCells)},_fnGetCellData:_,_fnSetCellData:C,_fnSplitObjNotation:T,_fnGetObjectDataFn:D,_fnSetObjectDataFn:S,_fnGetDataMaster:E,_fnClearTable:k,_fnDeleteIndex:I,_fnInvalidateRow:N,_fnGetRowElements:A,_fnCreateTr:R,_fnBuildHead:P,_fnDrawHead:O,_fnDraw:F,_fnReDraw:B,_fnAddOptionsHtml:j,_fnDetectHeader:L,_fnGetUniqueThs:V,_fnFeatureHtmlFilter:W,_fnFilterComplete:q,_fnFilterCustom:Y,_fnFilterColumn:K,_fnFilter:X,_fnFilterCreateSearch:Q,_fnEscapeRegex:J,_fnFilterData:Z,_fnFeatureHtmlInfo:nt,_fnUpdateInfo:it,_fnInfoMacros:rt,_fnInitialise:at,_fnInitComplete:st,_fnLengthChange:ot,_fnFeatureHtmlLength:lt,_fnFeatureHtmlPaginate:ct,_fnPageChange:ht,_fnFeatureHtmlProcessing:ut,_fnProcessingDisplay:dt,_fnFeatureHtmlTable:pt,_fnScrollDraw:ft,_fnApplyToChildren:gt,_fnCalculateColumnWidths:mt,_fnThrottle:vt,_fnConvertToWidth:bt,_fnScrollingWidthAdjust:yt,_fnGetWidestNode:xt,_fnGetMaxLenString:wt,_fnStringToCss:_t,_fnScrollBarWidth:Ct,_fnSortFlatten:Tt,_fnSort:Dt,_fnSortAria:St,_fnSortListener:Et,_fnSortAttachListener:kt,_fnSortingClasses:It,_fnSortData:Nt,_fnSaveState:At,_fnLoadState:Rt,_fnSettingsFromNode:Mt,_fnLog:Pt,_fnMap:Ot,_fnBindAction:Bt,_fnCallbackReg:jt,_fnCallbackFire:Lt,_fnLengthOverflow:Vt,_fnRenderer:$t,_fnDataSource:Ht,_fnRowAttributes:M,_fnCalculateEnd:function(){}}),i.fn.dataTable=Wt,i.fn.dataTableSettings=Wt.settings,i.fn.dataTableExt=Wt.ext,i.fn.DataTable=function(e){return i(this).dataTable(e).api()},i.each(Wt,function(e,t){i.fn.DataTable[e]=t}),i.fn.dataTable};"function"==typeof define&&define.amd?define("datatables",["jquery"],i):"object"==typeof exports?i(require("jquery")):jQuery&&!jQuery.fn.dataTable&&i(jQuery)}(window,document);/** @preserve jsPDF 0.9.0rc2 ( ${buildDate} ${commitID} )
Copyright (c) 2010-2012 James Hall, james@snapshotmedia.co.uk, https://github.com/MrRio/jsPDF
Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
MIT license.
*/
/*
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */
var jsPDF=function(){"use strict";function e(i,r,a,s){i="undefined"==typeof i?"p":i.toString().toLowerCase(),"undefined"==typeof r&&(r="mm"),"undefined"==typeof a&&(a="a4"),"undefined"==typeof s&&"undefined"==typeof zpipe&&(s=!1);var o,l,c,h,u,d,p,f,g,m=a.toString().toLowerCase(),v="0.9.0rc2",b=[],y=0,x=s,w="1.3",_={a3:[841.89,1190.55],a4:[595.28,841.89],a5:[420.94,595.28],letter:[612,792],legal:[612,1008]},C="0 g",T="0 G",D=0,S=[],E=2,k=!1,I=[],N={},A={},R=16,M=.200025,P={title:"",subject:"",author:"",keywords:"",creator:""},O=0,F=0,B={},j=new n(B),L=function(e){return e.toFixed(2)},V=function(e){return e.toFixed(3)},$=function(e){var t=e.toFixed(0);return 10>e?"0"+t:t},H=function(e){var t=e.toFixed(0);return t.length<10?new Array(11-t.length).join("0")+t:t},G=function(e){k?S[D].push(e):(b.push(e),y+=e.length+1)},z=function(){return E++,I[E]=y,G(E+" 0 obj"),E},U=function(e){G("stream"),G(e),G("endstream")},W=function(){p=c*h,f=l*h;var e,t,n,i,r,a;for(e=1;D>=e;e++){if(z(),G("<</Type /Page"),G("/Parent 1 0 R"),G("/Resources 2 0 R"),G("/Contents "+(E+1)+" 0 R>>"),G("endobj"),t=S[e].join("\n"),z(),x){for(n=[],i=0;i<t.length;++i)n[i]=t.charCodeAt(i);a=adler32cs.from(t),r=new Deflater(6),r.append(new Uint8Array(n)),t=r.flush(),n=[new Uint8Array([120,156]),new Uint8Array(t),new Uint8Array([255&a,255&a>>8,255&a>>16,255&a>>24])],t="";for(i in n)n.hasOwnProperty(i)&&(t+=String.fromCharCode.apply(null,n[i]));G("<</Length "+t.length+" /Filter [/FlateDecode]>>")}else G("<</Length "+t.length+">>");U(t),G("endobj")}for(I[1]=y,G("1 0 obj"),G("<</Type /Pages"),g="/Kids [",i=0;D>i;i++)g+=3+2*i+" 0 R ";G(g+"]"),G("/Count "+D),G("/MediaBox [0 0 "+L(p)+" "+L(f)+"]"),G(">>"),G("endobj")},q=function(e){e.objectNumber=z(),G("<</BaseFont/"+e.PostScriptName+"/Type/Font"),"string"==typeof e.encoding&&G("/Encoding/"+e.encoding),G("/Subtype/Type1>>"),G("endobj")},Y=function(){var e;for(e in N)N.hasOwnProperty(e)&&q(N[e])},K=function(){j.publish("putXobjectDict")},X=function(){G("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),G("/Font <<");var e;for(e in N)N.hasOwnProperty(e)&&G("/"+e+" "+N[e].objectNumber+" 0 R");G(">>"),G("/XObject <<"),K(),G(">>")},Q=function(){Y(),j.publish("putResources"),I[2]=y,G("2 0 obj"),G("<<"),X(),G(">>"),G("endobj"),j.publish("postPutResources")},J=function(e,t,n){var i;A[t]===i&&(A[t]={}),A[t][n]=e},Z=function(e,n,i,r){var a="F"+(t(N)+1).toString(10),s=N[a]={id:a,PostScriptName:e,fontName:n,fontStyle:i,encoding:r,metadata:{}};return J(a,n,i),j.publish("addFont",s),a},et=function(){var e,t,n,i,r="helvetica",a="times",s="courier",o="normal",l="bold",c="italic",h="bolditalic",u="StandardEncoding",d=[["Helvetica",r,o],["Helvetica-Bold",r,l],["Helvetica-Oblique",r,c],["Helvetica-BoldOblique",r,h],["Courier",s,o],["Courier-Bold",s,l],["Courier-Oblique",s,c],["Courier-BoldOblique",s,h],["Times-Roman",a,o],["Times-Bold",a,l],["Times-Italic",a,c],["Times-BoldItalic",a,h]];for(e=0,t=d.length;t>e;e++)n=Z(d[e][0],d[e][1],d[e][2],u),i=d[e][0].split("-"),J(n,i[0],i[1]||"");j.publish("addFonts",{fonts:N,dictionary:A})},tt=function(e,t){var n,i,r,a,s,l,c,h,u,d;if(t===r&&(t={}),a=t.sourceEncoding?a:"Unicode",l=t.outputEncoding,(t.autoencode||l)&&N[o].metadata&&N[o].metadata[a]&&N[o].metadata[a].encoding&&(s=N[o].metadata[a].encoding,!l&&N[o].encoding&&(l=N[o].encoding),!l&&s.codePages&&(l=s.codePages[0]),"string"==typeof l&&(l=s[l]),l)){for(h=!1,c=[],n=0,i=e.length;i>n;n++)u=l[e.charCodeAt(n)],u?c.push(String.fromCharCode(u)):c.push(e[n]),c[n].charCodeAt(0)>>8&&(h=!0);e=c.join("")}for(n=e.length;h===r&&0!==n;)e.charCodeAt(n-1)>>8&&(h=!0),n--;if(h){for(c=t.noBOM?[]:[254,255],n=0,i=e.length;i>n;n++){if(u=e.charCodeAt(n),d=u>>8,d>>8)throw new Error("Character at position "+n.toString(10)+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");c.push(d),c.push(u-(d<<8))}return String.fromCharCode.apply(r,c)}return e},nt=function(e,t){return tt(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},it=function(){G("/Producer (jsPDF "+v+")"),P.title&&G("/Title ("+nt(P.title)+")"),P.subject&&G("/Subject ("+nt(P.subject)+")"),P.author&&G("/Author ("+nt(P.author)+")"),P.keywords&&G("/Keywords ("+nt(P.keywords)+")"),P.creator&&G("/Creator ("+nt(P.creator)+")");var e=new Date;G("/CreationDate (D:"+[e.getFullYear(),$(e.getMonth()+1),$(e.getDate()),$(e.getHours()),$(e.getMinutes()),$(e.getSeconds())].join("")+")")},rt=function(){G("/Type /Catalog"),G("/Pages 1 0 R"),G("/OpenAction [3 0 R /FitH null]"),G("/PageLayout /OneColumn"),j.publish("putCatalog")},at=function(){G("/Size "+(E+1)),G("/Root "+E+" 0 R"),G("/Info "+(E-1)+" 0 R")},st=function(){D++,k=!0,S[D]=[]},ot=function(){st(),G(L(M*h)+" w"),G(T),0!==O&&G(O.toString(10)+" J"),0!==F&&G(F.toString(10)+" j"),j.publish("addPage",{pageNumber:D})},lt=function(e,t){var n,i;e===i&&(e=N[o].fontName),t===i&&(t=N[o].fontStyle);try{n=A[e][t]}catch(r){n=i}if(!n)throw new Error("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts.");return n},ct=function(){k=!1,b=[],I=[],G("%PDF-"+w),W(),Q(),z(),G("<<"),it(),G(">>"),G("endobj"),z(),G("<<"),rt(),G(">>"),G("endobj");var e,t=y;for(G("xref"),G("0 "+(E+1)),G("0000000000 65535 f "),e=1;E>=e;e++)G(H(I[e])+" 00000 n ");return G("trailer"),G("<<"),at(),G(">>"),G("startxref"),G(t),G("%%EOF"),k=!0,b.join("\n")},ht=function(e){var t="S";return"F"===e?t="f":("FD"===e||"DF"===e)&&(t="B"),t},ut=function(e,t){var n,i,r,a,s,o;switch(e){case n:return ct();case"save":if(navigator.getUserMedia){if(void 0===window.URL)return B.output("dataurlnewwindow");if(void 0===window.URL.createObjectURL)return B.output("dataurlnewwindow")}for(i=ct(),r=i.length,a=new Uint8Array(new ArrayBuffer(r)),s=0;r>s;s++)a[s]=i.charCodeAt(s);o=new Blob([a],{type:"application/pdf"}),saveAs(o,t);break;case"datauristring":case"dataurlstring":return"data:application/pdf;base64,"+btoa(ct());case"datauri":case"dataurl":document.location.href="data:application/pdf;base64,"+btoa(ct());break;case"dataurlnewwindow":window.open("data:application/pdf;base64,"+btoa(ct()));break;default:throw new Error('Output type "'+e+'" is not supported.')}};if("pt"===r)h=1;else if("mm"===r)h=72/25.4;else if("cm"===r)h=72/2.54;else{if("in"!==r)throw"Invalid unit: "+r;h=72}if(_.hasOwnProperty(m))l=_[m][1]/h,c=_[m][0]/h;else try{l=a[1],c=a[0]}catch(dt){throw"Invalid format: "+a}if("p"===i||"portrait"===i)i="p",c>l&&(u=c,c=l,l=u);else{if("l"!==i&&"landscape"!==i)throw"Invalid orientation: "+i;i="l",l>c&&(u=c,c=l,l=u)}B.internal={pdfEscape:nt,getStyle:ht,getFont:function(){return N[lt.apply(B,arguments)]},getFontSize:function(){return R},btoa:btoa,write:function(e){G(1===arguments.length?e:Array.prototype.join.call(arguments," "))},getCoordinateString:function(e){return L(e*h)},getVerticalCoordinateString:function(e){return L((l-e)*h)},collections:{},newObject:z,putStream:U,events:j,scaleFactor:h,pageSize:{width:c,height:l},output:function(e,t){return ut(e,t)}},B.addPage=function(){return ot(),this},B.text=function(e,t,n,i){var r,a,s,c,u,d,p;if("number"==typeof e&&(a=n,s=e,c=t,e=a,t=s,n=c),"string"==typeof e&&e.match(/[\n\r]/)&&(e=e.split(/\r\n|\r|\n/g)),"undefined"==typeof i?i={noBOM:!0,autoencode:!0}:(i.noBOM===r&&(i.noBOM=!0),i.autoencode===r&&(i.autoencode=!0)),"string"==typeof e)d=nt(e,i);else{if(!(e instanceof Array))throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');for(u=e.concat(),p=u.length-1;-1!==p;p--)u[p]=nt(u[p],i);d=u.join(") Tj\nT* (")}return G("BT\n/"+o+" "+R+" Tf\n"+R+" TL\n"+C+"\n"+L(t*h)+" "+L((l-n)*h)+" Td\n("+d+") Tj\nET"),this},B.line=function(e,t,n,i){return G(L(e*h)+" "+L((l-t)*h)+" m "+L(n*h)+" "+L((l-i)*h)+" l S"),this},B.lines=function(e,t,n,i,r){var a,s,o,c,u,d,p,f,g,m,v,b,y,x,w;for("number"==typeof e&&(s=n,o=e,c=t,e=s,t=o,n=c),r=ht(r),i=i===a?[1,1]:i,G(V(t*h)+" "+V((l-n)*h)+" m "),u=i[0],d=i[1],f=e.length,x=t,w=n,p=0;f>p;p++)g=e[p],2===g.length?(x=g[0]*u+x,w=g[1]*d+w,G(V(x*h)+" "+V((l-w)*h)+" l")):(m=g[0]*u+x,v=g[1]*d+w,b=g[2]*u+x,y=g[3]*d+w,x=g[4]*u+x,w=g[5]*d+w,G(V(m*h)+" "+V((l-v)*h)+" "+V(b*h)+" "+V((l-y)*h)+" "+V(x*h)+" "+V((l-w)*h)+" c"));return G(r),this},B.rect=function(e,t,n,i,r){var a=ht(r);return G([L(e*h),L((l-t)*h),L(n*h),L(-i*h),"re",a].join(" ")),this},B.triangle=function(e,t,n,i,r,a,s){return this.lines([[n-e,i-t],[r-n,a-i],[e-r,t-a]],e,t,[1,1],s),this},B.roundedRect=function(e,t,n,i,r,a,s){var o=4/3*(Math.SQRT2-1);return this.lines([[n-2*r,0],[r*o,0,r,a-a*o,r,a],[0,i-2*a],[0,a*o,-(r*o),a,-r,a],[-n+2*r,0],[-(r*o),0,-r,-(a*o),-r,-a],[0,-i+2*a],[0,-(a*o),r*o,-a,r,-a]],e+r,t,[1,1],s),this},B.ellipse=function(e,t,n,i,r){var a=ht(r),s=4/3*(Math.SQRT2-1)*n,o=4/3*(Math.SQRT2-1)*i;return G([L((e+n)*h),L((l-t)*h),"m",L((e+n)*h),L((l-(t-o))*h),L((e+s)*h),L((l-(t-i))*h),L(e*h),L((l-(t-i))*h),"c"].join(" ")),G([L((e-s)*h),L((l-(t-i))*h),L((e-n)*h),L((l-(t-o))*h),L((e-n)*h),L((l-t)*h),"c"].join(" ")),G([L((e-n)*h),L((l-(t+o))*h),L((e-s)*h),L((l-(t+i))*h),L(e*h),L((l-(t+i))*h),"c"].join(" ")),G([L((e+s)*h),L((l-(t+i))*h),L((e+n)*h),L((l-(t+o))*h),L((e+n)*h),L((l-t)*h),"c",a].join(" ")),this},B.circle=function(e,t,n,i){return this.ellipse(e,t,n,n,i)},B.setProperties=function(e){var t;for(t in P)P.hasOwnProperty(t)&&e[t]&&(P[t]=e[t]);return this},B.setFontSize=function(e){return R=e,this},B.setFont=function(e,t){return o=lt(e,t),this},B.setFontStyle=B.setFontType=function(e){var t;return o=lt(t,e),this},B.getFontList=function(){var e,t,n,i={};for(e in A)if(A.hasOwnProperty(e)){i[e]=n=[];for(t in A[e])A[e].hasOwnProperty(t)&&n.push(t)}return i},B.setLineWidth=function(e){return G((e*h).toFixed(2)+" w"),this},B.setDrawColor=function(e,t,n,i){var r;return r=void 0===t||void 0===i&&e===t===n?"string"==typeof e?e+" G":L(e/255)+" G":void 0===i?"string"==typeof e?[e,t,n,"RG"].join(" "):[L(e/255),L(t/255),L(n/255),"RG"].join(" "):"string"==typeof e?[e,t,n,i,"K"].join(" "):[L(e),L(t),L(n),L(i),"K"].join(" "),G(r),this},B.setFillColor=function(e,t,n,i){var r;return r=void 0===t||void 0===i&&e===t===n?"string"==typeof e?e+" g":L(e/255)+" g":void 0===i?"string"==typeof e?[e,t,n,"rg"].join(" "):[L(e/255),L(t/255),L(n/255),"rg"].join(" "):"string"==typeof e?[e,t,n,i,"k"].join(" "):[L(e),L(t),L(n),L(i),"k"].join(" "),G(r),this},B.setTextColor=function(e,t,n){return C=0===e&&0===t&&0===n||"undefined"==typeof t?V(e/255)+" g":[V(e/255),V(t/255),V(n/255),"rg"].join(" "),this},B.CapJoinStyles={0:0,butt:0,but:0,bevel:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,milter:2},B.setLineCap=function(e){var t=this.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return O=t,G(t.toString(10)+" J"),this},B.setLineJoin=function(e){var t=this.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return F=t,G(t.toString(10)+" j"),this},B.output=ut,B.save=function(e){B.output("save",e)};for(d in e.API)e.API.hasOwnProperty(d)&&("events"===d&&e.API.events.length?function(e,t){var n,i,r;for(r=t.length-1;-1!==r;r--)n=t[r][0],i=t[r][1],e.subscribe.apply(e,[n].concat("function"==typeof i?[i]:i))}(j,e.API.events):B[d]=e.API[d]);return et(),o="F1",ot(),j.publish("initialized"),B}"undefined"==typeof btoa&&(window.btoa=function(e){var t,n,i,r,a,s,o,l,c,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u=h.split(""),d=0,p=0,f="",g=[];do t=e.charCodeAt(d++),n=e.charCodeAt(d++),i=e.charCodeAt(d++),l=t<<16|n<<8|i,r=63&l>>18,a=63&l>>12,s=63&l>>6,o=63&l,g[p++]=u[r]+u[a]+u[s]+u[o];while(d<e.length);return f=g.join(""),c=e.length%3,(c?f.slice(0,c-3):f)+"===".slice(c||3)}),"undefined"==typeof atob&&(window.atob=function(e){var t,n,i,r,a,s,o,l,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=0,u=0,d="",p=[];if(!e)return e;e+="";do r=c.indexOf(e.charAt(h++)),a=c.indexOf(e.charAt(h++)),s=c.indexOf(e.charAt(h++)),o=c.indexOf(e.charAt(h++)),l=r<<18|a<<12|s<<6|o,t=255&l>>16,n=255&l>>8,i=255&l,p[u++]=64===s?String.fromCharCode(t):64===o?String.fromCharCode(t,n):String.fromCharCode(t,n,i);while(h<e.length);return d=p.join("")});var t="function"==typeof Object.keys?function(e){return Object.keys(e).length}:function(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n},n=function(e){this.topics={},this.context=e,this.publish=function(e,t){if(this.topics[e]){var n,i,r,a,s=this.topics[e],o=[],l=function(){};for(t=Array.prototype.slice.call(arguments,1),i=0,r=s.length;r>i;i++)a=s[i],n=a[0],a[1]&&(a[0]=l,o.push(i)),n.apply(this.context,t);for(i=0,r=o.length;r>i;i++)s.splice(o[i],1)}},this.subscribe=function(e,t,n){return this.topics[e]?this.topics[e].push([t,n]):this.topics[e]=[[t,n]],{topic:e,callback:t}},this.unsubscribe=function(e){if(this.topics[e.topic]){var t,n,i=this.topics[e.topic];for(t=0,n=i.length;n>t;t++)i[t][0]===e.callback&&i.splice(t,1)}}};return e.API={events:[]},e}();!function(e){"use strict";var t="addImage_",n=function(e){var t,n;if(255===!e.charCodeAt(0)||216===!e.charCodeAt(1)||255===!e.charCodeAt(2)||224===!e.charCodeAt(3)||!e.charCodeAt(6)==="J".charCodeAt(0)||!e.charCodeAt(7)==="F".charCodeAt(0)||!e.charCodeAt(8)==="I".charCodeAt(0)||!e.charCodeAt(9)==="F".charCodeAt(0)||0===!e.charCodeAt(10))throw new Error("getJpegSize requires a binary jpeg file");for(var i=256*e.charCodeAt(4)+e.charCodeAt(5),r=4,a=e.length;a>r;){if(r+=i,255!==e.charCodeAt(r))throw new Error("getJpegSize could not find the size of the image");if(192===e.charCodeAt(r+1))return n=256*e.charCodeAt(r+5)+e.charCodeAt(r+6),t=256*e.charCodeAt(r+7)+e.charCodeAt(r+8),[t,n];r+=2,i=256*e.charCodeAt(r)+e.charCodeAt(r+1)}},i=function(e){var t=this.internal.newObject(),n=this.internal.write,i=this.internal.putStream;if(e.n=t,n("<</Type /XObject"),n("/Subtype /Image"),n("/Width "+e.w),n("/Height "+e.h),"Indexed"===e.cs?n("/ColorSpace [/Indexed /DeviceRGB "+(e.pal.length/3-1)+" "+(t+1)+" 0 R]"):(n("/ColorSpace /"+e.cs),"DeviceCMYK"===e.cs&&n("/Decode [1 0 1 0 1 0 1 0]")),n("/BitsPerComponent "+e.bpc),"f"in e&&n("/Filter /"+e.f),"dp"in e&&n("/DecodeParms <<"+e.dp+">>"),"trns"in e&&e.trns.constructor==Array)for(var r="",a=0;a<e.trns.length;a++)r+=e[r][a]+" "+e.trns[a]+" ",n("/Mask ["+r+"]");"smask"in e&&n("/SMask "+(t+1)+" 0 R"),n("/Length "+e.data.length+">>"),i(e.data),n("endobj")},r=function(){var e=this.internal.collections[t+"images"];for(var n in e)i.call(this,e[n])},a=function(){var e,n=this.internal.collections[t+"images"],i=this.internal.write;for(var r in n)e=n[r],i("/I"+e.i,e.n,"0","R")};e.addImage=function(e,i,s,o,l,c){if("object"==typeof e&&1===e.nodeType){var h=document.createElement("canvas");h.width=e.clientWidth,h.height=e.clientHeight;var u=h.getContext("2d");if(!u)throw"addImage requires canvas to be supported by browser.";u.drawImage(e,0,0,h.width,h.height),e=h.toDataURL("image/jpeg"),i="JPEG"}if("JPEG"!==i.toUpperCase())throw new Error("addImage currently only supports format 'JPEG', not '"+i+"'");var d,p=this.internal.collections[t+"images"],f=this.internal.getCoordinateString,g=this.internal.getVerticalCoordinateString;"data:image/jpeg;base64,"===e.substring(0,23)&&(e=atob(e.replace("data:image/jpeg;base64,",""))),p?d=Object.keys?Object.keys(p).length:function(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&t++;return t}(p):(d=0,this.internal.collections[t+"images"]=p={},this.internal.events.subscribe("putResources",r),this.internal.events.subscribe("putXobjectDict",a));var m=n(e),v={w:m[0],h:m[1],cs:"DeviceRGB",bpc:8,f:"DCTDecode",i:d,data:e};return p[d]=v,l||c||(l=-96,c=-96),0>l&&(l=72*-1*v.w/l/this.internal.scaleFactor),0>c&&(c=72*-1*v.h/c/this.internal.scaleFactor),0===l&&(l=c*v.w/v.h),0===c&&(c=l*v.h/v.w),this.internal.write("q",f(l),"0 0",f(c),f(s),g(o+c),"cm /I"+v.i,"Do Q"),this}}(jsPDF.API),/** ==================================================================== 
 * jsPDF JavaScript plugin
 * Copyright (c) 2013 Youssef Beddad, youssef.beddad@gmail.com
 * 
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 * 
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */
function(e){"use strict";var t,n,i;e.addJS=function(e){return i=e,this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.write("<< /Names [(EmbeddedJS) "+(t+1)+" 0 R] >>","endobj"),n=this.internal.newObject(),this.internal.write("<< /S /JavaScript /JS (",i,") >>","endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==t&&void 0!==n&&this.internal.write("/Names <</JavaScript "+t+" 0 R>>")}),this}}(jsPDF.API);var saveAs=saveAs||navigator.msSaveBlob&&navigator.msSaveBlob.bind(navigator)||function(e){"use strict";var t=e.document,n=function(){return e.URL||e.webkitURL||e},i=e.URL||e.webkitURL||e,r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),a="download"in r,s=function(n){var i=t.createEvent("MouseEvents");return i.initMouseEvent("click",!0,!1,e,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(i)},o=e.webkitRequestFileSystem,l=e.requestFileSystem||o||e.mozRequestFileSystem,c=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},h="application/octet-stream",u=0,d=[],p=function(){for(var e=d.length;e--;){var t=d[e];"string"==typeof t?i.revokeObjectURL(t):t.remove()}d.length=0},f=function(e,t,n){t=[].concat(t);for(var i=t.length;i--;){var r=e["on"+t[i]];if("function"==typeof r)try{r.call(e,n||e)}catch(a){c(a)}}},g=function(t,i){var c,p,g,m=this,v=t.type,b=!1,y=function(){var e=n().createObjectURL(t);return d.push(e),e},x=function(){f(m,"writestart progress write writeend".split(" "))},w=function(){(b||!c)&&(c=y(t)),p&&(p.location.href=c),m.readyState=m.DONE,x()},_=function(e){return function(){return m.readyState!==m.DONE?e.apply(this,arguments):void 0}},C={create:!0,exclusive:!1};return m.readyState=m.INIT,i||(i="download"),a&&(c=y(t),r.href=c,r.download=i,s(r))?(m.readyState=m.DONE,x(),void 0):(e.chrome&&v&&v!==h&&(g=t.slice||t.webkitSlice,t=g.call(t,0,t.size,h),b=!0),o&&"download"!==i&&(i+=".download"),p=v===h||o?e:e.open(),l?(u+=t.size,l(e.TEMPORARY,u,_(function(e){e.root.getDirectory("saved",C,_(function(e){var n=function(){e.getFile(i,C,_(function(e){e.createWriter(_(function(n){n.onwriteend=function(t){p.location.href=e.toURL(),d.push(e),m.readyState=m.DONE,f(m,"writeend",t)},n.onerror=function(){var e=n.error;e.code!==e.ABORT_ERR&&w()},"writestart progress write abort".split(" ").forEach(function(e){n["on"+e]=m["on"+e]}),n.write(t),m.abort=function(){n.abort(),m.readyState=m.DONE},m.readyState=m.WRITING}),w)}),w)};e.getFile(i,{create:!1},_(function(e){e.remove(),n()}),_(function(e){e.code===e.NOT_FOUND_ERR?n():w()}))}),w)}),w),void 0):(w(),void 0))},m=g.prototype,v=function(e,t){return new g(e,t)};return m.abort=function(){var e=this;e.readyState=e.DONE,f(e,"abort")},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,e.addEventListener("unload",p,!1),v}(self);// @preserve jQuery.floatThead 1.2.9 - http://mkoryak.github.io/floatThead/ - Copyright (c) 2012 - 2014 Misha Koryak
!function(e){function t(e,t,n){if(8==s){var i=c.width(),r=a.debounce(function(){var e=c.width();i!=e&&(i=e,n())},e);c.on(t,r)}else c.on(t,a.debounce(n,e))}function n(e){window.console&&window.console&&window.console.log&&window.console.log(e)}function i(){var t=e('<div style="width:50px;height:50px;overflow-y:scroll;position:absolute;top:-200px;left:-200px;"><div style="height:100px;width:100%"></div>');e("body").append(t);var n=t.innerWidth(),i=e("div",t).innerWidth();return t.remove(),n-i}function r(e){if(e.dataTableSettings)for(var t=0;t<e.dataTableSettings.length;t++){var n=e.dataTableSettings[t].nTable;if(e[0]==n)return!0}return!1}e.floatThead=e.floatThead||{},e.floatThead.defaults={cellTag:null,headerCellSelector:"tr:first>th:visible",zIndex:1001,debounceResizeMs:10,useAbsolutePositioning:!0,scrollingTop:0,scrollingBottom:0,scrollContainer:function(){return e([])},getSizingRow:function(e){return e.find("tbody tr:visible:first>*")},floatTableClass:"floatThead-table",floatWrapperClass:"floatThead-wrapper",floatContainerClass:"floatThead-container",copyTableClass:!0,debug:!1};var a=window._,s=function(){for(var e=3,t=document.createElement("b"),n=t.all||[];e=1+e,t.innerHTML="<!--[if gt IE "+e+"]><i><![endif]-->",n[0];);return e>4?e:document.documentMode}(),o=null,l=function(){if(s)return!1;var t=e("<table><colgroup><col></colgroup><tbody><tr><td style='width:10px'></td></tbody></table>");e("body").append(t);var n=t.find("col").width();return t.remove(),0==n},c=e(window),h=0;e.fn.floatThead=function(u){if(u=u||{},!a&&(a=window._||e.floatThead._,!a))throw new Error("jquery.floatThead-slim.js requires underscore. You should use the non-lite version since you do not have underscore.");if(8>s)return this;if(null==o&&(o=l(),o&&(document.createElement("fthtr"),document.createElement("fthtd"),document.createElement("fthfoot"))),a.isString(u)){var d=u,p=this;return this.filter("table").each(function(){var t=e(this).data("floatThead-attached");if(t&&a.isFunction(t[d])){var n=t[d]();"undefined"!=typeof n&&(p=n)}}),p}var f=e.extend({},e.floatThead.defaults||{},u);return e.each(u,function(t){t in e.floatThead.defaults||!f.debug||n("jQuery.floatThead: used ["+t+"] key to init plugin, but that param is not an option for the plugin. Valid options are: "+a.keys(e.floatThead.defaults).join(", "))}),this.filter(":not(."+f.floatTableClass+")").each(function(){function n(e){return e+".fth-"+T+".floatTHead"}function l(){var t=0;S.find("tr:visible").each(function(){t+=e(this).outerHeight(!0)}),Q.outerHeight(t),J.outerHeight(t)}function u(){var e=D.outerWidth(),t=P.width()||e;if(K.width(t-A.vertical),V){var n=100*e/(t-A.vertical);z.css("width",n+"%")}else z.outerWidth(e)}function d(){k=(a.isFunction(f.scrollingTop)?f.scrollingTop(D):f.scrollingTop)||0,I=(a.isFunction(f.scrollingBottom)?f.scrollingBottom(D):f.scrollingBottom)||0}function p(){var t,n;if(q)t=W.find("col").length;else{var i;i=null==f.cellTag&&f.headerCellSelector?f.headerCellSelector:"tr:first>"+f.cellTag,n=S.find(i),t=0,n.each(function(){t+=parseInt(e(this).attr("colspan")||1,10)})}if(t!=M){M=t;for(var r=[],a=[],s=[],l=0;t>l;l++)r.push('<th class="floatThead-col"/>'),a.push("<col/>"),s.push("<fthtd style='display:table-cell;height:0;width:auto;'/>");a=a.join(""),r=r.join(""),o&&(s=s.join(""),Y.html(s),tt=Y.find("fthtd")),Q.html(r),J=Q.find("th"),q||W.html(a),Z=W.find("col"),U.html(a),et=U.find("col")}return t}function g(){if(!N){if(N=!0,O){var e=D.width(),t=H.width();e>t&&D.css("minWidth",e)}D.css(it),z.css(it),z.append(S),E.before(X),l()}}function m(){N&&(N=!1,O&&D.width(at),X.detach(),D.prepend(S),D.css(rt),z.css(rt))}function v(e){O!=e&&(O=e,K.css({position:O?"absolute":"fixed"}))}function b(e,t,n,i){return o?n:i?f.getSizingRow(e,t,n):t}function y(){var e,t=p();return function(){var n=b(D,Z,tt,s);if(n.length==t&&t>0){if(!q)for(e=0;t>e;e++)Z.eq(e).css("width","");m();var i=[];for(e=0;t>e;e++)i[e]=n.get(e).offsetWidth;for(e=0;t>e;e++)et.eq(e).width(i[e]),Z.eq(e).width(i[e]);g()}else z.append(S),D.css(rt),z.css(rt),l()}}function x(e){var t=P.css("border-"+e+"-width"),n=0;return t&&~t.indexOf("px")&&(n=parseInt(t,10)),n}function w(){var e,t=P.scrollTop(),n=0,i=B?F.outerHeight(!0):0,r=j?i:-i,a=K.height(),s=D.offset(),l=0;if(V){var h=P.offset();n=s.top-h.top+t,B&&j&&(n+=i),n-=x("top"),l=x("left")}else e=s.top-k-a+I+A.horizontal;var u=c.scrollTop(),d=c.scrollLeft(),p=P.scrollLeft();return t=P.scrollTop(),function(h){if("windowScroll"==h?(u=c.scrollTop(),d=c.scrollLeft()):"containerScroll"==h?(t=P.scrollTop(),p=P.scrollLeft()):"init"!=h&&(u=c.scrollTop(),d=c.scrollLeft(),t=P.scrollTop(),p=P.scrollLeft()),!o||!(0>u||0>d)){if(G)"windowScrollDone"==h?v(!0):v(!1);else if("windowScrollDone"==h)return null;s=D.offset(),B&&j&&(s.top+=i);var f,b,y=D.outerHeight();if(V&&O){if(n>=t){var x=n-t;f=x>0?x:0}else f=$?0:t;b=l}else!V&&O?(u>e+y+r?f=y-a+r:s.top>u+k?(f=0,m()):(f=k+u-s.top+n+(j?i:0),g()),b=0):V&&!O?(n>t||t-n>y?(f=s.top-u,m()):(f=s.top+t-u-n,g()),b=s.left+p-d):V||O||(u>e+y+r?f=y+k-u+e+r:s.top>u+k?(f=s.top-u,g()):f=k,b=s.left-d);return{top:f,left:b}}}}function _(){var e=null,t=null,n=null;return function(i,r,a){null==i||e==i.top&&t==i.left||(K.css({top:i.top,left:i.left}),e=i.top,t=i.left),r&&u(),a&&l();var s=P.scrollLeft();O&&n==s||(K.scrollLeft(s),n=s)}}function C(){if(P.length){var e=P.width(),t=P.height(),n=D.height(),i=D.width(),r=i>e?R:0,a=n>t?R:0;A.horizontal=i>e-a?R:0,A.vertical=n>t-r?R:0}}var T=h,D=e(this);if(D.data("floatThead-attached"))return!0;if(!D.is("table"))throw new Error('jQuery.floatThead must be run on a table element. ex: $("table").floatThead();');var S=D.find("thead:first"),E=D.find("tbody:first");if(0==S.length)throw new Error("jQuery.floatThead must be run on a table that contains a <thead> element");var k,I,N=!1,A={vertical:0,horizontal:0},R=i(),M=0,P=f.scrollContainer(D)||e([]),O=f.useAbsolutePositioning;null==O&&(O=f.scrollContainer(D).length);var F=D.find("caption"),B=1==F.length;if(B)var j="top"===(F.css("caption-side")||F.attr("align")||"top");var L=e('<fthfoot style="display:table-footer-group;"/>'),V=P.length>0,$=!1,H=e([]),G=9>=s&&!V&&O,z=e("<table/>"),U=e("<colgroup/>"),W=D.find("colgroup:first"),q=!0;0==W.length&&(W=e("<colgroup/>"),q=!1);var Y=e('<fthrow style="display:table-row;height:0;"/>'),K=e('<div style="overflow: hidden;"></div>'),X=e("<thead/>"),Q=e('<tr class="size-row"/>'),J=e([]),Z=e([]),et=e([]),tt=e([]);if(X.append(Q),D.prepend(W),o&&(L.append(Y),D.append(L)),z.append(U),K.append(z),f.copyTableClass&&z.attr("class",D.attr("class")),z.attr({cellpadding:D.attr("cellpadding"),cellspacing:D.attr("cellspacing"),border:D.attr("border")}),z.css({borderCollapse:D.css("borderCollapse"),border:D.css("border")}),z.addClass(f.floatTableClass).css("margin",0),O){var nt=function(e,t){var n=e.css("position"),i="relative"==n||"absolute"==n;if(!i||t){var r={paddingLeft:e.css("paddingLeft"),paddingRight:e.css("paddingRight")};K.css(r),e=e.wrap("<div class='"+f.floatWrapperClass+"' style='position: relative; clear:both;'></div>").parent(),$=!0}return e};V?(H=nt(P,!0),H.append(K)):(H=nt(D),D.after(K))}else D.after(K);K.css({position:O?"absolute":"fixed",marginTop:0,top:O?0:"auto",zIndex:1}),K.addClass(f.floatContainerClass),d();var it={"table-layout":"fixed"},rt={"table-layout":D.css("tableLayout")||"auto"},at=D[0].style.width||"";C();var st,ot=function(){st=y(),st()};ot();var lt=w(),ct=_();ct(lt("init"),!0);var ht=a.debounce(function(){ct(lt("windowScrollDone"),!1)},300),ut=function(){ct(lt("windowScroll"),!1),ht()},dt=function(){ct(lt("containerScroll"),!1)},pt=function(){d(),C(),ot(),lt=w(),ct=_(),ct(lt("resize"),!0,!0)},ft=a.debounce(function(){C(),d(),ot(),lt=w(),ct(lt("reflow"),!0)},1);V?O?P.on(n("scroll"),dt):(P.on(n("scroll"),dt),c.on(n("scroll"),ut)):c.on(n("scroll"),ut),c.on(n("load"),ft),t(f.debounceResizeMs,n("resize"),pt),D.on("reflow",ft),r(D)&&D.on("filter",ft).on("sort",ft).on("page",ft),D.data("floatThead-attached",{destroy:function(){var e=".fth-"+T;m(),D.css(rt),W.remove(),o&&L.remove(),X.parent().length&&X.replaceWith(S),D.off("reflow"),P.off(e),$&&(P.length?P.unwrap():D.unwrap()),O&&D.css("minWidth",""),K.remove(),D.data("floatThead-attached",!1),c.off(e)},reflow:function(){ft()},setHeaderHeight:function(){l()},getFloatContainer:function(){return K},getRowGroups:function(){return N?K.find("thead").add(D.find("tbody,tfoot")):D.find("thead,tbody,tfoot")}}),h++}),this}}(jQuery),function(e){"use strict";function t(e){this.selector=e,this.defaults={width:350,height:400,bottomWidth:1/3,bottomPinch:0,isCurved:!1,curveHeight:20,fillType:"solid",isInverted:!1,hoverEffects:!1,dynamicArea:!1}}function n(e,t){var n=parseInt(e.slice(1),16),i=0>t?0:255,r=0>t?-1*t:t,a=n>>16,s=255&n>>8,o=255&n,l=16777216+65536*(Math.round((i-a)*r)+a)+256*(Math.round((i-s)*r)+s)+(Math.round((i-o)*r)+o);return"#"+l.toString(16).slice(1)}t.prototype._isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},t.prototype.draw=function(e,t,n,i,r,a){this._initialize(e,t),d3.select(this.selector).selectAll("svg").remove();var s=d3.select(this.selector).append("svg").attr("width",this.width).attr("height",this.height).append("g"),o={},l={},i=i,c=this._makePaths();"gradient"===this.fillType&&this._defineColorGradients(s),this.isCurved&&this._drawTopOval(s,c);for(var h=0;h<c.length;h++){var u="gradient"!==this.fillType?this.data[h][2]:"url(#gradient-"+h+")";e={index:h,label:this.data[h][0],value:this.data[h][1],baseColor:this.data[h][2],fill:u};for(var d=c[h],p="",f=0;f<d.length;f++)l=d[f],p+=l[2]+l[0]+","+l[1]+" ";o=s.append("g"),l=o.append("path").attr("fill",u).attr("d",p).attr("stroke",d3.rgb(this.data[h][2]).darker()).data([e]),this.hoverEffects&&l.on("mouseover",function(e){if(!n.chart.get("notToHideTip")){e.key=this.__data__.label,e.value=this.__data__.value;var t={};t.total_val=r,n.chart.getChartElementData(e,t,i,s),i.show()}}).on("click",function(e){var t="chart-"+n.chart.id+"-"+pruneStr(e.label),o={};o.dimension=a.get("dimensionName"),o.formatAs=a.get("dimensionFormatAs")?a.get("dimensionFormatAs"):"",o.value=e.label,e.key=e.label,e.value=e.value;var l={};l.total_val=r,n.chart.chartElementOnClick(t,o,e,l,i,s)}).on("mouseout",function(){n.chart.get("notToHideTip")||i.hide()}),this.data[h][0]+": "+this.data[h][1],this.width/2,this.isCurved?(d[2][1]+d[3][1])/2+this.curveHeight/this.data.length:(d[1][1]+d[2][1])/2}},t.prototype._initialize=function(e,t){if(!this._isArray(e)||0===e.length||!this._isArray(e[0])||e[0].length<2)throw{name:"D3 Funnel Data Error",message:"Funnel data is not valid."};t="undefined"!=typeof t?t:{},this.data=e;var n=0,i=$.extend(!0,this.defaults);i.width=$(this.selector).width(),i.height=$(this.selector).height();var r=Object.keys(t);for(n=0;n<r.length;n++)i[r[n]]=t[r[n]];i.width<=0&&(i.width=this.defaults.width),i.height<=0&&(i.height=this.defaults.height);var a=t.colorScale;for(n=0;n<this.data.length;n++){var s=/^#([0-9a-f]{3}|[0-9a-f]{6})$/i;"undefined"!=typeof this.data[n][2]&&s.test(this.data[n][2])||(this.data[n][2]=a(this.data[n][0]))}this.width=i.width,this.height=i.height,this.bottomWidth=i.width*i.bottomWidth,this.bottomPinch=i.bottomPinch,this.isCurved=i.isCurved,this.curveHeight=i.curveHeight,this.fillType=i.fillType,this.isInverted=i.isInverted,this.hoverEffects=i.hoverEffects,this.dynamicArea=i.dynamicArea,this.bottomLeftX=(this.width-this.bottomWidth)/2,this.dx=this.bottomPinch>0?this.bottomLeftX/(e.length-this.bottomPinch):this.bottomLeftX/e.length,this.dy=this.isCurved?(this.height-this.curveHeight)/e.length:this.height/e.length},t.prototype._makePaths=function(){var e=[],t=this.dx,n=this.dy,i=80,r=this.width-80,a=0;this.isInverted&&(i=this.bottomLeftX,r=this.width-this.bottomLeftX);var s=0,o=0,l=0,c=this.width/2;this.isCurved&&(a=10);for(var h=this.width,u=0,d=this.height*(this.width+this.bottomWidth)/2,p=2*this.height/(this.width-this.bottomWidth),f=0,g=0,m=0;m<this.data.length;m++)g=this.data[m][1],f+=parseFloat(g);for(var m=0;m<this.data.length;m++){if(g=this.data[m][1],g=parseFloat(g),this.dynamicArea){var v=g/f,b=v*d;u=Math.sqrt((p*h*h-4*b)/p),t=h/2-u/2,n=2*b/(h+u),this.isCurved&&(n-=this.curveHeight/this.data.length),h=u}this.bottomPinch>0&&(this.isInverted?(this.dynamicArea||(t=this.dx),t=m<this.bottomPinch?0:t):m>=this.data.length-this.bottomPinch&&(t=0)),s=i+t,o=r-t,l=a+n,this.isInverted&&(s=i-t,o=r+t),this.isCurved?e.push([[i,a,"M"],[c,a+(this.curveHeight-10),"Q"],[r,a,""],[o,l,"L"],[o,l,"L"],[c,l+this.curveHeight-10,"Q"],[s,l,""],[i,a,"L"]]):e.push([[i,a,"M"],[r,a,"L"],[o,l,"L"],[s,l,"L"],[i,a,"L"]]),i=s,r=o,a=l}return e},t.prototype._defineColorGradients=function(e){for(var t=e.append("defs"),i=0;i<this.data.length;i++)for(var r=this.data[i][2],a=n(r,-.25),s=t.append("linearGradient").attr({id:"gradient-"+i}),o=[[0,a],[40,r],[60,r],[100,a]],l=0;l<o.length;l++){var c=o[l];s.append("stop").attr({offset:c[0]+"%",style:"stop-color:"+c[1]})}},t.prototype._drawTopOval=function(e,t){var i=80,r=this.width-80,a=this.width/2;this.isInverted&&(i=this.bottomLeftX,r=this.width-this.bottomLeftX);var s=t[0],o="M"+i+","+s[0][1]+" Q"+a+","+(s[1][1]+this.curveHeight-10)+" "+r+","+s[2][1]+" M"+r+",10"+" Q"+a+",0"+" "+i+",10";e.append("path").attr("fill",n(this.data[0][2],-.4)).attr("d",o)},t.prototype._onMouseOver=function(e){var t=this.parentNode.parentNode.parentNode,i=d3.tip().attr("class","d3-tip");t.call(i),i.show(),d3.select(this).attr("fill",n(e.baseColor,-.2))},t.prototype._onMouseOut=function(e){d3.select(this).attr("fill",e.fill)},e.D3Funnel=t}(this);